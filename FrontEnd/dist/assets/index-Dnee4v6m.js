var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=Math.pow,o=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,l=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&o(e,r,t[r]);if(n)for(var r of n(t))s.call(t,r)&&o(e,r,t[r]);return e},c=(e,n)=>t(e,r(n)),d=(e,t)=>{var r={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&n)for(var i of n(e))t.indexOf(i)<0&&s.call(e,i)&&(r[i]=e[i]);return r},u=(e,t,r)=>o(e,"symbol"!=typeof t?t+"":t,r),h=(e,t,r)=>new Promise((n,a)=>{var s=e=>{try{o(r.next(e))}catch(xJ){a(xJ)}},i=e=>{try{o(r.throw(e))}catch(xJ){a(xJ)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,i);o((r=r.apply(e,t)).next())});function m(e,t){for(var r=0;r<t.length;r++){const n=t[r];if("string"!=typeof n&&!Array.isArray(n))for(const t in n)if("default"!==t&&!(t in e)){const r=Object.getOwnPropertyDescriptor(n,t);r&&Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:()=>n[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var p={exports:{}},g={},x={exports:{}},b={},v=Symbol.for("react.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.iterator;var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,D={};function O(e,t,r){this.props=e,this.context=t,this.refs=D,this.updater=r||I}function L(){}function R(e,t,r){this.props=e,this.context=t,this.refs=D,this.updater=r||I}O.prototype.isReactComponent={},O.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},O.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},L.prototype=O.prototype;var M=R.prototype=new L;M.constructor=R,P(M,O.prototype),M.isPureReactComponent=!0;var F=Array.isArray,B=Object.prototype.hasOwnProperty,U={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function V(e,t,r){var n,a={},s=null,i=null;if(null!=t)for(n in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)B.call(t,n)&&!z.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===a[n]&&(a[n]=o[n]);return{$$typeof:v,type:e,key:s,ref:i,props:a,_owner:U.current}}function W(e){return"object"==typeof e&&null!==e&&e.$$typeof===v}var q=/\/+/g;function H(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function Q(e,t,r,n,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var i=!1;if(null===e)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case v:case y:i=!0}}if(i)return a=a(i=e),e=""===n?"."+H(i,0):n,F(a)?(r="",null!=e&&(r=e.replace(q,"$&/")+"/"),Q(a,t,r,"",function(e){return e})):null!=a&&(W(a)&&(a=function(e,t){return{$$typeof:v,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(q,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=""===n?".":n+":",F(e))for(var o=0;o<e.length;o++){var l=n+H(s=e[o],o);i+=Q(s,t,r,l,a)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),o=0;!(s=e.next()).done;)i+=Q(s=s.value,t,r,l=n+H(s,o++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function G(e,t,r){if(null==e)return e;var n=[],a=0;return Q(e,n,"","",function(e){return t.call(r,e,a++)}),n}function Y(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var K={current:null},X={transition:null},Z={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:X,ReactCurrentOwner:U};function J(){throw Error("act(...) is not supported in production builds of React.")}b.Children={map:G,forEach:function(e,t,r){G(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return G(e,function(){t++}),t},toArray:function(e){return G(e,function(e){return e})||[]},only:function(e){if(!W(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},b.Component=O,b.Fragment=w,b.Profiler=N,b.PureComponent=R,b.StrictMode=j,b.Suspense=E,b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,b.act=J,b.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=P({},e.props),a=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=U.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)B.call(t,l)&&!z.hasOwnProperty(l)&&(n[l]=void 0===t[l]&&void 0!==o?o[l]:t[l])}var l=arguments.length-2;if(1===l)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:v,type:e.type,key:a,ref:s,props:n,_owner:i}},b.createContext=function(e){return(e={$$typeof:k,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:S,_context:e},e.Consumer=e},b.createElement=V,b.createFactory=function(e){var t=V.bind(null,e);return t.type=e,t},b.createRef=function(){return{current:null}},b.forwardRef=function(e){return{$$typeof:C,render:e}},b.isValidElement=W,b.lazy=function(e){return{$$typeof:_,_payload:{_status:-1,_result:e},_init:Y}},b.memo=function(e,t){return{$$typeof:T,type:e,compare:void 0===t?null:t}},b.startTransition=function(e){var t=X.transition;X.transition={};try{e()}finally{X.transition=t}},b.unstable_act=J,b.useCallback=function(e,t){return K.current.useCallback(e,t)},b.useContext=function(e){return K.current.useContext(e)},b.useDebugValue=function(){},b.useDeferredValue=function(e){return K.current.useDeferredValue(e)},b.useEffect=function(e,t){return K.current.useEffect(e,t)},b.useId=function(){return K.current.useId()},b.useImperativeHandle=function(e,t,r){return K.current.useImperativeHandle(e,t,r)},b.useInsertionEffect=function(e,t){return K.current.useInsertionEffect(e,t)},b.useLayoutEffect=function(e,t){return K.current.useLayoutEffect(e,t)},b.useMemo=function(e,t){return K.current.useMemo(e,t)},b.useReducer=function(e,t,r){return K.current.useReducer(e,t,r)},b.useRef=function(e){return K.current.useRef(e)},b.useState=function(e){return K.current.useState(e)},b.useSyncExternalStore=function(e,t,r){return K.current.useSyncExternalStore(e,t,r)},b.useTransition=function(){return K.current.useTransition()},b.version="18.3.1",x.exports=b;var ee=x.exports;const te=f(ee),re=m({__proto__:null,default:te},[ee]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var ne=ee,ae=Symbol.for("react.element"),se=Symbol.for("react.fragment"),ie=Object.prototype.hasOwnProperty,oe=ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,le={key:!0,ref:!0,__self:!0,__source:!0};function ce(e,t,r){var n,a={},s=null,i=null;for(n in void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(i=t.ref),t)ie.call(t,n)&&!le.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:ae,type:e,key:s,ref:i,props:a,_owner:oe.current}}g.Fragment=se,g.jsx=ce,g.jsxs=ce,p.exports=g;var de=p.exports,ue={},he={exports:{}},me={},fe={exports:{}},pe={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,s=e[n];if(!(0<a(s,t)))break e;e[n]=t,e[r]=s,r=n}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,s=e.length,i=s>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,r))c<s&&0>a(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<s&&0>a(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],d=1,u=null,h=3,m=!1,f=!1,p=!1,g="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var a=r(c);null!==a;){if(null===a.callback)n(c);else{if(!(a.startTime<=e))break;n(c),a.sortIndex=a.expirationTime,t(l,a)}a=r(c)}}function y(e){if(p=!1,v(e),!f)if(null!==r(l))f=!0,P(w);else{var t=r(c);null!==t&&D(y,t.startTime-e)}}function w(t,a){f=!1,p&&(p=!1,x(k),k=-1),m=!0;var s=h;try{for(v(a),u=r(l);null!==u&&(!(u.expirationTime>a)||t&&!T());){var i=u.callback;if("function"==typeof i){u.callback=null,h=u.priorityLevel;var o=i(u.expirationTime<=a);a=e.unstable_now(),"function"==typeof o?u.callback=o:u===r(l)&&n(l),v(a)}else n(l);u=r(l)}if(null!==u)var d=!0;else{var g=r(c);null!==g&&D(y,g.startTime-a),d=!1}return d}finally{u=null,h=s,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,N=!1,S=null,k=-1,C=5,E=-1;function T(){return!(e.unstable_now()-E<C)}function _(){if(null!==S){var t=e.unstable_now();E=t;var r=!0;try{r=S(!0,t)}finally{r?j():(N=!1,S=null)}}else N=!1}if("function"==typeof b)j=function(){b(_)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=_,j=function(){I.postMessage(null)}}else j=function(){g(_,0)};function P(e){S=e,N||(N=!0,j())}function D(t,r){k=g(function(){t(e.unstable_now())},r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){f||m||(f=!0,P(w))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},e.unstable_scheduleCallback=function(n,a,s){var i=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?i+s:i:s=i,n){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return n={id:d++,callback:a,priorityLevel:n,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(n.sortIndex=s,t(c,n),null===r(l)&&n===r(c)&&(p?(x(k),k=-1):p=!0,D(y,s-i))):(n.sortIndex=o,t(l,n),f||m||(f=!0,P(w))),n},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}}(pe),fe.exports=pe;var ge=fe.exports,xe=ee,be=ge;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ye=new Set,we={};function je(e,t){Ne(e,t),Ne(e+"Capture",t)}function Ne(e,t){for(we[e]=t,e=0;e<t.length;e++)ye.add(t[e])}var Se=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ke=Object.prototype.hasOwnProperty,Ce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ee={},Te={};function _e(e,t,r,n,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new _e(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new _e(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new _e(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new _e(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Ae[e]=new _e(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Ae[e]=new _e(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Ae[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ie=/[\-:]([a-z])/g;function Pe(e){return e[1].toUpperCase()}function De(e,t,r,n){var a=Ae.hasOwnProperty(t)?Ae[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!ke.call(Te,e)||!ke.call(Ee,e)&&(Ce.test(e)?Te[e]=!0:(Ee[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ie,Pe);Ae[t]=new _e(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ie,Pe);Ae[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ie,Pe);Ae[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)}),Ae.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Ae[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});var Oe=xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Le=Symbol.for("react.element"),Re=Symbol.for("react.portal"),Me=Symbol.for("react.fragment"),Fe=Symbol.for("react.strict_mode"),$e=Symbol.for("react.profiler"),Be=Symbol.for("react.provider"),Ue=Symbol.for("react.context"),ze=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),qe=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),Ge=Symbol.iterator;function Ye(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Ge&&e[Ge]||e["@@iterator"])?e:null}var Ke,Xe=Object.assign;function Ze(e){if(void 0===Ke)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ke=t&&t[1]||""}return"\n"+Ke+e}var Je=!1;function et(e,t){if(!e||Je)return"";Je=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"==typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{Je=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ze(e):""}function tt(e){switch(e.tag){case 5:return Ze(e.type);case 16:return Ze("Lazy");case 13:return Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 2:case 15:return e=et(e.type,!1);case 11:return e=et(e.type.render,!1);case 1:return e=et(e.type,!0);default:return""}}function rt(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Me:return"Fragment";case Re:return"Portal";case $e:return"Profiler";case Fe:return"StrictMode";case Ve:return"Suspense";case We:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Ue:return(e.displayName||"Context")+".Consumer";case Be:return(e._context.displayName||"Context")+".Provider";case ze:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case qe:return null!==(t=e.displayName||null)?t:rt(e.type)||"Memo";case He:t=e._payload,e=e._init;try{return rt(e(t))}catch(r){}}return null}function nt(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rt(t);case 8:return t===Fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function at(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function st(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function it(e){e._valueTracker||(e._valueTracker=function(e){var t=st(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ot(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=st(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function lt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ct(e,t){var r=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function dt(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=at(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ut(e,t){null!=(t=t.checked)&&De(e,"checked",t,!1)}function ht(e,t){ut(e,t);var r=at(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ft(e,t.type,r):t.hasOwnProperty("defaultValue")&&ft(e,t.type,at(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function mt(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ft(e,t,r){"number"===t&&lt(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var pt=Array.isArray;function gt(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+at(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function xt(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(ve(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bt(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(ve(92));if(pt(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:at(r)}}function vt(e,t){var r=at(t.value),n=at(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function yt(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function wt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?wt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Nt,St,kt=(St=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Nt=Nt||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return St(e,t)})}:St);function Ct(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var Et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tt=["Webkit","ms","Moz","O"];function _t(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||Et.hasOwnProperty(e)&&Et[e]?(""+t).trim():t+"px"}function At(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=_t(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(Et).forEach(function(e){Tt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Et[t]=Et[e]})});var It=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pt(e,t){if(t){if(It[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(ve(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(ve(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(ve(62))}}function Dt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ot=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Mt=null,Ft=null;function $t(e){if(e=Ds(e)){if("function"!=typeof Rt)throw Error(ve(280));var t=e.stateNode;t&&(t=Ls(t),Rt(e.stateNode,e.type,t))}}function Bt(e){Mt?Ft?Ft.push(e):Ft=[e]:Mt=e}function Ut(){if(Mt){var e=Mt,t=Ft;if(Ft=Mt=null,$t(e),t)for(e=0;e<t.length;e++)$t(t[e])}}function zt(e,t){return e(t)}function Vt(){}var Wt=!1;function qt(e,t,r){if(Wt)return e(t,r);Wt=!0;try{return zt(e,t,r)}finally{Wt=!1,(null!==Mt||null!==Ft)&&(Vt(),Ut())}}function Ht(e,t){var r=e.stateNode;if(null===r)return null;var n=Ls(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(ve(231,t,typeof r));return r}var Qt=!1;if(Se)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){Qt=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch(St){Qt=!1}function Yt(e,t,r,n,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Kt=!1,Xt=null,Zt=!1,Jt=null,er={onError:function(e){Kt=!0,Xt=e}};function tr(e,t,r,n,a,s,i,o,l){Kt=!1,Xt=null,Yt.apply(er,arguments)}function rr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function nr(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ar(e){if(rr(e)!==e)throw Error(ve(188))}function sr(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=rr(e)))throw Error(ve(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(n=a.return)){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return ar(a),e;if(s===n)return ar(a),t;s=s.sibling}throw Error(ve(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(3!==r.tag)throw Error(ve(188));return r.stateNode.current===r?e:t}(e))?ir(e):null}function ir(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ir(e);if(null!==t)return t;e=e.sibling}return null}var or=be.unstable_scheduleCallback,lr=be.unstable_cancelCallback,cr=be.unstable_shouldYield,dr=be.unstable_requestPaint,ur=be.unstable_now,hr=be.unstable_getCurrentPriorityLevel,mr=be.unstable_ImmediatePriority,fr=be.unstable_UserBlockingPriority,pr=be.unstable_NormalPriority,gr=be.unstable_LowPriority,xr=be.unstable_IdlePriority,br=null,vr=null;var yr=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(wr(e)/jr|0)|0},wr=Math.log,jr=Math.LN2;var Nr=64,Sr=4194304;function kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cr(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&r;if(0!==i){var o=i&~a;0!==o?n=kr(o):0!==(s&=i)&&(n=kr(s))}else 0!==(i=r&~a)?n=kr(i):0!==s&&(n=kr(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&4194240&s))return t;if(4&n&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-yr(t)),n|=e[r],t&=~a;return n}function Er(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tr(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function _r(){var e=Nr;return!(4194240&(Nr<<=1))&&(Nr=64),e}function Ar(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ir(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-yr(t)]=r}function Pr(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-yr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Dr=0;function Or(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Lr,Rr,Mr,Fr,$r,Br=!1,Ur=[],zr=null,Vr=null,Wr=null,qr=new Map,Hr=new Map,Qr=[],Gr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yr(e,t){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(t.pointerId)}}function Kr(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Ds(t))&&Rr(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Xr(e){var t=Ps(e.target);if(null!==t){var r=rr(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=nr(r)))return e.blockedOn=t,void $r(e.priority,function(){Mr(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Zr(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=dn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=Ds(r))&&Rr(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Ot=n,r.target.dispatchEvent(n),Ot=null,t.shift()}return!0}function Jr(e,t,r){Zr(e)&&r.delete(t)}function en(){Br=!1,null!==zr&&Zr(zr)&&(zr=null),null!==Vr&&Zr(Vr)&&(Vr=null),null!==Wr&&Zr(Wr)&&(Wr=null),qr.forEach(Jr),Hr.forEach(Jr)}function tn(e,t){e.blockedOn===t&&(e.blockedOn=null,Br||(Br=!0,be.unstable_scheduleCallback(be.unstable_NormalPriority,en)))}function rn(e){function t(t){return tn(t,e)}if(0<Ur.length){tn(Ur[0],e);for(var r=1;r<Ur.length;r++){var n=Ur[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==zr&&tn(zr,e),null!==Vr&&tn(Vr,e),null!==Wr&&tn(Wr,e),qr.forEach(t),Hr.forEach(t),r=0;r<Qr.length;r++)(n=Qr[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Qr.length&&null===(r=Qr[0]).blockedOn;)Xr(r),null===r.blockedOn&&Qr.shift()}var nn=Oe.ReactCurrentBatchConfig,an=!0;function sn(e,t,r,n){var a=Dr,s=nn.transition;nn.transition=null;try{Dr=1,ln(e,t,r,n)}finally{Dr=a,nn.transition=s}}function on(e,t,r,n){var a=Dr,s=nn.transition;nn.transition=null;try{Dr=4,ln(e,t,r,n)}finally{Dr=a,nn.transition=s}}function ln(e,t,r,n){if(an){var a=dn(e,t,r,n);if(null===a)as(e,t,n,cn,r),Yr(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return zr=Kr(zr,e,t,r,n,a),!0;case"dragenter":return Vr=Kr(Vr,e,t,r,n,a),!0;case"mouseover":return Wr=Kr(Wr,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return qr.set(s,Kr(qr.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Hr.set(s,Kr(Hr.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Yr(e,n),4&t&&-1<Gr.indexOf(e)){for(;null!==a;){var s=Ds(a);if(null!==s&&Lr(s),null===(s=dn(e,t,r,n))&&as(e,t,n,cn,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else as(e,t,n,null,r)}}var cn=null;function dn(e,t,r,n){if(cn=null,null!==(e=Ps(e=Lt(n))))if(null===(t=rr(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=nr(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cn=e,null}function un(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hr()){case mr:return 1;case fr:return 4;case pr:case gr:return 16;case xr:return 536870912;default:return 16}default:return 16}}var hn=null,mn=null,fn=null;function pn(){if(fn)return fn;var e,t,r=mn,n=r.length,a="value"in hn?hn.value:hn.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===a[s-t];t++);return fn=a.slice(e,1<t?1-t:void 0)}function gn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function xn(){return!0}function bn(){return!1}function vn(e){function t(t,r,n,a,s){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?xn:bn,this.isPropagationStopped=bn,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=xn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=xn)},persist:function(){},isPersistent:xn}),t}var yn,wn,jn,Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sn=vn(Nn),kn=Xe({},Nn,{view:0,detail:0}),Cn=vn(kn),En=Xe({},kn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jn&&(jn&&"mousemove"===e.type?(yn=e.screenX-jn.screenX,wn=e.screenY-jn.screenY):wn=yn=0,jn=e),yn)},movementY:function(e){return"movementY"in e?e.movementY:wn}}),Tn=vn(En),_n=vn(Xe({},En,{dataTransfer:0})),An=vn(Xe({},kn,{relatedTarget:0})),In=vn(Xe({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0})),Pn=Xe({},Nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dn=vn(Pn),On=vn(Xe({},Nn,{data:0})),Ln={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mn[e])&&!!t[e]}function $n(){return Fn}var Bn=Xe({},kn,{key:function(e){if(e.key){var t=Ln[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=gn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Rn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$n,charCode:function(e){return"keypress"===e.type?gn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?gn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Un=vn(Bn),zn=vn(Xe({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Vn=vn(Xe({},kn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$n})),Wn=vn(Xe({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),qn=Xe({},En,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hn=vn(qn),Qn=[9,13,27,32],Gn=Se&&"CompositionEvent"in window,Yn=null;Se&&"documentMode"in document&&(Yn=document.documentMode);var Kn=Se&&"TextEvent"in window&&!Yn,Xn=Se&&(!Gn||Yn&&8<Yn&&11>=Yn),Zn=String.fromCharCode(32),Jn=!1;function ea(e,t){switch(e){case"keyup":return-1!==Qn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ta(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ra=!1;var na={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!na[e.type]:"textarea"===t}function sa(e,t,r,n){Bt(n),0<(t=is(t,"onChange")).length&&(r=new Sn("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ia=null,oa=null;function la(e){Za(e,0)}function ca(e){if(ot(Os(e)))return e}function da(e,t){if("change"===e)return t}var ua=!1;if(Se){var ha;if(Se){var ma="oninput"in document;if(!ma){var fa=document.createElement("div");fa.setAttribute("oninput","return;"),ma="function"==typeof fa.oninput}ha=ma}else ha=!1;ua=ha&&(!document.documentMode||9<document.documentMode)}function pa(){ia&&(ia.detachEvent("onpropertychange",ga),oa=ia=null)}function ga(e){if("value"===e.propertyName&&ca(oa)){var t=[];sa(t,oa,e,Lt(e)),qt(la,t)}}function xa(e,t,r){"focusin"===e?(pa(),oa=r,(ia=t).attachEvent("onpropertychange",ga)):"focusout"===e&&pa()}function ba(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ca(oa)}function va(e,t){if("click"===e)return ca(t)}function ya(e,t){if("input"===e||"change"===e)return ca(t)}var wa="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ja(e,t){if(wa(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ke.call(t,a)||!wa(e[a],t[a]))return!1}return!0}function Na(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sa(e,t){var r,n=Na(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Na(n)}}function ka(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ka(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ca(){for(var e=window,t=lt();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=lt((e=t.contentWindow).document)}return t}function Ea(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ta(e){var t=Ca(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ka(r.ownerDocument.documentElement,r)){if(null!==n&&Ea(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=Sa(r,s);var i=Sa(r,n);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _a=Se&&"documentMode"in document&&11>=document.documentMode,Aa=null,Ia=null,Pa=null,Da=!1;function Oa(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;Da||null==Aa||Aa!==lt(n)||("selectionStart"in(n=Aa)&&Ea(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Pa&&ja(Pa,n)||(Pa=n,0<(n=is(Ia,"onSelect")).length&&(t=new Sn("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Aa)))}function La(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ra={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},Ma={},Fa={};function $a(e){if(Ma[e])return Ma[e];if(!Ra[e])return e;var t,r=Ra[e];for(t in r)if(r.hasOwnProperty(t)&&t in Fa)return Ma[e]=r[t];return e}Se&&(Fa=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);var Ba=$a("animationend"),Ua=$a("animationiteration"),za=$a("animationstart"),Va=$a("transitionend"),Wa=new Map,qa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ha(e,t){Wa.set(e,t),je(t,[e])}for(var Qa=0;Qa<qa.length;Qa++){var Ga=qa[Qa];Ha(Ga.toLowerCase(),"on"+(Ga[0].toUpperCase()+Ga.slice(1)))}Ha(Ba,"onAnimationEnd"),Ha(Ua,"onAnimationIteration"),Ha(za,"onAnimationStart"),Ha("dblclick","onDoubleClick"),Ha("focusin","onFocus"),Ha("focusout","onBlur"),Ha(Va,"onTransitionEnd"),Ne("onMouseEnter",["mouseout","mouseover"]),Ne("onMouseLeave",["mouseout","mouseover"]),Ne("onPointerEnter",["pointerout","pointerover"]),Ne("onPointerLeave",["pointerout","pointerover"]),je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),je("onBeforeInput",["compositionend","keypress","textInput","paste"]),je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ka=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function Xa(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,s,i,o,l){if(tr.apply(this,arguments),Kt){if(!Kt)throw Error(ve(198));var c=Xt;Kt=!1,Xt=null,Zt||(Zt=!0,Jt=c)}}(n,t,void 0,e),e.currentTarget=null}function Za(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Xa(a,o,c),s=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Xa(a,o,c),s=l}}}if(Zt)throw e=Jt,Zt=!1,Jt=null,e}function Ja(e,t){var r=t[_s];void 0===r&&(r=t[_s]=new Set);var n=e+"__bubble";r.has(n)||(ns(t,e,2,!1),r.add(n))}function es(e,t,r){var n=0;t&&(n|=4),ns(r,e,n,t)}var ts="_reactListening"+Math.random().toString(36).slice(2);function rs(e){if(!e[ts]){e[ts]=!0,ye.forEach(function(t){"selectionchange"!==t&&(Ka.has(t)||es(t,!1,e),es(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ts]||(t[ts]=!0,es("selectionchange",!1,t))}}function ns(e,t,r,n){switch(un(t)){case 1:var a=sn;break;case 4:a=on;break;default:a=ln}r=a.bind(null,t,r,e),a=void 0,!Qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function as(e,t,r,n,a){var s=n;if(!(1&t||2&t||null===n))e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=Ps(o)))return;if(5===(l=i.tag)||6===l){n=s=i;continue e}o=o.parentNode}}n=n.return}qt(function(){var n=s,a=Lt(r),i=[];e:{var o=Wa.get(e);if(void 0!==o){var l=Sn,c=e;switch(e){case"keypress":if(0===gn(r))break e;case"keydown":case"keyup":l=Un;break;case"focusin":c="focus",l=An;break;case"focusout":c="blur",l=An;break;case"beforeblur":case"afterblur":l=An;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=_n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Vn;break;case Ba:case Ua:case za:l=In;break;case Va:l=Wn;break;case"scroll":l=Cn;break;case"wheel":l=Hn;break;case"copy":case"cut":case"paste":l=Dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=zn}var d=!!(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var m,f=n;null!==f;){var p=(m=f).stateNode;if(5===m.tag&&null!==p&&(m=p,null!==h&&(null!=(p=Ht(f,h))&&d.push(ss(f,p,m)))),u)break;f=f.return}0<d.length&&(o=new l(o,c,null,r,a),i.push({event:o,listeners:d}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===Ot||!(c=r.relatedTarget||r.fromElement)||!Ps(c)&&!c[Ts])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?Ps(c):null)&&(c!==(u=rr(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=Tn,p="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=zn,p="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?o:Os(l),m=null==c?o:Os(c),(o=new d(p,f+"leave",l,r,a)).target=u,o.relatedTarget=m,p=null,Ps(a)===n&&((d=new d(h,f+"enter",c,r,a)).target=m,d.relatedTarget=u,p=d),u=p,l&&c)e:{for(h=c,f=0,m=d=l;m;m=os(m))f++;for(m=0,p=h;p;p=os(p))m++;for(;0<f-m;)d=os(d),f--;for(;0<m-f;)h=os(h),m--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=os(d),h=os(h)}d=null}else d=null;null!==l&&ls(i,o,l,d,!1),null!==c&&null!==u&&ls(i,u,c,d,!0)}if("select"===(l=(o=n?Os(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=da;else if(aa(o))if(ua)g=ya;else{g=ba;var x=xa}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=va);switch(g&&(g=g(e,n))?sa(i,g,r,a):(x&&x(e,o,n),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ft(o,"number",o.value)),x=n?Os(n):window,e){case"focusin":(aa(x)||"true"===x.contentEditable)&&(Aa=x,Ia=n,Pa=null);break;case"focusout":Pa=Ia=Aa=null;break;case"mousedown":Da=!0;break;case"contextmenu":case"mouseup":case"dragend":Da=!1,Oa(i,r,a);break;case"selectionchange":if(_a)break;case"keydown":case"keyup":Oa(i,r,a)}var b;if(Gn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ra?ea(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Xn&&"ko"!==r.locale&&(ra||"onCompositionStart"!==v?"onCompositionEnd"===v&&ra&&(b=pn()):(mn="value"in(hn=a)?hn.value:hn.textContent,ra=!0)),0<(x=is(n,v)).length&&(v=new On(v,e,null,r,a),i.push({event:v,listeners:x}),b?v.data=b:null!==(b=ta(r))&&(v.data=b))),(b=Kn?function(e,t){switch(e){case"compositionend":return ta(t);case"keypress":return 32!==t.which?null:(Jn=!0,Zn);case"textInput":return(e=t.data)===Zn&&Jn?null:e;default:return null}}(e,r):function(e,t){if(ra)return"compositionend"===e||!Gn&&ea(e,t)?(e=pn(),fn=mn=hn=null,ra=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xn&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=is(n,"onBeforeInput")).length&&(a=new On("onBeforeInput","beforeinput",null,r,a),i.push({event:a,listeners:n}),a.data=b))}Za(i,t)})}function ss(e,t,r){return{instance:e,listener:t,currentTarget:r}}function is(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Ht(e,r))&&n.unshift(ss(e,s,a)),null!=(s=Ht(e,t))&&n.push(ss(e,s,a))),e=e.return}return n}function os(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ls(e,t,r,n,a){for(var s=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Ht(r,s))&&i.unshift(ss(r,l,o)):a||null!=(l=Ht(r,s))&&i.push(ss(r,l,o))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var cs=/\r\n?/g,ds=/\u0000|\uFFFD/g;function us(e){return("string"==typeof e?e:""+e).replace(cs,"\n").replace(ds,"")}function hs(e,t,r){if(t=us(t),us(e)!==t&&r)throw Error(ve(425))}function ms(){}var fs=null,ps=null;function gs(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xs="function"==typeof setTimeout?setTimeout:void 0,bs="function"==typeof clearTimeout?clearTimeout:void 0,vs="function"==typeof Promise?Promise:void 0,ys="function"==typeof queueMicrotask?queueMicrotask:void 0!==vs?function(e){return vs.resolve(null).then(e).catch(ws)}:xs;function ws(e){setTimeout(function(){throw e})}function js(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void rn(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);rn(t)}function Ns(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Ss(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ks=Math.random().toString(36).slice(2),Cs="__reactFiber$"+ks,Es="__reactProps$"+ks,Ts="__reactContainer$"+ks,_s="__reactEvents$"+ks,As="__reactListeners$"+ks,Is="__reactHandles$"+ks;function Ps(e){var t=e[Cs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ts]||r[Cs]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Ss(e);null!==e;){if(r=e[Cs])return r;e=Ss(e)}return t}r=(e=r).parentNode}return null}function Ds(e){return!(e=e[Cs]||e[Ts])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Os(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(ve(33))}function Ls(e){return e[Es]||null}var Rs=[],Ms=-1;function Fs(e){return{current:e}}function $s(e){0>Ms||(e.current=Rs[Ms],Rs[Ms]=null,Ms--)}function Bs(e,t){Ms++,Rs[Ms]=e.current,e.current=t}var Us={},zs=Fs(Us),Vs=Fs(!1),Ws=Us;function qs(e,t){var r=e.type.contextTypes;if(!r)return Us;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Hs(e){return null!=(e=e.childContextTypes)}function Qs(){$s(Vs),$s(zs)}function Gs(e,t,r){if(zs.current!==Us)throw Error(ve(168));Bs(zs,t),Bs(Vs,r)}function Ys(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(ve(108,nt(e)||"Unknown",a));return Xe({},r,n)}function Ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Us,Ws=zs.current,Bs(zs,e),Bs(Vs,Vs.current),!0}function Xs(e,t,r){var n=e.stateNode;if(!n)throw Error(ve(169));r?(e=Ys(e,t,Ws),n.__reactInternalMemoizedMergedChildContext=e,$s(Vs),$s(zs),Bs(zs,e)):$s(Vs),Bs(Vs,r)}var Zs=null,Js=!1,ei=!1;function ti(e){null===Zs?Zs=[e]:Zs.push(e)}function ri(){if(!ei&&null!==Zs){ei=!0;var e=0,t=Dr;try{var r=Zs;for(Dr=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Zs=null,Js=!1}catch(xJ){throw null!==Zs&&(Zs=Zs.slice(e+1)),or(mr,ri),xJ}finally{Dr=t,ei=!1}}return null}var ni=[],ai=0,si=null,ii=0,oi=[],li=0,ci=null,di=1,ui="";function hi(e,t){ni[ai++]=ii,ni[ai++]=si,si=e,ii=t}function mi(e,t,r){oi[li++]=di,oi[li++]=ui,oi[li++]=ci,ci=e;var n=di;e=ui;var a=32-yr(n)-1;n&=~(1<<a),r+=1;var s=32-yr(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,di=1<<32-yr(t)+a|r<<a|n,ui=s+e}else di=1<<s|r<<a|n,ui=e}function fi(e){null!==e.return&&(hi(e,1),mi(e,1,0))}function pi(e){for(;e===si;)si=ni[--ai],ni[ai]=null,ii=ni[--ai],ni[ai]=null;for(;e===ci;)ci=oi[--li],oi[li]=null,ui=oi[--li],oi[li]=null,di=oi[--li],oi[li]=null}var gi=null,xi=null,bi=!1,vi=null;function yi(e,t){var r=qd(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function wi(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,gi=e,xi=Ns(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,gi=e,xi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==ci?{id:di,overflow:ui}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=qd(18,null,null,0)).stateNode=t,r.return=e,e.child=r,gi=e,xi=null,!0);default:return!1}}function ji(e){return!(!(1&e.mode)||128&e.flags)}function Ni(e){if(bi){var t=xi;if(t){var r=t;if(!wi(e,t)){if(ji(e))throw Error(ve(418));t=Ns(r.nextSibling);var n=gi;t&&wi(e,t)?yi(n,r):(e.flags=-4097&e.flags|2,bi=!1,gi=e)}}else{if(ji(e))throw Error(ve(418));e.flags=-4097&e.flags|2,bi=!1,gi=e}}}function Si(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;gi=e}function ki(e){if(e!==gi)return!1;if(!bi)return Si(e),bi=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!gs(e.type,e.memoizedProps)),t&&(t=xi)){if(ji(e))throw Ci(),Error(ve(418));for(;t;)yi(e,t),t=Ns(t.nextSibling)}if(Si(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){xi=Ns(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}xi=null}}else xi=gi?Ns(e.stateNode.nextSibling):null;return!0}function Ci(){for(var e=xi;e;)e=Ns(e.nextSibling)}function Ei(){xi=gi=null,bi=!1}function Ti(e){null===vi?vi=[e]:vi.push(e)}var _i=Oe.ReactCurrentBatchConfig;function Ai(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,e));var a=n,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function Ii(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pi(e){return(0,e._init)(e._payload)}function Di(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Qd(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,r,n){return null===t||6!==t.tag?((t=Xd(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function l(e,t,r,n){var s=r.type;return s===Me?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===He&&Pi(s)===t.type)?((n=a(t,r.props)).ref=Ai(e,t,r),n.return=e,n):((n=Gd(r.type,r.key,r.props,null,e.mode,n)).ref=Ai(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Zd(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,s){return null===t||7!==t.tag?((t=Yd(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function u(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Xd(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Le:return(r=Gd(t.type,t.key,t.props,null,e.mode,r)).ref=Ai(e,null,t),r.return=e,r;case Re:return(t=Zd(t,e.mode,r)).return=e,t;case He:return u(e,(0,t._init)(t._payload),r)}if(pt(t)||Ye(t))return(t=Yd(t,e.mode,r,null)).return=e,t;Ii(e,t)}return null}function h(e,t,r,n){var a=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==a?null:o(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Le:return r.key===a?l(e,t,r,n):null;case Re:return r.key===a?c(e,t,r,n):null;case He:return h(e,t,(a=r._init)(r._payload),n)}if(pt(r)||Ye(r))return null!==a?null:d(e,t,r,n,null);Ii(e,r)}return null}function m(e,t,r,n,a){if("string"==typeof n&&""!==n||"number"==typeof n)return o(t,e=e.get(r)||null,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Le:return l(t,e=e.get(null===n.key?r:n.key)||null,n,a);case Re:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case He:return m(e,t,r,(0,n._init)(n._payload),a)}if(pt(n)||Ye(n))return d(t,e=e.get(r)||null,n,a,null);Ii(t,n)}return null}return function o(l,c,d,f){if("object"==typeof d&&null!==d&&d.type===Me&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case Le:e:{for(var p=d.key,g=c;null!==g;){if(g.key===p){if((p=d.type)===Me){if(7===g.tag){r(l,g.sibling),(c=a(g,d.props.children)).return=l,l=c;break e}}else if(g.elementType===p||"object"==typeof p&&null!==p&&p.$$typeof===He&&Pi(p)===g.type){r(l,g.sibling),(c=a(g,d.props)).ref=Ai(l,g,d),c.return=l,l=c;break e}r(l,g);break}t(l,g),g=g.sibling}d.type===Me?((c=Yd(d.props.children,l.mode,f,d.key)).return=l,l=c):((f=Gd(d.type,d.key,d.props,null,l.mode,f)).ref=Ai(l,c,d),f.return=l,l=f)}return i(l);case Re:e:{for(g=d.key;null!==c;){if(c.key===g){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){r(l,c.sibling),(c=a(c,d.children||[])).return=l,l=c;break e}r(l,c);break}t(l,c),c=c.sibling}(c=Zd(d,l.mode,f)).return=l,l=c}return i(l);case He:return o(l,c,(g=d._init)(d._payload),f)}if(pt(d))return function(a,i,o,l){for(var c=null,d=null,f=i,p=i=0,g=null;null!==f&&p<o.length;p++){f.index>p?(g=f,f=null):g=f.sibling;var x=h(a,f,o[p],l);if(null===x){null===f&&(f=g);break}e&&f&&null===x.alternate&&t(a,f),i=s(x,i,p),null===d?c=x:d.sibling=x,d=x,f=g}if(p===o.length)return r(a,f),bi&&hi(a,p),c;if(null===f){for(;p<o.length;p++)null!==(f=u(a,o[p],l))&&(i=s(f,i,p),null===d?c=f:d.sibling=f,d=f);return bi&&hi(a,p),c}for(f=n(a,f);p<o.length;p++)null!==(g=m(f,a,p,o[p],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?p:g.key),i=s(g,i,p),null===d?c=g:d.sibling=g,d=g);return e&&f.forEach(function(e){return t(a,e)}),bi&&hi(a,p),c}(l,c,d,f);if(Ye(d))return function(a,i,o,l){var c=Ye(o);if("function"!=typeof c)throw Error(ve(150));if(null==(o=c.call(o)))throw Error(ve(151));for(var d=c=null,f=i,p=i=0,g=null,x=o.next();null!==f&&!x.done;p++,x=o.next()){f.index>p?(g=f,f=null):g=f.sibling;var b=h(a,f,x.value,l);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(a,f),i=s(b,i,p),null===d?c=b:d.sibling=b,d=b,f=g}if(x.done)return r(a,f),bi&&hi(a,p),c;if(null===f){for(;!x.done;p++,x=o.next())null!==(x=u(a,x.value,l))&&(i=s(x,i,p),null===d?c=x:d.sibling=x,d=x);return bi&&hi(a,p),c}for(f=n(a,f);!x.done;p++,x=o.next())null!==(x=m(f,a,p,x.value,l))&&(e&&null!==x.alternate&&f.delete(null===x.key?p:x.key),i=s(x,i,p),null===d?c=x:d.sibling=x,d=x);return e&&f.forEach(function(e){return t(a,e)}),bi&&hi(a,p),c}(l,c,d,f);Ii(l,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==c&&6===c.tag?(r(l,c.sibling),(c=a(c,d)).return=l,l=c):(r(l,c),(c=Xd(d,l.mode,f)).return=l,l=c),i(l)):r(l,c)}}var Oi=Di(!0),Li=Di(!1),Ri=Fs(null),Mi=null,Fi=null,$i=null;function Bi(){$i=Fi=Mi=null}function Ui(e){var t=Ri.current;$s(Ri),e._currentValue=t}function zi(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vi(e,t){Mi=e,$i=Fi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Dl=!0),e.firstContext=null)}function Wi(e){var t=e._currentValue;if($i!==e)if(e={context:e,memoizedValue:t,next:null},null===Fi){if(null===Mi)throw Error(ve(308));Fi=e,Mi.dependencies={lanes:0,firstContext:e}}else Fi=Fi.next=e;return t}var qi=null;function Hi(e){null===qi?qi=[e]:qi.push(e)}function Qi(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Hi(t)):(r.next=a.next,a.next=r),t.interleaved=r,Gi(e,n)}function Gi(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Yi=!1;function Ki(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ji(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,2&zc){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Gi(e,r)}return null===(a=n.interleaved)?(t.next=t,Hi(n)):(t.next=a.next,a.next=t),n.interleaved=t,Gi(e,r)}function eo(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Pr(e,r)}}function to(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ro(e,t,r,n){var a=e.updateQueue;Yi=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(i=0,d=c=l=null,o=s;;){var h=o.lane,m=o.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,p=o;switch(h=t,m=r,p.tag){case 1:if("function"==typeof(f=p.payload)){u=f.call(m,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=p.payload)?f.call(m,u,h):f))break e;u=Xe({},u,h);break e;case 2:Yi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Kc|=i,e.lanes=i,e.memoizedState=u}}function no(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!=typeof a)throw Error(ve(191,a));a.call(n)}}}var ao={},so=Fs(ao),io=Fs(ao),oo=Fs(ao);function lo(e){if(e===ao)throw Error(ve(174));return e}function co(e,t){switch(Bs(oo,t),Bs(io,e),Bs(so,ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jt(null,"");break;default:t=jt(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}$s(so),Bs(so,t)}function uo(){$s(so),$s(io),$s(oo)}function ho(e){lo(oo.current);var t=lo(so.current),r=jt(t,e.type);t!==r&&(Bs(io,e),Bs(so,r))}function mo(e){io.current===e&&($s(so),$s(io))}var fo=Fs(0);function po(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var go=[];function xo(){for(var e=0;e<go.length;e++)go[e]._workInProgressVersionPrimary=null;go.length=0}var bo=Oe.ReactCurrentDispatcher,vo=Oe.ReactCurrentBatchConfig,yo=0,wo=null,jo=null,No=null,So=!1,ko=!1,Co=0,Eo=0;function To(){throw Error(ve(321))}function _o(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!wa(e[r],t[r]))return!1;return!0}function Ao(e,t,r,n,a,s){if(yo=s,wo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bo.current=null===e||null===e.memoizedState?ml:fl,e=r(n,a),ko){s=0;do{if(ko=!1,Co=0,25<=s)throw Error(ve(301));s+=1,No=jo=null,t.updateQueue=null,bo.current=pl,e=r(n,a)}while(ko)}if(bo.current=hl,t=null!==jo&&null!==jo.next,yo=0,No=jo=wo=null,So=!1,t)throw Error(ve(300));return e}function Io(){var e=0!==Co;return Co=0,e}function Po(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===No?wo.memoizedState=No=e:No=No.next=e,No}function Do(){if(null===jo){var e=wo.alternate;e=null!==e?e.memoizedState:null}else e=jo.next;var t=null===No?wo.memoizedState:No.next;if(null!==t)No=t,jo=e;else{if(null===e)throw Error(ve(310));e={memoizedState:(jo=e).memoizedState,baseState:jo.baseState,baseQueue:jo.baseQueue,queue:jo.queue,next:null},null===No?wo.memoizedState=No=e:No=No.next=e}return No}function Oo(e,t){return"function"==typeof t?t(e):t}function Lo(e){var t=Do(),r=t.queue;if(null===r)throw Error(ve(311));r.lastRenderedReducer=e;var n=jo,a=n.baseQueue,s=r.pending;if(null!==s){if(null!==a){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(null!==a){s=a.next,n=n.baseState;var o=i=null,l=null,c=s;do{var d=c.lane;if((yo&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(o=l=u,i=n):l=l.next=u,wo.lanes|=d,Kc|=d}c=c.next}while(null!==c&&c!==s);null===l?i=n:l.next=o,wa(n,t.memoizedState)||(Dl=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{s=a.lane,wo.lanes|=s,Kc|=s,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ro(e){var t=Do(),r=t.queue;if(null===r)throw Error(ve(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(null!==a){r.pending=null;var i=a=a.next;do{s=e(s,i.action),i=i.next}while(i!==a);wa(s,t.memoizedState)||(Dl=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Mo(){}function Fo(e,t){var r=wo,n=Do(),a=t(),s=!wa(n.memoizedState,a);if(s&&(n.memoizedState=a,Dl=!0),n=n.queue,Ko(Uo.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||null!==No&&1&No.memoizedState.tag){if(r.flags|=2048,qo(9,Bo.bind(null,r,n,a,t),void 0,null),null===Vc)throw Error(ve(349));30&yo||$o(r,t,a)}return a}function $o(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=wo.updateQueue)?(t={lastEffect:null,stores:null},wo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Bo(e,t,r,n){t.value=r,t.getSnapshot=n,zo(t)&&Vo(e)}function Uo(e,t,r){return r(function(){zo(t)&&Vo(e)})}function zo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wa(e,r)}catch(n){return!0}}function Vo(e){var t=Gi(e,1);null!==t&&gd(t,e,1,-1)}function Wo(e){var t=Po();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=ll.bind(null,wo,e),[t.memoizedState,e]}function qo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=wo.updateQueue)?(t={lastEffect:null,stores:null},wo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ho(){return Do().memoizedState}function Qo(e,t,r,n){var a=Po();wo.flags|=e,a.memoizedState=qo(1|t,r,void 0,void 0===n?null:n)}function Go(e,t,r,n){var a=Do();n=void 0===n?null:n;var s=void 0;if(null!==jo){var i=jo.memoizedState;if(s=i.destroy,null!==n&&_o(n,i.deps))return void(a.memoizedState=qo(t,r,s,n))}wo.flags|=e,a.memoizedState=qo(1|t,r,s,n)}function Yo(e,t){return Qo(8390656,8,e,t)}function Ko(e,t){return Go(2048,8,e,t)}function Xo(e,t){return Go(4,2,e,t)}function Zo(e,t){return Go(4,4,e,t)}function Jo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function el(e,t,r){return r=null!=r?r.concat([e]):null,Go(4,4,Jo.bind(null,t,e),r)}function tl(){}function rl(e,t){var r=Do();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&_o(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function nl(e,t){var r=Do();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&_o(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function al(e,t,r){return 21&yo?(wa(r,t)||(r=_r(),wo.lanes|=r,Kc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dl=!0),e.memoizedState=r)}function sl(e,t){var r=Dr;Dr=0!==r&&4>r?r:4,e(!0);var n=vo.transition;vo.transition={};try{e(!1),t()}finally{Dr=r,vo.transition=n}}function il(){return Do().memoizedState}function ol(e,t,r){var n=pd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cl(e))dl(t,r);else if(null!==(r=Qi(e,t,r,n))){gd(r,e,n,fd()),ul(r,t,n)}}function ll(e,t,r){var n=pd(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cl(e))dl(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,wa(o,i)){var l=t.interleaved;return null===l?(a.next=a,Hi(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Qi(e,t,a,n))&&(gd(r,e,n,a=fd()),ul(r,t,n))}}function cl(e){var t=e.alternate;return e===wo||null!==t&&t===wo}function dl(e,t){ko=So=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ul(e,t,r){if(4194240&r){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Pr(e,r)}}var hl={readContext:Wi,useCallback:To,useContext:To,useEffect:To,useImperativeHandle:To,useInsertionEffect:To,useLayoutEffect:To,useMemo:To,useReducer:To,useRef:To,useState:To,useDebugValue:To,useDeferredValue:To,useTransition:To,useMutableSource:To,useSyncExternalStore:To,useId:To,unstable_isNewReconciler:!1},ml={readContext:Wi,useCallback:function(e,t){return Po().memoizedState=[e,void 0===t?null:t],e},useContext:Wi,useEffect:Yo,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,Qo(4194308,4,Jo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qo(4,2,e,t)},useMemo:function(e,t){var r=Po();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Po();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ol.bind(null,wo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Po().memoizedState=e},useState:Wo,useDebugValue:tl,useDeferredValue:function(e){return Po().memoizedState=e},useTransition:function(){var e=Wo(!1),t=e[0];return e=sl.bind(null,e[1]),Po().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=wo,a=Po();if(bi){if(void 0===r)throw Error(ve(407));r=r()}else{if(r=t(),null===Vc)throw Error(ve(349));30&yo||$o(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Yo(Uo.bind(null,n,s,e),[e]),n.flags|=2048,qo(9,Bo.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Po(),t=Vc.identifierPrefix;if(bi){var r=ui;t=":"+t+"R"+(r=(di&~(1<<32-yr(di)-1)).toString(32)+r),0<(r=Co++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=Eo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fl={readContext:Wi,useCallback:rl,useContext:Wi,useEffect:Ko,useImperativeHandle:el,useInsertionEffect:Xo,useLayoutEffect:Zo,useMemo:nl,useReducer:Lo,useRef:Ho,useState:function(){return Lo(Oo)},useDebugValue:tl,useDeferredValue:function(e){return al(Do(),jo.memoizedState,e)},useTransition:function(){return[Lo(Oo)[0],Do().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Fo,useId:il,unstable_isNewReconciler:!1},pl={readContext:Wi,useCallback:rl,useContext:Wi,useEffect:Ko,useImperativeHandle:el,useInsertionEffect:Xo,useLayoutEffect:Zo,useMemo:nl,useReducer:Ro,useRef:Ho,useState:function(){return Ro(Oo)},useDebugValue:tl,useDeferredValue:function(e){var t=Do();return null===jo?t.memoizedState=e:al(t,jo.memoizedState,e)},useTransition:function(){return[Ro(Oo)[0],Do().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Fo,useId:il,unstable_isNewReconciler:!1};function gl(e,t){if(e&&e.defaultProps){for(var r in t=Xe({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function xl(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:Xe({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var bl={isMounted:function(e){return!!(e=e._reactInternals)&&rr(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fd(),a=pd(e),s=Zi(n,a);s.payload=t,null!=r&&(s.callback=r),null!==(t=Ji(e,s,a))&&(gd(t,e,a,n),eo(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fd(),a=pd(e),s=Zi(n,a);s.tag=1,s.payload=t,null!=r&&(s.callback=r),null!==(t=Ji(e,s,a))&&(gd(t,e,a,n),eo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fd(),n=pd(e),a=Zi(r,n);a.tag=2,null!=t&&(a.callback=t),null!==(t=Ji(e,a,n))&&(gd(t,e,n,r),eo(t,e,n))}};function vl(e,t,r,n,a,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!ja(r,n)||!ja(a,s))}function yl(e,t,r){var n=!1,a=Us,s=t.contextType;return"object"==typeof s&&null!==s?s=Wi(s):(a=Hs(t)?Ws:zs.current,s=(n=null!=(n=t.contextTypes))?qs(e,a):Us),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=bl,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function wl(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bl.enqueueReplaceState(t,t.state,null)}function jl(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ki(e);var s=t.contextType;"object"==typeof s&&null!==s?a.context=Wi(s):(s=Hs(t)?Ws:zs.current,a.context=qs(e,s)),a.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(xl(e,t,s,r),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&bl.enqueueReplaceState(a,a.state,null),ro(e,r,a,n),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function Nl(e,t){try{var r="",n=t;do{r+=tt(n),n=n.return}while(n);var a=r}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function Sl(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function kl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Cl="function"==typeof WeakMap?WeakMap:Map;function El(e,t,r){(r=Zi(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ad||(ad=!0,sd=n),kl(0,t)},r}function Tl(e,t,r){(r=Zi(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){kl(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(r.callback=function(){kl(0,t),"function"!=typeof n&&(null===id?id=new Set([this]):id.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function _l(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new Cl;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=$d.bind(null,e,t,r),t.then(e,e))}function Al(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Il(e,t,r,n,a){return 1&e.mode?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Zi(-1,1)).tag=2,Ji(r,t,1))),r.lanes|=1),e)}var Pl=Oe.ReactCurrentOwner,Dl=!1;function Ol(e,t,r,n){t.child=null===e?Li(t,null,r,n):Oi(t,e.child,r,n)}function Ll(e,t,r,n,a){r=r.render;var s=t.ref;return Vi(t,a),n=Ao(e,t,r,n,s,a),r=Io(),null===e||Dl?(bi&&r&&fi(t),t.flags|=1,Ol(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ac(e,t,a))}function Rl(e,t,r,n,a){if(null===e){var s=r.type;return"function"!=typeof s||Hd(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Gd(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ml(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:ja)(i,n)&&e.ref===t.ref)return ac(e,t,a)}return t.flags|=1,(e=Qd(s,n)).ref=t.ref,e.return=t,t.child=e}function Ml(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(ja(s,n)&&e.ref===t.ref){if(Dl=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,ac(e,t,a);131072&e.flags&&(Dl=!0)}}return Bl(e,t,r,n,a)}function Fl(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(1&t.mode){if(!(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bs(Qc,Hc),Hc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Bs(Qc,Hc),Hc|=n}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bs(Qc,Hc),Hc|=r;else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Bs(Qc,Hc),Hc|=n;return Ol(e,t,a,r),t.child}function $l(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Bl(e,t,r,n,a){var s=Hs(r)?Ws:zs.current;return s=qs(t,s),Vi(t,a),r=Ao(e,t,r,n,s,a),n=Io(),null===e||Dl?(bi&&n&&fi(t),t.flags|=1,Ol(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ac(e,t,a))}function Ul(e,t,r,n,a){if(Hs(r)){var s=!0;Ks(t)}else s=!1;if(Vi(t,a),null===t.stateNode)nc(e,t),yl(t,r,n),jl(t,r,n,a),n=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;"object"==typeof c&&null!==c?c=Wi(c):c=qs(t,c=Hs(r)?Ws:zs.current);var d=r.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate;u||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==n||l!==c)&&wl(t,i,n,c),Yi=!1;var h=t.memoizedState;i.state=h,ro(t,n,i,a),l=t.memoizedState,o!==n||h!==l||Vs.current||Yi?("function"==typeof d&&(xl(t,r,d,n),l=t.memoizedState),(o=Yi||vl(t,r,o,n,h,l,c))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):("function"==typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Xi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gl(t.type,o),i.props=c,u=t.pendingProps,h=i.context,"object"==typeof(l=r.contextType)&&null!==l?l=Wi(l):l=qs(t,l=Hs(r)?Ws:zs.current);var m=r.getDerivedStateFromProps;(d="function"==typeof m||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==u||h!==l)&&wl(t,i,n,l),Yi=!1,h=t.memoizedState,i.state=h,ro(t,n,i,a);var f=t.memoizedState;o!==u||h!==f||Vs.current||Yi?("function"==typeof m&&(xl(t,r,m,n),f=t.memoizedState),(c=Yi||vl(t,r,c,n,h,f,l)||!1)?(d||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(n,f,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,f,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),i.props=n,i.state=f,i.context=l,n=c):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return zl(e,t,r,n,s,a)}function zl(e,t,r,n,a,s){$l(e,t);var i=!!(128&t.flags);if(!n&&!i)return a&&Xs(t,r,!1),ac(e,t,s);n=t.stateNode,Pl.current=t;var o=i&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=Oi(t,e.child,null,s),t.child=Oi(t,null,o,s)):Ol(e,t,o,s),t.memoizedState=n.state,a&&Xs(t,r,!0),t.child}function Vl(e){var t=e.stateNode;t.pendingContext?Gs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Gs(0,t.context,!1),co(e,t.containerInfo)}function Wl(e,t,r,n,a){return Ei(),Ti(a),t.flags|=256,Ol(e,t,r,n),t.child}var ql,Hl,Ql,Gl,Yl={dehydrated:null,treeContext:null,retryLane:0};function Kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xl(e,t,r){var n,a=t.pendingProps,s=fo.current,i=!1,o=!!(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&!!(2&s)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Bs(fo,1&s),null===e)return Ni(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},1&a||null===i?i=Kd(o,a,0,null):(i.childLanes=0,i.pendingProps=o),e=Yd(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Kl(r),t.memoizedState=Yl,e):Zl(t,o));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,r,n,a,s,i){if(r)return 256&t.flags?(t.flags&=-257,Jl(e,t,i,n=Sl(Error(ve(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Kd({mode:"visible",children:n.children},a,0,null),(s=Yd(s,a,i,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,1&t.mode&&Oi(t,e.child,null,i),t.child.memoizedState=Kl(i),t.memoizedState=Yl,s);if(!(1&t.mode))return Jl(e,t,i,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var o=n.dgst;return n=o,Jl(e,t,i,n=Sl(s=Error(ve(419)),n,void 0))}if(o=0!==(i&e.childLanes),Dl||o){if(null!==(n=Vc)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|i))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Gi(e,a),gd(n,e,a,-1))}return _d(),Jl(e,t,i,n=Sl(Error(ve(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ud.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,xi=Ns(a.nextSibling),gi=t,bi=!0,vi=null,null!==e&&(oi[li++]=di,oi[li++]=ui,oi[li++]=ci,di=e.id,ui=e.overflow,ci=t),t=Zl(t,n.children),t.flags|=4096,t)}(e,t,o,a,n,s,r);if(i){i=a.fallback,o=t.mode,n=(s=e.child).sibling;var l={mode:"hidden",children:a.children};return 1&o||t.child===s?(a=Qd(s,l)).subtreeFlags=14680064&s.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=l,t.deletions=null),null!==n?i=Qd(n,i):(i=Yd(i,o,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=null===(o=e.child.memoizedState)?Kl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Yl,a}return e=(i=e.child).sibling,a=Qd(i,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Zl(e,t){return(t=Kd({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Jl(e,t,r,n){return null!==n&&Ti(n),Oi(t,e.child,null,r),(e=Zl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ec(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),zi(e.return,t,r)}function tc(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function rc(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Ol(e,t,n.children,r),2&(n=fo.current))n=1&n|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ec(e,r,t);else if(19===e.tag)ec(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Bs(fo,n),1&t.mode)switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===po(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),tc(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===po(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}tc(t,!0,r,null,s);break;case"together":tc(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function nc(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ac(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Kc|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(ve(153));if(null!==t.child){for(r=Qd(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Qd(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function sc(e,t){if(!bi)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ic(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function oc(e,t,r){var n=t.pendingProps;switch(pi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ic(t),null;case 1:case 17:return Hs(t.type)&&Qs(),ic(t),null;case 3:return n=t.stateNode,uo(),$s(Vs),$s(zs),xo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ki(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==vi&&(yd(vi),vi=null))),Hl(e,t),ic(t),null;case 5:mo(t);var a=lo(oo.current);if(r=t.type,null!==e&&null!=t.stateNode)Ql(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(ve(166));return ic(t),null}if(e=lo(so.current),ki(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Cs]=t,n[Es]=s,e=!!(1&t.mode),r){case"dialog":Ja("cancel",n),Ja("close",n);break;case"iframe":case"object":case"embed":Ja("load",n);break;case"video":case"audio":for(a=0;a<Ya.length;a++)Ja(Ya[a],n);break;case"source":Ja("error",n);break;case"img":case"image":case"link":Ja("error",n),Ja("load",n);break;case"details":Ja("toggle",n);break;case"input":dt(n,s),Ja("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ja("invalid",n);break;case"textarea":bt(n,s),Ja("invalid",n)}for(var i in Pt(r,s),a=null,s)if(s.hasOwnProperty(i)){var o=s[i];"children"===i?"string"==typeof o?n.textContent!==o&&(!0!==s.suppressHydrationWarning&&hs(n.textContent,o,e),a=["children",o]):"number"==typeof o&&n.textContent!==""+o&&(!0!==s.suppressHydrationWarning&&hs(n.textContent,o,e),a=["children",""+o]):we.hasOwnProperty(i)&&null!=o&&"onScroll"===i&&Ja("scroll",n)}switch(r){case"input":it(n),mt(n,s,!0);break;case"textarea":it(n),yt(n);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(n.onclick=ms)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{i=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=wt(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),"select"===r&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Cs]=t,e[Es]=n,ql(e,t,!1,!1),t.stateNode=e;e:{switch(i=Dt(r,n),r){case"dialog":Ja("cancel",e),Ja("close",e),a=n;break;case"iframe":case"object":case"embed":Ja("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ya.length;a++)Ja(Ya[a],e);a=n;break;case"source":Ja("error",e),a=n;break;case"img":case"image":case"link":Ja("error",e),Ja("load",e),a=n;break;case"details":Ja("toggle",e),a=n;break;case"input":dt(e,n),a=ct(e,n),Ja("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Xe({},n,{value:void 0}),Ja("invalid",e);break;case"textarea":bt(e,n),a=xt(e,n),Ja("invalid",e)}for(s in Pt(r,a),o=a)if(o.hasOwnProperty(s)){var l=o[s];"style"===s?At(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&kt(e,l):"children"===s?"string"==typeof l?("textarea"!==r||""!==l)&&Ct(e,l):"number"==typeof l&&Ct(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(we.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Ja("scroll",e):null!=l&&De(e,s,l,i))}switch(r){case"input":it(e),mt(e,n,!1);break;case"textarea":it(e),yt(e);break;case"option":null!=n.value&&e.setAttribute("value",""+at(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?gt(e,!!n.multiple,s,!1):null!=n.defaultValue&&gt(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=ms)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ic(t),null;case 6:if(e&&null!=t.stateNode)Gl(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(ve(166));if(r=lo(oo.current),lo(so.current),ki(t)){if(n=t.stateNode,r=t.memoizedProps,n[Cs]=t,(s=n.nodeValue!==r)&&null!==(e=gi))switch(e.tag){case 3:hs(n.nodeValue,r,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&hs(n.nodeValue,r,!!(1&e.mode))}s&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Cs]=t,t.stateNode=n}return ic(t),null;case 13:if($s(fo),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(bi&&null!==xi&&1&t.mode&&!(128&t.flags))Ci(),Ei(),t.flags|=98560,s=!1;else if(s=ki(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(ve(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(ve(317));s[Cs]=t}else Ei(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ic(t),s=!1}else null!==vi&&(yd(vi),vi=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&fo.current?0===Gc&&(Gc=3):_d())),null!==t.updateQueue&&(t.flags|=4),ic(t),null);case 4:return uo(),Hl(e,t),null===e&&rs(t.stateNode.containerInfo),ic(t),null;case 10:return Ui(t.type._context),ic(t),null;case 19:if($s(fo),null===(s=t.memoizedState))return ic(t),null;if(n=!!(128&t.flags),null===(i=s.rendering))if(n)sc(s,!1);else{if(0!==Gc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=po(e))){for(t.flags|=128,sc(s,!1),null!==(n=i.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=14680066,null===(i=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Bs(fo,1&fo.current|2),t.child}e=e.sibling}null!==s.tail&&ur()>rd&&(t.flags|=128,n=!0,sc(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=po(i))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),sc(s,!0),null===s.tail&&"hidden"===s.tailMode&&!i.alternate&&!bi)return ic(t),null}else 2*ur()-s.renderingStartTime>rd&&1073741824!==r&&(t.flags|=128,n=!0,sc(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(null!==(r=s.last)?r.sibling=i:t.child=i,s.last=i)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ur(),t.sibling=null,r=fo.current,Bs(fo,n?1&r|2:1&r),t):(ic(t),null);case 22:case 23:return kd(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&1&t.mode?!!(1073741824&Hc)&&(ic(t),6&t.subtreeFlags&&(t.flags|=8192)):ic(t),null;case 24:case 25:return null}throw Error(ve(156,t.tag))}function lc(e,t){switch(pi(t),t.tag){case 1:return Hs(t.type)&&Qs(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return uo(),$s(Vs),$s(zs),xo(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return mo(t),null;case 13:if($s(fo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(ve(340));Ei()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return $s(fo),null;case 4:return uo(),null;case 10:return Ui(t.type._context),null;case 22:case 23:return kd(),null;default:return null}}ql=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Hl=function(){},Ql=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,lo(so.current);var s,i=null;switch(r){case"input":a=ct(e,a),n=ct(e,n),i=[];break;case"select":a=Xe({},a,{value:void 0}),n=Xe({},n,{value:void 0}),i=[];break;case"textarea":a=xt(e,a),n=xt(e,n),i=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(e.onclick=ms)}for(c in Pt(r,n),r=null,a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(we.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=null!=a?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(null!=l||null!=o))if("style"===c)if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(i=i||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(i=i||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(we.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ja("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Gl=function(e,t,r,n){r!==n&&(t.flags|=4)};var cc=!1,dc=!1,uc="function"==typeof WeakSet?WeakSet:Set,hc=null;function mc(e,t){var r=e.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(n){Fd(e,t,n)}else r.current=null}function fc(e,t,r){try{r()}catch(n){Fd(e,t,n)}}var pc=!1;function gc(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&fc(t,r,s)}a=a.next}while(a!==n)}}function xc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function bc(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"==typeof t?t(e):t.current=e}}function vc(e){var t=e.alternate;null!==t&&(e.alternate=null,vc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Cs],delete t[Es],delete t[_s],delete t[As],delete t[Is])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yc(e){return 5===e.tag||3===e.tag||4===e.tag}function wc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||yc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function jc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=ms));else if(4!==n&&null!==(e=e.child))for(jc(e,t,r),e=e.sibling;null!==e;)jc(e,t,r),e=e.sibling}function Nc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(Nc(e,t,r),e=e.sibling;null!==e;)Nc(e,t,r),e=e.sibling}var Sc=null,kc=!1;function Cc(e,t,r){for(r=r.child;null!==r;)Ec(e,t,r),r=r.sibling}function Ec(e,t,r){if(vr&&"function"==typeof vr.onCommitFiberUnmount)try{vr.onCommitFiberUnmount(br,r)}catch(o){}switch(r.tag){case 5:dc||mc(r,t);case 6:var n=Sc,a=kc;Sc=null,Cc(e,t,r),kc=a,null!==(Sc=n)&&(kc?(e=Sc,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):Sc.removeChild(r.stateNode));break;case 18:null!==Sc&&(kc?(e=Sc,r=r.stateNode,8===e.nodeType?js(e.parentNode,r):1===e.nodeType&&js(e,r),rn(e)):js(Sc,r.stateNode));break;case 4:n=Sc,a=kc,Sc=r.stateNode.containerInfo,kc=!0,Cc(e,t,r),Sc=n,kc=a;break;case 0:case 11:case 14:case 15:if(!dc&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(2&s||4&s)&&fc(r,t,i),a=a.next}while(a!==n)}Cc(e,t,r);break;case 1:if(!dc&&(mc(r,t),"function"==typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Fd(r,t,o)}Cc(e,t,r);break;case 21:Cc(e,t,r);break;case 22:1&r.mode?(dc=(n=dc)||null!==r.memoizedState,Cc(e,t,r),dc=n):Cc(e,t,r);break;default:Cc(e,t,r)}}function Tc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new uc),t.forEach(function(t){var n=zd.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function _c(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:Sc=o.stateNode,kc=!1;break e;case 3:case 4:Sc=o.stateNode.containerInfo,kc=!0;break e}o=o.return}if(null===Sc)throw Error(ve(160));Ec(s,i,a),Sc=null,kc=!1;var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(c){Fd(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Ac(t,e),t=t.sibling}function Ac(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_c(t,e),Ic(e),4&n){try{gc(3,e,e.return),xc(3,e)}catch(vJ){Fd(e,e.return,vJ)}try{gc(5,e,e.return)}catch(vJ){Fd(e,e.return,vJ)}}break;case 1:_c(t,e),Ic(e),512&n&&null!==r&&mc(r,r.return);break;case 5:if(_c(t,e),Ic(e),512&n&&null!==r&&mc(r,r.return),32&e.flags){var a=e.stateNode;try{Ct(a,"")}catch(vJ){Fd(e,e.return,vJ)}}if(4&n&&null!=(a=e.stateNode)){var s=e.memoizedProps,i=null!==r?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===s.type&&null!=s.name&&ut(a,s),Dt(o,i);var c=Dt(o,s);for(i=0;i<l.length;i+=2){var d=l[i],u=l[i+1];"style"===d?At(a,u):"dangerouslySetInnerHTML"===d?kt(a,u):"children"===d?Ct(a,u):De(a,d,u,c)}switch(o){case"input":ht(a,s);break;case"textarea":vt(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;null!=m?gt(a,!!s.multiple,m,!1):h!==!!s.multiple&&(null!=s.defaultValue?gt(a,!!s.multiple,s.defaultValue,!0):gt(a,!!s.multiple,s.multiple?[]:"",!1))}a[Es]=s}catch(vJ){Fd(e,e.return,vJ)}}break;case 6:if(_c(t,e),Ic(e),4&n){if(null===e.stateNode)throw Error(ve(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(vJ){Fd(e,e.return,vJ)}}break;case 3:if(_c(t,e),Ic(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{rn(t.containerInfo)}catch(vJ){Fd(e,e.return,vJ)}break;case 4:default:_c(t,e),Ic(e);break;case 13:_c(t,e),Ic(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(td=ur())),4&n&&Tc(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(dc=(c=dc)||d,_c(t,e),dc=c):_c(t,e),Ic(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(hc=e,d=e.child;null!==d;){for(u=hc=d;null!==hc;){switch(m=(h=hc).child,h.tag){case 0:case 11:case 14:case 15:gc(4,h,h.return);break;case 1:mc(h,h.return);var f=h.stateNode;if("function"==typeof f.componentWillUnmount){n=h,r=h.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(vJ){Fd(n,r,vJ)}}break;case 5:mc(h,h.return);break;case 22:if(null!==h.memoizedState){Lc(u);continue}}null!==m?(m.return=h,hc=m):Lc(u)}d=d.sibling}e:for(d=null,u=e;;){if(5===u.tag){if(null===d){d=u;try{a=u.stateNode,c?"function"==typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(o=u.stateNode,i=null!=(l=u.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=_t("display",i))}catch(vJ){Fd(e,e.return,vJ)}}}else if(6===u.tag){if(null===d)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(vJ){Fd(e,e.return,vJ)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:_c(t,e),Ic(e),4&n&&Tc(e);case 21:}}function Ic(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(yc(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(Ct(a,""),n.flags&=-33),Nc(e,wc(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;jc(e,wc(e),s);break;default:throw Error(ve(161))}}catch(i){Fd(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Pc(e,t,r){hc=e,Dc(e)}function Dc(e,t,r){for(var n=!!(1&e.mode);null!==hc;){var a=hc,s=a.child;if(22===a.tag&&n){var i=null!==a.memoizedState||cc;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||dc;o=cc;var c=dc;if(cc=i,(dc=l)&&!c)for(hc=a;null!==hc;)l=(i=hc).child,22===i.tag&&null!==i.memoizedState?Rc(a):null!==l?(l.return=i,hc=l):Rc(a);for(;null!==s;)hc=s,Dc(s),s=s.sibling;hc=a,cc=o,dc=c}Oc(e)}else 8772&a.subtreeFlags&&null!==s?(s.return=a,hc=s):Oc(e)}}function Oc(e){for(;null!==hc;){var t=hc;if(8772&t.flags){var r=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:dc||xc(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!dc)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:gl(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&no(t,s,n);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}no(t,i,r)}break;case 5:var o=t.stateNode;if(null===r&&4&t.flags){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var u=d.dehydrated;null!==u&&rn(u)}}}break;default:throw Error(ve(163))}dc||512&t.flags&&bc(t)}catch(bJ){Fd(t,t.return,bJ)}}if(t===e){hc=null;break}if(null!==(r=t.sibling)){r.return=t.return,hc=r;break}hc=t.return}}function Lc(e){for(;null!==hc;){var t=hc;if(t===e){hc=null;break}var r=t.sibling;if(null!==r){r.return=t.return,hc=r;break}hc=t.return}}function Rc(e){for(;null!==hc;){var t=hc;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xc(4,t)}catch(l){Fd(t,r,l)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){Fd(t,a,l)}}var s=t.return;try{bc(t)}catch(l){Fd(t,s,l)}break;case 5:var i=t.return;try{bc(t)}catch(l){Fd(t,i,l)}}}catch(l){Fd(t,t.return,l)}if(t===e){hc=null;break}var o=t.sibling;if(null!==o){o.return=t.return,hc=o;break}hc=t.return}}var Mc,Fc=Math.ceil,$c=Oe.ReactCurrentDispatcher,Bc=Oe.ReactCurrentOwner,Uc=Oe.ReactCurrentBatchConfig,zc=0,Vc=null,Wc=null,qc=0,Hc=0,Qc=Fs(0),Gc=0,Yc=null,Kc=0,Xc=0,Zc=0,Jc=null,ed=null,td=0,rd=1/0,nd=null,ad=!1,sd=null,id=null,od=!1,ld=null,cd=0,dd=0,ud=null,hd=-1,md=0;function fd(){return 6&zc?ur():-1!==hd?hd:hd=ur()}function pd(e){return 1&e.mode?2&zc&&0!==qc?qc&-qc:null!==_i.transition?(0===md&&(md=_r()),md):0!==(e=Dr)?e:e=void 0===(e=window.event)?16:un(e.type):1}function gd(e,t,r,n){if(50<dd)throw dd=0,ud=null,Error(ve(185));Ir(e,r,n),2&zc&&e===Vc||(e===Vc&&(!(2&zc)&&(Xc|=r),4===Gc&&wd(e,qc)),xd(e,n),1===r&&0===zc&&!(1&t.mode)&&(rd=ur()+500,Js&&ri()))}function xd(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-yr(s),o=1<<i,l=a[i];-1===l?0!==(o&r)&&0===(o&n)||(a[i]=Er(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var n=Cr(e,e===Vc?qc:0);if(0===n)null!==r&&lr(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&lr(r),1===t)0===e.tag?function(e){Js=!0,ti(e)}(jd.bind(null,e)):ti(jd.bind(null,e)),ys(function(){!(6&zc)&&ri()}),r=null;else{switch(Or(n)){case 1:r=mr;break;case 4:r=fr;break;case 16:default:r=pr;break;case 536870912:r=xr}r=Vd(r,bd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function bd(e,t){if(hd=-1,md=0,6&zc)throw Error(ve(327));var r=e.callbackNode;if(Rd()&&e.callbackNode!==r)return null;var n=Cr(e,e===Vc?qc:0);if(0===n)return null;if(30&n||0!==(n&e.expiredLanes)||t)t=Ad(e,n);else{t=n;var a=zc;zc|=2;var s=Td();for(Vc===e&&qc===t||(nd=null,rd=ur()+500,Cd(e,t));;)try{Pd();break}catch(o){Ed(e,o)}Bi(),$c.current=s,zc=a,null!==Wc?t=0:(Vc=null,qc=0,t=Gc)}if(0!==t){if(2===t&&(0!==(a=Tr(e))&&(n=a,t=vd(e,a))),1===t)throw r=Yc,Cd(e,0),wd(e,n),xd(e,ur()),r;if(6===t)wd(e,n);else{if(a=e.current.alternate,!(30&n||function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!wa(s(),a))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)||(t=Ad(e,n),2===t&&(s=Tr(e),0!==s&&(n=s,t=vd(e,s))),1!==t)))throw r=Yc,Cd(e,0),wd(e,n),xd(e,ur()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ve(345));case 2:case 5:Ld(e,ed,nd);break;case 3:if(wd(e,n),(130023424&n)===n&&10<(t=td+500-ur())){if(0!==Cr(e,0))break;if(((a=e.suspendedLanes)&n)!==n){fd(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=xs(Ld.bind(null,e,ed,nd),t);break}Ld(e,ed,nd);break;case 4:if(wd(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-yr(n);s=1<<i,(i=t[i])>a&&(a=i),n&=~s}if(n=a,10<(n=(120>(n=ur()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Fc(n/1960))-n)){e.timeoutHandle=xs(Ld.bind(null,e,ed,nd),n);break}Ld(e,ed,nd);break;default:throw Error(ve(329))}}}return xd(e,ur()),e.callbackNode===r?bd.bind(null,e):null}function vd(e,t){var r=Jc;return e.current.memoizedState.isDehydrated&&(Cd(e,t).flags|=256),2!==(e=Ad(e,t))&&(t=ed,ed=r,null!==t&&yd(t)),e}function yd(e){null===ed?ed=e:ed.push.apply(ed,e)}function wd(e,t){for(t&=~Zc,t&=~Xc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-yr(t),n=1<<r;e[r]=-1,t&=~n}}function jd(e){if(6&zc)throw Error(ve(327));Rd();var t=Cr(e,0);if(!(1&t))return xd(e,ur()),null;var r=Ad(e,t);if(0!==e.tag&&2===r){var n=Tr(e);0!==n&&(t=n,r=vd(e,n))}if(1===r)throw r=Yc,Cd(e,0),wd(e,t),xd(e,ur()),r;if(6===r)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ld(e,ed,nd),xd(e,ur()),null}function Nd(e,t){var r=zc;zc|=1;try{return e(t)}finally{0===(zc=r)&&(rd=ur()+500,Js&&ri())}}function Sd(e){null!==ld&&0===ld.tag&&!(6&zc)&&Rd();var t=zc;zc|=1;var r=Uc.transition,n=Dr;try{if(Uc.transition=null,Dr=1,e)return e()}finally{Dr=n,Uc.transition=r,!(6&(zc=t))&&ri()}}function kd(){Hc=Qc.current,$s(Qc)}function Cd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,bs(r)),null!==Wc)for(r=Wc.return;null!==r;){var n=r;switch(pi(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&Qs();break;case 3:uo(),$s(Vs),$s(zs),xo();break;case 5:mo(n);break;case 4:uo();break;case 13:case 19:$s(fo);break;case 10:Ui(n.type._context);break;case 22:case 23:kd()}r=r.return}if(Vc=e,Wc=e=Qd(e.current,null),qc=Hc=t,Gc=0,Yc=null,Zc=Xc=Kc=0,ed=Jc=null,null!==qi){for(t=0;t<qi.length;t++)if(null!==(n=(r=qi[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var i=s.next;s.next=a,n.next=i}r.pending=n}qi=null}return e}function Ed(e,t){for(;;){var r=Wc;try{if(Bi(),bo.current=hl,So){for(var n=wo.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}So=!1}if(yo=0,No=jo=wo=null,ko=!1,Co=0,Bc.current=null,null===r||null===r.return){Gc=1,Yc=t,Wc=null;break}e:{var s=e,i=r.return,o=r,l=t;if(t=qc,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,d=o,u=d.tag;if(!(1&d.mode||0!==u&&11!==u&&15!==u)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Al(i);if(null!==m){m.flags&=-257,Il(m,i,o,0,t),1&m.mode&&_l(s,c,t),l=c;var f=(t=m).updateQueue;if(null===f){var p=new Set;p.add(l),t.updateQueue=p}else f.add(l);break e}if(!(1&t)){_l(s,c,t),_d();break e}l=Error(ve(426))}else if(bi&&1&o.mode){var g=Al(i);if(null!==g){!(65536&g.flags)&&(g.flags|=256),Il(g,i,o,0,t),Ti(Nl(l,o));break e}}s=l=Nl(l,o),4!==Gc&&(Gc=2),null===Jc?Jc=[s]:Jc.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,to(s,El(0,l,t));break e;case 1:o=l;var x=s.type,b=s.stateNode;if(!(128&s.flags||"function"!=typeof x.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==id&&id.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,to(s,Tl(s,o,t));break e}}s=s.return}while(null!==s)}Od(r)}catch(v){t=v,Wc===r&&null!==r&&(Wc=r=r.return);continue}break}}function Td(){var e=$c.current;return $c.current=hl,null===e?hl:e}function _d(){0!==Gc&&3!==Gc&&2!==Gc||(Gc=4),null===Vc||!(268435455&Kc)&&!(268435455&Xc)||wd(Vc,qc)}function Ad(e,t){var r=zc;zc|=2;var n=Td();for(Vc===e&&qc===t||(nd=null,Cd(e,t));;)try{Id();break}catch(xJ){Ed(e,xJ)}if(Bi(),zc=r,$c.current=n,null!==Wc)throw Error(ve(261));return Vc=null,qc=0,Gc}function Id(){for(;null!==Wc;)Dd(Wc)}function Pd(){for(;null!==Wc&&!cr();)Dd(Wc)}function Dd(e){var t=Mc(e.alternate,e,Hc);e.memoizedProps=e.pendingProps,null===t?Od(e):Wc=t,Bc.current=null}function Od(e){var t=e;do{var r=t.alternate;if(e=t.return,32768&t.flags){if(null!==(r=lc(r,t)))return r.flags&=32767,void(Wc=r);if(null===e)return Gc=6,void(Wc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(r=oc(r,t,Hc)))return void(Wc=r);if(null!==(t=t.sibling))return void(Wc=t);Wc=t=e}while(null!==t);0===Gc&&(Gc=5)}function Ld(e,t,r){var n=Dr,a=Uc.transition;try{Uc.transition=null,Dr=1,function(e,t,r,n){do{Rd()}while(null!==ld);if(6&zc)throw Error(ve(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-yr(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,s),e===Vc&&(Wc=Vc=null,qc=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||od||(od=!0,Vd(pr,function(){return Rd(),null})),s=!!(15990&r.flags),!!(15990&r.subtreeFlags)||s){s=Uc.transition,Uc.transition=null;var i=Dr;Dr=1;var o=zc;zc|=4,Bc.current=null,function(e,t){if(fs=an,Ea(e=Ca())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(y){r=null;break e}var i=0,o=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var m;u!==r||0!==a&&3!==u.nodeType||(o=i+a),u!==s||0!==n&&3!==u.nodeType||(l=i+n),3===u.nodeType&&(i+=u.nodeValue.length),null!==(m=u.firstChild);)h=u,u=m;for(;;){if(u===e)break t;if(h===r&&++c===a&&(o=i),h===s&&++d===n&&(l=i),null!==(m=u.nextSibling))break;h=(u=h).parentNode}u=m}r=-1===o||-1===l?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ps={focusedElem:e,selectionRange:r},an=!1,hc=t;null!==hc;)if(e=(t=hc).child,1028&t.subtreeFlags&&null!==e)e.return=t,hc=e;else for(;null!==hc;){t=hc;try{var f=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var p=f.memoizedProps,g=f.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:gl(t.type,p),g);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(ve(163))}}catch(y){Fd(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,hc=e;break}hc=t.return}f=pc,pc=!1}(e,r),Ac(r,e),Ta(ps),an=!!fs,ps=fs=null,e.current=r,Pc(r),dr(),zc=o,Dr=i,Uc.transition=s}else e.current=r;if(od&&(od=!1,ld=e,cd=a),s=e.pendingLanes,0===s&&(id=null),function(e){if(vr&&"function"==typeof vr.onCommitFiberRoot)try{vr.onCommitFiberRoot(br,e,void 0,!(128&~e.current.flags))}catch(t){}}(r.stateNode),xd(e,ur()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ad)throw ad=!1,e=sd,sd=null,e;!!(1&cd)&&0!==e.tag&&Rd(),s=e.pendingLanes,1&s?e===ud?dd++:(dd=0,ud=e):dd=0,ri()}(e,t,r,n)}finally{Uc.transition=a,Dr=n}return null}function Rd(){if(null!==ld){var e=Or(cd),t=Uc.transition,r=Dr;try{if(Uc.transition=null,Dr=16>e?16:e,null===ld)var n=!1;else{if(e=ld,ld=null,cd=0,6&zc)throw Error(ve(331));var a=zc;for(zc|=4,hc=e.current;null!==hc;){var s=hc,i=s.child;if(16&hc.flags){var o=s.deletions;if(null!==o){for(var l=0;l<o.length;l++){var c=o[l];for(hc=c;null!==hc;){var d=hc;switch(d.tag){case 0:case 11:case 15:gc(8,d,s)}var u=d.child;if(null!==u)u.return=d,hc=u;else for(;null!==hc;){var h=(d=hc).sibling,m=d.return;if(vc(d),d===c){hc=null;break}if(null!==h){h.return=m,hc=h;break}hc=m}}}var f=s.alternate;if(null!==f){var p=f.child;if(null!==p){f.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(null!==p)}}hc=s}}if(2064&s.subtreeFlags&&null!==i)i.return=s,hc=i;else e:for(;null!==hc;){if(2048&(s=hc).flags)switch(s.tag){case 0:case 11:case 15:gc(9,s,s.return)}var x=s.sibling;if(null!==x){x.return=s.return,hc=x;break e}hc=s.return}}var b=e.current;for(hc=b;null!==hc;){var v=(i=hc).child;if(2064&i.subtreeFlags&&null!==v)v.return=i,hc=v;else e:for(i=b;null!==hc;){if(2048&(o=hc).flags)try{switch(o.tag){case 0:case 11:case 15:xc(9,o)}}catch(w){Fd(o,o.return,w)}if(o===i){hc=null;break e}var y=o.sibling;if(null!==y){y.return=o.return,hc=y;break e}hc=o.return}}if(zc=a,ri(),vr&&"function"==typeof vr.onPostCommitFiberRoot)try{vr.onPostCommitFiberRoot(br,e)}catch(w){}n=!0}return n}finally{Dr=r,Uc.transition=t}}return!1}function Md(e,t,r){e=Ji(e,t=El(0,t=Nl(r,t),1),1),t=fd(),null!==e&&(Ir(e,1,t),xd(e,t))}function Fd(e,t,r){if(3===e.tag)Md(e,e,r);else for(;null!==t;){if(3===t.tag){Md(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===id||!id.has(n))){t=Ji(t,e=Tl(t,e=Nl(r,e),1),1),e=fd(),null!==t&&(Ir(t,1,e),xd(t,e));break}}t=t.return}}function $d(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=fd(),e.pingedLanes|=e.suspendedLanes&r,Vc===e&&(qc&r)===r&&(4===Gc||3===Gc&&(130023424&qc)===qc&&500>ur()-td?Cd(e,0):Zc|=r),xd(e,t)}function Bd(e,t){0===t&&(1&e.mode?(t=Sr,!(130023424&(Sr<<=1))&&(Sr=4194304)):t=1);var r=fd();null!==(e=Gi(e,t))&&(Ir(e,t,r),xd(e,r))}function Ud(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Bd(e,r)}function zd(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ve(314))}null!==n&&n.delete(t),Bd(e,r)}function Vd(e,t){return or(e,t)}function Wd(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qd(e,t,r,n){return new Wd(e,t,r,n)}function Hd(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Qd(e,t){var r=e.alternate;return null===r?((r=qd(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gd(e,t,r,n,a,s){var i=2;if(n=e,"function"==typeof e)Hd(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case Me:return Yd(r.children,a,s,t);case Fe:i=8,a|=8;break;case $e:return(e=qd(12,r,t,2|a)).elementType=$e,e.lanes=s,e;case Ve:return(e=qd(13,r,t,a)).elementType=Ve,e.lanes=s,e;case We:return(e=qd(19,r,t,a)).elementType=We,e.lanes=s,e;case Qe:return Kd(r,a,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Be:i=10;break e;case Ue:i=9;break e;case ze:i=11;break e;case qe:i=14;break e;case He:i=16,n=null;break e}throw Error(ve(130,null==e?e:typeof e,""))}return(t=qd(i,r,t,a)).elementType=e,t.type=n,t.lanes=s,t}function Yd(e,t,r,n){return(e=qd(7,e,n,t)).lanes=r,e}function Kd(e,t,r,n){return(e=qd(22,e,n,t)).elementType=Qe,e.lanes=r,e.stateNode={isHidden:!1},e}function Xd(e,t,r){return(e=qd(6,e,null,t)).lanes=r,e}function Zd(e,t,r){return(t=qd(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jd(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ar(0),this.expirationTimes=Ar(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function eu(e,t,r,n,a,s,i,o,l){return e=new Jd(e,t,r,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=qd(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ki(s),e}function tu(e){if(!e)return Us;e:{if(rr(e=e._reactInternals)!==e||1!==e.tag)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(ve(171))}if(1===e.tag){var r=e.type;if(Hs(r))return Ys(e,r,t)}return t}function ru(e,t,r,n,a,s,i,o,l){return(e=eu(r,n,!0,e,0,s,0,o,l)).context=tu(null),r=e.current,(s=Zi(n=fd(),a=pd(r))).callback=null!=t?t:null,Ji(r,s,a),e.current.lanes=a,Ir(e,a,n),xd(e,n),e}function nu(e,t,r,n){var a=t.current,s=fd(),i=pd(a);return r=tu(r),null===t.context?t.context=r:t.pendingContext=r,(t=Zi(s,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ji(a,t,i))&&(gd(e,a,i,s),eo(e,a,i)),i}function au(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function su(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function iu(e,t){su(e,t),(e=e.alternate)&&su(e,t)}Mc=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Vs.current)Dl=!0;else{if(0===(e.lanes&r)&&!(128&t.flags))return Dl=!1,function(e,t,r){switch(t.tag){case 3:Vl(t),Ei();break;case 5:ho(t);break;case 1:Hs(t.type)&&Ks(t);break;case 4:co(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Bs(Ri,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Bs(fo,1&fo.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Xl(e,t,r):(Bs(fo,1&fo.current),null!==(e=ac(e,t,r))?e.sibling:null);Bs(fo,1&fo.current);break;case 19:if(n=0!==(r&t.childLanes),128&e.flags){if(n)return rc(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Bs(fo,fo.current),n)break;return null;case 22:case 23:return t.lanes=0,Fl(e,t,r)}return ac(e,t,r)}(e,t,r);Dl=!!(131072&e.flags)}else Dl=!1,bi&&1048576&t.flags&&mi(t,ii,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;nc(e,t),e=t.pendingProps;var a=qs(t,zs.current);Vi(t,r),a=Ao(null,t,n,e,a,r);var s=Io();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hs(n)?(s=!0,Ks(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ki(t),a.updater=bl,t.stateNode=a,a._reactInternals=t,jl(t,n,e,r),t=zl(null,t,n,!0,s,r)):(t.tag=0,bi&&s&&fi(t),Ol(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(nc(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"==typeof e)return Hd(e)?1:0;if(null!=e){if((e=e.$$typeof)===ze)return 11;if(e===qe)return 14}return 2}(n),e=gl(n,e),a){case 0:t=Bl(null,t,n,e,r);break e;case 1:t=Ul(null,t,n,e,r);break e;case 11:t=Ll(null,t,n,e,r);break e;case 14:t=Rl(null,t,n,gl(n.type,e),r);break e}throw Error(ve(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Bl(e,t,n,a=t.elementType===n?a:gl(n,a),r);case 1:return n=t.type,a=t.pendingProps,Ul(e,t,n,a=t.elementType===n?a:gl(n,a),r);case 3:e:{if(Vl(t),null===e)throw Error(ve(387));n=t.pendingProps,a=(s=t.memoizedState).element,Xi(e,t),ro(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Wl(e,t,n,r,a=Nl(Error(ve(423)),t));break e}if(n!==a){t=Wl(e,t,n,r,a=Nl(Error(ve(424)),t));break e}for(xi=Ns(t.stateNode.containerInfo.firstChild),gi=t,bi=!0,vi=null,r=Li(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(Ei(),n===a){t=ac(e,t,r);break e}Ol(e,t,n,r)}t=t.child}return t;case 5:return ho(t),null===e&&Ni(t),n=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,gs(n,a)?i=null:null!==s&&gs(n,s)&&(t.flags|=32),$l(e,t),Ol(e,t,i,r),t.child;case 6:return null===e&&Ni(t),null;case 13:return Xl(e,t,r);case 4:return co(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Oi(t,null,n,r):Ol(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,Ll(e,t,n,a=t.elementType===n?a:gl(n,a),r);case 7:return Ol(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ol(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Bs(Ri,n._currentValue),n._currentValue=i,null!==s)if(wa(s.value,i)){if(s.children===a.children&&!Vs.current){t=ac(e,t,r);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){i=s.child;for(var l=o.firstContext;null!==l;){if(l.context===n){if(1===s.tag){(l=Zi(-1,r&-r)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),zi(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(ve(341));i.lanes|=r,null!==(o=i.alternate)&&(o.lanes|=r),zi(i,r,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}Ol(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Vi(t,r),n=n(a=Wi(a)),t.flags|=1,Ol(e,t,n,r),t.child;case 14:return a=gl(n=t.type,t.pendingProps),Rl(e,t,n,a=gl(n.type,a),r);case 15:return Ml(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:gl(n,a),nc(e,t),t.tag=1,Hs(n)?(e=!0,Ks(t)):e=!1,Vi(t,r),yl(t,n,a),jl(t,n,a,r),zl(null,t,n,!0,e,r);case 19:return rc(e,t,r);case 22:return Fl(e,t,r)}throw Error(ve(156,t.tag))};var ou="function"==typeof reportError?reportError:function(e){console.error(e)};function lu(e){this._internalRoot=e}function cu(e){this._internalRoot=e}function du(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function uu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function hu(){}function mu(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if("function"==typeof a){var o=a;a=function(){var e=au(i);o.call(e)}}nu(t,i,e,a)}else i=function(e,t,r,n,a){if(a){if("function"==typeof n){var s=n;n=function(){var e=au(i);s.call(e)}}var i=ru(t,n,e,0,null,!1,0,"",hu);return e._reactRootContainer=i,e[Ts]=i.current,rs(8===e.nodeType?e.parentNode:e),Sd(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof n){var o=n;n=function(){var e=au(l);o.call(e)}}var l=eu(e,0,!1,null,0,!1,0,"",hu);return e._reactRootContainer=l,e[Ts]=l.current,rs(8===e.nodeType?e.parentNode:e),Sd(function(){nu(t,l,r,n)}),l}(r,t,e,a,n);return au(i)}cu.prototype.render=lu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(ve(409));nu(e,t,null,null)},cu.prototype.unmount=lu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Sd(function(){nu(null,e,null,null)}),t[Ts]=null}},cu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fr();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qr.length&&0!==t&&t<Qr[r].priority;r++);Qr.splice(r,0,e),0===r&&Xr(e)}},Lr=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=kr(t.pendingLanes);0!==r&&(Pr(t,1|r),xd(t,ur()),!(6&zc)&&(rd=ur()+500,ri()))}break;case 13:Sd(function(){var t=Gi(e,1);if(null!==t){var r=fd();gd(t,e,1,r)}}),iu(e,1)}},Rr=function(e){if(13===e.tag){var t=Gi(e,134217728);if(null!==t)gd(t,e,134217728,fd());iu(e,134217728)}},Mr=function(e){if(13===e.tag){var t=pd(e),r=Gi(e,t);if(null!==r)gd(r,e,t,fd());iu(e,t)}},Fr=function(){return Dr},$r=function(e,t){var r=Dr;try{return Dr=e,t()}finally{Dr=r}},Rt=function(e,t,r){switch(t){case"input":if(ht(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ls(n);if(!a)throw Error(ve(90));ot(n),ht(n,a)}}}break;case"textarea":vt(e,r);break;case"select":null!=(t=r.value)&&gt(e,!!r.multiple,t,!1)}},zt=Nd,Vt=Sd;var fu={usingClientEntryPoint:!1,Events:[Ds,Os,Ls,Bt,Ut,Nd]},pu={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gu={bundleType:pu.bundleType,version:pu.version,rendererPackageName:pu.rendererPackageName,rendererConfig:pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=sr(e))?null:e.stateNode},findFiberByHostInstance:pu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{br=xu.inject(gu),vr=xu}catch(St){}}me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fu,me.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!du(t))throw Error(ve(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Re,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},me.createRoot=function(e,t){if(!du(e))throw Error(ve(299));var r=!1,n="",a=ou;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=eu(e,1,!1,null,0,r,0,n,a),e[Ts]=t.current,rs(8===e.nodeType?e.parentNode:e),new lu(t)},me.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(ve(188));throw e=Object.keys(e).join(","),Error(ve(268,e))}return e=null===(e=sr(t))?null:e.stateNode},me.flushSync=function(e){return Sd(e)},me.hydrate=function(e,t,r){if(!uu(t))throw Error(ve(200));return mu(null,e,t,!0,r)},me.hydrateRoot=function(e,t,r){if(!du(e))throw Error(ve(405));var n=null!=r&&r.hydratedSources||null,a=!1,s="",i=ou;if(null!=r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=ru(t,null,e,1,null!=r?r:null,a,0,s,i),e[Ts]=t.current,rs(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new cu(t)},me.render=function(e,t,r){if(!uu(t))throw Error(ve(200));return mu(null,e,t,!1,r)},me.unmountComponentAtNode=function(e){if(!uu(e))throw Error(ve(40));return!!e._reactRootContainer&&(Sd(function(){mu(null,null,e,!1,function(){e._reactRootContainer=null,e[Ts]=null})}),!0)},me.unstable_batchedUpdates=Nd,me.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!uu(r))throw Error(ve(200));if(null==e||void 0===e._reactInternals)throw Error(ve(38));return mu(e,t,r,!1,n)},me.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),he.exports=me;var bu=he.exports,vu=bu;ue.createRoot=vu.createRoot,ue.hydrateRoot=vu.hydrateRoot;
/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
var yu,wu=e=>{throw TypeError(e)},ju=(e,t,r)=>(((e,t,r)=>{t.has(e)||wu("Cannot "+r)})(e,t,"read from private field"),r?r.call(e):t.get(e)),Nu="popstate";function Su(e={}){return function(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,o="POP",d=null,u=h();null==u&&(u=0,i.replaceState(c(l({},i.state),{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function m(){o="POP";let e=h(),t=null==e?null:e-u;u=e,d&&d({action:o,location:x.location,delta:t})}function f(e,t){o="PUSH";let r=Tu(x.location,e,t);u=h()+1;let n=Eu(r,u),l=x.createHref(r);try{i.pushState(n,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(l)}s&&d&&d({action:o,location:x.location,delta:1})}function p(e,t){o="REPLACE";let r=Tu(x.location,e,t);u=h();let n=Eu(r,u),a=x.createHref(r);i.replaceState(n,"",a),s&&d&&d({action:o,location:x.location,delta:0})}function g(e){return Iu(e)}let x={get action(){return o},get location(){return e(a,i)},listen(e){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Nu,m),d=e,()=>{a.removeEventListener(Nu,m),d=null}},createHref:e=>t(a,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go:e=>i.go(e)};return x}(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return Tu("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:_u(t)},0,e)}function ku(e,t){if(!1===e||null==e)throw new Error(t)}function Cu(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(xJ){}}}function Eu(e,t){return{usr:e.state,key:e.key,idx:t}}function Tu(e,t,r=null,n){return c(l({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Au(t):t),{state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function _u({pathname:e="/",search:t="",hash:r=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function Au(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Iu(e,t=!1){let r="http://localhost";"undefined"!=typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),ku(r,"No window.location.(origin|href) available to create URL");let n="string"==typeof e?e:_u(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var Pu=class{constructor(e){var t,r,n;if(t=this,r=yu,n=new Map,r.has(t)?wu("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,n),e)for(let[a,s]of e)this.set(a,s)}get(e){if(ju(this,yu).has(e))return ju(this,yu).get(e);if(void 0!==e.defaultValue)return e.defaultValue;throw new Error("No value found for context")}set(e,t){ju(this,yu).set(e,t)}};yu=new WeakMap;var Du=new Set(["lazy","caseSensitive","path","id","index","children"]);var Ou=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Lu(e){return Ou.has(e)}function Ru(e,t,r=[],n={},a=!1){return e.map((e,s)=>{let i=[...r,String(s)],o="string"==typeof e.id?e.id:i.join("-");if(ku(!0!==e.index||!e.children,"Cannot specify children on an index route"),ku(a||!n[o],`Found a route id collision on id "${o}".  Route id's must be globally unique within Data Router usages`),function(e){return!0===e.index}(e)){let r=c(l(l({},e),t(e)),{id:o});return n[o]=r,r}{let r=c(l(l({},e),t(e)),{id:o,children:void 0});return n[o]=r,e.children&&(r.children=Ru(e.children,t,i,n,a)),r}})}function Mu(e,t,r="/"){return Fu(e,t,r,!1)}function Fu(e,t,r,n){let a=Zu(("string"==typeof t?Au(t):t).pathname||"/",r);if(null==a)return null;let s=$u(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=Xu(a);i=Yu(s[o],e,n)}return i}function $u(e,t=[],r=[],n="",a=!1){let s=(e,s,i=a,o)=>{let l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(n)&&i)return;ku(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length)}let c=nh([n,l.relativePath]),d=r.concat(l);e.children&&e.children.length>0&&(ku(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),$u(e.children,t,d,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:Gu(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var r;if(""!==e.path&&(null==(r=e.path)?void 0:r.includes("?")))for(let n of Bu(e.path))s(e,t,!0,n);else s(e,t)}),t}function Bu(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let i=Bu(n.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var Uu=/^:[\w-]+$/,zu=3,Vu=2,Wu=1,qu=10,Hu=-2,Qu=e=>"*"===e;function Gu(e,t){let r=e.split("/"),n=r.length;return r.some(Qu)&&(n+=Hu),t&&(n+=Vu),r.filter(e=>!Qu(e)).reduce((e,t)=>e+(Uu.test(t)?zu:""===t?Wu:qu),n)}function Yu(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===s?t:t.slice(s.length)||"/",d=Ku({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=Ku({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:nh([s,d.pathname]),pathnameBase:ah(nh([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=nh([s,d.pathnameBase]))}return i}function Ku(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t=!1,r=!0){Cu("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((e,{paramName:t,isOptional:r},n)=>{if("*"===t){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const a=o[n];return e[t]=r&&!a?void 0:(a||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function Xu(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return Cu(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Zu(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function Ju(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eh(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function th(e){let t=eh(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function rh(e,t,r,n=!1){let a;"string"==typeof e?a=Au(e):(a=l({},e),ku(!a.pathname||!a.pathname.includes("?"),Ju("?","pathname","search",a)),ku(!a.pathname||!a.pathname.includes("#"),Ju("#","pathname","hash",a)),ku(!a.search||!a.search.includes("#"),Ju("#","search","hash",a)));let s,i=""===e||""===a.pathname,o=i?"/":a.pathname;if(null==o)s=r;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t="/"){let{pathname:r,search:n="",hash:a=""}="string"==typeof e?Au(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:sh(n),hash:ih(a)}}(a,s),d=o&&"/"!==o&&o.endsWith("/"),u=(i||"."===o)&&r.endsWith("/");return c.pathname.endsWith("/")||!d&&!u||(c.pathname+="/"),c}var nh=e=>e.join("/").replace(/\/\/+/g,"/"),ah=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sh=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ih=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",oh=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function lh(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}var ch=["POST","PUT","PATCH","DELETE"],dh=new Set(ch),uh=["GET",...ch],hh=new Set(uh),mh=new Set([301,302,303,307,308]),fh=new Set([307,308]),ph={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gh={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vh=e=>bh.test(e),yh=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),wh="remix-router-transitions",jh=Symbol("ResetLoaderData");function Nh(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,r=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement;ku(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n,a=e.hydrationRouteProperties||[],s=e.mapRouteProperties||yh,i={},o=Ru(e.routes,s,void 0,i),d=e.basename||"/";d.startsWith("/")||(d=`/${d}`);let u,m,f=e.dataStrategy||Lh,p=l({},e.future),g=null,x=new Set,b=null,v=null,y=null,w=null!=e.hydrationData,j=Mu(o,e.history.location,d),N=!1,S=null;if(null!=j||e.patchRoutesOnNavigation){if(j&&!e.hydrationData){fe(j,o,e.history.location.pathname).active&&(j=null)}if(j)if(j.some(e=>e.route.lazy))u=!1;else if(j.some(e=>e.route.loader)){let t=e.hydrationData?e.hydrationData.loaderData:null,r=e.hydrationData?e.hydrationData.errors:null;if(r){let e=j.findIndex(e=>void 0!==r[e.route.id]);u=j.slice(0,e+1).every(e=>!Eh(e.route,t,r))}else u=j.every(e=>!Eh(e.route,t,r))}else u=!0;else{u=!1,j=[];let t=fe(null,o,e.history.location.pathname);t.active&&t.matches&&(N=!0,j=t.matches)}}else{let t=Zh(404,{pathname:e.history.location.pathname}),{matches:r,route:n}=Xh(o);u=!0,j=r,S={[n.id]:t}}let k,C,E={historyAction:e.history.action,location:e.history.location,matches:j,initialized:u,navigation:ph,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||S,fetchers:new Map,blockers:new Map},T="POP",_=!1,A=!1,I=new Map,P=null,D=!1,O=!1,L=new Set,R=new Map,M=0,F=-1,$=new Map,B=new Set,U=new Map,z=new Map,V=new Set,W=new Map,q=null;function H(e,t={}){e.matches&&(e.matches=e.matches.map(e=>{let t=i[e.route.id],r=e.route;return r.element!==t.element||r.errorElement!==t.errorElement||r.hydrateFallbackElement!==t.hydrateFallbackElement?c(l({},e),{route:t}):e})),E=l(l({},E),e);let r=[],n=[];E.fetchers.forEach((e,t)=>{"idle"===e.state&&(V.has(t)?r.push(t):n.push(t))}),V.forEach(e=>{E.fetchers.has(e)||R.has(e)||r.push(e)}),[...x].forEach(e=>e(E,{deletedFetchers:r,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync})),r.forEach(e=>ne(e)),n.forEach(e=>E.fetchers.delete(e))}function Q(t,r,{flushSync:a}={}){var s,i;let d,u=null!=E.actionData&&null!=E.navigation.formMethod&&om(E.navigation.formMethod)&&"loading"===E.navigation.state&&!0!==(null==(s=t.state)?void 0:s._isRedirect);d=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:u?E.actionData:null;let h=r.loaderData?Gh(E.loaderData,r.loaderData,r.matches||[],r.errors):E.loaderData,m=E.blockers;m.size>0&&(m=new Map(m),m.forEach((e,t)=>m.set(t,xh)));let f,p=!D&&me(t,r.matches||E.matches),g=!0===_||null!=E.navigation.formMethod&&om(E.navigation.formMethod)&&!0!==(null==(i=t.state)?void 0:i._isRedirect);if(n&&(o=n,n=void 0),D||"POP"===T||("PUSH"===T?e.history.push(t,t.state):"REPLACE"===T&&e.history.replace(t,t.state)),"POP"===T){let e=I.get(E.location.pathname);e&&e.has(t.pathname)?f={currentLocation:E.location,nextLocation:t}:I.has(t.pathname)&&(f={currentLocation:t,nextLocation:E.location})}else if(A){let e=I.get(E.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),I.set(E.location.pathname,e)),f={currentLocation:E.location,nextLocation:t}}H(c(l({},r),{actionData:d,loaderData:h,historyAction:T,location:t,initialized:!0,navigation:ph,revalidation:"idle",restoreScrollPosition:p,preventScrollReset:g,blockers:m}),{viewTransitionOpts:f,flushSync:!0===a}),T="POP",_=!1,A=!1,D=!1,O=!1,null==q||q.resolve(),q=null}function G(t,r,u){return h(this,null,function*(){k&&k.abort(),k=null,T=t,D=!0===(u&&u.startUninterruptedRevalidation),function(e,t){if(b&&y){let r=he(e,t);b[r]=y()}}(E.location,E.matches),_=!0===(u&&u.preventScrollReset),A=!0===(u&&u.enableViewTransition);let m=n||o,f=u&&u.overrideNavigation,p=(null==u?void 0:u.initialHydration)&&E.matches&&E.matches.length>0&&!N?E.matches:Mu(m,r,d),g=!0===(u&&u.flushSync);if(p&&E.initialized&&!O&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(E.location,r)&&!(u&&u.submission&&om(u.submission.formMethod)))return void Q(r,{matches:p},{flushSync:g});let x=fe(p,m,r.pathname);if(x.active&&x.matches&&(p=x.matches),!p){let{error:e,notFoundMatches:t,route:n}=ue(r.pathname);return void Q(r,{matches:t,loaderData:{},errors:{[n.id]:e}},{flushSync:g})}k=new AbortController;let v,w=Wh(e.history,r,k.signal,u&&u.submission),j=e.unstable_getContext?yield e.unstable_getContext():new Pu;if(u&&u.pendingError)v=[Kh(p).route.id,{type:"error",error:u.pendingError}];else if(u&&u.submission&&om(u.submission.formMethod)){let t=yield function(e,t,r,n,l,c,u){return h(this,arguments,function*(e,t,r,n,l,c,u,h={}){J();let m,f=function(e,t){let r={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return r}(t,r);if(H({navigation:f},{flushSync:!0===h.flushSync}),c){let r=yield pe(n,t.pathname,e.signal);if("aborted"===r.type)return{shortCircuited:!0};if("error"===r.type){if(0===r.partialMatches.length){let{matches:e,route:t}=Xh(o);return{matches:e,pendingActionResult:[t.id,{type:"error",error:r.error}]}}let e=Kh(r.partialMatches).route.id;return{matches:r.partialMatches,pendingActionResult:[e,{type:"error",error:r.error}]}}if(!r.matches){let{notFoundMatches:e,error:r,route:n}=ue(t.pathname);return{matches:e,pendingActionResult:[n.id,{type:"error",error:r}]}}n=r.matches}let p=cm(n,t);if(p.route.action||p.route.lazy){let t=Bh(s,i,e,n,p,u?[]:a,l),r=yield X(e,t,l,null);if(m=r[p.route.id],!m)for(let e of n)if(r[e.route.id]){m=r[e.route.id];break}if(e.signal.aborted)return{shortCircuited:!0}}else m={type:"error",error:Zh(405,{method:e.method,pathname:t.pathname,routeId:p.route.id})};if(am(m)){let t;if(h&&null!=h.replace)t=h.replace;else{t=Vh(m.response.headers.get("Location"),new URL(e.url),d)===E.location.pathname+E.location.search}return yield K(e,m,!0,{submission:r,replace:t}),{shortCircuited:!0}}if(nm(m)){let e=Kh(n,p.route.id);return!0!==(h&&h.replace)&&(T="PUSH"),{matches:n,pendingActionResult:[e.route.id,m,p.route.id]}}return{matches:n,pendingActionResult:[p.route.id,m]}})}(w,r,u.submission,p,j,x.active,u&&!0===u.initialHydration,{replace:u.replace,flushSync:g});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,n]=t.pendingActionResult;if(nm(n)&&lh(n.error)&&404===n.error.status)return k=null,void Q(r,{matches:t.matches,loaderData:{},errors:{[e]:n.error}})}p=t.matches||p,v=t.pendingActionResult,f=um(r,u.submission),g=!1,x.active=!1,w=Wh(e.history,w.url,w.signal)}let{shortCircuited:S,matches:C,loaderData:I,errors:P}=yield function(t,r,c,u,m,f,p,g,x,b,v,y){return h(this,null,function*(){let h=f||um(r,p),w=p||g||dm(h),j=!D&&!b;if(m){if(j){let e=Y(y);H(l({navigation:h},void 0!==e?{actionData:e}:{}),{flushSync:v})}let e=yield pe(c,r.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){if(0===e.partialMatches.length){let{matches:t,route:r}=Xh(o);return{matches:t,loaderData:{},errors:{[r.id]:e.error}}}let t=Kh(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:n}=ue(r.pathname);return{matches:t,loaderData:{},errors:{[n.id]:e}}}c=e.matches}let N=n||o,{dsMatches:S,revalidatingFetchers:C}=Ch(t,u,s,i,e.history,E,c,w,r,b?[]:a,!0===b,O,L,V,U,B,N,d,null!=e.patchRoutesOnNavigation,y);if(F=++M,!e.dataStrategy&&!S.some(e=>e.shouldLoad)&&!S.some(e=>e.route.unstable_middleware)&&0===C.length){let e=ie();return Q(r,l(l({matches:c,loaderData:{},errors:y&&nm(y[1])?{[y[0]]:y[1].error}:null},Yh(y)),e?{fetchers:new Map(E.fetchers)}:{}),{flushSync:v}),{shortCircuited:!0}}if(j){let e={};if(!m){e.navigation=h;let t=Y(y);void 0!==t&&(e.actionData=t)}C.length>0&&(e.fetchers=function(e){return e.forEach(e=>{let t=E.fetchers.get(e.key),r=hm(void 0,t?t.data:void 0);E.fetchers.set(e.key,r)}),new Map(E.fetchers)}(C)),H(e,{flushSync:v})}C.forEach(e=>{ae(e.key),e.controller&&R.set(e.key,e.controller)});let T=()=>C.forEach(e=>ae(e.key));k&&k.signal.addEventListener("abort",T);let{loaderResults:_,fetcherResults:A}=yield Z(S,C,t,u);if(t.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",T),C.forEach(e=>R.delete(e.key));let I=Jh(_);if(I)return yield K(t,I.result,!0,{replace:x}),{shortCircuited:!0};if(I=Jh(A),I)return B.add(I.key),yield K(t,I.result,!0,{replace:x}),{shortCircuited:!0};let{loaderData:P,errors:$}=Qh(E,c,_,y,C,A);b&&E.errors&&($=l(l({},E.errors),$));let z=ie(),W=oe(F),q=z||W||C.length>0;return l({matches:c,loaderData:P,errors:$},q?{fetchers:new Map(E.fetchers)}:{})})}(w,r,p,j,x.active,f,u&&u.submission,u&&u.fetcherSubmission,u&&u.replace,u&&!0===u.initialHydration,g,v);S||(k=null,Q(r,c(l({matches:C||p},Yh(v)),{loaderData:I,errors:P})))})}function Y(e){return e&&!nm(e[1])?{[e[0]]:e[1].data}:E.actionData?0===Object.keys(E.actionData).length?null:E.actionData:void 0}function K(e,n,a){return h(this,arguments,function*(e,n,a,{submission:s,fetcherSubmission:i,preventScrollReset:o,replace:u}={}){n.response.headers.has("X-Remix-Revalidate")&&(O=!0);let h=n.response.headers.get("Location");ku(h,"Expected a Location header on the redirect Response"),h=Vh(h,new URL(e.url),d);let m=Tu(E.location,h,{_isRedirect:!0});if(r){let e=!1;if(n.response.headers.has("X-Remix-Reload-Document"))e=!0;else if(vh(h)){const r=Iu(h,!0);e=r.origin!==t.location.origin||null==Zu(r.pathname,d)}if(e)return void(u?t.location.replace(h):t.location.assign(h))}k=null;let f=!0===u||n.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:p,formAction:g,formEncType:x}=E.navigation;!s&&!i&&p&&g&&x&&(s=dm(E.navigation));let b=s||i;if(fh.has(n.response.status)&&b&&om(b.formMethod))yield G(f,m,{submission:c(l({},b),{formAction:h}),preventScrollReset:o||_,enableViewTransition:a?A:void 0});else{let e=um(m,s);yield G(f,m,{overrideNavigation:e,fetcherSubmission:i,preventScrollReset:o||_,enableViewTransition:a?A:void 0})}})}function X(e,t,r,n){return h(this,null,function*(){let a,s={};try{a=yield function(e,t,r,n,a){return h(this,null,function*(){r.some(e=>{var t;return null==(t=e._lazyPromises)?void 0:t.middleware})&&(yield Promise.all(r.map(e=>{var t;return null==(t=e._lazyPromises)?void 0:t.middleware})));let s={request:t,params:r[0].params,context:a,matches:r},i=e=>{let t=s;return Rh(t,()=>e(c(l({},t),{fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})))},o=yield e(c(l({},s),{fetcherKey:n,unstable_runClientMiddleware:i}));try{yield Promise.all(r.flatMap(e=>{var t,r;return[null==(t=e._lazyPromises)?void 0:t.handler,null==(r=e._lazyPromises)?void 0:r.route]}))}catch(xJ){}return o})}(f,e,t,n,r)}catch(xJ){return t.filter(e=>e.shouldLoad).forEach(t=>{s[t.route.id]={type:"error",error:xJ}}),s}if(e.signal.aborted)return s;for(let[r,n]of Object.entries(a))if(rm(n)){let a=n.result;s[r]={type:"redirect",response:zh(a,e,r,t,d)}}else s[r]=yield Uh(n);return s})}function Z(e,t,r,n){return h(this,null,function*(){let a=X(r,e,n,null),s=Promise.all(t.map(e=>h(this,null,function*(){if(e.matches&&e.match&&e.request&&e.controller){let t=(yield X(e.request,e.matches,n,e.key))[e.match.route.id];return{[e.key]:t}}return Promise.resolve({[e.key]:{type:"error",error:Zh(404,{pathname:e.path})}})})));return{loaderResults:yield a,fetcherResults:(yield s).reduce((e,t)=>Object.assign(e,t),{})}})}function J(){O=!0,U.forEach((e,t)=>{R.has(t)&&L.add(t),ae(t)})}function ee(e,t,r={}){E.fetchers.set(e,t),H({fetchers:new Map(E.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function te(e,t,r,n={}){let a=Kh(E.matches,t);ne(e),H({errors:{[a.route.id]:r},fetchers:new Map(E.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function re(e){return z.set(e,(z.get(e)||0)+1),V.has(e)&&V.delete(e),E.fetchers.get(e)||gh}function ne(e){let t=E.fetchers.get(e);!R.has(e)||t&&"loading"===t.state&&$.has(e)||ae(e),U.delete(e),$.delete(e),B.delete(e),V.delete(e),L.delete(e),E.fetchers.delete(e)}function ae(e){let t=R.get(e);t&&(t.abort(),R.delete(e))}function se(e){for(let t of e){let e=mm(re(t).data);E.fetchers.set(t,e)}}function ie(){let e=[],t=!1;for(let r of B){let n=E.fetchers.get(r);ku(n,`Expected fetcher: ${r}`),"loading"===n.state&&(B.delete(r),e.push(r),t=!0)}return se(e),t}function oe(e){let t=[];for(let[r,n]of $)if(n<e){let e=E.fetchers.get(r);ku(e,`Expected fetcher: ${r}`),"loading"===e.state&&(ae(r),$.delete(r),t.push(r))}return se(t),t.length>0}function le(e){E.blockers.delete(e),W.delete(e)}function ce(e,t){let r=E.blockers.get(e)||xh;ku("unblocked"===r.state&&"blocked"===t.state||"blocked"===r.state&&"blocked"===t.state||"blocked"===r.state&&"proceeding"===t.state||"blocked"===r.state&&"unblocked"===t.state||"proceeding"===r.state&&"unblocked"===t.state,`Invalid blocker state transition: ${r.state} -> ${t.state}`);let n=new Map(E.blockers);n.set(e,t),H({blockers:n})}function de({currentLocation:e,nextLocation:t,historyAction:r}){if(0===W.size)return;W.size>1&&Cu(!1,"A router only supports one blocker at a time");let n=Array.from(W.entries()),[a,s]=n[n.length-1],i=E.blockers.get(a);return i&&"proceeding"===i.state?void 0:s({currentLocation:e,nextLocation:t,historyAction:r})?a:void 0}function ue(e){let t=Zh(404,{pathname:e}),r=n||o,{matches:a,route:s}=Xh(r);return{notFoundMatches:a,route:s,error:t}}function he(e,t){if(v){return v(e,t.map(e=>function(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],loaderData:t[r.id],handle:r.handle}}(e,E.loaderData)))||e.key}return e.key}function me(e,t){if(b){let r=he(e,t),n=b[r];if("number"==typeof n)return n}return null}function fe(t,r,n){if(e.patchRoutesOnNavigation){if(!t){return{active:!0,matches:Fu(r,n,d,!0)||[]}}if(Object.keys(t[0].params).length>0){return{active:!0,matches:Fu(r,n,d,!0)}}}return{active:!1,matches:null}}function pe(t,r,a,l){return h(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:t};let c=t;for(;;){let t=null==n,u=n||o,h=i;try{yield e.patchRoutesOnNavigation({signal:a,path:r,matches:c,fetcherKey:l,patch:(e,t)=>{a.aborted||_h(e,t,u,h,s,!1)}})}catch(xJ){return{type:"error",error:xJ,partialMatches:c}}finally{t&&!a.aborted&&(o=[...o])}if(a.aborted)return{type:"aborted"};let m=Mu(u,r,d);if(m)return{type:"success",matches:m};let f=Fu(u,r,d,!0);if(!f||c.length===f.length&&c.every((e,t)=>e.route.id===f[t].route.id))return{type:"success",matches:null};c=f}})}return m={get basename(){return d},get future(){return p},get state(){return E},get routes(){return o},get window(){return t},initialize:function(){if(g=e.history.listen(({action:t,location:r,delta:n})=>{if(C)return C(),void(C=void 0);Cu(0===W.size||null!=n,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let a=de({currentLocation:E.location,nextLocation:r,historyAction:t});if(a&&null!=n){let t=new Promise(e=>{C=e});return e.history.go(-1*n),void ce(a,{state:"blocked",location:r,proceed(){ce(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.then(()=>e.history.go(n))},reset(){let e=new Map(E.blockers);e.set(a,xh),H({blockers:e})}})}return G(t,r)}),r){!function(e,t){try{let r=e.sessionStorage.getItem(wh);if(r){let e=JSON.parse(r);for(let[r,n]of Object.entries(e||{}))n&&Array.isArray(n)&&t.set(r,new Set(n||[]))}}catch(xJ){}}(t,I);let e=()=>function(e,t){if(t.size>0){let n={};for(let[e,r]of t)n[e]=[...r];try{e.sessionStorage.setItem(wh,JSON.stringify(n))}catch(r){Cu(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}(t,I);t.addEventListener("pagehide",e),P=()=>t.removeEventListener("pagehide",e)}return E.initialized||G("POP",E.location,{initialHydration:!0}),m},subscribe:function(e){return x.add(e),()=>x.delete(e)},enableScrollRestoration:function(e,t,r){if(b=e,y=t,v=r||null,!w&&E.navigation===ph){w=!0;let e=me(E.location,E.matches);null!=e&&H({restoreScrollPosition:e})}return()=>{b=null,y=null,v=null}},navigate:function t(r,n){return h(this,null,function*(){if("number"==typeof r)return void e.history.go(r);let a=Sh(E.location,E.matches,d,r,null==n?void 0:n.fromRouteId,null==n?void 0:n.relative),{path:s,submission:i,error:o}=kh(!1,a,n),c=E.location,u=Tu(E.location,s,n&&n.state);u=l(l({},u),e.history.encodeLocation(u));let h=n&&null!=n.replace?n.replace:void 0,m="PUSH";!0===h?m="REPLACE":!1===h||null!=i&&om(i.formMethod)&&i.formAction===E.location.pathname+E.location.search&&(m="REPLACE");let f=n&&"preventScrollReset"in n?!0===n.preventScrollReset:void 0,p=!0===(n&&n.flushSync),g=de({currentLocation:c,nextLocation:u,historyAction:m});g?ce(g,{state:"blocked",location:u,proceed(){ce(g,{state:"proceeding",proceed:void 0,reset:void 0,location:u}),t(r,n)},reset(){let e=new Map(E.blockers);e.set(g,xh),H({blockers:e})}}):yield G(m,u,{submission:i,pendingError:o,preventScrollReset:f,replace:n&&n.replace,enableViewTransition:n&&n.viewTransition,flushSync:p})})},fetch:function(t,r,l,c){return h(this,null,function*(){ae(t);let u=!0===(c&&c.flushSync),m=n||o,f=Sh(E.location,E.matches,d,l,r,null==c?void 0:c.relative),p=Mu(m,f,d),g=fe(p,m,f);if(g.active&&g.matches&&(p=g.matches),!p)return void te(t,r,Zh(404,{pathname:f}),{flushSync:u});let{path:x,submission:b,error:v}=kh(!0,f,c);if(v)return void te(t,r,v,{flushSync:u});let y=e.unstable_getContext?yield e.unstable_getContext():new Pu,w=!0===(c&&c.preventScrollReset);b&&om(b.formMethod)?yield function(t,r,l,c,u,m,f,p,g){return h(this,null,function*(){J(),U.delete(t);let h=E.fetchers.get(t);ee(t,function(e,t){let r={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return r}(g,h),{flushSync:f});let x=new AbortController,b=Wh(e.history,l,x.signal,g);if(m){let e=yield pe(c,new URL(b.url).pathname,b.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void te(t,r,e.error,{flushSync:f});if(!e.matches)return void te(t,r,Zh(404,{pathname:l}),{flushSync:f});c=e.matches}let v=cm(c,l);if(!v.route.action&&!v.route.lazy){let e=Zh(405,{method:g.formMethod,pathname:l,routeId:r});return void te(t,r,e,{flushSync:f})}R.set(t,x);let y=M,w=Bh(s,i,b,c,v,a,u),j=(yield X(b,w,u,t))[v.route.id];if(b.signal.aborted)return void(R.get(t)===x&&R.delete(t));if(V.has(t)){if(am(j)||nm(j))return void ee(t,mm(void 0))}else{if(am(j))return R.delete(t),F>y?void ee(t,mm(void 0)):(B.add(t),ee(t,hm(g)),K(b,j,!1,{fetcherSubmission:g,preventScrollReset:p}));if(nm(j))return void te(t,r,j.error)}let N=E.navigation.location||E.location,S=Wh(e.history,N,x.signal),C=n||o,_="idle"!==E.navigation.state?Mu(C,E.navigation.location,d):E.matches;ku(_,"Didn't find any matches after fetcher action");let A=++M;$.set(t,A);let I=hm(g,j.data);E.fetchers.set(t,I);let{dsMatches:P,revalidatingFetchers:D}=Ch(S,u,s,i,e.history,E,_,g,N,a,!1,O,L,V,U,B,C,d,null!=e.patchRoutesOnNavigation,[v.route.id,j]);D.filter(e=>e.key!==t).forEach(e=>{let t=e.key,r=E.fetchers.get(t),n=hm(void 0,r?r.data:void 0);E.fetchers.set(t,n),ae(t),e.controller&&R.set(t,e.controller)}),H({fetchers:new Map(E.fetchers)});let z=()=>D.forEach(e=>ae(e.key));x.signal.addEventListener("abort",z);let{loaderResults:W,fetcherResults:q}=yield Z(P,D,S,u);if(x.signal.aborted)return;if(x.signal.removeEventListener("abort",z),$.delete(t),R.delete(t),D.forEach(e=>R.delete(e.key)),E.fetchers.has(t)){let e=mm(j.data);E.fetchers.set(t,e)}let G=Jh(W);if(G)return K(S,G.result,!1,{preventScrollReset:p});if(G=Jh(q),G)return B.add(G.key),K(S,G.result,!1,{preventScrollReset:p});let{loaderData:Y,errors:re}=Qh(E,_,W,void 0,D,q);oe(A),"loading"===E.navigation.state&&A>F?(ku(T,"Expected pending action"),k&&k.abort(),Q(E.navigation.location,{matches:_,loaderData:Y,errors:re,fetchers:new Map(E.fetchers)})):(H({errors:re,loaderData:Gh(E.loaderData,Y,_,re),fetchers:new Map(E.fetchers)}),O=!1)})}(t,r,x,p,y,g.active,u,w,b):(U.set(t,{routeId:r,path:x}),yield function(t,r,n,o,l,c,d,u,m){return h(this,null,function*(){let h=E.fetchers.get(t);ee(t,hm(m,h?h.data:void 0),{flushSync:d});let f=new AbortController,p=Wh(e.history,n,f.signal);if(c){let e=yield pe(o,new URL(p.url).pathname,p.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void te(t,r,e.error,{flushSync:d});if(!e.matches)return void te(t,r,Zh(404,{pathname:n}),{flushSync:d});o=e.matches}let g=cm(o,n);R.set(t,f);let x=M,b=Bh(s,i,p,o,g,a,l),v=(yield X(p,b,l,t))[g.route.id];if(R.get(t)===f&&R.delete(t),!p.signal.aborted){if(!V.has(t))return am(v)?F>x?void ee(t,mm(void 0)):(B.add(t),void(yield K(p,v,!1,{preventScrollReset:u}))):void(nm(v)?te(t,r,v.error):ee(t,mm(v.data)));ee(t,mm(void 0))}})}(t,r,x,p,y,g.active,u,w,b))})},revalidate:function(){q||(q=function(){let e,t,r=new Promise((n,a)=>{e=e=>h(this,null,function*(){n(e);try{yield r}catch(xJ){}}),t=e=>h(this,null,function*(){a(e);try{yield r}catch(xJ){}})});return{promise:r,resolve:e,reject:t}}()),J(),H({revalidation:"loading"});let e=q.promise;return"submitting"===E.navigation.state?e:"idle"===E.navigation.state?(G(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),e):(G(T||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:!0===A}),e)},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:re,deleteFetcher:function(e){let t=(z.get(e)||0)-1;t<=0?(z.delete(e),V.add(e)):z.set(e,t),H({fetchers:new Map(E.fetchers)})},dispose:function(){g&&g(),P&&P(),x.clear(),k&&k.abort(),E.fetchers.forEach((e,t)=>ne(t)),E.blockers.forEach((e,t)=>le(t))},getBlocker:function(e,t){let r=E.blockers.get(e)||xh;return W.get(e)!==t&&W.set(e,t),r},deleteBlocker:le,patchRoutes:function(e,t,r=!1){let a=null==n;_h(e,t,n||o,i,s,r),a&&(o=[...o],H({}))},_internalFetchControllers:R,_internalSetRoutes:function(e){i={},n=Ru(e,s,void 0,i)},_internalSetStateDoNotUseOrYouWillBreakYourApp(e){H(e)}},m}function Sh(e,t,r,n,a,s){let i,o;if(a){i=[];for(let e of t)if(i.push(e),e.route.id===a){o=e;break}}else i=t,o=t[t.length-1];let l=rh(n||".",th(i),Zu(e.pathname,r)||e.pathname,"path"===s);if(null==n&&(l.search=e.search,l.hash=e.hash),(null==n||""===n||"."===n)&&o){let e=lm(l.search);if(o.route.index&&!e)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&e){let e=new URLSearchParams(l.search),t=e.getAll("index");e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();l.search=r?`?${r}`:""}}return"/"!==r&&(l.pathname=function({basename:e,pathname:t}){return"/"===t?e:nh([e,t])}({basename:r,pathname:l.pathname})),_u(l)}function kh(e,t,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:t};if(r.formMethod&&(n=r.formMethod,!hh.has(n.toUpperCase())))return{path:t,error:Zh(405,{method:r.formMethod})};var n;let a,s,i=()=>({path:t,error:Zh(400,{type:"invalid-body"})}),o=(r.formMethod||"get").toUpperCase(),l=em(t);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!om(o))return i();let e="string"==typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((e,[t,r])=>`${e}${t}=${r}\n`,""):String(r.body);return{path:t,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!om(o))return i();try{let e="string"==typeof r.body?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(xJ){return i()}}}if(ku("function"==typeof FormData,"FormData is not available in this environment"),r.formData)a=qh(r.formData),s=r.formData;else if(r.body instanceof FormData)a=qh(r.body),s=r.body;else if(r.body instanceof URLSearchParams)a=r.body,s=Hh(a);else if(null==r.body)a=new URLSearchParams,s=new FormData;else try{a=new URLSearchParams(r.body),s=Hh(a)}catch(xJ){return i()}let c={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(om(c.formMethod))return{path:t,submission:c};let d=Au(t);return e&&d.search&&lm(d.search)&&a.append("index",""),d.search=`?${a}`,{path:_u(d),submission:c}}function Ch(e,t,r,n,a,s,i,o,d,u,h,m,f,p,g,x,b,v,y,w){var j;let N,S=w?nm(w[1])?w[1].error:w[1].data:void 0,k=a.createURL(s.location),C=a.createURL(d);if(h&&s.errors){let e=Object.keys(s.errors)[0];N=i.findIndex(t=>t.route.id===e)}else if(w&&nm(w[1])){let e=w[0];N=i.findIndex(t=>t.route.id===e)-1}let E=w?w[1].statusCode:void 0,T=E&&E>=400,_=c(l({currentUrl:k,currentParams:(null==(j=s.matches[0])?void 0:j.params)||{},nextUrl:C,nextParams:i[0].params},o),{actionResult:S,actionStatus:E}),A=i.map((a,i)=>{let{route:o}=a,d=null;if(null!=N&&i>N?d=!1:o.lazy?d=!0:null==o.loader?d=!1:h?d=Eh(o,s.loaderData,s.errors):function(e,t,r){let n=!t||r.route.id!==t.route.id,a=!e.hasOwnProperty(r.route.id);return n||a}(s.loaderData,s.matches[i],a)&&(d=!0),null!==d)return $h(r,n,e,a,u,t,d);let f=!T&&(m||k.pathname+k.search===C.pathname+C.search||k.search!==C.search||function(e,t){let r=e.route.path;return e.pathname!==t.pathname||null!=r&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}(s.matches[i],a)),p=c(l({},_),{defaultShouldRevalidate:f}),g=Th(a,p);return $h(r,n,e,a,u,t,g,p)}),I=[];return g.forEach((e,o)=>{if(h||!i.some(t=>t.route.id===e.routeId)||p.has(o))return;let d=s.fetchers.get(o),g=d&&"idle"!==d.state&&void 0===d.data,w=Mu(b,e.path,v);if(!w){if(y&&g)return;return void I.push({key:o,routeId:e.routeId,path:e.path,matches:null,match:null,request:null,controller:null})}if(x.has(o))return;let j=cm(w,e.path),N=new AbortController,S=Wh(a,e.path,N.signal),k=null;if(f.has(o))f.delete(o),k=Bh(r,n,S,w,j,u,t);else if(g)m&&(k=Bh(r,n,S,w,j,u,t));else{let e=c(l({},_),{defaultShouldRevalidate:!T&&m});Th(j,e)&&(k=Bh(r,n,S,w,j,u,t,e))}k&&I.push({key:o,routeId:e.routeId,path:e.path,matches:k,match:j,request:S,controller:N})}),{dsMatches:A,revalidatingFetchers:I}}function Eh(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=null!=t&&e.id in t,a=null!=r&&void 0!==r[e.id];return!(!n&&a)&&("function"==typeof e.loader&&!0===e.loader.hydrate||!n&&!a)}function Th(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if("boolean"==typeof r)return r}return t.defaultShouldRevalidate}function _h(e,t,r,n,a,s){let i;if(e){let t=n[e];ku(t,`No route found to patch children into: routeId = ${e}`),t.children||(t.children=[]),i=t.children}else i=r;let o=[],l=[];if(t.forEach(e=>{let t=i.find(t=>Ah(e,t));t?l.push({existingRoute:t,newRoute:e}):o.push(e)}),o.length>0){let t=Ru(o,a,[e||"_","patch",String((null==i?void 0:i.length)||"0")],n);i.push(...t)}if(s&&l.length>0)for(let c=0;c<l.length;c++){let{existingRoute:e,newRoute:t}=l[c],r=e,[n]=Ru([t],a,[],{},!0);Object.assign(r,{element:n.element?n.element:r.element,errorElement:n.errorElement?n.errorElement:r.errorElement,hydrateFallbackElement:n.hydrateFallbackElement?n.hydrateFallbackElement:r.hydrateFallbackElement})}}function Ah(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every((e,r)=>{var n;return null==(n=t.children)?void 0:n.some(t=>Ah(e,t))}))}var Ih=new WeakMap,Ph=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let a=r[t.id];if(ku(a,"No route found in manifest"),!a.lazy||"object"!=typeof a.lazy)return;let s=a.lazy[e];if(!s)return;let i=Ih.get(a);i||(i={},Ih.set(a,i));let o=i[e];if(o)return o;let l=h(void 0,null,function*(){let t=function(e){return Du.has(e)}(e),r=void 0!==a[e]&&"hasErrorBoundary"!==e;if(t)Cu(!t,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),i[e]=Promise.resolve();else if(r)Cu(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let t=yield s();null!=t&&(Object.assign(a,{[e]:t}),Object.assign(a,n(a)))}"object"==typeof a.lazy&&(a.lazy[e]=void 0,Object.values(a.lazy).every(e=>void 0===e)&&(a.lazy=void 0))});return i[e]=l,l},Dh=new WeakMap;function Oh(e){return h(this,null,function*(){let t=e.matches.filter(e=>e.shouldLoad),r={};return(yield Promise.all(t.map(e=>e.resolve()))).forEach((e,n)=>{r[t[n].route.id]=e}),r})}function Lh(e){return h(this,null,function*(){return e.matches.some(e=>e.route.unstable_middleware)?Rh(e,()=>Oh(e)):Oh(e)})}function Rh(e,t){return function(e,t,r,n,a){return h(this,null,function*(){let{matches:s,request:i,params:o,context:l}=e,c=s.flatMap(e=>e.route.unstable_middleware?e.route.unstable_middleware.map(t=>[e.route.id,t]):[]);return yield Mh({request:i,params:o,context:l},c,t,r,n,a)})}(e,t,e=>e,tm,function(t,r,n){if(n)return Promise.resolve(Object.assign(n.value,{[r]:{type:"error",result:t}}));{let{matches:n}=e,a=Math.min(n.findIndex(e=>e.route.id===r)||0,n.findIndex(e=>e.unstable_shouldCallHandler())||0),s=Kh(n,n[a].route.id).route.id;return Promise.resolve({[s]:{type:"error",result:t}})}})}function Mh(e,t,r,n,a,s,i=0){return h(this,null,function*(){var o;let{request:l}=e;if(l.signal.aborted)throw null!=(o=l.signal.reason)?o:new Error(`Request aborted: ${l.method} ${l.url}`);let c=t[i];if(!c){return yield r()}let d,[u,m]=c,f=()=>h(this,null,function*(){if(d)throw new Error("You may only call `next()` once per middleware");try{let o=yield Mh(e,t,r,n,a,s,i+1);return d={value:o},d.value}catch(o){return d={value:yield s(o,u,d)},d.value}});try{let t=yield m(e,f),r=null!=t?n(t):void 0;return a(r)?r:d?null!=r?r:d.value:(d={value:yield f()},d.value)}catch(p){return yield s(p,u,d)}})}function Fh(e,t,r,n,a){let s=Ph({key:"unstable_middleware",route:n.route,manifest:t,mapRouteProperties:e}),i=function(e,t,r,n,a){let s=r[e.id];if(ku(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if("function"==typeof e.lazy){let t=Dh.get(s);if(t)return{lazyRoutePromise:t,lazyHandlerPromise:t};let r=(()=>h(this,null,function*(){ku("function"==typeof e.lazy,"No lazy route function found");let t=yield e.lazy(),r={};for(let e in t){let n=t[e];if(void 0===n)continue;let a=Lu(e),i=void 0!==s[e]&&"hasErrorBoundary"!==e;a?Cu(!a,"Route property "+e+" is not a supported property to be returned from a lazy route function. This property will be ignored."):i?Cu(!i,`Route "${s.id}" has a static property "${e}" defined but its lazy function is also returning a value for this property. The lazy route property "${e}" will be ignored.`):r[e]=n}Object.assign(s,r),Object.assign(s,c(l({},n(s)),{lazy:void 0}))}))();return Dh.set(s,r),r.catch(()=>{}),{lazyRoutePromise:r,lazyHandlerPromise:r}}let i,o=Object.keys(e.lazy),d=[];for(let l of o){if(a&&a.includes(l))continue;let s=Ph({key:l,route:e,manifest:r,mapRouteProperties:n});s&&(d.push(s),l===t&&(i=s))}let u=d.length>0?Promise.all(d).then(()=>{}):void 0;return null==u||u.catch(()=>{}),null==i||i.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:i}}(n.route,om(r.method)?"action":"loader",t,e,a);return{middleware:s,route:i.lazyRoutePromise,handler:i.lazyHandlerPromise}}function $h(e,t,r,n,a,s,i,o=null){let d=!1,u=Fh(e,t,r,n,a);return c(l({},n),{_lazyPromises:u,shouldLoad:i,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:e=>(d=!0,o?Th(n,"boolean"==typeof e?c(l({},o),{defaultShouldRevalidate:e}):o):i),resolve:e=>d||i||e&&!om(r.method)&&(n.route.lazy||n.route.loader)?function(e){return h(this,arguments,function*({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:a,scopedContext:s}){let i,o,l=om(e.method),c=l?"action":"loader",d=r=>{let n,i=new Promise((e,t)=>n=t);o=()=>n(),e.signal.addEventListener("abort",o);let l=n=>"function"!=typeof r?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):r({request:e,params:t.params,context:s},...void 0!==n?[n]:[]),d=(()=>h(this,null,function*(){try{return{type:"data",result:yield a?a(e=>l(e)):l()}}catch(xJ){return{type:"error",result:xJ}}}))();return Promise.race([d,i])};try{let a=l?t.route.action:t.route.loader;if(r||n)if(a){let e,[t]=yield Promise.all([d(a).catch(t=>{e=t}),r,n]);if(void 0!==e)throw e;i=t}else{yield r;let a=l?t.route.action:t.route.loader;if(!a){if("action"===c){let r=new URL(e.url),n=r.pathname+r.search;throw Zh(405,{method:e.method,pathname:n,routeId:t.route.id})}return{type:"data",result:void 0}}[i]=yield Promise.all([d(a),n])}else{if(!a){let t=new URL(e.url);throw Zh(404,{pathname:t.pathname+t.search})}i=yield d(a)}}catch(xJ){return{type:"error",result:xJ}}finally{o&&e.signal.removeEventListener("abort",o)}return i})}({request:r,match:n,lazyHandlerPromise:null==u?void 0:u.handler,lazyRoutePromise:null==u?void 0:u.route,handlerOverride:e,scopedContext:s}):Promise.resolve({type:"data",result:void 0})})}function Bh(e,t,r,n,a,s,i,o=null){return n.map(n=>n.route.id!==a.route.id?c(l({},n),{shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:Fh(e,t,r,n,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}):$h(e,t,r,n,s,i,!0,o))}function Uh(e){return h(this,null,function*(){var t,r,n,a,s,i;let{result:o,type:l}=e;if(im(o)){let e;try{e=yield function(e){return h(this,null,function*(){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?null==e.body?null:e.json():e.text()})}(o)}catch(xJ){return{type:"error",error:xJ}}return"error"===l?{type:"error",error:new oh(o.status,o.statusText,e),statusCode:o.status,headers:o.headers}:{type:"data",data:e,statusCode:o.status,headers:o.headers}}return"error"===l?sm(o)?o.data instanceof Error?{type:"error",error:o.data,statusCode:null==(t=o.init)?void 0:t.status,headers:(null==(r=o.init)?void 0:r.headers)?new Headers(o.init.headers):void 0}:{type:"error",error:new oh((null==(n=o.init)?void 0:n.status)||500,void 0,o.data),statusCode:lh(o)?o.status:void 0,headers:(null==(a=o.init)?void 0:a.headers)?new Headers(o.init.headers):void 0}:{type:"error",error:o,statusCode:lh(o)?o.status:void 0}:sm(o)?{type:"data",data:o.data,statusCode:null==(s=o.init)?void 0:s.status,headers:(null==(i=o.init)?void 0:i.headers)?new Headers(o.init.headers):void 0}:{type:"data",data:o}})}function zh(e,t,r,n,a){let s=e.headers.get("Location");if(ku(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!vh(s)){let i=n.slice(0,n.findIndex(e=>e.route.id===r)+1);s=Sh(new URL(t.url),i,a,s),e.headers.set("Location",s)}return e}function Vh(e,t,r){if(vh(e)){let n=e,a=n.startsWith("//")?new URL(t.protocol+n):new URL(n),s=null!=Zu(a.pathname,r);if(a.origin===t.origin&&s)return a.pathname+a.search+a.hash}return e}function Wh(e,t,r,n){let a=e.createURL(em(t)).toString(),s={signal:r};if(n&&om(n.formMethod)){let{formMethod:e,formEncType:t}=n;s.method=e.toUpperCase(),"application/json"===t?(s.headers=new Headers({"Content-Type":t}),s.body=JSON.stringify(n.json)):"text/plain"===t?s.body=n.text:"application/x-www-form-urlencoded"===t&&n.formData?s.body=qh(n.formData):s.body=n.formData}return new Request(a,s)}function qh(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,"string"==typeof n?n:n.name);return t}function Hh(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Qh(e,t,r,n,a,s){let{loaderData:i,errors:o}=function(e,t,r,n=!1,a=!1){let s,i={},o=null,l=!1,c={},d=r&&nm(r[1])?r[1].error:void 0;return e.forEach(r=>{if(!(r.route.id in t))return;let u=r.route.id,h=t[u];if(ku(!am(h),"Cannot handle redirect results in processLoaderData"),nm(h)){let t=h.error;if(void 0!==d&&(t=d,d=void 0),o=o||{},a)o[u]=t;else{let r=Kh(e,u);null==o[r.route.id]&&(o[r.route.id]=t)}n||(i[u]=jh),l||(l=!0,s=lh(h.error)?h.error.status:500),h.headers&&(c[u]=h.headers)}else i[u]=h.data,h.statusCode&&200!==h.statusCode&&!l&&(s=h.statusCode),h.headers&&(c[u]=h.headers)}),void 0!==d&&r&&(o={[r[0]]:d},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:o,statusCode:s||200,loaderHeaders:c}}(t,r,n);return a.filter(e=>!e.matches||e.matches.some(e=>e.shouldLoad)).forEach(t=>{let{key:r,match:n,controller:a}=t;if(a&&a.signal.aborted)return;let i=s[r];if(ku(i,"Did not find corresponding fetcher result"),nm(i)){let t=Kh(e.matches,null==n?void 0:n.route.id);o&&o[t.route.id]||(o=c(l({},o),{[t.route.id]:i.error})),e.fetchers.delete(r)}else if(am(i))ku(!1,"Unhandled fetcher revalidation redirect");else{let t=mm(i.data);e.fetchers.set(r,t)}}),{loaderData:i,errors:o}}function Gh(e,t,r,n){let a=Object.entries(t).filter(([,e])=>e!==jh).reduce((e,[t,r])=>(e[t]=r,e),{});for(let s of r){let r=s.route.id;if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&s.route.loader&&(a[r]=e[r]),n&&n.hasOwnProperty(r))break}return a}function Yh(e){return e?nm(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Kh(e,t){return(t?e.slice(0,e.findIndex(e=>e.route.id===t)+1):[...e]).reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function Xh(e){let t=1===e.length?e[0]:e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Zh(e,{pathname:t,routeId:r,method:n,type:a,message:s}={}){let i="Unknown Server Error",o="Unknown @remix-run/router error";return 400===e?(i="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:"invalid-body"===a&&(o="Unable to encode submission body")):403===e?(i="Forbidden",o=`Route "${r}" does not match URL "${t}"`):404===e?(i="Not Found",o=`No route matches URL "${t}"`):405===e&&(i="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new oh(e||500,i,new Error(o),!0)}function Jh(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[e,n]=t[r];if(am(n))return{key:e,result:n}}}function em(e){let t="string"==typeof e?Au(e):e;return _u(c(l({},t),{hash:""}))}function tm(e){return null!=e&&"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&function(e){return null!=e&&"object"==typeof e&&"type"in e&&"result"in e&&("data"===e.type||"error"===e.type)}(t))}function rm(e){return im(e.result)&&mh.has(e.result.status)}function nm(e){return"error"===e.type}function am(e){return"redirect"===(e&&e.type)}function sm(e){return"object"==typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function im(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}function om(e){return dh.has(e.toUpperCase())}function lm(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function cm(e,t){let r="string"==typeof t?Au(t).search:t.search;if(e[e.length-1].route.index&&lm(r||""))return e[e.length-1];let n=eh(e);return n[n.length-1]}function dm(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:s,json:i}=e;if(t&&r&&n)return null!=a?{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a}:null!=s?{formMethod:t,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0}:void 0!==i?{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:i,text:void 0}:void 0}function um(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function hm(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function mm(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}var fm=ee.createContext(null);fm.displayName="DataRouter";var pm=ee.createContext(null);pm.displayName="DataRouterState",ee.createContext(!1);var gm=ee.createContext({isTransitioning:!1});gm.displayName="ViewTransition";var xm=ee.createContext(new Map);xm.displayName="Fetchers",ee.createContext(null).displayName="Await";var bm=ee.createContext(null);bm.displayName="Navigation";var vm=ee.createContext(null);vm.displayName="Location";var ym=ee.createContext({outlet:null,matches:[],isDataRoute:!1});ym.displayName="Route";var wm=ee.createContext(null);function jm(){return null!=ee.useContext(vm)}function Nm(){return ku(jm(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(vm).location}wm.displayName="RouteError";var Sm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function km(e){ee.useContext(bm).static||ee.useLayoutEffect(e)}function Cm(){let{isDataRoute:e}=ee.useContext(ym);return e?function(){let{router:e}=function(e){let t=ee.useContext(fm);return ku(t,Dm(e)),t}("useNavigate"),t=Om("useNavigate"),r=ee.useRef(!1);return km(()=>{r.current=!0}),ee.useCallback((n,...a)=>h(this,[n,...a],function*(n,a={}){Cu(r.current,Sm),r.current&&("number"==typeof n?e.navigate(n):yield e.navigate(n,l({fromRouteId:t},a)))}),[e,t])}():function(){ku(jm(),"useNavigate() may be used only in the context of a <Router> component.");let e=ee.useContext(fm),{basename:t,navigator:r}=ee.useContext(bm),{matches:n}=ee.useContext(ym),{pathname:a}=Nm(),s=JSON.stringify(th(n)),i=ee.useRef(!1);return km(()=>{i.current=!0}),ee.useCallback((n,o={})=>{if(Cu(i.current,Sm),!i.current)return;if("number"==typeof n)return void r.go(n);let l=rh(n,JSON.parse(s),a,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:nh([t,l.pathname])),(o.replace?r.replace:r.push)(l,o.state,o)},[t,r,s,a,e])}()}function Em(e,{relative:t}={}){let{matches:r}=ee.useContext(ym),{pathname:n}=Nm(),a=JSON.stringify(th(r));return ee.useMemo(()=>rh(e,JSON.parse(a),n,"path"===t),[e,a,n,t])}function Tm(e,t,r,n,a){ku(jm(),"useRoutes() may be used only in the context of a <Router> component.");let s,{navigator:i}=ee.useContext(bm),{matches:o}=ee.useContext(ym),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";Rm(d,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}s=Nm();let m=s.pathname||"/",f=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let p=Mu(e,{pathname:f});Cu(h||null!=p,`No routes matched location "${s.pathname}${s.search}${s.hash}" `),Cu(null==p||void 0!==p[p.length-1].route.element||void 0!==p[p.length-1].route.Component||void 0!==p[p.length-1].route.lazy,`Matched leaf route at location "${s.pathname}${s.search}${s.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=function(e,t=[],r=null,n=null){if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let a=e,s=null==r?void 0:r.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id]));ku(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let i=!1,o=-1;if(r)for(let l=0;l<a.length;l++){let e=a[l];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=l),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){i=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}return a.reduceRight((e,l,c)=>{let d,u=!1,h=null,m=null;r&&(d=s&&l.route.id?s[l.route.id]:void 0,h=l.route.errorElement||Am,i&&(o<0&&0===c?(Rm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,m=null):o===c&&(u=!0,m=l.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,c+1)),p=()=>{let t;return t=d?h:u?m:l.route.Component?ee.createElement(l.route.Component,null):l.route.element?l.route.element:e,ee.createElement(Pm,{match:l,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:t})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?ee.createElement(Im,{location:r.location,revalidation:r.revalidation,component:h,error:d,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0},unstable_onError:n}):p()},null)}(p&&p.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:nh([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:nh([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,n,a);return g}function _m(){let e=function(){var e;let t=ee.useContext(wm),r=function(e){let t=ee.useContext(pm);return ku(t,Dm(e)),t}("useRouteError"),n=Om("useRouteError");if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=lh(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=ee.createElement(ee.Fragment,null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:s},"ErrorBoundary")," or"," ",ee.createElement("code",{style:s},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},t),r?ee.createElement("pre",{style:a},r):null,i)}ee.createContext(null);var Am=ee.createElement(_m,null),Im=class extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?ee.createElement(ym.Provider,{value:this.props.routeContext},ee.createElement(wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Pm({routeContext:e,match:t,children:r}){let n=ee.useContext(fm);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),ee.createElement(ym.Provider,{value:e},r)}function Dm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Om(e){let t=function(e){let t=ee.useContext(ym);return ku(t,Dm(e)),t}(e),r=t.matches[t.matches.length-1];return ku(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}var Lm={};function Rm(e,t,r){t||Lm[e]||(Lm[e]=!0,Cu(!1,r))}var Mm={};function Fm(e,t){e||Mm[t]||(Mm[t]=!0,console.warn(t))}function $m(e){let t={hasErrorBoundary:e.hasErrorBoundary||null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&(e.element&&Cu(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:ee.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Cu(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:ee.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Cu(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:ee.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Bm=["HydrateFallback","hydrateFallbackElement"],Um=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}})}};function zm({router:e,flushSync:t,unstable_onError:r}){let[n,a]=ee.useState(e.state),[s,i]=ee.useState(),[o,l]=ee.useState({isTransitioning:!1}),[c,d]=ee.useState(),[u,m]=ee.useState(),[f,p]=ee.useState(),g=ee.useRef(new Map),x=ee.useCallback(e=>{a(t=>(e.errors&&r&&Object.entries(e.errors).forEach(([e,n])=>{var a;(null==(a=t.errors)?void 0:a[e])!==n&&r(n)}),e))},[r]),b=ee.useCallback((r,{deletedFetchers:n,flushSync:a,viewTransitionOpts:s})=>{r.fetchers.forEach((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)}),n.forEach(e=>g.current.delete(e)),Fm(!1===a||null!=t,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let o=null!=e.window&&null!=e.window.document&&"function"==typeof e.window.document.startViewTransition;if(Fm(null==s||o,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),s&&o){if(t&&a){t(()=>{u&&(c&&c.resolve(),u.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:s.currentLocation,nextLocation:s.nextLocation})});let n=e.window.document.startViewTransition(()=>{t(()=>x(r))});return n.finished.finally(()=>{t(()=>{d(void 0),m(void 0),i(void 0),l({isTransitioning:!1})})}),void t(()=>m(n))}u?(c&&c.resolve(),u.skipTransition(),p({state:r,currentLocation:s.currentLocation,nextLocation:s.nextLocation})):(i(r),l({isTransitioning:!0,flushSync:!1,currentLocation:s.currentLocation,nextLocation:s.nextLocation}))}else t&&a?t(()=>x(r)):ee.startTransition(()=>x(r))},[e.window,t,u,c,x]);ee.useLayoutEffect(()=>e.subscribe(b),[e,b]),ee.useEffect(()=>{o.isTransitioning&&!o.flushSync&&d(new Um)},[o]),ee.useEffect(()=>{if(c&&s&&e.window){let t=s,r=c.promise,n=e.window.document.startViewTransition(()=>h(this,null,function*(){ee.startTransition(()=>x(t)),yield r}));n.finished.finally(()=>{d(void 0),m(void 0),i(void 0),l({isTransitioning:!1})}),m(n)}},[s,c,e.window,x]),ee.useEffect(()=>{c&&s&&n.location.key===s.location.key&&c.resolve()},[c,u,n.location,s]),ee.useEffect(()=>{!o.isTransitioning&&f&&(i(f.state),l({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),p(void 0))},[o.isTransitioning,f]);let v=ee.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:t=>e.navigate(t),push:(t,r,n)=>e.navigate(t,{state:r,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(t,r,n)=>e.navigate(t,{replace:!0,state:r,preventScrollReset:null==n?void 0:n.preventScrollReset})}),[e]),y=e.basename||"/",w=ee.useMemo(()=>({router:e,navigator:v,static:!1,basename:y,unstable_onError:r}),[e,v,y,r]);return ee.createElement(ee.Fragment,null,ee.createElement(fm.Provider,{value:w},ee.createElement(pm.Provider,{value:n},ee.createElement(xm.Provider,{value:g.current},ee.createElement(gm.Provider,{value:o},ee.createElement(qm,{basename:y,location:n.location,navigationType:n.historyAction,navigator:v},ee.createElement(Vm,{routes:e.routes,future:e.future,state:n,unstable_onError:r})))))),null)}var Vm=ee.memo(function({routes:e,future:t,state:r,unstable_onError:n}){return Tm(e,0,r,n,t)});function Wm({to:e,replace:t,state:r,relative:n}){ku(jm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=ee.useContext(bm);Cu(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=ee.useContext(ym),{pathname:i}=Nm(),o=Cm(),l=rh(e,th(s),i,"path"===n),c=JSON.stringify(l);return ee.useEffect(()=>{o(JSON.parse(c),{replace:t,state:r,relative:n})},[o,c,n,t,r]),null}function qm({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){ku(!jm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),o=ee.useMemo(()=>({basename:i,navigator:a,static:s,future:{}}),[i,a,s]);"string"==typeof r&&(r=Au(r));let{pathname:l="/",search:c="",hash:d="",state:u=null,key:h="default"}=r,m=ee.useMemo(()=>{let e=Zu(l,i);return null==e?null:{location:{pathname:e,search:c,hash:d,state:u,key:h},navigationType:n}},[i,l,c,d,u,h,n]);return Cu(null!=m,`<Router basename="${i}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==m?null:ee.createElement(bm.Provider,{value:o},ee.createElement(vm.Provider,{children:t,value:m}))}var Hm="get",Qm="application/x-www-form-urlencoded";function Gm(e){return null!=e&&"string"==typeof e.tagName}var Ym=null;var Km=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(e){return null==e||Km.has(e)?e:(Cu(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qm}"`),null)}function Zm(e,t){let r,n,a,s,i;if(Gm(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");n=i?Zu(i,t):null,r=e.getAttribute("method")||Hm,a=Xm(e.getAttribute("enctype"))||Qm,s=new FormData(e)}else if(function(e){return Gm(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Gm(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(n=o?Zu(o,t):null,r=e.getAttribute("formmethod")||i.getAttribute("method")||Hm,a=Xm(e.getAttribute("formenctype"))||Xm(i.getAttribute("enctype"))||Qm,s=new FormData(i,e),!function(){if(null===Ym)try{new FormData(document.createElement("form"),0),Ym=!1}catch(xJ){Ym=!0}return Ym}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,n)}}else{if(Gm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Hm,n=null,a=Qm,i=e}var o;return s&&"text/plain"===a&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:i}}function Jm(e,t){if(!1===e||null==e)throw new Error(t)}function ef(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function tf(e,t,r){return h(this,null,function*(){return function(e,t){let r=new Set;return new Set(t),e.reduce((e,t)=>{let n=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(t));return r.has(n)||(r.add(n),e.push({key:n,link:t})),e},[])}((yield Promise.all(e.map(e=>h(this,null,function*(){let n=t.routes[e.route.id];if(n){let e=yield function(e,t){return h(this,null,function*(){if(e.id in t)return t[e.id];try{let r=yield import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}(n,r);return e.links?e.links():[]}return[]})))).flat(1).filter(ef).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(l({},e),{rel:"prefetch",as:"style"}):c(l({},e),{rel:"prefetch"})))})}function rf(e,t,r,n,a,s){let i=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>{var n;return r[t].pathname!==e.pathname||(null==(n=r[t].route.path)?void 0:n.endsWith("*"))&&r[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{var l;let c=n.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null==(l=r[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof n)return n}return!0}):[]}function nf(e,t,{includeHydrateFallback:r}={}){return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a}).flat(1),[...new Set(n)];var n}function af(){let e=ee.useContext(fm);return Jm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sf=ee.createContext(void 0);function of(){let e=ee.useContext(sf);return Jm(e,"You must render this element inside a <HydratedRouter> element"),e}function lf(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function cf(e){var t=e,{page:r}=t,n=d(t,["page"]);let{router:a}=af(),s=ee.useMemo(()=>Mu(a.routes,r,a.basename),[a.routes,r,a.basename]);return s?ee.createElement(df,l({page:r,matches:s},n)):null}function df(e){var t=e,{page:r,matches:n}=t,a=d(t,["page","matches"]);let s=Nm(),{manifest:i,routeModules:o}=of(),{basename:c}=af(),{loaderData:u,matches:h}=function(){let e=ee.useContext(pm);return Jm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),m=ee.useMemo(()=>rf(r,n,h,i,s,"data"),[r,n,h,i,s]),f=ee.useMemo(()=>rf(r,n,h,i,s,"assets"),[r,n,h,i,s]),p=ee.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(n.forEach(r=>{var n;let a=i.routes[r.route.id];a&&a.hasLoader&&(!m.some(e=>e.route.id===r.route.id)&&r.route.id in u&&(null==(n=o[r.route.id])?void 0:n.shouldRevalidate)||a.hasClientLoader?t=!0:e.add(r.route.id))}),0===e.size)return[];let a=function(e,t,r){let n="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname=`_root.${r}`:t&&"/"===Zu(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}(r,c,"data");return t&&e.size>0&&a.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[c,u,s,i,m,n,r,o]),g=ee.useMemo(()=>nf(f,i),[f,i]),x=function(e){let{manifest:t,routeModules:r}=of(),[n,a]=ee.useState([]);return ee.useEffect(()=>{let n=!1;return tf(e,t,r).then(e=>{n||a(e)}),()=>{n=!0}},[e,t,r]),n}(f);return ee.createElement(ee.Fragment,null,p.map(e=>ee.createElement("link",l({key:e,rel:"prefetch",as:"fetch",href:e},a))),g.map(e=>ee.createElement("link",l({key:e,rel:"modulepreload",href:e},a))),x.map(({key:e,link:t})=>ee.createElement("link",l({key:e,nonce:a.nonce},t))))}function uf(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}sf.displayName="FrameworkContext";var hf="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{hf&&(window.__reactRouterVersion="7.8.2")}catch(xJ){}function mf(){let e=null==window?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=c(l({},e),{errors:ff(e.errors)})),e}function ff(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&"RouteErrorResponse"===a.__type)r[n]=new oh(a.status,a.statusText,a.data,!0===a.internal);else if(a&&"Error"===a.__type){if(a.__subType){let e=window[a.__subType];if("function"==typeof e)try{let t=new e(a.message);t.stack="",r[n]=t}catch(xJ){}}if(null==r[n]){let e=new Error(a.message);e.stack="",r[n]=e}}else r[n]=a;return r}var pf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gf=ee.forwardRef(function(e,t){var r=e,{onClick:n,discover:a="render",prefetch:s="none",relative:i,reloadDocument:o,replace:u,state:h,target:m,to:f,preventScrollReset:p,viewTransition:g}=r,x=d(r,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let b,{basename:v}=ee.useContext(bm),y="string"==typeof f&&pf.test(f),w=!1;if("string"==typeof f&&y&&(b=f,hf))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),r=Zu(t.pathname,v);t.origin===e.origin&&null!=r?f=r+t.search+t.hash:w=!0}catch(xJ){Cu(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=function(e,{relative:t}={}){ku(jm(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=ee.useContext(bm),{hash:a,pathname:s,search:i}=Em(e,{relative:t}),o=s;return"/"!==r&&(o="/"===s?r:nh([r,s])),n.createHref({pathname:o,search:i,hash:a})}(f,{relative:i}),[N,S,k]=function(e,t){let r=ee.useContext(sf),[n,a]=ee.useState(!1),[s,i]=ee.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:u}=t,h=ee.useRef(null);ee.useEffect(()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),ee.useEffect(()=>{if(n){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[n]);let m=()=>{a(!0)},f=()=>{a(!1),i(!1)};return r?"intent"!==e?[s,h,{}]:[s,h,{onFocus:lf(o,m),onBlur:lf(l,f),onMouseEnter:lf(c,m),onMouseLeave:lf(d,f),onTouchStart:lf(u,m)}]:[!1,h,{}]}(s,x),C=function(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:i}={}){let o=Cm(),l=Nm(),c=Em(e,{relative:s});return ee.useCallback(d=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(d,t)){d.preventDefault();let t=void 0!==r?r:_u(l)===_u(c);o(e,{replace:t,state:n,preventScrollReset:a,relative:s,viewTransition:i})}},[l,o,c,r,n,t,e,a,s,i])}(f,{replace:u,state:h,target:m,preventScrollReset:p,relative:i,viewTransition:g});let E=ee.createElement("a",c(l(l({},x),k),{href:b||j,onClick:w||o?n:function(e){n&&n(e),e.defaultPrevented||C(e)},ref:uf(t,S),target:m,"data-discover":y||"render"!==a?void 0:"true"}));return N&&!y?ee.createElement(ee.Fragment,null,E,ee.createElement(cf,{page:j})):E});function xf(e){let t=ee.useContext(fm);return ku(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}gf.displayName="Link",ee.forwardRef(function(e,t){var r=e,{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:i=!1,style:o,to:u,viewTransition:h,children:m}=r,f=d(r,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let p=Em(u,{relative:f.relative}),g=Nm(),x=ee.useContext(pm),{navigator:b,basename:v}=ee.useContext(bm),y=null!=x&&function(e,{relative:t}={}){let r=ee.useContext(gm);ku(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=xf("useViewTransitionState"),a=Em(e,{relative:t});if(!r.isTransitioning)return!1;let s=Zu(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Zu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return null!=Ku(a.pathname,i)||null!=Ku(a.pathname,s)}(p)&&!0===h,w=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,j=g.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;a||(j=j.toLowerCase(),N=N?N.toLowerCase():null,w=w.toLowerCase()),N&&v&&(N=Zu(N,v)||N);const S="/"!==w&&w.endsWith("/")?w.length-1:w.length;let k,C=j===w||!i&&j.startsWith(w)&&"/"===j.charAt(S),E=null!=N&&(N===w||!i&&N.startsWith(w)&&"/"===N.charAt(w.length)),T={isActive:C,isPending:E,isTransitioning:y},_=C?n:void 0;k="function"==typeof s?s(T):[s,C?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let A="function"==typeof o?o(T):o;return ee.createElement(gf,c(l({},f),{"aria-current":_,className:k,ref:t,style:A,to:u,viewTransition:h}),"function"==typeof m?m(T):m)}).displayName="NavLink",ee.forwardRef((e,t)=>{var r=e,{discover:n="render",fetcherKey:a,navigate:s,reloadDocument:i,replace:o,state:u,method:m=Hm,action:f,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:b}=r,v=d(r,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let y=function(){let{router:e}=xf("useSubmit"),{basename:t}=ee.useContext(bm),r=Om("useRouteId");return ee.useCallback((n,...a)=>h(this,[n,...a],function*(n,a={}){let{action:s,method:i,encType:o,formData:l,body:c}=Zm(n,t);if(!1===a.navigate){let t=a.fetcherKey||vf();yield e.fetch(t,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,flushSync:a.flushSync})}else yield e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,r])}(),w=function(e,{relative:t}={}){let{basename:r}=ee.useContext(bm),n=ee.useContext(ym);ku(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s=l({},Em(e||".",{relative:t})),i=Nm();if(null==e){s.search=i.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();s.search=r?`?${r}`:""}}e&&"."!==e||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:nh([r,s.pathname]));return _u(s)}(f,{relative:g}),j="get"===m.toLowerCase()?"get":"post",N="string"==typeof f&&pf.test(f);return ee.createElement("form",c(l({ref:t,method:j,action:w,onSubmit:i?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null==t?void 0:t.getAttribute("formmethod"))||m;y(t||e.currentTarget,{fetcherKey:a,method:r,navigate:s,replace:o,state:u,relative:g,preventScrollReset:x,viewTransition:b})}},v),{"data-discover":N||"render"!==n?void 0:"true"}))}).displayName="Form";var bf=0,vf=()=>`__${String(++bf)}__`;function yf(e){return ee.createElement(zm,l({flushSync:bu.flushSync},e))}const wf="http://tnhkdds-app01:8021",jf="/api",Nf="8021",Sf=!0,kf=!1,Cf="production";function Ef(e){return function(e){const t=e.startsWith(jf)?e:`${jf}${e}`;return`${wf}${t}`}(`/${e.startsWith("/")?e.slice(1):e}`)}function Tf(e){if(!e)return"user";const t=String(e).toLowerCase().trim();return["admin","manager","user","viewer"].includes(t)?t:(console.warn(`Unknown role: ${e}, defaulting to user`),"user")}function _f(e){if(!e||"object"!=typeof e)return null;try{return{id:e.id,username:e.username,email:e.email,role:Tf(e.role),name:e.name,position:e.position,is_active:!1!==e.is_active,created_at:e.created_at,updated_at:e.updated_at}}catch(t){return console.error("Invalid user data structure:",t,e),null}}"undefined"!=typeof window&&console.log(" API Configuration:",{mode:Cf,baseUrl:wf,prefix:jf,backendPort:Nf,isProduction:Sf,isDevelopment:kf});class Af{constructor(e){u(this,"baseURL"),this.baseURL=e||Ef("auth")}request(e){return h(this,arguments,function*(e,t={}){const r=`${this.baseURL}${e}`,n=l({credentials:"include",headers:l({"Content-Type":"application/json"},t.headers)},t);try{const e=yield fetch(r,n),t=yield e.json();if(!e.ok)throw new Error(t.message||`HTTP ${e.status}: ${e.statusText}`);return t}catch(a){throw console.error(`API request failed: ${e}`,a),a}})}login(e){return h(this,null,function*(){const t=yield this.request("/login",{method:"POST",body:JSON.stringify(e)}),r=_f(t.user||t.data);if(!r)throw new Error("Invalid user data received from server");return r})}logout(){return h(this,null,function*(){yield this.request("/logout",{method:"POST"})})}getCurrentUser(){return h(this,null,function*(){try{const e=yield this.request("/me");return _f(e.user||e.data)}catch(e){if(e instanceof Error&&e.message.includes("401"))return null;throw e}})}refreshSession(){return h(this,null,function*(){try{const e=yield this.request("/refresh",{method:"POST"});return _f(e.user||e.data)}catch(e){return null}})}checkStatus(){return h(this,null,function*(){try{const e=yield this.request("/status");return e.success&&e.data?{isAuthenticated:e.data.authenticated||!1,user:e.data.user&&_f(e.data.user)||void 0}:{isAuthenticated:!1,user:void 0}}catch(e){return{isAuthenticated:!1,user:void 0}}})}forgotPassword(e,t){return h(this,null,function*(){try{return{success:!0,message:(yield this.request("/forgot-password",{method:"POST",body:JSON.stringify({username:e.trim(),email:t.trim().toLowerCase()})})).message||"Password reset email sent successfully"}}catch(r){throw new Error(r instanceof Error?r.message:"Failed to send reset email")}})}resetPassword(e,t){return h(this,null,function*(){try{return{success:!0,message:(yield this.request("/reset-password",{method:"POST",body:JSON.stringify({token:e,password:t})})).message||"Password reset successfully"}}catch(r){throw new Error(r instanceof Error?r.message:"Failed to reset password")}})}testConnection(){return h(this,null,function*(){try{const e=`${this.baseUrl}/status`;return(yield fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).status}catch(e){return console.error("Auth API test connection error:",e),0}})}}const If=ee.createContext(void 0),Pf=({children:e})=>{const[t,r]=ee.useState({user:null,isAuthenticated:!1,loading:!0,error:null}),n=new Af,a=ee.useCallback(e=>h(void 0,null,function*(){r(e=>c(l({},e),{loading:!0,error:null}));try{console.log(" Attempting login for:",e.username);const t=yield n.login(e);console.log(" Login successful, user:",t),r({user:t,isAuthenticated:!0,loading:!1,error:null}),setTimeout(()=>h(void 0,null,function*(){try{yield i()}catch(e){console.error("Post-login auth check failed:",e)}}),100)}catch(t){const e=t instanceof Error?t.message:"Login failed";throw console.error(" Login failed:",e),r(t=>c(l({},t),{loading:!1,error:e,user:null,isAuthenticated:!1})),t}}),[]),s=ee.useCallback(()=>h(void 0,null,function*(){r(e=>c(l({},e),{loading:!0}));try{console.log(" Attempting logout..."),yield n.logout(),r({user:null,isAuthenticated:!1,loading:!1,error:null}),console.log(" Logout successful")}catch(e){console.error("Logout error:",e),r({user:null,isAuthenticated:!1,loading:!1,error:null})}}),[]),i=ee.useCallback(()=>h(void 0,null,function*(){r(e=>c(l({},e),{loading:!0}));try{console.log(" Checking authentication status...");const e=yield n.checkStatus();console.log(" Auth check result:",e),r({user:e.user||null,isAuthenticated:e.isAuthenticated,loading:!1,error:null}),e.isAuthenticated&&e.user?console.log(" User authenticated:",e.user.username):console.log(" User not authenticated")}catch(e){const t=e instanceof Error?e.message:"Auth check failed";console.error(" Auth check failed:",t),r({user:null,isAuthenticated:!1,loading:!1,error:null})}}),[]),o=ee.useCallback(()=>{r(e=>c(l({},e),{error:null}))},[]),d=ee.useCallback(e=>{console.log(" Updating user in AuthContext:",e),r(t=>{if(!t.user)return console.warn(" Cannot update user - no user in context"),t;const r=l(l({},t.user),e);return console.log(" User updated in context:",r),c(l({},t),{user:r})})},[]),u=ee.useCallback(e=>{var r;return(null==(r=t.user)?void 0:r.role)===e},[t.user]),m=ee.useCallback(e=>!!t.user&&e.includes(t.user.role),[t.user]);ee.useEffect(()=>{let e=!0;return h(void 0,null,function*(){try{e&&(yield i())}catch(t){e&&(console.error("Initial auth check failed:",t),r(e=>c(l({},e),{loading:!1})))}}),()=>{e=!1}},[i]),ee.useEffect(()=>{var e;console.log(" AuthContext state changed:",{isAuthenticated:t.isAuthenticated,hasUser:!!t.user,username:null==(e=t.user)?void 0:e.username,loading:t.loading,error:t.error})},[t]);const f=c(l({},t),{login:a,logout:s,clearError:o,checkAuth:i,updateUser:d,hasRole:u,hasAnyRole:m,isLoading:t.loading});return de.jsx(If.Provider,{value:f,children:e})},Df=()=>{const e=ee.useContext(If);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Of=()=>de.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),de.jsx("p",{className:"text-gray-600",children:"Checking authentication..."})]})}),Lf=({user:e,requiredRoles:t,onNavigateHome:r})=>de.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:de.jsxs("div",{className:"text-center max-w-md p-8",children:[de.jsxs("div",{className:"mb-6",children:[de.jsx("div",{className:"mx-auto h-16 w-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:de.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),de.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),de.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),de.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[de.jsxs("p",{children:["Your role: ",de.jsx("span",{className:"font-medium",children:(null==e?void 0:e.role)||"Unknown"})]}),de.jsxs("p",{children:["Required: ",de.jsx("span",{className:"font-medium",children:t.join(" or ")})]})]})]}),de.jsxs("div",{className:"space-y-3",children:[de.jsx("button",{onClick:r,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}),de.jsx("button",{onClick:()=>window.history.back(),className:"w-full text-gray-600 px-4 py-2 rounded-md border border-gray-300 hover:bg-gray-50 transition-colors",children:"Go Back"})]})]})});const Rf=({children:e,requiredRoles:t=[],requireAuthentication:r=!0,fallback:n,redirectTo:a="/login",authService:s,debugMode:i=!1,showAccessDenied:o=!0,onAccessDenied:l})=>{const c=Df(),d=s||c,u=d.user,h=d.isAuthenticated,m=d.loading||d.isLoading,f=Nm();if(m)return n||de.jsx(Of,{});if(r&&!h)return de.jsx(Wm,{to:a,state:{from:f},replace:!0});if(u&&!1===u.is_active)return de.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:de.jsxs("div",{className:"text-center max-w-md p-8",children:[de.jsx("h2",{className:"text-2xl font-bold text-yellow-600 mb-2",children:"Account Inactive"}),de.jsx("p",{className:"text-gray-600 mb-4",children:"Your account has been deactivated."}),de.jsx("p",{className:"text-sm text-gray-500",children:"Please contact your administrator."}),de.jsx("button",{onClick:()=>window.location.href="/login",className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Return to Login"})]})});if(t.length>0&&u){const e=function(e,t){var r;if(!e||!t.length)return!0;const n=null==(r=e.role)?void 0:r.toLowerCase();return t.map(e=>e.toLowerCase()).includes(n)}(u,t);if(i&&console.log("ProtectedRoute: Role check result",{user:u,requiredRoles:t,hasAccess:e}),!e)return l&&l(),o?de.jsx(Lf,{user:u,requiredRoles:t,onNavigateHome:()=>window.location.href="/dashboard"}):null}return de.jsx(de.Fragment,{children:e})};function Mf(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Ff=ee.forwardRef(Mf);function $f(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const Bf=ee.forwardRef($f);function Uf(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const zf=ee.forwardRef(Uf);function Vf(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Wf=ee.forwardRef(Vf);function qf(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Hf=ee.forwardRef(qf);function Qf(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const Gf=ee.forwardRef(Qf);function Yf(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const Kf=ee.forwardRef(Yf);function Xf(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const Zf=ee.forwardRef(Xf);function Jf(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const ep=ee.forwardRef(Jf);function tp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const rp=ee.forwardRef(tp);function np(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const ap=ee.forwardRef(np);function sp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const ip=ee.forwardRef(sp);function op(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const lp=ee.forwardRef(op);function cp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const dp=ee.forwardRef(cp);function up(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const hp=ee.forwardRef(up);function mp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const fp=ee.forwardRef(mp);function pp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const gp=ee.forwardRef(pp);function xp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const bp=ee.forwardRef(xp);function vp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const yp=ee.forwardRef(vp);function wp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const jp=ee.forwardRef(wp);function Np(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const Sp=ee.forwardRef(Np);function kp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const Cp=ee.forwardRef(kp);function Ep(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Tp=ee.forwardRef(Ep);function _p(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ap=ee.forwardRef(_p);function Ip(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const Pp=ee.forwardRef(Ip);function Dp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const Op=ee.forwardRef(Dp);function Lp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Rp=ee.forwardRef(Lp);function Mp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Fp=ee.forwardRef(Mp);function $p(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Bp=ee.forwardRef($p);function Up(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const zp=ee.forwardRef(Up);function Vp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Wp=ee.forwardRef(Vp);function qp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Hp=ee.forwardRef(qp);function Qp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Gp=ee.forwardRef(Qp);function Yp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Kp=ee.forwardRef(Yp);function Xp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Zp=ee.forwardRef(Xp);function Jp(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const eg=ee.forwardRef(Jp);function tg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const rg=ee.forwardRef(tg);function ng(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const ag=ee.forwardRef(ng);function sg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const ig=ee.forwardRef(sg);function og(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const lg=ee.forwardRef(og);function cg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const dg=ee.forwardRef(cg);function ug(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"}))}const hg=ee.forwardRef(ug);function mg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const fg=ee.forwardRef(mg);function pg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const gg=ee.forwardRef(pg);function xg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const bg=ee.forwardRef(xg);function vg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const yg=ee.forwardRef(vg);function wg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const jg=ee.forwardRef(wg);function Ng(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}))}const Sg=ee.forwardRef(Ng);function kg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const Cg=ee.forwardRef(kg);function Eg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Tg=ee.forwardRef(Eg);function _g(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"}))}const Ag=ee.forwardRef(_g);function Ig(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Pg=ee.forwardRef(Ig);function Dg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Og=ee.forwardRef(Dg);function Lg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const Rg=ee.forwardRef(Lg);function Mg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.098 19.902a3.75 3.75 0 0 0 5.304 0l6.401-6.402M6.75 21A3.75 3.75 0 0 1 3 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 0 0 3.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008Z"}))}const Fg=ee.forwardRef(Mg);function $g(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const Bg=ee.forwardRef($g);function Ug(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const zg=ee.forwardRef(Ug);function Vg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Wg=ee.forwardRef(Vg);function qg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Hg=ee.forwardRef(qg);function Qg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Gg=ee.forwardRef(Qg);function Yg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Kg=ee.forwardRef(Yg);function Xg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"}))}const Zg=ee.forwardRef(Xg);function Jg(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ex=ee.forwardRef(Jg);function tx(e,t){var r=e,{title:n,titleId:a}=r,s=d(r,["title","titleId"]);return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?ee.createElement("title",{id:a},n):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const rx=ee.forwardRef(tx),nx=e=>{if(!e)return"Not specified";return("string"==typeof e?new Date(e):e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},ax=e=>{if(!e)return"Not specified";const[t,r]=e.split(":");return`${t}:${r}`},sx=e=>{switch(e.toLowerCase()){case"admin":return"bg-gradient-to-r from-red-100 to-pink-100 text-red-800 border-red-300";case"manager":return"bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-800 border-blue-300";case"user":return"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-300";case"viewer":return"bg-gradient-to-r from-purple-100 to-violet-100 text-purple-800 border-purple-300";default:return"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-800 border-gray-300"}},ix=e=>{if(!e)return"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-600 border border-gray-200";switch(e.toUpperCase()){case"A":return"bg-gradient-to-r from-amber-100 to-orange-100 text-amber-800 border border-amber-200";case"B":return"bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-800 border border-blue-200";case"C":return"bg-gradient-to-r from-purple-100 to-indigo-100 text-purple-800 border border-purple-200";default:return"bg-gradient-to-r from-orange-100 to-yellow-100 text-orange-800 border border-orange-200"}},ox=e=>Object.keys(e).length>0,lx=({isOpen:e,onClose:t,user:r,showEditButton:n=!0,showPasswordButton:a=!0,allowRoleDisplay:s=!0,compactMode:i=!1})=>{const o=Cm();if(!e||!r)return null;return de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e=>{e.target===e.currentTarget&&t()},children:de.jsxs("div",{className:`bg-white rounded-xl shadow-2xl ${i?"w-full max-w-xl max-h-[80vh]":"w-full max-w-2xl max-h-[90vh]"} overflow-hidden`,onClick:e=>e.stopPropagation(),children:[de.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:de.jsx(Hg,{className:"w-8 h-8"})}),de.jsxs("div",{children:[de.jsx("h2",{className:"text-xl font-bold",children:r.name}),de.jsxs("p",{className:"text-blue-100",children:["@",r.username]})]})]}),de.jsx("button",{onClick:t,className:"text-white hover:bg-white hover:bg-opacity-20 p-2 rounded-full transition-colors",children:de.jsx(rx,{className:"w-6 h-6"})})]})}),de.jsx("div",{className:"overflow-y-auto",style:{maxHeight:i?"60vh":"70vh"},children:de.jsxs("div",{className:"p-6 space-y-8",children:[de.jsxs("div",{children:[de.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[de.jsx(Kg,{className:"w-5 h-5 mr-2 text-blue-500"}),"Basic Information"]}),de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[de.jsxs("div",{className:"md:col-span-2 flex items-center space-x-3 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 shadow-sm",children:[de.jsx(Kg,{className:"w-6 h-6 text-blue-600"}),de.jsxs("div",{className:"flex-1",children:[de.jsx("label",{className:"block text-xs font-bold text-blue-700 uppercase tracking-wide mb-1",children:"Full Name"}),de.jsx("span",{className:"text-gray-900 font-bold text-lg",children:r.name})]})]}),de.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-200 shadow-sm",children:[de.jsx(eg,{className:"w-6 h-6 text-gray-600"}),de.jsxs("div",{className:"flex-1",children:[de.jsx("label",{className:"block text-xs font-bold text-gray-600 uppercase tracking-wide mb-1",children:"Username"}),de.jsx("span",{className:"text-gray-900 font-bold",children:r.username})]})]})]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[de.jsxs("div",{className:"md:col-span-2 flex items-center space-x-3 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-200 shadow-sm",children:[de.jsx(Bp,{className:"w-6 h-6 text-purple-600"}),de.jsxs("div",{className:"flex-1",children:[de.jsx("label",{className:"block text-xs font-bold text-purple-700 uppercase tracking-wide mb-1",children:"Email Address"}),de.jsx("span",{className:"text-gray-900 font-bold break-all",children:r.email||"Not provided"})]})]}),de.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-200 shadow-sm",children:[de.jsx(eg,{className:"w-6 h-6 text-gray-600"}),de.jsxs("div",{className:"flex-1",children:[de.jsx("label",{className:"block text-xs font-bold text-gray-600 uppercase tracking-wide mb-1",children:"User ID"}),de.jsxs("span",{className:"text-gray-900 font-bold font-mono",children:["#",r.id]})]})]})]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s&&de.jsxs("div",{className:"p-4 bg-gradient-to-br from-red-50 to-pink-50 rounded-lg border border-red-200 shadow-sm",children:[de.jsx("label",{className:"block text-xs font-bold text-red-700 uppercase tracking-wide mb-3",children:"Role"}),de.jsxs("div",{className:`inline-flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-bold border shadow-sm ${sx(r.role)}`,children:[(e=>{switch(e.toLowerCase()){case"admin":return de.jsx(Tg,{className:"w-4 h-4"});case"manager":return de.jsx(Zf,{className:"w-4 h-4"});case"user":return de.jsx(Kg,{className:"w-4 h-4"});default:return de.jsx(Hg,{className:"w-4 h-4"})}})(r.role),de.jsx("span",{className:"capitalize",children:r.role})]})]}),de.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200 shadow-sm",children:[de.jsx("label",{className:"block text-xs font-bold text-green-700 uppercase tracking-wide mb-3",children:"Status"}),de.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-bold shadow-sm "+(r.is_active?"bg-green-100 text-green-800 border border-green-300":"bg-red-100 text-red-800 border border-red-300"),children:[r.is_active?de.jsx(fp,{className:"w-5 h-5"}):de.jsx(ex,{className:"w-5 h-5"}),de.jsx("span",{children:r.is_active?"Active":"Inactive"})]})]}),de.jsxs("div",{className:"p-4 bg-gradient-to-br from-orange-50 to-amber-50 rounded-lg border border-orange-200 shadow-sm",children:[de.jsx("label",{className:"block text-xs font-bold text-orange-700 uppercase tracking-wide mb-3",children:"Position"}),de.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-bold bg-orange-100 text-orange-800 border border-orange-300 shadow-sm",children:[de.jsx(Zf,{className:"w-5 h-5"}),de.jsx("span",{children:r.position||"Not specified"})]})]})]})]})]}),de.jsxs("div",{children:[de.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[de.jsx(Zf,{className:"w-5 h-5 mr-2 text-green-500"}),"Work Information"]}),de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[de.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-2 border-amber-200 rounded-lg p-4 shadow-sm",children:[de.jsxs("label",{className:"block text-xs font-bold text-amber-700 uppercase tracking-wide mb-3 flex items-center",children:[de.jsx(Tp,{className:"w-4 h-4 mr-1"}),"Work Shift"]}),r.work_shift?de.jsxs("div",{className:`inline-flex items-center px-4 py-2 rounded-lg text-sm font-bold shadow-md ${ix(r.work_shift)}`,children:[de.jsx(Tp,{className:"w-5 h-5 mr-2"}),"Shift ",r.work_shift]}):de.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-bold bg-gray-100 text-gray-500 border border-gray-300",children:[de.jsx(Tp,{className:"w-5 h-5 mr-2"}),"Not assigned"]})]}),de.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 border-2 border-indigo-200 rounded-lg p-4 shadow-sm",children:[de.jsxs("label",{className:"block text-xs font-bold text-indigo-700 uppercase tracking-wide mb-3 flex items-center",children:[de.jsx(Cp,{className:"w-4 h-4 mr-1"}),"FVI Line"]}),r.linevi?de.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-bold bg-gradient-to-r from-indigo-100 to-blue-100 text-indigo-800 border border-indigo-300 shadow-md",children:[de.jsx(ep,{className:"w-5 h-5 mr-2"}),"Line ",r.linevi]}):de.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-bold bg-gray-100 text-gray-500 border border-gray-300",children:[de.jsx(ep,{className:"w-5 h-5 mr-2"}),"Not assigned"]})]}),de.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-cyan-50 rounded-lg border-2 border-teal-200 p-4 shadow-sm",children:[de.jsxs("label",{className:"block text-xs font-bold text-teal-700 uppercase tracking-wide mb-3 flex items-center",children:[de.jsx(ep,{className:"w-4 h-4 mr-1"}),"Team"]}),r.team?de.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-bold bg-gradient-to-r from-teal-100 to-cyan-100 text-teal-800 border border-teal-300 shadow-md",children:[de.jsx(ep,{className:"w-5 h-5 mr-2"}),r.team]}):de.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-bold bg-gray-100 text-gray-500 border border-gray-300",children:[de.jsx(ep,{className:"w-5 h-5 mr-2"}),"Not assigned"]})]})]}),(r.time_start_work||r.time_off_work)&&de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.time_start_work&&de.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[de.jsx(Tp,{className:"w-5 h-5 text-green-500"}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Start Time"}),de.jsx("span",{className:"text-gray-900 font-medium",children:ax(r.time_start_work)})]})]}),r.time_off_work&&de.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[de.jsx(Tp,{className:"w-5 h-5 text-red-500"}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide",children:"End Time"}),de.jsx("span",{className:"text-gray-900 font-medium",children:ax(r.time_off_work)})]})]})]}),r.checkin&&de.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[de.jsx(lp,{className:"w-5 h-5 text-blue-500"}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-xs font-medium text-blue-600 uppercase tracking-wide",children:"Last Check-in"}),de.jsx("span",{className:"text-blue-900 font-medium",children:nx(r.checkin)})]})]})]})]})]})}),de.jsxs("div",{className:"border-t border-gray-200 p-4 bg-gray-50 flex items-center justify-between",children:[de.jsxs("div",{className:"text-sm text-gray-500",children:["Account Status: ",r.is_active?de.jsx("span",{className:"text-green-600 font-medium",children:"Active"}):de.jsx("span",{className:"text-red-600 font-medium",children:"Inactive"})]}),de.jsxs("div",{className:"flex items-center space-x-2",children:[a&&de.jsxs("button",{type:"button",onClick:()=>{t(),o("/profile/password")},className:"px-4 py-2 text-sm font-medium text-orange-700 bg-gradient-to-r from-orange-100 to-red-100 border border-orange-300 rounded-lg hover:bg-orange-200 transition-colors flex items-center space-x-1 shadow-sm",children:[de.jsx(ag,{className:"w-4 h-4"}),de.jsx("span",{children:"Change Password"})]}),n&&de.jsxs("button",{type:"button",onClick:()=>{t(),o("/profile/edit")},className:"px-4 py-2 text-sm font-medium text-blue-700 bg-gradient-to-r from-blue-100 to-indigo-100 border border-blue-300 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 shadow-sm",children:[de.jsx(gg,{className:"w-4 h-4"}),de.jsx("span",{children:"Edit Profile"})]}),de.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})]})})};const cx=new class{constructor(){u(this,"baseUrl",Ef("sysconfig")),u(this,"cache",null),u(this,"cacheTimestamp",null),u(this,"CACHE_TTL",3e5)}makeRequest(e){return h(this,arguments,function*(e,t={}){try{const r=yield fetch(e,l({headers:l({"Content-Type":"application/json"},t.headers),credentials:"include"},t));if(console.log(`SysconfigService: ${t.method||"GET"} ${e} - Status: ${r.status}`),304===r.status)return console.warn("SysconfigService: Received 304 Not Modified, treating as successful empty response"),{success:!0,data:[],message:"Data not modified (cached)",errors:[]};const n=yield r.json();return r.ok||console.error("SysconfigService: API Error Response:",{status:r.status,statusText:r.statusText,data:n}),n}catch(r){return console.error("SysconfigService.makeRequest error:",r),{success:!1,data:void 0,message:r instanceof Error?r.message:"Network error occurred",errors:[]}}})}getSysconfig(){return h(this,null,function*(){try{console.log(" Fetching sysconfig from API...");const e=`${this.baseUrl}/active?_t=${Date.now()}`;console.log(` Trying endpoint: ${e}`);const t=yield this.makeRequest(e);if(console.log(` Raw response from ${e}:`,t),t.success&&t.data){if(t.data.data)return console.log(" Successfully fetched sysconfig (nested):",t.data.data),t.data.data;if(t.data.id||t.data.config_name)return t.data;if(Array.isArray(t.data)&&t.data.length>0)return console.log(" Successfully fetched sysconfig (array):",t.data[0]),t.data[0]}throw new Error(t.message||"Invalid response format from sysconfig API")}catch(e){throw console.error(" Error fetching sysconfig:",e),console.error(" Error details:",{message:e instanceof Error?e.message:"Unknown error",stack:e instanceof Error?e.stack:void 0}),e}})}getParsedSysconfig(){return h(this,null,function*(){try{if(console.log(" Getting parsed sysconfig..."),this.cache&&this.cacheTimestamp&&Date.now()-this.cacheTimestamp<this.CACHE_TTL)return console.log(" Returning cached sysconfig data"),this.cache;console.log(" Fetching fresh sysconfig data...");const e=yield this.getSysconfig();console.log(" Raw sysconfig from API:",e);const t=this.parseConfigValues(e);return console.log(" Parsed sysconfig data:",t),this.cache=t,this.cacheTimestamp=Date.now(),t}catch(e){throw console.error(" Error getting parsed sysconfig:",e),e}})}updateSysconfig(e,t){return h(this,null,function*(){console.log("SysconfigService.updateSysconfig: Updating config",e,"with data:",t);const r=yield this.makeRequest(`${this.baseUrl}/${e}`,{method:"PUT",body:JSON.stringify(t)});return r.success&&r.data?(this.clearCache(),{success:!0,data:r.data,message:r.message||"Configuration updated successfully",errors:r.errors||[]}):{success:!1,data:void 0,message:r.message||"Failed to update configuration",errors:r.errors||[]}})}getStats(){return h(this,null,function*(){const e=`${this.baseUrl}/statistics?_t=${Date.now()}`;console.log("SysconfigService.getStats: Calling URL:",e);const t=yield this.makeRequest(e);return t.success&&t.data&&t.data.overview?(console.log(" SysconfigService.getStats: Extracting stats from overview object"),console.log("Raw API response:",t.data),{success:!0,data:{total:t.data.overview.total||0,active:t.data.overview.active||0,inactive:t.data.overview.inactive||0,recent:t.data.overview.recent||0},message:t.message,errors:t.errors||[]}):(console.log(" SysconfigService.getStats: Invalid response structure"),console.log("Expected: { data: { overview: { total, active, inactive } } }"),console.log("Received:",t),{success:!1,data:{total:0,active:0,inactive:0,recent:0},message:t.message||"Failed to load statistics",errors:t.errors||[]})})}parseConfigValues(e){return{id:e.id,fvi_lot_qty:this.parseNumbers(e.fvi_lot_qty),general_oqa_qty:this.parseNumbers(e.general_oqa_qty),crack_oqa_qty:this.parseNumbers(e.crack_oqa_qty),general_siv_qty:this.parseNumbers(e.general_siv_qty),crack_siv_qty:this.parseNumbers(e.crack_siv_qty),defect_type:this.parseStrings(e.defect_type),defect_color:this.parseStrings(e.defect_color),shift:this.parseStrings(e.shift),site:this.parseStrings(e.site),grps:this.parseStrings(e.grps),zones:this.parseStrings(e.zones),tabs:this.parseStrings(e.tabs),product_type:this.parseStrings(e.product_type),product_families:this.parseStrings(e.product_families)}}parseNumbers(e){return e?e.split(",").map(e=>e.trim()).filter(e=>""!==e).map(e=>{const t=parseInt(e,10);return isNaN(t)?0:t}):[]}parseStrings(e){if(console.log(" Parsing string value:",e),!e)return console.log(" Empty value provided"),[];const t=e.split(",").map(e=>e.trim()).filter(e=>""!==e&&null!=e);return console.log(" Parsed strings:",t),t}clearCache(){this.cache=null,this.cacheTimestamp=null}isCacheValid(){return!!(this.cache&&this.cacheTimestamp&&Date.now()-this.cacheTimestamp<this.CACHE_TTL)}getActiveSystemSetup(){return h(this,null,function*(){console.log("SysconfigService.getActiveSystemSetup: Fetching active system setup...");const e=`${this.baseUrl}/active?_t=${Date.now()}`,t=yield this.makeRequest(e);return t.success&&t.data?(console.log(" Successfully fetched system setup configuration"),t):(console.error(" Failed to fetch system setup configuration"),t)})}updateSystemSetup(e,t){return h(this,null,function*(){console.log("SysconfigService.updateSystemSetup: Updating system setup",e,"with data:",t);const r=yield this.makeRequest(`${this.baseUrl}/${e}`,{method:"PUT",body:JSON.stringify(t)});return r.success&&r.data&&(console.log(" Successfully updated system setup configuration"),this.clearCache()),r})}testMssqlConnection(){return h(this,null,function*(){console.log("SysconfigService.testMssqlConnection: Testing MSSQL connection...");const e=`${this.baseUrl}/test-mssql`,t=yield this.makeRequest(e,{method:"POST"});return t.success?console.log(" MSSQL connection test successful"):console.error(" MSSQL connection test failed:",t.message),t})}testSmtpConnection(e){return h(this,null,function*(){console.log("SysconfigService.testSmtpConnection: Testing SMTP connection with email:",e);const t=`${this.baseUrl}/test-smtp`,r=yield this.makeRequest(t,{method:"POST",body:JSON.stringify({testEmail:e})});return r.success?console.log(" SMTP connection test successful"):console.error(" SMTP connection test failed:",r.message),r})}},dx=()=>h(void 0,null,function*(){try{console.log(" Fetching product family options...");const e=yield cx.getSysconfig();console.log(" Raw sysconfig data:",e),console.log(" Product families raw:",e.product_families);const t=(e.product_families?e.product_families.split(",").map(e=>e.trim()).filter(e=>""!==e):[]).map(e=>({value:e,label:e,code:e}));return console.log(" Product family options:",t),t}catch(e){return console.error(" Error getting product family options:",e),[]}}),ux=()=>h(void 0,null,function*(){try{console.log(" Fetching site options...");const e=yield cx.getSysconfig();console.log(" Raw sysconfig data for sites:",e.site);const t=(e.site?e.site.split(",").map(e=>e.trim()).filter(e=>""!==e):[]).map(e=>({value:e,label:e,code:e}));return console.log(" Site options:",t),t}catch(e){return console.error(" Error getting site options:",e),[]}}),hx=()=>h(void 0,null,function*(){try{console.log(" Fetching tab options...");const e=yield cx.getSysconfig();console.log(" Raw sysconfig data for tabs:",e.tabs);const t=(e.tabs?e.tabs.split(",").map(e=>e.trim()).filter(e=>""!==e):[]).map(e=>({value:e,label:e,code:e}));return console.log(" Tab options:",t),t}catch(e){return console.error(" Error getting tab options:",e),[]}}),mx=()=>h(void 0,null,function*(){try{console.log(" Fetching product type options...");const e=yield cx.getSysconfig();console.log(" Raw sysconfig data for product_type:",e.product_type);const t=(e.product_type?e.product_type.split(",").map(e=>e.trim()).filter(e=>""!==e):[]).map(e=>({value:e,label:e,code:e}));return console.log(" Product type options:",t),t}catch(e){return console.error(" Error getting product type options:",e),[]}}),fx=()=>{const[e,t]=te.useState([]),[r,n]=te.useState(!0),[a,s]=te.useState(null);return te.useEffect(()=>{h(void 0,null,function*(){try{n(!0);const e=yield h(void 0,null,function*(){try{console.log(" Fetching shift options...");const e=yield cx.getSysconfig();console.log(" Raw sysconfig data for shifts:",e.shift);const t=(e.shift?e.shift.split(",").map(e=>e.trim()).filter(e=>""!==e):[]).map(e=>({value:e,label:e,code:e}));return console.log(" Shift options:",t),t}catch(a){return console.error(" Error getting shift options:",a),[]}});t(e),s(null)}catch(e){s(e instanceof Error?e.message:"Failed to load shifts")}finally{n(!1)}})},[]),{options:e,loading:r,error:a}},px=()=>{const[e,t]=te.useState([]),[r,n]=te.useState(!0),[a,s]=te.useState(null);return te.useEffect(()=>{h(void 0,null,function*(){try{n(!0);const e=yield h(void 0,null,function*(){try{console.log(" Fetching defect color options...");const e=yield cx.getSysconfig();console.log(" Raw sysconfig data for defect_color:",e.defect_color);const t=(e.defect_color?e.defect_color.split(",").map(e=>e.trim()).filter(e=>""!==e):[]).map(e=>({value:e,label:e,code:e}));return console.log(" Defect color options:",t),t}catch(a){return console.error(" Error getting defect color options:",a),[]}});t(e),s(null)}catch(e){s(e instanceof Error?e.message:"Failed to load defect colors")}finally{n(!1)}})},[]),{options:e,loading:r,error:a}},gx={ADMIN:"admin",MANAGER:"manager",USER:"user",VIEWER:"viewer"},xx={USERNAME_MIN_LENGTH:3,USERNAME_MAX_LENGTH:50,EMAIL_MAX_LENGTH:255,NAME_MIN_LENGTH:2,NAME_MAX_LENGTH:100,POSITION_MAX_LENGTH:100,PASSWORD_MIN_LENGTH:8,USERNAME_PATTERN:/^[a-zA-Z0-9_-]+$/,EMAIL_PATTERN:/^[^\s@]+@[^\s@]+\.[^\s@]+$/};function bx(e){return c(l({},e),{created_at:e.created_at?new Date(e.created_at):new Date,updated_at:e.updated_at?new Date(e.updated_at):new Date})}function vx(e){const t={};var r;return"username"in e&&e.username&&(e.username.length<xx.USERNAME_MIN_LENGTH?t.username=[`Username must be at least ${xx.USERNAME_MIN_LENGTH} characters`]:e.username.length>xx.USERNAME_MAX_LENGTH?t.username=[`Username must be no more than ${xx.USERNAME_MAX_LENGTH} characters`]:xx.USERNAME_PATTERN.test(e.username)||(t.username=["Username can only contain letters, numbers, hyphens, and underscores"])),"email"in e&&e.email&&(xx.EMAIL_PATTERN.test(e.email)?e.email.length>xx.EMAIL_MAX_LENGTH&&(t.email=[`Email must be no more than ${xx.EMAIL_MAX_LENGTH} characters`]):t.email=["Please enter a valid email address"]),"name"in e&&e.name&&(e.name.length<xx.NAME_MIN_LENGTH?t.name=[`Name must be at least ${xx.NAME_MIN_LENGTH} characters`]:e.name.length>xx.NAME_MAX_LENGTH&&(t.name=[`Name must be no more than ${xx.NAME_MAX_LENGTH} characters`])),"password"in e&&e.password&&e.password.length<xx.PASSWORD_MIN_LENGTH&&(t.password=[`Password must be at least ${xx.PASSWORD_MIN_LENGTH} characters`]),"confirmPassword"in e&&"password"in e&&e.confirmPassword!==e.password&&(t.confirmPassword=["Passwords do not match"]),"position"in e&&e.position&&e.position.length>xx.POSITION_MAX_LENGTH&&(t.position=[`Position must be no more than ${xx.POSITION_MAX_LENGTH} characters`]),"role"in e&&e.role&&(r=e.role,!Object.values(gx).includes(r))&&(t.role=["Please select a valid role"]),t}const yx=new class{constructor(){u(this,"baseUrl",Ef("users"))}makeRequest(e){return h(this,arguments,function*(e,t={}){try{const r=yield fetch(e,l({headers:l({"Content-Type":"application/json"},t.headers),credentials:"include"},t)),n=yield r.json();if(r.ok||console.error(" API Error Response:",{status:r.status,statusText:r.statusText,url:e,method:t.method||"GET",data:n}),n.success&&n.data&&(Array.isArray(n.data)?n.data=n.data.map(e=>this.isUserEntity(e)?bx(e):e):this.isUserEntity(n.data)&&(n.data=bx(n.data))),!n.success&&n.errors&&Array.isArray(n.errors)){const e={};n.errors.forEach(t=>{t.field&&t.message&&(e[t.field]||(e[t.field]=[]),e[t.field].push(t.message))}),n.errors=e}return n}catch(r){return console.error(" Network Error:",r),{success:!1,message:r instanceof Error?r.message:"Network error occurred"}}})}isUserEntity(e){return e&&"object"==typeof e&&"number"==typeof e.id&&"string"==typeof e.username&&"string"==typeof e.name}buildQueryString(e){const t=new URLSearchParams;Object.entries(e).forEach(([e,r])=>{null!=r?""!==r?"boolean"==typeof r?(t.append(e,r.toString()),console.log(`Added boolean ${e}: ${r.toString()}`)):(t.append(e,String(r)),console.log(`Added ${e}: ${String(r)}`)):console.log(`Skipping empty ${e}`):console.log(`Skipping ${e}: ${r}`)});const r=t.toString();return console.log(" Built query string:",r),r}validateFormData(e){const t=vx(e);return{isValid:!(Object.keys(t).length>0),errors:t}}getUsers(){return h(this,arguments,function*(e={}){console.log(" UserService.getUsers called with params:",e);const t=Object.entries(e).reduce((e,[t,r])=>(null!=r&&""!==r&&(e[t]=r),e),{});console.log(" Cleaned params:",t);const r=this.buildQueryString(t),n=r?`${this.baseUrl}?${r}`:this.baseUrl;return console.log(" Making request to:",n),this.makeRequest(n)})}getUserById(e){return h(this,null,function*(){return!e||e<=0?{success:!1,message:"Invalid user ID provided"}:this.makeRequest(`${this.baseUrl}/${e}`)})}createUser(e){return h(this,null,function*(){if(!this.validateFormData(e).isValid)return{success:!1,message:"Validation failed"};const t=e,{confirmPassword:r}=t,n=d(t,["confirmPassword"]);return this.makeRequest(`${this.baseUrl}`,{method:"POST",body:JSON.stringify(n)})})}updateUser(e,t){return h(this,null,function*(){if(!e||e<=0)return{success:!1,message:"Invalid user ID provided"};console.log(" Update User Request:",{id:e,data:t});const r=this.validateFormData(t);if(!r.isValid){const e=Object.values(r.errors)[0],t=Array.isArray(e)?e[0]:"Validation failed";return console.error(" Validation errors:",r.errors),{success:!1,message:t}}console.log(" Validation passed, sending request...");const n=Object.entries(t).reduce((e,[t,r])=>(void 0===r||(e[t]=""===r?null:r),e),{}),a=yield this.makeRequest(`${this.baseUrl}/${e}`,{method:"PUT",body:JSON.stringify(n)});return console.log(" Update Response:",a),a})}deleteUser(e){return h(this,null,function*(){return!e||e<=0?{success:!1,message:"Invalid user ID provided"}:this.makeRequest(`${this.baseUrl}/${e}`,{method:"DELETE"})})}toggleUserStatus(e){return h(this,null,function*(){return!e||e<=0?{success:!1,message:"Invalid user ID provided"}:this.makeRequest(`${this.baseUrl}/${e}/toggle-status`,{method:"PATCH"})})}changePassword(e,t){return h(this,null,function*(){if(!e||e<=0)return{success:!1,message:"Invalid user ID provided"};if(t.newPassword!==t.confirmPassword)return{success:!1,message:"Passwords do not match"};const r={current_password:t.currentPassword||"",new_password:t.newPassword,confirm_password:t.confirmPassword};return this.makeRequest(`${this.baseUrl}/${e}/password`,{method:"PUT",body:JSON.stringify(r)})})}resetPassword(e){return h(this,null,function*(){return!e||e<=0?{success:!1,message:"Invalid user ID provided"}:this.makeRequest(`${this.baseUrl}/${e}/reset-password`,{method:"PATCH"})})}updateProfile(e,t){return h(this,null,function*(){return!e||e<=0?{success:!1,message:"Invalid user ID provided"}:this.makeRequest(`${this.baseUrl}/${e}/profile`,{method:"PATCH",body:JSON.stringify(t)})})}getStats(){return h(this,null,function*(){try{return yield this.makeRequest(`${this.baseUrl}/statistics`)}catch(e){return{success:!1,message:e instanceof Error?e.message:"Failed to get user statistics"}}})}getUsersByRole(e){return h(this,null,function*(){return this.getUsers({role:e})})}searchUsers(e,t=20){return h(this,null,function*(){return this.getUsers({search:e,limit:t,isActive:!0})})}getRecentUsers(e=7,t=10){return h(this,null,function*(){const r=new Date;return r.setDate(r.getDate()-e),this.getUsers({created_after:r.toISOString(),limit:t,sortBy:"created_at",sortOrder:"desc"})})}healthCheck(){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/health`)})}checkUsernameAvailability(e,t){return h(this,null,function*(){const r={username:e};t&&(r.exclude_user_id=t);const n=this.buildQueryString(r);return this.makeRequest(`${this.baseUrl}/check-username?${n}`)})}checkEmailAvailability(e,t){return h(this,null,function*(){const r={email:e};t&&(r.exclude_user_id=t);const n=this.buildQueryString(r);return this.makeRequest(`${this.baseUrl}/check-email?${n}`)})}bulkUpdateStatus(e,t){return h(this,null,function*(){return Array.isArray(e)&&0!==e.length?this.makeRequest(`${this.baseUrl}/bulk-update-status`,{method:"PATCH",body:JSON.stringify({userIds:e,isActive:t})}):{success:!1,message:"No user IDs provided"}})}exportUsers(){return h(this,arguments,function*(e={}){const t=this.buildQueryString(e),r=t?`${this.baseUrl}/export?${t}`:`${this.baseUrl}/export`;return this.makeRequest(r,{method:"POST"})})}},wx=[{name:"Dashboard",href:"/dashboard",icon:de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),children:[{name:"Dashboard",href:"/dashboard",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:"Dashboard - %LAR Report",href:"/dashboard/lar-dashboard",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:"Dashboard - DPPM Report",href:"/dashboard/dprm-dashboard",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{name:"Dashboard - Underkill rate Report",href:"/dashboard/underkill-dashboard",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})}]},{name:"Customer Format",icon:de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),roles:["admin","manager","user"],children:[{name:"OQA",href:"/customer-data/oqa",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}]},{name:"Inspection",icon:de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),roles:["admin","manager","user"],children:[{name:"OQA",href:"/inspection/oqa",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{name:"OBA",href:"/inspection/oba",icon:de.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})},{name:"SIV",href:"/inspection/siv",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})},{name:"SGT IQA",href:"/inspection/iqa",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}]},{name:"Master Data",icon:de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),roles:["admin","manager"],children:[{name:"Inspection Data Setup",href:"/master-data/inspection",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{name:"Customers",href:"/master-data/customers",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{name:"Lines (FVI)",href:"/master-data/line-fvi",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})},{name:"Sampling Reasons",href:"/master-data/samplingResons",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{name:"Defects",href:"/master-data/defects",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})},{name:"Products Site",href:"/master-data/products-site",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})},{name:"Parts",href:"/master-data/parts",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}]},{name:"News",href:"/news",icon:de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),roles:["admin","manager"]},{name:"Users",href:"/master-data/users",icon:de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),roles:["admin","manager"]},{name:"Reports",icon:de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),children:[{name:"OQA VMI LAR TNHK Report",href:"/report/lar-report",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"SGT IQA Trend Report",href:"/report/sgt-iqa-trend-report",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})},{name:"NHK OQA DPPM Overall Report",href:"/report/oqaoverall-rereport",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{name:"Seagate IQA Result Report",href:"/report/sgt-iqa-result-report",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:"Suspension SI Check Result Report",href:"/report/si-result-report",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"OQA Visual Inspection Report",href:"/report/oqa-vi-report",icon:de.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})},{name:"Top defect By product Report",href:"/report/top-defect-report",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})},{name:"Daily Report",href:"/report/daily",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{name:"Weekly Report",href:"/report/weekly",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:"Monthly Report",href:"/report/monthly",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})},{name:"Top Defects by Product",href:"/report/top-defect-by-product",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}]},{name:"Interface",icon:de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),roles:["admin","manager"],children:[{name:"Check In Import",href:"/interface/checkin-import",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})},{name:"Lot Input Import",href:"/interface/lotinput-import",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"Inspection Import",href:"/interface/inspection-import",icon:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}]},{name:"Settings",href:"/settings",icon:de.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),roles:["admin"]}],jx=(e,t)=>t?e.filter(e=>!e.roles||0===e.roles.length||e.roles.includes(t)).map(e=>e.children?c(l({},e),{children:jx(e.children,t)}):e).filter(e=>!e.children||e.children.length>0):e,Nx=e=>{const t=e.toLowerCase();return t.includes("dashboard")?"icon-dashboard":t.includes("customer")?"icon-customer":t.includes("inspection")?"icon-inspection":t.includes("master")?"icon-master":t.includes("news")?"icon-news":t.includes("user")?"icon-users":t.includes("report")?"icon-reports":t.includes("interface")?"icon-interface":t.includes("setting")?"icon-settings":"text-gray-400"};function Sx({children:e}){var t;const{user:r,logout:n,checkAuth:a}=Df(),s=Nm(),[i,o]=ee.useState(!1),[d,u]=ee.useState({}),[m,f]=ee.useState(!1),[p,g]=ee.useState(""),[x,b]=ee.useState(""),v=ee.useMemo(()=>jx(wx,null==r?void 0:r.role),[null==r?void 0:r.role]);ee.useEffect(()=>{const e=s.pathname,t={};v.forEach(r=>{if(r.children){r.children.some(t=>t.href===e)&&(t[r.name]=!0)}}),u(e=>l(l({},e),t))},[s.pathname,v]),ee.useEffect(()=>{(()=>{h(this,null,function*(){try{const e=yield cx.getSysconfig();e&&e.news?g(e.news):console.log("No news field in data")}catch(e){console.error("Failed to fetch news:",e)}})})()},[]),ee.useEffect(()=>{const e=()=>{const e=new Date,t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear(),a=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0"),i=String(e.getSeconds()).padStart(2,"0");b(`${t}/${r}/${n} ${a}:${s}:${i}`)};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[]);const y=e=>{u(t=>c(l({},t),{[e]:!t[e]}))},w=e=>s.pathname===e,j=e=>!(!e.href||!w(e.href))||!!e.children&&e.children.some(e=>e.href&&w(e.href)),N=()=>{f(!0)};return de.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-gray-50 via-orange-50/20 to-yellow-50/20",children:[de.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:de.jsxs("div",{className:"flex flex-col w-80 shadow-xl",children:[de.jsxs("div",{className:"flex items-center justify-center h-16 px-4 bg-gradient-to-r from-amber-500 via-orange-600 to-yellow-500 flex-shrink-0 shadow-lg relative overflow-hidden",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/10 to-white/0 animate-shimmer"}),de.jsxs(gf,{to:"/dashboard",className:"flex items-center relative z-10",children:[de.jsx("div",{className:"w-9 h-9 bg-white rounded-xl flex items-center justify-center mr-3 flex-shrink-0 shadow-md transform hover:scale-110 transition-transform duration-300",children:de.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),de.jsx("span",{className:"text-white font-bold text-xl truncate drop-shadow-sm",children:"Sampling Inspection"})]})]}),de.jsx("nav",{className:"flex-1 px-4 py-4 bg-white/95 backdrop-blur-sm border-r border-orange-100 overflow-y-auto custom-scrollbar",children:de.jsx("div",{className:"space-y-2",children:v.map((e,t)=>{var r;return de.jsx("div",{className:"space-y-1 animate-fade-in-left delay-"+100*Math.min(t,5),children:e.children?de.jsxs("div",{children:[de.jsxs("button",{onClick:()=>y(e.name),className:`\n                          w-full flex items-center justify-between px-4 py-2.5 text-sm font-medium rounded-xl transition-all duration-300 hover:scale-[1.02] hover:shadow-md\n                          ${j(e)?"bg-gradient-to-r from-orange-50 to-amber-50 text-orange-700 border-l-4 border-orange-500 shadow-md":"text-gray-700 hover:bg-gradient-to-r hover:from-orange-50/50 hover:to-yellow-50/50 hover:text-orange-600"}\n                        `,children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx("span",{className:`mr-3 transition-all duration-300 hover:scale-110 ${Nx(e.name)}`,children:e.icon}),de.jsx("span",{className:"truncate",children:e.name})]}),de.jsx("svg",{className:`w-4 h-4 transition-transform duration-300 ${d[e.name]?"rotate-90":""} ${Nx(e.name)}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),de.jsx("div",{className:`\n                        overflow-hidden transition-all duration-300 ease-in-out\n                        ${d[e.name]?"Reports"===e.name?"max-h-[800px] opacity-100":"max-h-96 opacity-100":"max-h-0 opacity-0"}\n                      `,children:de.jsx("div",{className:"ml-8 mt-2 space-y-1 border-l-2 border-orange-200 pl-4",children:null==(r=e.children)?void 0:r.map((t,r)=>de.jsxs(gf,{to:t.href,onClick:()=>o(!1),className:`\n                                flex items-center px-3 py-2 text-sm rounded-lg transition-all duration-300 hover:scale-[1.02] animate-fade-in-left delay-${50*r}\n                                ${w(t.href)?"bg-primary-100 text-primary-700 border-l-2 border-primary-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-primary-600"}\n                              `,children:[t.icon&&de.jsx("span",{className:`mr-3 transition-all duration-300 hover:scale-110 ${w(t.href),Nx(e.name)}`,children:t.icon}),de.jsx("span",{className:"truncate",children:t.name})]},t.name))})})]}):de.jsxs(gf,{to:e.href,onClick:()=>o(!1),className:`\n                        flex items-center px-4 py-2.5 text-sm font-medium rounded-xl transition-all duration-300 hover:scale-[1.02] hover:shadow-md\n                        ${w(e.href)?"bg-gradient-to-r from-orange-50 to-amber-50 text-orange-700 border-l-4 border-orange-500 shadow-md":"text-gray-700 hover:bg-gradient-to-r hover:from-orange-50/50 hover:to-yellow-50/50 hover:text-orange-600"}\n                      `,children:[de.jsx("span",{className:`mr-3 transition-all duration-300 hover:scale-110 ${Nx(e.name)}`,children:e.icon}),de.jsx("span",{className:"truncate",children:e.name})]})},e.name)})})}),de.jsx("div",{className:"flex-shrink-0 p-4 border-t border-orange-100 bg-gradient-to-br from-orange-50/50 to-amber-50/50 backdrop-blur-sm",children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-amber-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:de.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),de.jsx("div",{className:"flex-1 min-w-0",children:de.jsxs("button",{onClick:N,className:"hidden sm:block text-sm hover:text-orange-700 transition-colors duration-200 p-2 rounded-lg hover:bg-white/70 w-full text-left",children:[de.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:(null==r?void 0:r.username)||"admin"}),de.jsx("p",{className:"text-xs text-orange-600 capitalize font-medium",children:(null==r?void 0:r.role)||"Admin"})]})})]})})]})}),de.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden "+(i?"block":"hidden"),children:[de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:()=>o(!1)}),de.jsxs("div",{className:"relative flex flex-col w-80 h-full bg-white shadow-xl",children:[de.jsxs("div",{className:"flex items-center justify-between h-16 px-4 bg-gradient-to-r from-amber-500 via-orange-600 to-yellow-500 shadow-lg",children:[de.jsxs(gf,{to:"/dashboard",className:"flex items-center",onClick:()=>o(!1),children:[de.jsx("div",{className:"w-9 h-9 bg-white rounded-xl flex items-center justify-center mr-3 shadow-md",children:de.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),de.jsx("span",{className:"text-white font-bold text-xl drop-shadow-sm",children:"QC System"})]}),de.jsx("button",{onClick:()=>o(!1),className:"p-2 text-white hover:text-gray-200 transition-colors",children:de.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),de.jsx("nav",{className:"flex-1 px-4 py-4 overflow-y-auto",children:de.jsx("div",{className:"space-y-2",children:v.map(e=>{var t;return de.jsx("div",{className:"space-y-1",children:e.children?de.jsxs("div",{children:[de.jsxs("button",{onClick:()=>y(e.name),className:`\n                          w-full flex items-center justify-between px-4 py-2.5 text-sm font-medium rounded-xl transition-all duration-200\n                          ${j(e)?"bg-gradient-to-r from-orange-50 to-amber-50 text-orange-700 border-l-4 border-orange-500 shadow-md":"text-gray-700 hover:bg-gradient-to-r hover:from-orange-50/50 hover:to-yellow-50/50 hover:text-orange-600"}\n                        `,children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx("span",{className:"mr-3 transition-colors "+(j(e)?"text-orange-600":"text-gray-400"),children:e.icon}),de.jsx("span",{className:"truncate",children:e.name})]}),de.jsx("svg",{className:`w-4 h-4 transition-transform duration-300 ${d[e.name]?"rotate-90":""} ${j(e)?"text-orange-600":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),de.jsx("div",{className:`\n                        overflow-hidden transition-all duration-300 ease-in-out\n                        ${d[e.name]?"Reports"===e.name?"max-h-[800px] opacity-100":"max-h-96 opacity-100":"max-h-0 opacity-0"}\n                      `,children:de.jsx("div",{className:"ml-8 mt-2 space-y-1 border-l-2 border-orange-200 pl-4",children:null==(t=e.children)?void 0:t.map(e=>de.jsxs(gf,{to:e.href,onClick:()=>o(!1),className:`\n                                flex items-center px-3 py-2 text-sm rounded-lg transition-all duration-200\n                                ${w(e.href)?"bg-gradient-to-r from-orange-100 to-amber-100 text-orange-700 border-l-2 border-orange-600 shadow-sm font-medium":"text-gray-600 hover:bg-orange-50/50 hover:text-orange-600"}\n                              `,children:[e.icon&&de.jsx("span",{className:"mr-3 transition-colors "+(w(e.href)?"text-orange-600":"text-gray-400"),children:e.icon}),de.jsx("span",{className:"truncate",children:e.name})]},e.name))})})]}):de.jsxs(gf,{to:e.href,onClick:()=>o(!1),className:`\n                        flex items-center px-4 py-2.5 text-sm font-medium rounded-xl transition-all duration-200\n                        ${w(e.href)?"bg-gradient-to-r from-orange-50 to-amber-50 text-orange-700 border-l-4 border-orange-500 shadow-md":"text-gray-700 hover:bg-gradient-to-r hover:from-orange-50/50 hover:to-yellow-50/50 hover:text-orange-600"}\n                      `,children:[de.jsx("span",{className:"mr-3 transition-colors "+(w(e.href)?"text-orange-600":"text-gray-400"),children:e.icon}),de.jsx("span",{className:"truncate",children:e.name})]})},e.name)})})}),de.jsx("div",{className:"flex-shrink-0 p-4 border-t border-orange-100 bg-gradient-to-br from-orange-50/50 to-amber-50/50",children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-amber-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:de.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),de.jsxs("div",{className:"flex-1 min-w-0",children:[de.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:(null==r?void 0:r.username)||"admin"}),de.jsx("p",{className:"text-xs text-orange-600 capitalize font-medium",children:(null==r?void 0:r.role)||"Admin"})]})]})})]})]}),de.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden lg:ml-0",children:[de.jsxs("header",{className:"bg-gradient-to-r from-white via-orange-50/30 to-amber-50/30 backdrop-blur-md shadow-lg border-b-2 border-transparent bg-clip-padding relative overflow-hidden flex-shrink-0",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-100/20 via-amber-100/20 to-yellow-100/20 animate-shimmer pointer-events-none"}),de.jsxs("div",{className:"flex items-center justify-between px-4 py-4 relative z-10",children:[de.jsx("div",{className:"flex items-center lg:hidden",children:de.jsx("button",{onClick:()=>o(!i),className:"p-2 rounded-xl text-orange-500 hover:text-orange-700 hover:bg-gradient-to-r hover:from-orange-100 hover:to-amber-100 focus:outline-none focus:ring-2 focus:ring-orange-400 transition-all duration-300 hover:scale-110 shadow-sm hover:shadow-md",children:de.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})}),de.jsxs("div",{className:"hidden lg:block flex-1 max-w-2xl",children:[de.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-orange-600 via-amber-600 to-yellow-600 bg-clip-text text-transparent animate-fade-in-up drop-shadow-sm",children:(()=>{for(const e of v){if(e.href&&w(e.href))return e.name;if(e.children)for(const t of e.children)if(t.href&&w(t.href))return t.name}return"Sampling Inspection Control System"})()}),de.jsx("div",{className:"relative mt-1 overflow-hidden w-full bg-gradient-to-r from-orange-50/50 via-amber-50/50 to-yellow-50/50 rounded-lg px-3 py-1.5 border border-orange-200/50 shadow-sm",children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("span",{className:"text-orange-600 mr-2 flex-shrink-0 animate-bounce-subtle text-lg",children:""}),de.jsx("div",{className:"overflow-hidden flex-1",children:de.jsx("p",{className:"text-sm bg-gradient-to-r from-orange-700 via-amber-700 to-yellow-700 bg-clip-text text-transparent font-semibold whitespace-nowrap animate-marquee",children:p||"Welcome to Sampling Inspection Control System "})})]})})]}),de.jsx("div",{className:"hidden lg:block",children:de.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-blue-50 via-cyan-50 to-teal-50 px-4 py-2 rounded-xl border-2 border-blue-200/50 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105",children:[de.jsx("svg",{className:"w-5 h-5 text-blue-600 animate-pulse-slow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),de.jsx("span",{className:"text-sm font-bold bg-gradient-to-r from-blue-700 via-cyan-700 to-teal-700 bg-clip-text text-transparent tabular-nums",children:x})]})}),de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsxs("button",{className:"p-2.5 text-purple-500 hover:text-purple-700 relative transition-all duration-300 hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 rounded-xl shadow-sm hover:shadow-md hover:scale-110 group",children:[de.jsx("svg",{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"})}),de.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-gradient-to-br from-red-400 to-pink-600 rounded-full animate-pulse shadow-lg"}),de.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-400 rounded-full animate-ping"})]}),de.jsxs("button",{onClick:N,className:"hidden sm:flex items-center space-x-2 text-sm bg-gradient-to-r from-indigo-50 via-purple-50 to-pink-50 hover:from-indigo-100 hover:via-purple-100 hover:to-pink-100 transition-all duration-300 p-2.5 rounded-xl border-2 border-indigo-200/50 shadow-sm hover:shadow-md hover:scale-105",children:[de.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),de.jsx("span",{className:"text-indigo-700 font-medium",children:":"}),de.jsxs("span",{className:"font-bold bg-gradient-to-r from-indigo-700 via-purple-700 to-pink-700 bg-clip-text text-transparent",children:[(null==r?void 0:r.username)||"admin"," ",(null==r?void 0:r.name)||"Guest"," (",(null==r?void 0:r.position)||"QC",")"]})]}),de.jsxs("button",{onClick:()=>h(this,null,function*(){try{yield n()}catch(e){console.error("Logout failed:",e)}}),className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-xl bg-gradient-to-r from-red-50 via-orange-50 to-amber-50 border-2 border-red-200 text-red-700 hover:from-red-100 hover:via-orange-100 hover:to-amber-100 hover:border-red-400 hover:text-red-800 hover:shadow-lg hover:shadow-red-200/50 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-400 transition-all duration-300 shadow-md group",children:[de.jsx("svg",{className:"w-4 h-4 mr-2 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),de.jsx("span",{className:"hidden sm:inline font-semibold",children:"Logout"})]})]})]})]}),de.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gradient-to-br from-gray-50 via-orange-50/10 to-yellow-50/10",children:de.jsx("div",{className:"container mx-auto px-6 py-8",children:e})})]}),r&&de.jsx(lx,{isOpen:m,onClose:()=>{f(!1)},user:{id:r.id,username:r.username,email:r.email||"",name:r.name||"",role:r.role,position:r.position||"",is_active:null==(t=r.is_active)||t,work_shift:r.work_shift,team:r.team,linevi:r.linevi},showEditButton:!0,showPasswordReset:!0,allowRoleDisplay:!0,compactMode:!1,canEditRole:"admin"===r.role,onRefreshSession:()=>h(this,null,function*(){return console.log(" Refreshing session data from Layout..."),yield a(),console.log(" Session refreshed successfully, returning user:",r),r}),onSave:e=>h(this,null,function*(){try{if(console.log("Saving user updates:",e),!e.id)throw new Error("User ID is required");const t=yield yx.updateUser(e.id,{name:e.name,email:e.email,position:e.position,work_shift:e.work_shift,team:e.team,linevi:e.linevi});if(!t.success)throw new Error(t.message||"Failed to update profile");yield a(),console.log(" Profile updated successfully")}catch(t){throw console.error("Error updating user:",t),new Error(t instanceof Error?t.message:"Failed to update profile. Please try again.")}}),onPasswordChange:(e,t)=>h(this,null,function*(){try{console.log("Changing password for user:",e);const r=yield yx.changePassword(e,{currentPassword:t.currentPassword||"",newPassword:t.newPassword,confirmPassword:t.confirmPassword});if(!r.success)throw new Error(r.message||"Failed to change password");console.log(" Password changed successfully")}catch(r){throw console.error("Error changing password:",r),new Error(r instanceof Error?r.message:"Failed to change password. Please try again.")}})}),de.jsx("style",{children:"\n        @keyframes shimmer {\n          0% { transform: translateX(-100%); }\n          100% { transform: translateX(100%); }\n        }\n        .animate-shimmer {\n          animation: shimmer 3s infinite;\n        }\n\n        @keyframes marquee {\n          0% {\n            transform: translateX(0%);\n          }\n          100% {\n            transform: translateX(-100%);\n          }\n        }\n        .animate-marquee {\n          display: inline-block;\n          padding-left: 100%;\n          animation: marquee 10s linear infinite;\n        }\n        .animate-marquee:hover {\n          animation-play-state: paused;\n        }\n\n        /* Fade In Animations */\n        @keyframes fadeInUp {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes fadeInLeft {\n          from {\n            opacity: 0;\n            transform: translateX(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n\n        @keyframes pulse-slow {\n          0%, 100% {\n            opacity: 1;\n          }\n          50% {\n            opacity: 0.8;\n          }\n        }\n\n        @keyframes bounce-subtle {\n          0%, 100% {\n            transform: translateY(0);\n          }\n          50% {\n            transform: translateY(-3px);\n          }\n        }\n\n        @keyframes rotate-slow {\n          from {\n            transform: rotate(0deg);\n          }\n          to {\n            transform: rotate(360deg);\n          }\n        }\n\n        @keyframes glow {\n          0%, 100% {\n            box-shadow: 0 0 5px rgba(249, 115, 22, 0.3);\n          }\n          50% {\n            box-shadow: 0 0 15px rgba(249, 115, 22, 0.6);\n          }\n        }\n\n        .animate-fade-in-up {\n          animation: fadeInUp 0.5s ease-out forwards;\n        }\n\n        .animate-fade-in-left {\n          animation: fadeInLeft 0.5s ease-out forwards;\n        }\n\n        .animate-pulse-slow {\n          animation: pulse-slow 3s ease-in-out infinite;\n        }\n\n        .animate-bounce-subtle {\n          animation: bounce-subtle 2s ease-in-out infinite;\n        }\n\n        .animate-rotate-slow {\n          animation: rotate-slow 20s linear infinite;\n        }\n\n        .animate-glow {\n          animation: glow 2s ease-in-out infinite;\n        }\n\n        /* Stagger delays */\n        .delay-100 { animation-delay: 0.1s; }\n        .delay-200 { animation-delay: 0.2s; }\n        .delay-300 { animation-delay: 0.3s; }\n        .delay-400 { animation-delay: 0.4s; }\n        .delay-500 { animation-delay: 0.5s; }\n\n        /* Icon Color Classes */\n        .icon-dashboard { color: #3b82f6; }\n        .icon-customer { color: #8b5cf6; }\n        .icon-inspection { color: #10b981; }\n        .icon-master { color: #f59e0b; }\n        .icon-news { color: #06b6d4; }\n        .icon-users { color: #ec4899; }\n        .icon-reports { color: #ef4444; }\n        .icon-interface { color: #6366f1; }\n        .icon-settings { color: #64748b; }\n\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 6px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: #fef3c7;\n          border-radius: 10px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: linear-gradient(180deg, #f97316, #fb923c);\n          border-radius: 10px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: linear-gradient(180deg, #ea580c, #f97316);\n        }\n      "})]})}const kx=ee.createContext(void 0),Cx=()=>{const e=ee.useContext(kx);if(void 0===e)throw new Error("useNotifications must be used within a NotificationProvider");return e},Ex=({children:e})=>{const[t,r]=ee.useState([]),n=ee.useCallback(e=>{const t=Math.random().toString(36).substr(2,9),n=l({id:t,duration:5e3},e);return r(e=>[...e,n]),n.duration&&n.duration>0&&setTimeout(()=>{a(t)},n.duration),t},[]),a=ee.useCallback(e=>{r(t=>t.filter(t=>t.id!==e))},[]),s=ee.useCallback(()=>{r([])},[]),i={notifications:t,addNotification:n,removeNotification:a,clearAllNotifications:s};return de.jsxs(kx.Provider,{value:i,children:[e,de.jsx(Tx,{})]})},Tx=()=>{const{notifications:e,removeNotification:t}=Cx();return 0===e.length?null:de.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-3 max-w-sm w-full",children:e.map(e=>de.jsx(_x,{notification:e,onClose:()=>t(e.id)},e.id))})},_x=({notification:e,onClose:t})=>de.jsx("div",{className:`\n        ${(()=>{switch(e.type){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-primary-50 border-primary-200 text-primary-800"}})()}\n        p-4 rounded-lg border shadow-lg animate-slide-in-right\n        transform transition-all duration-300 hover:scale-105\n      `,children:de.jsxs("div",{className:"flex items-start",children:[de.jsx("div",{className:"flex-shrink-0 mr-3",children:(()=>{switch(e.type){case"success":return de.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"error":return de.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});case"warning":return de.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});default:return de.jsx("svg",{className:"w-5 h-5 text-primary-600",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}})()}),de.jsxs("div",{className:"flex-1 min-w-0",children:[de.jsx("h4",{className:"font-semibold text-sm",children:e.title}),e.message&&de.jsx("p",{className:"text-sm mt-1 opacity-90",children:e.message})]}),de.jsx("button",{onClick:t,className:"flex-shrink-0 ml-3 text-lg opacity-60 hover:opacity-100 transition-opacity duration-200",children:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),Ax=()=>{const{addNotification:e}=Cx();return{showSuccess:ee.useCallback((t,r)=>e({type:"success",title:t,message:r}),[e]),showError:ee.useCallback((t,r)=>e({type:"error",title:t,message:r,duration:8e3}),[e]),showWarning:ee.useCallback((t,r)=>e({type:"warning",title:t,message:r,duration:6e3}),[e]),showInfo:ee.useCallback((t,r)=>e({type:"info",title:t,message:r}),[e])}},Ix=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Px=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();
/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var Dx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=ee.forwardRef((e,t)=>{var r=e,{color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:h}=r,m=d(r,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return ee.createElement("svg",l(l(c(l({ref:t},Dx),{width:a,height:a,stroke:n,strokeWidth:i?24*Number(s)/Number(a):s,className:Px("lucide",o)}),!u&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"}),m),[...h.map(([e,t])=>ee.createElement(e,t)),...Array.isArray(u)?u:[u]])}),Lx=(e,t)=>{const r=ee.forwardRef((r,n)=>{var a,s=r,{className:i}=s,o=d(s,["className"]);return ee.createElement(Ox,l({ref:n,iconNode:t,className:Px(`lucide-${a=Ix(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i)},o))});return r.displayName=Ix(e),r},Rx=Lx("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Mx=Lx("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),Fx=Lx("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),$x=Lx("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Bx=Lx("microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]),Ux=Lx("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),zx=Lx("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Vx="http://tnhkdds-app01:8021",Wx="/api",qx=Number("60000")||3e4,Hx=!0,Qx=!1;
/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */console.log(" API Client Configuration:",{mode:"production",apiBaseUrl:Vx,apiPrefix:Wx,timeout:`${qx}ms`,isProduction:Hx,isDevelopment:Qx});const Gx=new class{buildUrl(e){if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=e.startsWith(Wx)?e:`${Wx}${e}`;return`${Vx}${t}`}fetchWithTimeout(e,t){return h(this,arguments,function*(e,t,r=qx){const n=new AbortController,a=setTimeout(()=>n.abort(),r);try{const r=yield fetch(e,c(l({},t),{signal:n.signal}));return clearTimeout(a),r}catch(s){if(clearTimeout(a),"AbortError"===s.name)throw new Error(`Request timeout after ${r}ms`);throw s}})}request(e){return h(this,arguments,function*(e,t={}){var r,n,a;const s=this.buildUrl(e),i=t.method||"GET",o=l({credentials:"include",headers:l({"Content-Type":"application/json"},t.headers)},t);try{const t=yield this.fetchWithTimeout(s,o),r=t.headers.get("content-type");let n;return n=r&&r.includes("application/json")?yield t.json():{success:t.ok},t.ok?n:(console.error(` ${i} ${e} - ${t.status}:`,n),{success:!1,message:n.message||`HTTP ${t.status}: ${t.statusText}`,error:n.error||"API_ERROR"})}catch(c){if(console.error(` ${i} ${e} - Error:`,c),null==(r=c.message)?void 0:r.includes("timeout"))return{success:!1,message:"Request timeout. The server took too long to respond.",error:"TIMEOUT_ERROR"};if((null==(n=c.message)?void 0:n.includes("fetch"))||(null==(a=c.message)?void 0:a.includes("Failed to fetch"))){return{success:!1,message:`Cannot connect to ${Vx}. Please check:\n- Is the server running?\n- Is the URL correct?\n- Are there network/firewall issues?`,error:"CONNECTION_ERROR"}}return{success:!1,message:c.message||"An unexpected error occurred",error:"NETWORK_ERROR"}}})}get(e,t){return h(this,null,function*(){let r=e;if(t){const n=new URLSearchParams;Object.entries(t).forEach(([e,t])=>{null!=t&&""!==t&&n.append(e,String(t))});const a=n.toString();a&&(r=`${e}?${a}`)}return this.request(r,{method:"GET"})})}post(e,t){return h(this,null,function*(){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})})}put(e,t){return h(this,null,function*(){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})})}delete(e){return h(this,null,function*(){return this.request(e,{method:"DELETE"})})}patch(e,t){return h(this,null,function*(){return this.request(e,{method:"PATCH",body:t?JSON.stringify(t):void 0})})}testConnection(){return h(this,null,function*(){try{const e=yield this.get("/health"),t=Vx?"Direct Connection":"Vite Proxy";return{connected:e.success,message:e.success?`Connected successfully (${t})`:e.message||"Health check failed",mode:t}}catch(e){return{connected:!1,message:`Connection failed: ${e instanceof Error?e.message:"Unknown error"}`,mode:"Unknown"}}})}getConfig(){return{baseUrl:Vx,prefix:Wx,timeout:qx,mode:"production",isProduction:Hx,isDevelopment:Qx}}},Yx=()=>{const[e,t]=ee.useState({username:"",password:"",rememberMe:!1}),[r,n]=ee.useState({}),[a,s]=ee.useState(!1),[i,o]=ee.useState(!1),[d,u]=ee.useState(""),[m,f]=ee.useState(!1),p=e=>h(void 0,null,function*(){var t,r;try{const a=yield Gx.post("/auth/login",{username:e.username,password:e.password,rememberMe:e.rememberMe});if(a.success&&(null==(t=a.data)?void 0:t.user))f(!0),u(`Welcome, ${a.data.user.username}!`),n({}),r=a.data.user.username,h(void 0,null,function*(){var e,t;try{console.log(" Triggering user check-in for username:",r);const e=yield Gx.post("/users/checkin",{username:r});e.success?(console.log(" User check-in completed successfully"),console.log(`   Message: ${e.message||"No message"}`),console.log("   Data:",e.data)):(console.warn(" User check-in failed"),console.warn(`   Message: ${e.message||"No message"}`),console.warn("   This may happen if no check-in data exists for this user in inf_checkin table"))}catch(n){console.error(" User check-in error:",{message:(null==n?void 0:n.message)||"Unknown error",response:null==(e=null==n?void 0:n.response)?void 0:e.data,status:null==(t=null==n?void 0:n.response)?void 0:t.status}),console.error("   Check-in will be skipped, but login will continue")}}),h(void 0,null,function*(){var e,t,r,n,a,s;try{console.log(" Checking if auto-import should run...");const i=yield Gx.get("/inf-checkin/sync");if(i.success&&(null==(e=i.data)?void 0:e.shouldImport)){console.log(" Starting auto-import for inf-checkin...");const e=yield Gx.post("/inf-checkin/import/auto");e.success?console.log(` Checkin auto-import completed: ${null==(t=e.data)?void 0:t.imported} records imported`):console.log(` Checkin auto-import warning: ${e.message}`)}else i.success?console.log(` Checkin import not needed yet: ${null==(r=i.data)?void 0:r.message}`):console.log(` Cannot check checkin import status: ${i.message}`);const o=yield Gx.get("/inf-lotinput/sync");if(o.success&&(null==(n=o.data)?void 0:n.shouldImport)){console.log(" Starting auto-import for inf-lotinput...");const e=yield Gx.post("/inf-lotinput/import",{});e.success?console.log(` Lotinput auto-import completed: ${null==(a=e.data)?void 0:a.imported} records imported`):console.log(` Lotinput auto-import warning: ${e.message}`)}else o.success?console.log(` Lotinput import not needed yet: ${null==(s=o.data)?void 0:s.message}`):console.log(` Cannot check lotinput import status: ${o.message}`)}catch(i){console.error(" Auto-import error:",i)}}),setTimeout(()=>{const e=sessionStorage.getItem("intendedPath")||"/dashboard";sessionStorage.removeItem("intendedPath"),window.location.href=e},1500);else{let e=a.message||"Login failed. Please try again.";(e.includes("Database connection")||e.includes("ENOTFOUND")||e.includes("getaddrinfo")||e.includes("connection test failed"))&&(e="Database connection error. The server cannot connect to the database. Please contact the system administrator."),n({general:e})}}catch(a){console.error("Login error:",a),n({general:"Network error. Please check your connection and try again."})}}),g=e=>{const{name:a,value:s,type:i,checked:o}=e.target;t(e=>c(l({},e),{[a]:"checkbox"===i?o:s})),r[a]&&n(e=>c(l({},e),{[a]:void 0})),r.general&&n(e=>c(l({},e),{general:void 0}))};return ee.useEffect(()=>{h(void 0,null,function*(){var e;try{const t=yield Gx.get("/auth/status");t.success&&(null==(e=t.data)?void 0:e.authenticated)&&t.data.user&&(f(!0),u(`Welcome back, ${t.data.user.username}! Redirecting...`),setTimeout(()=>{const e=sessionStorage.getItem("intendedPath")||"/dashboard";sessionStorage.removeItem("intendedPath"),window.location.href=e},1e3))}catch(t){console.log("Auth check - user not logged in")}})},[]),m?de.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50",children:[de.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[de.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-orange-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),de.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-amber-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),de.jsx("div",{className:"absolute -bottom-8 left-20 w-96 h-96 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),de.jsx("div",{className:"relative max-w-md w-full mx-4 animate-scale-in",children:de.jsx("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-2xl p-8 space-y-6 border border-white/20",children:de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:"flex justify-center mb-6 animate-bounce-in",children:de.jsx("div",{className:"p-4 bg-gradient-to-br from-orange-500 to-amber-600 rounded-2xl shadow-lg transform hover:scale-110 transition-transform duration-300 animate-pulse-custom",children:de.jsx(Bx,{className:"w-12 h-12 text-white animate-float",strokeWidth:1.5})})}),de.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent animate-fade-in delay-100",children:"Login Successful!"}),de.jsx("p",{className:"mt-3 text-gray-600 animate-fade-in delay-200",children:d}),de.jsx("div",{className:"mt-8 space-y-4 animate-fade-in delay-300",children:de.jsxs("button",{onClick:()=>window.location.href="/dashboard",className:"w-full group relative flex items-center justify-center py-4 px-6 bg-gradient-to-r from-orange-500 to-amber-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 animate-glow hover:scale-[1.02]",children:[de.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm0 10a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zm10-10a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zm0 10a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Go to Dashboard",de.jsx("svg",{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})})})]}):de.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50",children:[de.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[de.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-orange-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),de.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-amber-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),de.jsx("div",{className:"absolute -bottom-8 left-20 w-96 h-96 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),de.jsx("div",{className:"relative max-w-6xl w-full mx-4 animate-scale-in",children:de.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-3xl shadow-2xl overflow-hidden border border-white/20",children:de.jsxs("div",{className:"grid lg:grid-cols-2 min-h-[600px]",children:[de.jsxs("div",{className:"hidden lg:flex flex-col justify-center items-center p-12 bg-gradient-to-br from-orange-600 via-amber-600 to-yellow-700 text-white relative overflow-hidden",children:[de.jsxs("div",{className:"absolute inset-0 opacity-10",children:[de.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 border-2 border-white rounded-full"}),de.jsx("div",{className:"absolute bottom-10 right-10 w-40 h-40 border-2 border-white rounded-full"}),de.jsx("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 border-2 border-white rounded-full"})]}),de.jsxs("div",{className:"relative z-10 space-y-8 max-w-md",children:[de.jsx("div",{className:"flex justify-start animate-bounce-in",children:de.jsx("div",{className:"p-6 bg-white/20 backdrop-blur-sm rounded-3xl shadow-2xl transform hover:scale-110 transition-all duration-300 animate-pulse-custom",children:de.jsx(Bx,{className:"w-24 h-24 text-white animate-float",strokeWidth:1.5})})}),de.jsxs("div",{className:"text-left animate-slide-in-left delay-200",children:[de.jsxs("h1",{className:"text-4xl font-bold mb-4 leading-tight",children:["Sampling Inspection",de.jsx("br",{}),"Control System"]}),de.jsx("p",{className:"text-lg text-orange-100 leading-relaxed",children:"Advanced sampling inspection and quality assurance platform for precision manufacturing excellence"})]}),de.jsxs("div",{className:"pt-8 space-y-4",children:[de.jsxs("div",{className:"flex items-start space-x-3 animate-fade-in delay-300",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx("div",{className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-all duration-300 hover:scale-110",children:de.jsx(Mx,{className:"w-6 h-6 text-white",strokeWidth:2})})}),de.jsxs("div",{className:"flex-1",children:[de.jsx("h4",{className:"text-base font-semibold text-white mb-1",children:"Sampling Inspection Control"}),de.jsx("p",{className:"text-sm text-orange-100 leading-relaxed",children:"Streamlined quality control processes for efficient product inspection and defect tracking"})]})]}),de.jsxs("div",{className:"flex items-start space-x-3 animate-fade-in delay-400",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx("div",{className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-all duration-300 hover:scale-110",children:de.jsx(Rx,{className:"w-6 h-6 text-white",strokeWidth:2})})}),de.jsxs("div",{className:"flex-1",children:[de.jsx("h4",{className:"text-base font-semibold text-white mb-1",children:"Real-time Analytics"}),de.jsx("p",{className:"text-sm text-orange-100 leading-relaxed",children:"Comprehensive dashboards and reports for instant quality insights and trend analysis"})]})]}),de.jsxs("div",{className:"flex items-start space-x-3 animate-fade-in delay-500",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx("div",{className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-all duration-300 hover:scale-110",children:de.jsx(zx,{className:"w-6 h-6 text-white",strokeWidth:2})})}),de.jsxs("div",{className:"flex-1",children:[de.jsx("h4",{className:"text-base font-semibold text-white mb-1",children:"Team Collaboration"}),de.jsx("p",{className:"text-sm text-orange-100 leading-relaxed",children:"Multi-user platform with role-based access control and collaborative workflows"})]})]}),de.jsxs("div",{className:"flex items-start space-x-3 animate-fade-in delay-600",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx("div",{className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-all duration-300 hover:scale-110",children:de.jsx(Ux,{className:"w-6 h-6 text-white",strokeWidth:2})})}),de.jsxs("div",{className:"flex-1",children:[de.jsx("h4",{className:"text-base font-semibold text-white mb-1",children:"Secure & Compliant"}),de.jsx("p",{className:"text-sm text-orange-100 leading-relaxed",children:"Enterprise-grade security with compliance tracking and audit trails"})]})]})]})]})]}),de.jsxs("div",{className:"flex flex-col p-8 lg:p-12",children:[de.jsxs("div",{className:"lg:hidden text-center mb-6 animate-bounce-in",children:[de.jsx("div",{className:"flex justify-center mb-4",children:de.jsx("div",{className:"p-4 bg-gradient-to-br from-orange-500 to-amber-600 rounded-2xl shadow-lg animate-pulse-custom",children:de.jsx(Bx,{className:"w-12 h-12 text-white animate-float",strokeWidth:1.5})})}),de.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"Quality Control System"})]}),de.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[de.jsxs("div",{className:"mb-6 animate-slide-in-right",children:[de.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome Back"}),de.jsx("p",{className:"text-gray-600",children:"Sign in to access the quality control dashboard"})]}),r.general&&de.jsx("div",{className:"rounded-xl bg-red-50 border border-red-200 p-4 mb-6 animate-shake",children:de.jsxs("div",{className:"flex items-start",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:de.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),de.jsx("p",{className:"ml-3 text-sm font-medium text-red-800",children:r.general})]})}),de.jsxs("form",{onSubmit:t=>h(void 0,null,function*(){t.preventDefault();const r=(e=>{const t={};return e.username.trim()||(t.username="Username is required"),e.password||(t.password="Password is required"),t})(e);if(Object.keys(r).length>0)n(r);else{s(!0),n({});try{yield p(e)}finally{s(!1)}}}),className:"space-y-4",children:[de.jsxs("div",{className:"space-y-2 animate-fade-in delay-100",children:[de.jsx("label",{htmlFor:"username",className:"block text-sm font-semibold text-gray-700",children:"Username"}),de.jsxs("div",{className:"relative group",children:[de.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:de.jsx("svg",{className:"h-5 w-5 text-gray-400 group-focus-within:text-orange-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),de.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:e.username,onChange:g,className:"block w-full pl-12 pr-4 py-3 border rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 "+(r.username?"border-red-300 bg-red-50":"border-gray-200 bg-white hover:border-orange-300"),placeholder:"Enter your username",disabled:a})]}),r.username&&de.jsxs("p",{className:"text-sm text-red-600 flex items-center mt-1",children:[de.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.username]})]}),de.jsxs("div",{className:"space-y-2 animate-fade-in delay-200",children:[de.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700",children:"Password"}),de.jsxs("div",{className:"relative group",children:[de.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:de.jsx("svg",{className:"h-5 w-5 text-gray-400 group-focus-within:text-orange-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),de.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",value:e.password,onChange:g,className:"block w-full pl-12 pr-12 py-3 border rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 "+(r.password?"border-red-300 bg-red-50":"border-gray-200 bg-white hover:border-orange-300"),placeholder:"Enter your password",disabled:a}),de.jsx("button",{type:"button",onClick:()=>o(!i),disabled:a,className:"absolute inset-y-0 right-0 pr-4 flex items-center hover:scale-110 transition-transform",children:i?de.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):de.jsxs("svg",{className:"h-5 w-5 text-gray-400 hover:text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),r.password&&de.jsxs("p",{className:"text-sm text-red-600 flex items-center mt-1",children:[de.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.password]})]}),de.jsxs("div",{className:"flex items-center animate-fade-in delay-300",children:[de.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:e.rememberMe,onChange:g,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded cursor-pointer",disabled:a}),de.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-700 cursor-pointer select-none",children:"Remember me for 30 days"})]}),de.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex items-center justify-center py-4 px-6 text-white font-semibold rounded-xl shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all duration-200 animate-fade-in delay-400 "+(a?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-amber-600 hover:shadow-xl hover:-translate-y-0.5 hover:scale-[1.02] animate-glow"),children:a?de.jsxs(de.Fragment,{children:[de.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[de.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),de.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):de.jsxs(de.Fragment,{children:[de.jsx("span",{children:"Sign in"}),de.jsx("svg",{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})]}),de.jsxs("div",{className:"pt-8 mt-8 border-t border-gray-200 animate-fade-in delay-500",children:[de.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"About the System"}),de.jsxs("div",{className:"space-y-3",children:[de.jsxs("div",{className:"flex items-start space-x-3 animate-fade-in delay-600 hover:bg-orange-50 p-2 rounded-lg transition-all duration-300",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx("div",{className:"p-2 bg-orange-100 rounded-lg hover:bg-orange-200 hover:scale-110 transition-all duration-300",children:de.jsx(Fx,{className:"w-5 h-5 text-orange-600",strokeWidth:2})})}),de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Integration check-in from DBFVI"}),de.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Getting data FVI Machine Line No., QC Id and Name, QC Shift "})]})]}),de.jsx("a",{href:"/training",target:"_blank",className:"nav-link block",children:de.jsxs("div",{className:"flex items-start space-x-3 animate-fade-in delay-700 hover:bg-orange-50 p-2 rounded-lg transition-all duration-300 cursor-pointer",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx("div",{className:"p-2 bg-orange-100 rounded-lg hover:bg-orange-200 hover:scale-110 transition-all duration-300",children:de.jsx($x,{className:"w-5 h-5 text-orange-600",strokeWidth:2})})}),de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:" Training Materials"}),de.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Training Materials And User Guide"})]})]})}),de.jsxs("div",{className:"flex items-start space-x-3 animate-fade-in delay-700 hover:bg-orange-50 p-2 rounded-lg transition-all duration-300 cursor-pointer",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx("div",{className:"p-2 bg-orange-100 rounded-lg hover:bg-orange-200 hover:scale-110 transition-all duration-300",children:de.jsx(zx,{className:"w-5 h-5 text-orange-600",strokeWidth:2})})}),de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Guest Login "}),de.jsxs("p",{className:"text-xs text-gray-600 leading-relaxed",children:["Username: ",de.jsx("span",{className:"font-medium",children:"guest"})," | Password: ",de.jsx("span",{className:"font-medium",children:"guest1234"})]})]})]})]}),de.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 animate-fade-in delay-800",children:[de.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Quality Engineering Department"}),de.jsxs("p",{className:"text-xs text-gray-400 text-center mt-1",children:["Powered by ",de.jsx("span",{className:"font-semibold text-orange-600",children:"Tiger Solution Ltd.Co."})]})]})]})]})]})})}),de.jsx("style",{children:"\n        @keyframes blob {\n          0% { transform: translate(0px, 0px) scale(1); }\n          33% { transform: translate(30px, -50px) scale(1.1); }\n          66% { transform: translate(-20px, 20px) scale(0.9); }\n          100% { transform: translate(0px, 0px) scale(1); }\n        }\n        .animate-blob {\n          animation: blob 7s infinite;\n        }\n        .animation-delay-2000 {\n          animation-delay: 2s;\n        }\n        .animation-delay-4000 {\n          animation-delay: 4s;\n        }\n        @keyframes shake {\n          0%, 100% { transform: translateX(0); }\n          10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }\n          20%, 40%, 60%, 80% { transform: translateX(4px); }\n        }\n        .animate-shake {\n          animation: shake 0.5s;\n        }\n\n        /* Fade In Animation */\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        .animate-fade-in {\n          animation: fadeIn 0.6s ease-out forwards;\n        }\n\n        /* Slide In From Left */\n        @keyframes slideInLeft {\n          from {\n            opacity: 0;\n            transform: translateX(-100px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n        .animate-slide-in-left {\n          animation: slideInLeft 0.8s ease-out forwards;\n        }\n\n        /* Slide In From Right */\n        @keyframes slideInRight {\n          from {\n            opacity: 0;\n            transform: translateX(100px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n        .animate-slide-in-right {\n          animation: slideInRight 0.8s ease-out forwards;\n        }\n\n        /* Float Animation */\n        @keyframes float {\n          0%, 100% {\n            transform: translateY(0px);\n          }\n          50% {\n            transform: translateY(-20px);\n          }\n        }\n        .animate-float {\n          animation: float 3s ease-in-out infinite;\n        }\n\n        /* Pulse Animation */\n        @keyframes pulse {\n          0%, 100% {\n            transform: scale(1);\n            box-shadow: 0 0 0 0 rgba(249, 115, 22, 0.7);\n          }\n          50% {\n            transform: scale(1.05);\n            box-shadow: 0 0 0 10px rgba(249, 115, 22, 0);\n          }\n        }\n        .animate-pulse-custom {\n          animation: pulse 2s ease-in-out infinite;\n        }\n\n        /* Scale In Animation */\n        @keyframes scaleIn {\n          from {\n            opacity: 0;\n            transform: scale(0.8);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1);\n          }\n        }\n        .animate-scale-in {\n          animation: scaleIn 0.5s ease-out forwards;\n        }\n\n        /* Bounce In Animation */\n        @keyframes bounceIn {\n          0% {\n            opacity: 0;\n            transform: scale(0.3);\n          }\n          50% {\n            opacity: 1;\n            transform: scale(1.05);\n          }\n          70% {\n            transform: scale(0.9);\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n        .animate-bounce-in {\n          animation: bounceIn 0.6s ease-out forwards;\n        }\n\n        /* Rotate Animation */\n        @keyframes rotateIn {\n          from {\n            opacity: 0;\n            transform: rotate(-180deg) scale(0.5);\n          }\n          to {\n            opacity: 1;\n            transform: rotate(0deg) scale(1);\n          }\n        }\n        .animate-rotate-in {\n          animation: rotateIn 0.8s ease-out forwards;\n        }\n\n        /* Stagger Delay Classes */\n        .delay-100 { animation-delay: 0.1s; }\n        .delay-200 { animation-delay: 0.2s; }\n        .delay-300 { animation-delay: 0.3s; }\n        .delay-400 { animation-delay: 0.4s; }\n        .delay-500 { animation-delay: 0.5s; }\n        .delay-600 { animation-delay: 0.6s; }\n        .delay-700 { animation-delay: 0.7s; }\n        .delay-800 { animation-delay: 0.8s; }\n\n        /* Glow Animation */\n        @keyframes glow {\n          0%, 100% {\n            box-shadow: 0 0 5px rgba(249, 115, 22, 0.5);\n          }\n          50% {\n            box-shadow: 0 0 20px rgba(249, 115, 22, 0.8), 0 0 30px rgba(251, 146, 60, 0.6);\n          }\n        }\n        .animate-glow {\n          animation: glow 2s ease-in-out infinite;\n        }\n      "})]})};function Kx(e,t=6){const r=new Date(e);r.setHours(0,0,0,0);const n=r.getFullYear(),a=r.getMonth();let s;if(r.getDate(),5===a){const e=new Date(n,6,1);e.setHours(0,0,0,0);let a=(t-e.getDay()+7)%7;new Date(e).setDate(e.getDate()+a);const s=new Date(e);0===a?s.setDate(e.getDate()):(s.setDate(e.getDate()-(7-a+7)%7),s>=e&&s.setDate(s.getDate()-7));const i=new Date(n,5,30);for(;6!==i.getDay();)i.setDate(i.getDate()-1);if(r>=i)return 1}s=a>=6?new Date(n,6,1):new Date(n-1,6,1),s.setHours(0,0,0,0);let i=(t-s.getDay()+7)%7;const o=new Date(s);if(o.setDate(s.getDate()+i),o.setHours(0,0,0,0),r<o)return 1;const l=r.getTime()-o.getTime(),c=Math.floor(l/864e5),d=Math.floor(c/7)+2;return Math.max(1,Math.min(52,d))}function Xx(e,t=6){const r=new Date(e),n=r.getFullYear(),a=r.getMonth();if(5===a){const e=new Date(n,5,30);for(;6!==e.getDay();)e.setDate(e.getDate()-1);if(r>=e)return n}return a>=6?n+1:n}function Zx(e=""){const t=e.slice(-2),r=function(e){const t=String(e);if(4!==t.length||isNaN(Number(t)))return console.warn(`Invalid yearmonth format: ${e}. Expected YYYYMM format.`),String(e);const r=t.substring(0,2),n=t.substring(2,4),a=parseInt(n,10)-1;return a<0||a>11?(console.warn(`Invalid month in yearmonth: ${e}. Month should be 01-12.`),String(e)):`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a]}\`${r}`}(e.toString().substring(0,4));return"99"!==t?"WW"+t+" "+r:r}
/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Jx={version:"0.18.5"},eb=1252,tb=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],rb={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},nb=function(e){-1!=tb.indexOf(e)&&(eb=rb[0]=e)};var ab=function(e){nb(e)};function sb(){ab(1200),nb(1252)}function ib(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function ob(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var lb,cb=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return 255==t&&254==r?function(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}(e.slice(2)):254==t&&255==r?ob(e.slice(2)):65279==t?e.slice(1):e},db=function(e){return String.fromCharCode(e)},ub=function(e){return String.fromCharCode(e)},hb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function mb(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0,c=0;c<e.length;)s=(r=e.charCodeAt(c++))>>2,i=(3&r)<<4|(n=e.charCodeAt(c++))>>4,o=(15&n)<<2|(a=e.charCodeAt(c++))>>6,l=63&a,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=hb.charAt(s)+hb.charAt(i)+hb.charAt(o)+hb.charAt(l);return t}function fb(e){var t="",r=0,n=0,a=0,s=0,i=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)r=hb.indexOf(e.charAt(l++))<<2|(s=hb.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(r),n=(15&s)<<4|(i=hb.indexOf(e.charAt(l++)))>>2,64!==i&&(t+=String.fromCharCode(n)),a=(3&i)<<6|(o=hb.indexOf(e.charAt(l++))),64!==o&&(t+=String.fromCharCode(a));return t}var pb=function(){return"undefined"!=typeof Buffer&&"undefined"!=typeof process&&void 0!==process.versions&&!!process.versions.node}(),gb=function(){if("undefined"!=typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(xJ){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function xb(e){return pb?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function bb(e){return pb?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var vb=function(e){return pb?gb(e,"binary"):e.split("").map(function(e){return 255&e.charCodeAt(0)})};function yb(e){if("undefined"==typeof ArrayBuffer)return vb(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=255&e.charCodeAt(n);return t}function wb(e){if(Array.isArray(e))return e.map(function(e){return String.fromCharCode(e)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function jb(e){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(e instanceof ArrayBuffer)return jb(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Nb=pb?function(e){return Buffer.concat(e.map(function(e){return Buffer.isBuffer(e)?e:gb(e)}))}:function(e){if("undefined"!=typeof Uint8Array){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if("string"==typeof e[t])throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(e){return Array.isArray(e)?e:[].slice.call(e)}))};var Sb=/\u0000/g,kb=/[\u0001-\u0006]/g;function Cb(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Eb(e,t){var r=""+e;return r.length>=t?r:Bv("0",t-r.length)+r}function Tb(e,t){var r=""+e;return r.length>=t?r:Bv(" ",t-r.length)+r}function _b(e,t){var r=""+e;return r.length>=t?r:r+Bv(" ",t-r.length)}var Ab=Math.pow(2,32);function Ib(e,t){return e>Ab||e<-Ab?function(e,t){var r=""+Math.round(e);return r.length>=t?r:Bv("0",t-r.length)+r}(e,t):function(e,t){var r=""+e;return r.length>=t?r:Bv("0",t-r.length)+r}(Math.round(e),t)}function Pb(e,t){return t=t||0,e.length>=7+t&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var Db=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ob=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var Lb={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Rb={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Mb={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Fb(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,o=0,l=1,c=0,d=0,u=Math.floor(a);c<t&&(o=(u=Math.floor(a))*i+s,d=u*c+l,!(a-u<5e-8));)a=1/(a-u),s=i,i=o,l=c,c=d;if(d>t&&(c>t?(d=l,o=s):(d=c,o=i)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function $b(e,t,r){if(e>2958465||e<0)return null;var n=0|e,a=Math.floor(86400*(e-n)),s=0,i=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,86400==++a&&(o.T=a=0,++n,++o.D)),60===n)i=r?[1317,10,29]:[1900,2,29],s=3;else if(0===n)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=function(e,t){t[0]-=581;var r=e.getDay();e<60&&(r=(r+6)%7);return r}(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var Bb=new Date(1899,11,31,0,0,0),Ub=Bb.getTime(),zb=new Date(1900,2,1,0,0,0);function Vb(e,t){var r=e.getTime();return t?r-=1262304e5:e>=zb&&(r+=864e5),(r-(Ub+6e4*(e.getTimezoneOffset()-Bb.getTimezoneOffset())))/864e5}function Wb(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function qb(e){var t,r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=r>=-4&&r<=-1?e.toPrecision(10+r):Math.abs(r)<=9?function(e){var t=e<0?12:11,r=Wb(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10)).length<=t?r:e.toExponential(5)}(e):10===r?e.toFixed(10).substr(0,12):function(e){var t=Wb(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),Wb(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function Hb(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):qb(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return mv(14,Vb(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Qb(e,t,r,n){var a,s="",i=0,o=0,l=r.y,c=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:a=l%100,c=2;break;default:a=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:a=r.m,c=t.length;break;case 3:return Ob[r.m-1][1];case 5:return Ob[r.m-1][0];default:return Ob[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:a=r.d,c=t.length;break;case 3:return Db[r.q][0];default:return Db[r.q][1]}break;case 104:switch(t.length){case 1:case 2:a=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:a=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:a=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==r.u||"s"!=t&&"ss"!=t?(o=n>=2?3===n?1e3:100:1===n?10:1,(i=Math.round(o*(r.S+r.u)))>=60*o&&(i=0),"s"===t?0===i?"0":""+i/o:(s=Eb(i,2+n),"ss"===t?s.substr(0,2):"."+s.substr(2,t.length-1))):Eb(r.S,t.length);case 90:switch(t){case"[h]":case"[hh]":a=24*r.D+r.H;break;case"[m]":case"[mm]":a=60*(24*r.D+r.H)+r.M;break;case"[s]":case"[ss]":a=60*(60*(24*r.D+r.H)+r.M)+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:a=l,c=1}return c>0?Eb(a,c):""}function Gb(e){if(e.length<=3)return e;for(var t=e.length%3,r=e.substr(0,t);t!=e.length;t+=3)r+=(r.length>0?",":"")+e.substr(t,3);return r}var Yb=/%/g;function Kb(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+Kb(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),-1===(r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a)).indexOf("e")){var i=Math.floor(Math.log(t)*Math.LOG10E);for(-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);"0."===r.substr(0,2);)r=(r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,r,n){return t+r+n.substr(0,(a+s)%a)+"."+n.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Xb=/# (\?+)( ?)\/( ?)(\d+)/;var Zb=/^#*0*\.([0#]+)/,Jb=/\).*[0#]/,ev=/\(###\) ###\\?-####/;function tv(e){for(var t,r="",n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function rv(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function nv(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function av(e,t,r){if(40===e.charCodeAt(0)&&!t.match(Jb)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?av("n",n,r):"("+av("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return ov(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(Yb,""),a=t.length-n.length;return ov(e,n,r*Math.pow(10,2*a))+Bv("%",a)}(e,t,r);if(-1!==t.indexOf("E"))return Kb(t,r);if(36===t.charCodeAt(0))return"$"+av(e,t.substr(" "==t.charAt(1)?2:1),r);var a,s,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Ib(l,t.length);if(t.match(/^[#?]+$/))return"0"===(a=Ib(r,0))&&(a=""),a.length>t.length?a:tv(t.substr(0,t.length-a.length))+a;if(s=t.match(Xb))return function(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,o=n;return r+(0===s?"":""+s)+" "+(0===i?Bv(" ",e[1].length+1+e[4].length):Tb(i,e[1].length)+e[2]+"/"+e[3]+Eb(o,e[4].length))}(s,l,c);if(t.match(/^#+0+$/))return c+Ib(l,t.length-t.indexOf("0"));if(s=t.match(Zb))return a=rv(r,s[1].length).replace(/^([^\.]+)$/,"$1."+tv(s[1])).replace(/\.$/,"."+tv(s[1])).replace(/\.(\d*)$/,function(e,t){return"."+t+Bv("0",tv(s[1]).length-t.length)}),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+rv(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+Gb(Ib(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+av(e,t,-r):Gb(""+(Math.floor(r)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(r,s[1].length)))+"."+Eb(nv(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return av(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Cb(av(e,t.replace(/[\\-]/g,""),r)),i=0,Cb(Cb(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return i<a.length?a.charAt(i++):"0"===e?"0":""}));if(t.match(ev))return"("+(a=av(e,"##########",r)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=Fb(l,Math.pow(10,i)-1,!1),a=""+c," "==(d=ov("n",s[1],o[1])).charAt(d.length-1)&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],(d=_b(o[2],i)).length<s[4].length&&(d=tv(s[4].substr(s[4].length-d.length))+d),a+=d;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),c+((o=Fb(l,Math.pow(10,i)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?Tb(o[1],i)+s[2]+"/"+s[3]+_b(o[2],i):Bv(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Ib(r,0),t.length<=a.length?a:tv(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var u=t.indexOf(".")-i,h=t.length-a.length-u;return tv(t.substr(0,u)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=nv(r,s[1].length),r<0?"-"+av(e,t,-r):Gb(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?Eb(0,3-e.length):"")+e})+"."+Eb(i,s[1].length);switch(t){case"###,##0.00":return av(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Gb(Ib(l,0));return"0"!==m?c+m:"";case"###,###.00":return av(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return av(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function sv(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+sv(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),!(r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a)).match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,r,n){return t+r+n.substr(0,(a+s)%a)+"."+n.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function iv(e,t,r){if(40===e.charCodeAt(0)&&!t.match(Jb)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?iv("n",n,r):"("+iv("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return ov(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(Yb,""),a=t.length-n.length;return ov(e,n,r*Math.pow(10,2*a))+Bv("%",a)}(e,t,r);if(-1!==t.indexOf("E"))return sv(t,r);if(36===t.charCodeAt(0))return"$"+iv(e,t.substr(" "==t.charAt(1)?2:1),r);var a,s,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Eb(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,0===r&&(a=""),a.length>t.length?a:tv(t.substr(0,t.length-a.length))+a;if(s=t.match(Xb))return function(e,t,r){return r+(0===t?"":""+t)+Bv(" ",e[1].length+2+e[4].length)}(s,l,c);if(t.match(/^#+0+$/))return c+Eb(l,t.length-t.indexOf("0"));if(s=t.match(Zb))return a=(a=(""+r).replace(/^([^\.]+)$/,"$1."+tv(s[1])).replace(/\.$/,"."+tv(s[1]))).replace(/\.(\d*)$/,function(e,t){return"."+t+Bv("0",tv(s[1]).length-t.length)}),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+Gb(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+iv(e,t,-r):Gb(""+r)+"."+Bv("0",s[1].length);if(s=t.match(/^#,#*,#0/))return iv(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Cb(iv(e,t.replace(/[\\-]/g,""),r)),i=0,Cb(Cb(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return i<a.length?a.charAt(i++):"0"===e?"0":""}));if(t.match(ev))return"("+(a=iv(e,"##########",r)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=Fb(l,Math.pow(10,i)-1,!1),a=""+c," "==(d=ov("n",s[1],o[1])).charAt(d.length-1)&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],(d=_b(o[2],i)).length<s[4].length&&(d=tv(s[4].substr(s[4].length-d.length))+d),a+=d;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),c+((o=Fb(l,Math.pow(10,i)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?Tb(o[1],i)+s[2]+"/"+s[3]+_b(o[2],i):Bv(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:tv(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var u=t.indexOf(".")-i,h=t.length-a.length-u;return tv(t.substr(0,u)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+iv(e,t,-r):Gb(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?Eb(0,3-e.length):"")+e})+"."+Eb(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Gb(""+l);return"0"!==m?c+m:"";default:if(t.match(/\.[0#?]*$/))return iv(e,t.slice(0,t.lastIndexOf(".")),r)+tv(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ov(e,t,r){return(0|r)===r?iv(e,t,r):av(e,t,r)}var lv=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function cv(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Pb(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("/"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(n=r;"]"!==e.charAt(t++)&&t<e.length;)n+=e.charAt(t);if(n.match(lv))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||"\\"==r&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var dv=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function uv(e,t){if(null==t)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0}return!1}function hv(e,t){var r=function(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),!0===r)throw new Error("Format |"+e+"| unterminated string ");return t}(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if("number"!=typeof t)return[4,4===r.length||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"]}var s=t>0?r[0]:t<0?r[1]:r[2];if(-1===r[0].indexOf("[")&&-1===r[1].indexOf("["))return[n,s];if(null!=r[0].match(/\[[=<>]/)||null!=r[1].match(/\[[=<>]/)){var i=r[0].match(dv),o=r[1].match(dv);return uv(t,i)?[n,r[0]]:uv(t,o)?[n,r[1]]:[n,r[null!=i&&null!=o?2:1]]}return[n,s]}function mv(e,t,r){null==r&&(r={});var n="";switch(typeof e){case"string":n="m/d/yy"==e&&r.dateNF?r.dateNF:e;break;case"number":null==(n=14==e&&r.dateNF?r.dateNF:(null!=r.table?r.table:Lb)[e])&&(n=r.table&&r.table[Rb[e]]||Lb[Rb[e]]),null==n&&(n=Mb[e]||"General")}if(Pb(n,0))return Hb(t,r);t instanceof Date&&(t=Vb(t,r.date1904));var a=hv(n,t);if(Pb(a[1]))return Hb(t,r);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,r,n){for(var a,s,i,o=[],l="",c=0,d="",u="t",h="H";c<e.length;)switch(d=e.charAt(c)){case"G":if(!Pb(e,c))throw new Error("unrecognized character "+d+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(i=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(i);o[o.length]={t:"t",v:l},++c;break;case"\\":var m=e.charAt(++c),f="("===m||")"===m?m:"t";o[o.length]={t:f,v:m},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==a&&null==(a=$b(t,r,"2"===e.charAt(c+1))))return"";o[o.length]={t:"X",v:e.substr(c,2)},u=d,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==a&&null==(a=$b(t,r)))return"";for(l=d;++c<e.length&&e.charAt(c).toLowerCase()===d;)l+=d;"m"===d&&"h"===u.toLowerCase()&&(d="M"),"h"===d&&(d=h),o[o.length]={t:d,v:l},u=d;break;case"A":case"a":case"":var p={t:d,v:d};if(null==a&&(a=$b(t,r)),"A/P"===e.substr(c,3).toUpperCase()?(null!=a&&(p.v=a.H>=12?"P":"A"),p.t="T",h="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=a&&(p.v=a.H>=12?"PM":"AM"),p.t="T",c+=5,h="h"):"/"===e.substr(c,5).toUpperCase()?(null!=a&&(p.v=a.H>=12?"":""),p.t="T",c+=5,h="h"):(p.t="t",++c),null==a&&"T"===p.t)return"";o[o.length]=p,u=d;break;case"[":for(l=d;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(lv)){if(null==a&&null==(a=$b(t,r)))return"";o[o.length]={t:"Z",v:l.toLowerCase()},u=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",cv(e)||(o[o.length]={t:"t",v:l}));break;case".":if(null!=a){for(l=d;++c<e.length&&"0"===(d=e.charAt(c));)l+=d;o[o.length]={t:"s",v:l};break}case"0":case"#":for(l=d;++c<e.length&&"0#?.,E+-%".indexOf(d=e.charAt(c))>-1;)l+=d;o[o.length]={t:"n",v:l};break;case"?":for(l=d;e.charAt(++c)===d;)l+=d;o[o.length]={t:d,v:l},u=d;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":o[o.length]={t:1===n?"t":d,v:d},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=d;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:d,v:d},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d))throw new Error("unrecognized character "+d+" in "+e);o[o.length]={t:"t",v:d},++c}var g,x=0,b=0;for(c=o.length-1,u="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=h,u="h",x<1&&(x=1);break;case"s":(g=o[c].v.match(/\.0+$/))&&(b=Math.max(b,g[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":u=o[c].t;break;case"m":"s"===u&&(o[c].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&o[c].v.match(/[Hh]/)&&(x=1),x<2&&o[c].v.match(/[Mm]/)&&(x=2),x<3&&o[c].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M),a.M>=60&&(a.M=0,++a.H);break;case 2:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M)}var v,y="";for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=Qb(o[c].t.charCodeAt(0),o[c].v,a,b),o[c].t="t";break;case"n":case"?":for(v=c+1;null!=o[v]&&("?"===(d=o[v].t)||"D"===d||(" "===d||"t"===d)&&null!=o[v+1]&&("?"===o[v+1].t||"t"===o[v+1].t&&"/"===o[v+1].v)||"("===o[c].t&&(" "===d||"n"===d||")"===d)||"t"===d&&("/"===o[v].v||" "===o[v].v&&null!=o[v+1]&&"?"==o[v+1].t));)o[c].v+=o[v].v,o[v]={v:"",t:";"},++v;y+=o[c].v,c=v-1;break;case"G":o[c].t="t",o[c].v=Hb(t,r)}var w,j,N="";if(y.length>0){40==y.charCodeAt(0)?(w=t<0&&45===y.charCodeAt(0)?-t:t,j=ov("n",y,w)):(j=ov("n",y,w=t<0&&n>1?-t:t),w<0&&o[0]&&"t"==o[0].t&&(j=j.substr(1),o[0].v="-"+o[0].v)),v=j.length-1;var S=o.length;for(c=0;c<o.length;++c)if(null!=o[c]&&"t"!=o[c].t&&o[c].v.indexOf(".")>-1){S=c;break}var k=o.length;if(S===o.length&&-1===j.indexOf("E")){for(c=o.length-1;c>=0;--c)null!=o[c]&&-1!=="n?".indexOf(o[c].t)&&(v>=o[c].v.length-1?(v-=o[c].v.length,o[c].v=j.substr(v+1,o[c].v.length)):v<0?o[c].v="":(o[c].v=j.substr(0,v+1),v=-1),o[c].t="t",k=c);v>=0&&k<o.length&&(o[k].v=j.substr(0,v+1)+o[k].v)}else if(S!==o.length&&-1===j.indexOf("E")){for(v=j.indexOf(".")-1,c=S;c>=0;--c)if(null!=o[c]&&-1!=="n?".indexOf(o[c].t)){for(s=o[c].v.indexOf(".")>-1&&c===S?o[c].v.indexOf(".")-1:o[c].v.length-1,N=o[c].v.substr(s+1);s>=0;--s)v>=0&&("0"===o[c].v.charAt(s)||"#"===o[c].v.charAt(s))&&(N=j.charAt(v--)+N);o[c].v=N,o[c].t="t",k=c}for(v>=0&&k<o.length&&(o[k].v=j.substr(0,v+1)+o[k].v),v=j.indexOf(".")+1,c=S;c<o.length;++c)if(null!=o[c]&&(-1!=="n?(".indexOf(o[c].t)||c===S)){for(s=o[c].v.indexOf(".")>-1&&c===S?o[c].v.indexOf(".")+1:0,N=o[c].v.substr(0,s);s<o[c].v.length;++s)v<j.length&&(N+=j.charAt(v++));o[c].v=N,o[c].t="t",k=c}}}for(c=0;c<o.length;++c)null!=o[c]&&"n?".indexOf(o[c].t)>-1&&(w=n>1&&t<0&&c>0&&"-"===o[c-1].v?-t:t,o[c].v=ov(o[c].t,o[c].v,w),o[c].t="t");var C="";for(c=0;c!==o.length;++c)null!=o[c]&&(C+=o[c].v);return C}(a[1],t,r,a[0])}function fv(e,t){if("number"!=typeof t){t=+t||-1;for(var r=0;r<392;++r)if(null!=Lb[r]){if(Lb[r]==e){t=r;break}}else t<0&&(t=r);t<0&&(t=391)}return Lb[t]=e,t}function pv(e){for(var t=0;392!=t;++t)void 0!==e[t]&&fv(e[t],t)}function gv(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',Lb=e}var xv={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},bv=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var vv=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}();var r=function(e){var t=0,r=0,n=0,a="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)a[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=a[t]=r>>>8^e[255&r];var s=[];for(n=1;16!=n;++n)s[n-1]="undefined"!=typeof Int32Array?a.subarray(256*n,256*n+256):a.slice(256*n,256*n+256);return s}(t),n=r[0],a=r[1],s=r[2],i=r[3],o=r[4],l=r[5],c=r[6],d=r[7],u=r[8],h=r[9],m=r[10],f=r[11],p=r[12],g=r[13],x=r[14];return e.table=t,e.bstr=function(e,r){for(var n=-1^r,a=0,s=e.length;a<s;)n=n>>>8^t[255&(n^e.charCodeAt(a++))];return~n},e.buf=function(e,r){for(var b=-1^r,v=e.length-15,y=0;y<v;)b=x[e[y++]^255&b]^g[e[y++]^b>>8&255]^p[e[y++]^b>>16&255]^f[e[y++]^b>>>24]^m[e[y++]]^h[e[y++]]^u[e[y++]]^d[e[y++]]^c[e[y++]]^l[e[y++]]^o[e[y++]]^i[e[y++]]^s[e[y++]]^a[e[y++]]^n[e[y++]]^t[e[y++]];for(v+=15;y<v;)b=b>>>8^t[255&(b^e[y++])];return~b},e.str=function(e,r){for(var n=-1^r,a=0,s=e.length,i=0,o=0;a<s;)(i=e.charCodeAt(a++))<128?n=n>>>8^t[255&(n^i)]:i<2048?n=(n=n>>>8^t[255&(n^(192|i>>6&31))])>>>8^t[255&(n^(128|63&i))]:i>=55296&&i<57344?(i=64+(1023&i),o=1023&e.charCodeAt(a++),n=(n=(n=(n=n>>>8^t[255&(n^(240|i>>8&7))])>>>8^t[255&(n^(128|i>>2&63))])>>>8^t[255&(n^(128|o>>6&15|(3&i)<<4))])>>>8^t[255&(n^(128|63&o))]):n=(n=(n=n>>>8^t[255&(n^(224|i>>12&15))])>>>8^t[255&(n^(128|i>>6&63))])>>>8^t[255&(n^(128|63&i))];return~n},e}(),yv=function(){var e,t={};function r(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function n(e){if("/"==e.charAt(e.length-1))return n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function a(e,t){"string"==typeof t&&(t=new Date(t));var r=t.getHours();r=(r=r<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,r);var n=t.getFullYear()-1980;n=(n=n<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,n)}function s(e){Bw(e,0);for(var t={},r=0;e.l<=e.length-4;){var n=e.read_shift(2),a=e.read_shift(2),s=e.l+a,i={};if(21589===n)1&(r=e.read_shift(1))&&(i.mtime=e.read_shift(4)),a>5&&(2&r&&(i.atime=e.read_shift(4)),4&r&&(i.ctime=e.read_shift(4))),i.mtime&&(i.mt=new Date(1e3*i.mtime));e.l=s,t[n]=i}return t}function i(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return ne(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=j(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var r=t&&t.root||"",n=(pb&&Buffer.isBuffer(e)?e.toString("binary"):j(e)).split("\r\n"),a=0,s="";for(a=0;a<n.length;++a)if(s=n[a],/^Content-Location:/i.test(s)&&(s=s.slice(s.indexOf("file")),r||(r=s.slice(0,s.lastIndexOf("/")+1)),s.slice(0,r.length)!=r))for(;r.length>0&&(r=(r=r.slice(0,r.length-1)).slice(0,r.lastIndexOf("/")+1),s.slice(0,r.length)!=r););var i=(n[1]||"").match(/boundary="(.*?)"/);if(!i)throw new Error("MAD cannot find boundary");var o="--"+(i[1]||""),l=[],c=[],d={FileIndex:l,FullPaths:c};h(d);var u,m=0;for(a=0;a<n.length;++a){var f=n[a];f!==o&&f!==o+"--"||(m++&&ce(d,n.slice(u,a),r),u=a)}return d}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var r,n,a,s,i,o,m=512,f=[],p=e.slice(0,512);Bw(p,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(b,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(p);switch(r=g[0]){case 3:m=512;break;case 4:m=4096;break;case 0:if(0==g[1])return ne(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+r)}512!==m&&Bw(p=e.slice(0,m),28);var v=e.slice(0,m);!function(e,t){var r=9;switch(e.l+=2,r=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+r);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+r);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+r)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(p,r);var y=p.read_shift(4,"i");if(3===r&&0!==y)throw new Error("# Directory Sectors: Expected 0 saw "+y);p.l+=4,s=p.read_shift(4,"i"),p.l+=4,p.chk("00100000","Mini Stream Cutoff Size: "),i=p.read_shift(4,"i"),n=p.read_shift(4,"i"),o=p.read_shift(4,"i"),a=p.read_shift(4,"i");for(var w=-1,N=0;N<109&&!((w=p.read_shift(4,"i"))<0);++N)f[N]=w;var S=function(e,t){for(var r=Math.ceil(e.length/t)-1,n=[],a=1;a<r;++a)n[a-1]=e.slice(a*t,(a+1)*t);return n[r-1]=e.slice(r*t),n}(e,m);c(o,a,S,m,f);var k=function(e,t,r,n){var a=e.length,s=[],i=[],o=[],l=[],c=n-1,d=0,u=0,h=0,m=0;for(d=0;d<a;++d)if(o=[],(h=d+t)>=a&&(h-=a),!i[h]){l=[];var f=[];for(u=h;u>=0;){f[u]=!0,i[u]=!0,o[o.length]=u,l.push(e[u]);var p=r[Math.floor(4*u/n)];if(n<4+(m=4*u&c))throw new Error("FAT boundary crossed: "+u+" 4 "+n);if(!e[p])break;if(f[u=Pw(e[p],m)])break}s[h]={nodes:o,data:lw([l])}}return s}(S,s,f,m);k[s].name="!Directory",n>0&&i!==x&&(k[i].name="!MiniFAT"),k[f[0]].name="!FAT",k.fat_addrs=f,k.ssz=m;var C=[],E=[],T=[];!function(e,t,r,n,a,s,i,o){for(var c,h=0,m=n.length?2:0,f=t[e].data,p=0,g=0;p<f.length;p+=128){var b=f.slice(p,p+128);Bw(b,64),g=b.read_shift(2),c=dw(b,0,g-m),n.push(c);var v={name:c,type:b.read_shift(1),color:b.read_shift(1),L:b.read_shift(4,"i"),R:b.read_shift(4,"i"),C:b.read_shift(4,"i"),clsid:b.read_shift(16),state:b.read_shift(4,"i"),start:0,size:0};0!==b.read_shift(2)+b.read_shift(2)+b.read_shift(2)+b.read_shift(2)&&(v.ct=u(b,b.l-8)),0!==b.read_shift(2)+b.read_shift(2)+b.read_shift(2)+b.read_shift(2)&&(v.mt=u(b,b.l-8)),v.start=b.read_shift(4,"i"),v.size=b.read_shift(4,"i"),v.size<0&&v.start<0&&(v.size=v.type=0,v.start=x,v.name=""),5===v.type?(h=v.start,a>0&&h!==x&&(t[h].name="!StreamData")):v.size>=4096?(v.storage="fat",void 0===t[v.start]&&(t[v.start]=d(r,v.start,t.fat_addrs,t.ssz)),t[v.start].name=v.name,v.content=t[v.start].data.slice(0,v.size)):(v.storage="minifat",v.size<0?v.size=0:h!==x&&v.start!==x&&t[h]&&(v.content=l(v,t[h].data,(t[o]||{}).data))),v.content&&Bw(v.content,0),s[c]=v,i.push(v)}}(s,k,S,C,n,{},E,i),function(e,t,r){for(var n=0,a=0,s=0,i=0,o=0,l=r.length,c=[],d=[];n<l;++n)c[n]=d[n]=n,t[n]=r[n];for(;o<d.length;++o)a=e[n=d[o]].L,s=e[n].R,i=e[n].C,c[n]===n&&(-1!==a&&c[a]!==a&&(c[n]=c[a]),-1!==s&&c[s]!==s&&(c[n]=c[s])),-1!==i&&(c[i]=n),-1!==a&&n!=c[n]&&(c[a]=c[n],d.lastIndexOf(a)<o&&d.push(a)),-1!==s&&n!=c[n]&&(c[s]=c[n],d.lastIndexOf(s)<o&&d.push(s));for(n=1;n<l;++n)c[n]===n&&(-1!==s&&c[s]!==s?c[n]=c[s]:-1!==a&&c[a]!==a&&(c[n]=c[a]));for(n=1;n<l;++n)if(0!==e[n].type){if((o=n)!=c[o])do{o=c[o],t[n]=t[o]+"/"+t[n]}while(0!==o&&-1!==c[o]&&o!=c[o]);c[n]=-1}for(t[0]+="/",n=1;n<l;++n)2!==e[n].type&&(t[n]+="/")}(E,T,C),C.shift();var _={FileIndex:E,FullPaths:T};return t&&t.raw&&(_.raw={header:v,sectors:S}),_}function l(e,t,r){for(var n=e.start,a=e.size,s=[],i=n;r&&a>0&&i>=0;)s.push(t.slice(i*g,i*g+g)),a-=g,i=Pw(r,4*i);return 0===s.length?zw(0):Nb(s).slice(0,e.size)}function c(e,t,r,n,a){var s=x;if(e===x){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var i=r[e],o=(n>>>2)-1;if(!i)return;for(var l=0;l<o&&(s=Pw(i,4*l))!==x;++l)a.push(s);c(Pw(i,n-4),t-1,r,n,a)}}function d(e,t,r,n,a){var s=[],i=[];a||(a=[]);var o=n-1,l=0,c=0;for(l=t;l>=0;){a[l]=!0,s[s.length]=l,i.push(e[l]);var d=r[Math.floor(4*l/n)];if(n<4+(c=4*l&o))throw new Error("FAT boundary crossed: "+l+" 4 "+n);if(!e[d])break;l=Pw(e[d],c)}return{nodes:s,data:lw([i])}}function u(e,t){return new Date(1e3*(Iw(e,t+4)/1e7*Math.pow(2,32)+Iw(e,t)/1e7-11644473600))}function h(e,t){var r=t||{},n=r.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=n+"/",e.FileIndex[0]={name:n,type:5}),r.CLSID&&(e.FileIndex[0].clsid=r.CLSID),function(e){var t="Sh33tJ5";if(yv.find(e,"/"+t))return;var r=zw(4);r[0]=55,r[1]=r[3]=50,r[2]=54,e.FileIndex.push({name:t,type:2,content:r,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),m(e)}(e)}function m(e,t){h(e);for(var a=!1,s=!1,i=e.FullPaths.length-1;i>=0;--i){var o=e.FileIndex[i];switch(o.type){case 0:s?a=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:s=!0,isNaN(o.R*o.L*o.C)&&(a=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(a=!0);break;default:a=!0}}if(a||t){var l=new Date(1987,1,19),c=0,d=Object.create?Object.create(null):{},u=[];for(i=0;i<e.FullPaths.length;++i)d[e.FullPaths[i]]=!0,0!==e.FileIndex[i].type&&u.push([e.FullPaths[i],e.FileIndex[i]]);for(i=0;i<u.length;++i){var m=r(u[i][0]);(s=d[m])||(u.push([m,{name:n(m).replace("/",""),type:1,clsid:y,ct:l,mt:l,content:null}]),d[m]=!0)}for(u.sort(function(e,t){return function(e,t){for(var r=e.split("/"),n=t.split("/"),a=0,s=0,i=Math.min(r.length,n.length);a<i;++a){if(s=r[a].length-n[a].length)return s;if(r[a]!=n[a])return r[a]<n[a]?-1:1}return r.length-n.length}(e[0],t[0])}),e.FullPaths=[],e.FileIndex=[],i=0;i<u.length;++i)e.FullPaths[i]=u[i][0],e.FileIndex[i]=u[i][1];for(i=0;i<u.length;++i){var f=e.FileIndex[i],p=e.FullPaths[i];if(f.name=n(p).replace("/",""),f.L=f.R=f.C=-(f.color=1),f.size=f.content?f.content.length:0,f.start=0,f.clsid=f.clsid||y,0===i)f.C=u.length>1?1:-1,f.size=0,f.type=5;else if("/"==p.slice(-1)){for(c=i+1;c<u.length&&r(e.FullPaths[c])!=p;++c);for(f.C=c>=u.length?-1:c,c=i+1;c<u.length&&r(e.FullPaths[c])!=r(p);++c);f.R=c>=u.length?-1:c,f.type=1}else r(e.FullPaths[i+1]||"")==r(p)&&(f.R=i+1),f.type=2}}}function f(e,t){var r=t||{};if("mad"==r.fileType)return function(e,t){for(var r=t||{},n=r.boundary||"SheetJS",a=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(n="------="+n).slice(2)+'"',"","",""],s=e.FullPaths[0],i=s,o=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(i=e.FullPaths[l].slice(s.length),(o=e.FileIndex[l]).size&&o.content&&"Sh33tJ5"!=i){i=i.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"});for(var c=o.content,d=pb&&Buffer.isBuffer(c)?c.toString("binary"):j(c),u=0,h=Math.min(1024,d.length),m=0,f=0;f<=h;++f)(m=d.charCodeAt(f))>=32&&m<128&&++u;var p=u>=4*h/5;a.push(n),a.push("Content-Location: "+(r.root||"file:///C:/SheetJS/")+i),a.push("Content-Transfer-Encoding: "+(p?"quoted-printable":"base64")),a.push("Content-Type: "+ie(o,i)),a.push(""),a.push(p?le(d):oe(d))}return a.push(n+"--\r\n"),a.join("\r\n")}(e,r);if(m(e),"zip"===r.fileType)return function(e,t){var r=t||{},n=[],s=[],i=zw(1),o=r.compression?8:0,l=0,c=0,d=0,u=0,h=0,m=e.FullPaths[0],f=m,p=e.FileIndex[0],g=[],x=0;for(c=1;c<e.FullPaths.length;++c)if(f=e.FullPaths[c].slice(m.length),(p=e.FileIndex[c]).size&&p.content&&"Sh33tJ5"!=f){var b=u,v=zw(f.length);for(d=0;d<f.length;++d)v.write_shift(1,127&f.charCodeAt(d));v=v.slice(0,v.l),g[h]=vv.buf(p.content,0);var y=p.content;8==o&&(y=N(y)),(i=zw(30)).write_shift(4,67324752),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,o),p.mt?a(i,p.mt):i.write_shift(4,0),i.write_shift(-4,g[h]),i.write_shift(4,y.length),i.write_shift(4,p.content.length),i.write_shift(2,v.length),i.write_shift(2,0),u+=i.length,n.push(i),u+=v.length,n.push(v),u+=y.length,n.push(y),(i=zw(46)).write_shift(4,33639248),i.write_shift(2,0),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,o),i.write_shift(4,0),i.write_shift(-4,g[h]),i.write_shift(4,y.length),i.write_shift(4,p.content.length),i.write_shift(2,v.length),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i.write_shift(4,b),x+=i.l,s.push(i),x+=v.length,s.push(v),++h}return i=zw(22),i.write_shift(4,101010256),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,h),i.write_shift(2,h),i.write_shift(4,x),i.write_shift(4,u),i.write_shift(2,0),Nb([Nb(n),Nb(s),i])}(e,r);var n=function(e){for(var t=0,r=0,n=0;n<e.FileIndex.length;++n){var a=e.FileIndex[n];if(a.content){var s=a.content.length;s>0&&(s<4096?t+=s+63>>6:r+=s+511>>9)}}for(var i=e.FullPaths.length+3>>2,o=t+127>>7,l=(t+7>>3)+r+i+o,c=l+127>>7,d=c<=109?0:Math.ceil((c-109)/127);l+c+d+127>>7>c;)d=++c<=109?0:Math.ceil((c-109)/127);var u=[1,d,c,o,i,r,t,0];return e.FileIndex[0].size=t<<6,u[7]=(e.FileIndex[0].start=u[0]+u[1]+u[2]+u[3]+u[4]+u[5])+(u[6]+7>>3),u}(e),s=zw(n[7]<<9),i=0,o=0;for(i=0;i<8;++i)s.write_shift(1,v[i]);for(i=0;i<8;++i)s.write_shift(2,0);for(s.write_shift(2,62),s.write_shift(2,3),s.write_shift(2,65534),s.write_shift(2,9),s.write_shift(2,6),i=0;i<3;++i)s.write_shift(2,0);for(s.write_shift(4,0),s.write_shift(4,n[2]),s.write_shift(4,n[0]+n[1]+n[2]+n[3]-1),s.write_shift(4,0),s.write_shift(4,4096),s.write_shift(4,n[3]?n[0]+n[1]+n[2]-1:x),s.write_shift(4,n[3]),s.write_shift(-4,n[1]?n[0]-1:x),s.write_shift(4,n[1]),i=0;i<109;++i)s.write_shift(-4,i<n[2]?n[1]+i:-1);if(n[1])for(o=0;o<n[1];++o){for(;i<236+127*o;++i)s.write_shift(-4,i<n[2]?n[1]+i:-1);s.write_shift(-4,o===n[1]-1?x:o+1)}var l=function(e){for(o+=e;i<o-1;++i)s.write_shift(-4,i+1);e&&(++i,s.write_shift(-4,x))};for(o=i=0,o+=n[1];i<o;++i)s.write_shift(-4,w.DIFSECT);for(o+=n[2];i<o;++i)s.write_shift(-4,w.FATSECT);l(n[3]),l(n[4]);for(var c=0,d=0,u=e.FileIndex[0];c<e.FileIndex.length;++c)(u=e.FileIndex[c]).content&&((d=u.content.length)<4096||(u.start=o,l(d+511>>9)));for(l(n[6]+7>>3);511&s.l;)s.write_shift(-4,w.ENDOFCHAIN);for(o=i=0,c=0;c<e.FileIndex.length;++c)(u=e.FileIndex[c]).content&&(!(d=u.content.length)||d>=4096||(u.start=o,l(d+63>>6)));for(;511&s.l;)s.write_shift(-4,w.ENDOFCHAIN);for(i=0;i<n[4]<<2;++i){var h=e.FullPaths[i];if(h&&0!==h.length){u=e.FileIndex[i],0===i&&(u.start=u.size?u.start-1:x);var f=0===i&&r.root||u.name;if(d=2*(f.length+1),s.write_shift(64,f,"utf16le"),s.write_shift(2,d),s.write_shift(1,u.type),s.write_shift(1,u.color),s.write_shift(-4,u.L),s.write_shift(-4,u.R),s.write_shift(-4,u.C),u.clsid)s.write_shift(16,u.clsid,"hex");else for(c=0;c<4;++c)s.write_shift(4,0);s.write_shift(4,u.state||0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,u.start),s.write_shift(4,u.size),s.write_shift(4,0)}else{for(c=0;c<17;++c)s.write_shift(4,0);for(c=0;c<3;++c)s.write_shift(4,-1);for(c=0;c<12;++c)s.write_shift(4,0)}}for(i=1;i<e.FileIndex.length;++i)if((u=e.FileIndex[i]).size>=4096)if(s.l=u.start+1<<9,pb&&Buffer.isBuffer(u.content))u.content.copy(s,s.l,0,u.size),s.l+=u.size+511&-512;else{for(c=0;c<u.size;++c)s.write_shift(1,u.content[c]);for(;511&c;++c)s.write_shift(1,0)}for(i=1;i<e.FileIndex.length;++i)if((u=e.FileIndex[i]).size>0&&u.size<4096)if(pb&&Buffer.isBuffer(u.content))u.content.copy(s,s.l,0,u.size),s.l+=u.size+63&-64;else{for(c=0;c<u.size;++c)s.write_shift(1,u.content[c]);for(;63&c;++c)s.write_shift(1,0)}if(pb)s.l=s.length;else for(;s.l<s.length;)s.write_shift(1,0);return s}t.version="1.2.1";var p,g=64,x=-2,b="d0cf11e0a1b11ae1",v=[208,207,17,224,161,177,26,225],y="00000000000000000000000000000000",w={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:x,FREESECT:-1,HEADER_SIGNATURE:b,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:y,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function j(e){for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function N(e){return p?p.deflateRawSync(e):G(e)}var S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function E(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var T="undefined"!=typeof Uint8Array,_=T?new Uint8Array(256):[],A=0;A<256;++A)_[A]=E(A);function I(e,t){var r=_[255&e];return t<=8?r>>>8-t:(r=r<<8|_[e>>8&255],t<=16?r>>>16-t:(r=r<<8|_[e>>16&255])>>>24-t)}function P(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=6?0:e[n+1]<<8))>>>r&3}function D(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=5?0:e[n+1]<<8))>>>r&7}function O(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=3?0:e[n+1]<<8))>>>r&31}function L(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=1?0:e[n+1]<<8))>>>r&127}function R(e,t,r){var n=7&t,a=t>>>3,s=(1<<r)-1,i=e[a]>>>n;return r<8-n?i&s:(i|=e[a+1]<<8-n,r<16-n?i&s:(i|=e[a+2]<<16-n,r<24-n?i&s:(i|=e[a+3]<<24-n)&s))}function M(e,t,r){var n=7&t,a=t>>>3;return n<=5?e[a]|=(7&r)<<n:(e[a]|=r<<n&255,e[a+1]=(7&r)>>8-n),t+3}function F(e,t,r){return r=(1&r)<<(7&t),e[t>>>3]|=r,t+1}function $(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=r,t+8}function B(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=255&r,e[n+2]=r>>>8,t+16}function U(e,t){var r=e.length,n=2*r>t?2*r:t+5,a=0;if(r>=t)return e;if(pb){var s=bb(n);if(e.copy)e.copy(s);else for(;a<e.length;++a)s[a]=e[a];return s}if(T){var i=new Uint8Array(n);if(i.set)i.set(e);else for(;a<r;++a)i[a]=e[a];return i}return e.length=n,e}function z(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=0;return t}function V(e,t,r){var n=1,a=0,s=0,i=0,o=0,l=e.length,c=T?new Uint16Array(32):z(32);for(s=0;s<32;++s)c[s]=0;for(s=l;s<r;++s)e[s]=0;l=e.length;var d=T?new Uint16Array(l):z(l);for(s=0;s<l;++s)c[a=e[s]]++,n<a&&(n=a),d[s]=0;for(c[0]=0,s=1;s<=n;++s)c[s+16]=o=o+c[s-1]<<1;for(s=0;s<l;++s)0!=(o=e[s])&&(d[s]=c[o+16]++);var u=0;for(s=0;s<l;++s)if(0!=(u=e[s]))for(o=I(d[s],n)>>n-u,i=(1<<n+4-u)-1;i>=0;--i)t[o|i<<u]=15&u|s<<4;return n}var W=T?new Uint16Array(512):z(512),q=T?new Uint16Array(32):z(32);if(!T){for(var H=0;H<512;++H)W[H]=0;for(H=0;H<32;++H)q[H]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);V(e,q,32);var r=[];for(t=0;t<=143;t++)r.push(8);for(;t<=255;t++)r.push(9);for(;t<=279;t++)r.push(7);for(;t<=287;t++)r.push(8);V(r,W,288)}();var Q=function(){for(var e=T?new Uint8Array(32768):[],t=0,r=0;t<C.length-1;++t)for(;r<C[t+1];++r)e[r]=t;for(;r<32768;++r)e[r]=29;var n=T?new Uint8Array(259):[];for(t=0,r=0;t<k.length-1;++t)for(;r<k[t+1];++r)n[r]=t;return function(t,r){return t.length<8?function(e,t){for(var r=0;r<e.length;){var n=Math.min(65535,e.length-r),a=r+n==e.length;for(t.write_shift(1,+a),t.write_shift(2,n),t.write_shift(2,65535&~n);n-- >0;)t[t.l++]=e[r++]}return t.l}(t,r):function(t,r){for(var a=0,s=0,i=T?new Uint16Array(32768):[];s<t.length;){var o=Math.min(65535,t.length-s);if(o<10){for(7&(a=M(r,a,+!(s+o!=t.length)))&&(a+=8-(7&a)),r.l=a/8|0,r.write_shift(2,o),r.write_shift(2,65535&~o);o-- >0;)r[r.l++]=t[s++];a=8*r.l}else{a=M(r,a,+!(s+o!=t.length)+2);for(var l=0;o-- >0;){var c=t[s],d=-1,u=0;if((d=i[l=32767&(l<<5^c)])&&((d|=-32768&s)>s&&(d-=32768),d<s))for(;t[d+u]==t[s+u]&&u<250;)++u;if(u>2){(c=n[u])<=22?a=$(r,a,_[c+1]>>1)-1:($(r,a,3),$(r,a+=5,_[c-23]>>5),a+=3);var h=c<8?0:c-4>>2;h>0&&(B(r,a,u-k[c]),a+=h),c=e[s-d],a=$(r,a,_[c]>>3),a-=3;var m=c<4?0:c-2>>1;m>0&&(B(r,a,s-d-C[c]),a+=m);for(var f=0;f<u;++f)i[l]=32767&s,l=32767&(l<<5^t[s]),++s;o-=u-1}else c<=143?c+=48:a=F(r,a,1),a=$(r,a,_[c]),i[l]=32767&s,++s}a=$(r,a,0)-1}}return r.l=(a+7)/8|0,r.l}(t,r)}}();function G(e){var t=zw(50+Math.floor(1.1*e.length)),r=Q(e,t);return t.slice(0,r)}var Y=T?new Uint16Array(32768):z(32768),K=T?new Uint16Array(32768):z(32768),X=T?new Uint16Array(128):z(128),Z=1,J=1;function ee(e,t){var r=O(e,t)+257,n=O(e,t+=5)+1,a=function(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=4?0:e[n+1]<<8))>>>r&15}(e,t+=5)+4;t+=4;for(var s=0,i=T?new Uint8Array(19):z(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=T?new Uint8Array(8):z(8),d=T?new Uint8Array(8):z(8),u=i.length,h=0;h<a;++h)i[S[h]]=s=D(e,t),l<s&&(l=s),c[s]++,t+=3;var m=0;for(c[0]=0,h=1;h<=l;++h)d[h]=m=m+c[h-1]<<1;for(h=0;h<u;++h)0!=(m=i[h])&&(o[h]=d[m]++);var f=0;for(h=0;h<u;++h)if(0!=(f=i[h])){m=_[o[h]]>>8-f;for(var p=(1<<7-f)-1;p>=0;--p)X[m|p<<f]=7&f|h<<3}var g=[];for(l=1;g.length<r+n;)switch(t+=7&(m=X[L(e,t)]),m>>>=3){case 16:for(s=3+P(e,t),t+=2,m=g[g.length-1];s-- >0;)g.push(m);break;case 17:for(s=3+D(e,t),t+=3;s-- >0;)g.push(0);break;case 18:for(s=11+L(e,t),t+=7;s-- >0;)g.push(0);break;default:g.push(m),l<m&&(l=m)}var x=g.slice(0,r),b=g.slice(r);for(h=r;h<286;++h)x[h]=0;for(h=n;h<30;++h)b[h]=0;return Z=V(x,Y,286),J=V(b,K,30),t}function te(e,t){var r=function(e,t){if(3==e[0]&&!(3&e[1]))return[xb(t),2];for(var r=0,n=0,a=bb(t||1<<18),s=0,i=a.length>>>0,o=0,l=0;!(1&n);)if(n=D(e,r),r+=3,n>>>1!=0)for(n>>1==1?(o=9,l=5):(r=ee(e,r),o=Z,l=J);;){!t&&i<s+32767&&(i=(a=U(a,s+32767)).length);var c=R(e,r,o),d=n>>>1==1?W[c]:Y[c];if(r+=15&d,(d>>>=4)>>>8&255){if(256==d)break;var u=(d-=257)<8?0:d-4>>2;u>5&&(u=0);var h=s+k[d];u>0&&(h+=R(e,r,u),r+=u),c=R(e,r,l),r+=15&(d=n>>>1==1?q[c]:K[c]);var m=(d>>>=4)<4?0:d-2>>1,f=C[d];for(m>0&&(f+=R(e,r,m),r+=m),!t&&i<h&&(i=(a=U(a,h+100)).length);s<h;)a[s]=a[s-f],++s}else a[s++]=d}else{7&r&&(r+=8-(7&r));var p=e[r>>>3]|e[(r>>>3)+1]<<8;if(r+=32,p>0)for(!t&&i<s+p&&(i=(a=U(a,s+p)).length);p-- >0;)a[s++]=e[r>>>3],r+=8}return t?[a,r+7>>>3]:[a.slice(0,s),r+7>>>3]}(e.slice(e.l||0),t);return e.l+=r[1],r[0]}function re(e,t){if(!e)throw new Error(t);"undefined"!=typeof console&&console.error(t)}function ne(e,t){var r=e;Bw(r,0);var n={FileIndex:[],FullPaths:[]};h(n,{root:t.root});for(var a=r.length-4;(80!=r[a]||75!=r[a+1]||5!=r[a+2]||6!=r[a+3])&&a>=0;)--a;r.l=a+4,r.l+=4;var i=r.read_shift(2);r.l+=6;var o=r.read_shift(4);for(r.l=o,a=0;a<i;++a){r.l+=20;var l=r.read_shift(4),c=r.read_shift(4),d=r.read_shift(2),u=r.read_shift(2),m=r.read_shift(2);r.l+=8;var f=r.read_shift(4),p=s(r.slice(r.l+d,r.l+d+u));r.l+=d+u+m;var g=r.l;r.l=f+4,ae(r,l,c,n,p),r.l=g}return n}function ae(e,t,r,n,a){e.l+=2;var i=e.read_shift(2),o=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),r=65535&e.read_shift(2),n=new Date,a=31&r,s=15&(r>>>=5);r>>>=4,n.setMilliseconds(0),n.setFullYear(r+1980),n.setMonth(s-1),n.setDate(a);var i=31&t,o=63&(t>>>=5);return t>>>=6,n.setHours(t),n.setMinutes(o),n.setSeconds(i<<1),n}(e);if(8257&i)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),d=e.read_shift(4),u=e.read_shift(2),h=e.read_shift(2),m="",f=0;f<u;++f)m+=String.fromCharCode(e[e.l++]);if(h){var g=s(e.slice(e.l,e.l+h));(g[21589]||{}).mt&&(l=g[21589].mt),((a||{})[21589]||{}).mt&&(l=a[21589].mt)}e.l+=h;var x=e.slice(e.l,e.l+c);switch(o){case 8:x=function(e,t){if(!p)return te(e,t);var r=new(0,p.InflateRaw),n=r._processChunk(e.slice(e.l),r._finishFlushFlag);return e.l+=r.bytesRead,n}(e,d);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var b=!1;8&i&&(134695760==e.read_shift(4)&&(e.read_shift(4),b=!0),c=e.read_shift(4),d=e.read_shift(4)),c!=t&&re(b,"Bad compressed size: "+t+" != "+c),d!=r&&re(b,"Bad uncompressed size: "+r+" != "+d),de(n,m,x,{unsafe:!0,mt:l})}var se={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ie(e,t){if(e.ctype)return e.ctype;var r=e.name||"",n=r.match(/\.([^\.]+)$/);return n&&se[n[1]]||t&&(n=(r=t).match(/[\.\\]([^\.\\])+$/))&&se[n[1]]?se[n[1]]:"application/octet-stream"}function oe(e){for(var t=mb(e),r=[],n=0;n<t.length;n+=76)r.push(t.slice(n,n+76));return r.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)});"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var r=[],n=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),a=0;a<n.length;++a){var s=n[a];if(0!=s.length)for(var i=0;i<s.length;){var o=76,l=s.slice(i,i+o);"="==l.charAt(o-1)?o--:"="==l.charAt(o-2)?o-=2:"="==l.charAt(o-3)&&(o-=3),l=s.slice(i,i+o),(i+=o)<s.length&&(l+="="),r.push(l)}else r.push("")}return r.join("\r\n")}function ce(e,t,r){for(var n,a="",s="",i="",o=0;o<10;++o){var l=t[o];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":a=c[2].trim();break;case"content-type":i=c[2].trim();break;case"content-transfer-encoding":s=c[2].trim()}}switch(++o,s.toLowerCase()){case"base64":n=vb(fb(t.slice(o).join("")));break;case"quoted-printable":n=function(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r];r<=e.length&&"="==n.charAt(n.length-1);)n=n.slice(0,n.length-1)+e[++r];t.push(n)}for(var a=0;a<t.length;++a)t[a]=t[a].replace(/[=][0-9A-Fa-f]{2}/g,function(e){return String.fromCharCode(parseInt(e.slice(1),16))});return vb(t.join("\r\n"))}(t.slice(o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+s)}var d=de(e,a.slice(r.length),n,{unsafe:!0});i&&(d.ctype=i)}function de(e,t,r,a){var s=a&&a.unsafe;s||h(e);var i=!s&&yv.find(e,t);if(!i){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),i={name:n(t),type:2},e.FileIndex.push(i),e.FullPaths.push(o),s||yv.utils.cfb_gc(e)}return i.content=r,i.size=r?r.length:0,a&&(a.CLSID&&(i.clsid=a.CLSID),a.mt&&(i.mt=a.mt),a.ct&&(i.ct=a.ct)),i}return t.find=function(e,t){var r=e.FullPaths.map(function(e){return e.toUpperCase()}),n=r.map(function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]}),a=!1;47===t.charCodeAt(0)?(a=!0,t=r[0].slice(0,-1)+t):a=-1!==t.indexOf("/");var s=t.toUpperCase(),i=!0===a?r.indexOf(s):n.indexOf(s);if(-1!==i)return e.FileIndex[i];var o=!s.match(kb);for(s=s.replace(Sb,""),o&&(s=s.replace(kb,"!")),i=0;i<r.length;++i){if((o?r[i].replace(kb,"!"):r[i]).replace(Sb,"")==s)return e.FileIndex[i];if((o?n[i].replace(kb,"!"):n[i]).replace(Sb,"")==s)return e.FileIndex[i]}return null},t.read=function(t,r){var n=r&&r.type;switch(n||pb&&Buffer.isBuffer(t)&&(n="buffer"),n||"base64"){case"file":return function(t,r){return i(),o(e.readFileSync(t),r)}(t,r);case"base64":return o(vb(fb(t)),r);case"binary":return o(vb(t),r)}return o(t,r)},t.parse=o,t.write=function(t,r){var n=f(t,r);switch(r&&r.type||"buffer"){case"file":return i(),e.writeFileSync(r.filename,n),n;case"binary":return"string"==typeof n?n:j(n);case"base64":return mb("string"==typeof n?n:j(n));case"buffer":if(pb)return Buffer.isBuffer(n)?n:gb(n);case"array":return"string"==typeof n?vb(n):n}return n},t.writeFile=function(t,r,n){i();var a=f(t,n);e.writeFileSync(r,a)},t.utils={cfb_new:function(e){var t={};return h(t,e),t},cfb_add:de,cfb_del:function(e,t){h(e);var r=yv.find(e,t);if(r)for(var n=0;n<e.FileIndex.length;++n)if(e.FileIndex[n]==r)return e.FileIndex.splice(n,1),e.FullPaths.splice(n,1),!0;return!1},cfb_mov:function(e,t,r){h(e);var a=yv.find(e,t);if(a)for(var s=0;s<e.FileIndex.length;++s)if(e.FileIndex[s]==a)return e.FileIndex[s].name=n(r),e.FullPaths[s]=r,!0;return!1},cfb_gc:function(e){m(e,!0)},ReadShift:Ow,CheckField:$w,prep_blob:Bw,bconcat:Nb,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");p=e}catch(xJ){console.error("cannot use native zlib: "+(xJ.message||xJ))}},_deflateRaw:G,_inflateRaw:te,consts:w},t}();function wv(e){return"string"==typeof e?yb(e):Array.isArray(e)?function(e){if("undefined"==typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function jv(e,t,r){if("undefined"!=typeof Deno){if(r&&"string"==typeof t)switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=yb(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n="utf8"==r?Cy(t):t;if("undefined"!=typeof IE_SaveFile)return IE_SaveFile(n,e);if("undefined"!=typeof Blob){var a=new Blob([wv(n)],{type:"application/octet-stream"});if("undefined"!=typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if("undefined"!=typeof saveAs)return saveAs(a,e);if("undefined"!=typeof URL&&"undefined"!=typeof document&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var i=document.createElement("a");if(null!=i.download)return i.download=e,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=wb(t)),o.write(t),o.close(),t}catch(xJ){if(!xJ.message||!xJ.message.match(/onstruct/))throw xJ}throw new Error("cannot save file "+e)}function Nv(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Sv(e,t){for(var r=[],n=Nv(e),a=0;a!==n.length;++a)null==r[e[n[a]][t]]&&(r[e[n[a]][t]]=n[a]);return r}function kv(e){for(var t=[],r=Nv(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Cv(e){for(var t=[],r=Nv(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}var Ev=new Date(1899,11,30,0,0,0);function Tv(e,t){return(e.getTime()-(Ev.getTime()+6e4*(e.getTimezoneOffset()-Ev.getTimezoneOffset())))/864e5}var _v=new Date,Av=Ev.getTime()+6e4*(_v.getTimezoneOffset()-Ev.getTimezoneOffset()),Iv=_v.getTimezoneOffset();function Pv(e){var t=new Date;return t.setTime(24*e*60*60*1e3+Av),t.getTimezoneOffset()!==Iv&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-Iv)),t}function Dv(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(!n)throw new Error("Unsupported ISO Duration Field: M");r*=60}t+=r*parseInt(a[s],10)}return t}var Ov=new Date("2017-02-19T19:06:09.000Z"),Lv=isNaN(Ov.getFullYear())?new Date("2/19/17"):Ov,Rv=2017==Lv.getFullYear();function Mv(e,t){var r=new Date(e);if(Rv)return t>0?r.setTime(r.getTime()+60*r.getTimezoneOffset()*1e3):t<0&&r.setTime(r.getTime()-60*r.getTimezoneOffset()*1e3),r;if(e instanceof Date)return e;if(1917==Lv.getFullYear()&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function Fv(e,t){if(pb&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return Cy(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return Cy(ob(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!=typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return Cy(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return Cy(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(e){return r[e]||e})}catch(xJ){}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function $v(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=$v(e[r]));return t}function Bv(e,t){for(var r="";r.length<t;)r+=e;return r}function Uv(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return isNaN(t=Number(n))?(n=n.replace(/[(](.*)[)]/,function(e,t){return r=-r,t}),isNaN(t=Number(n))?t:t/r):t/r}var zv=["january","february","march","april","may","june","july","august","september","october","november","december"];function Vv(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==zv.indexOf(i))return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&101!=n?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Wv=function(){var e=5=="abacaba".split(/(:?b)/i).length;return function(t,r,n){if(e||"string"==typeof r)return t.split(r);for(var a=t.split(r),s=[a[0]],i=1;i<a.length;++i)s.push(n),s.push(a[i]);return s}}();function qv(e){return e?e.content&&e.type?Fv(e.content,!0):e.data?cb(e.data):e.asNodeBuffer&&pb?cb(e.asNodeBuffer().toString("binary")):e.asBinary?cb(e.asBinary()):e._data&&e._data.getContent?cb(Fv(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Hv(e){if(!e)return null;if(e.data)return ib(e.data);if(e.asNodeBuffer&&pb)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?ib(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Qv(e,t){for(var r=e.FullPaths||Nv(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function Gv(e,t){var r=Qv(e,t);if(null==r)throw new Error("Cannot find file "+t+" in zip");return r}function Yv(e,t,r){if(!r)return(n=Gv(e,t))&&".bin"===n.name.slice(-4)?Hv(n):qv(n);var n;if(!t)return null;try{return Yv(e,t)}catch(xJ){return null}}function Kv(e,t,r){if(!r)return qv(Gv(e,t));if(!t)return null;try{return Kv(e,t)}catch(xJ){return null}}function Xv(e){for(var t=e.FullPaths||Nv(e.files),r=[],n=0;n<t.length;++n)"/"!=t[n].slice(-1)&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Zv(e,t,r){if(e.FullPaths){var n;if("string"==typeof r)return n=pb?gb(r):function(e){for(var t=[],r=0,n=e.length+250,a=xb(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|63&i;else if(i>=55296&&i<57344){i=64+(1023&i);var o=1023&e.charCodeAt(++s);a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|o>>6&15|(3&i)<<4,a[r++]=128|63&o}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|63&i;r>n&&(t.push(a.slice(0,r)),r=0,a=xb(65535),n=65530)}return t.push(a.slice(0,r)),Nb(t)}(r),yv.utils.cfb_add(e,t,n);yv.utils.cfb_add(e,t,r)}else e.file(t,r)}function Jv(){return yv.utils.cfb_new()}function ey(e,t){switch(t.type){case"base64":return yv.read(e,{type:"base64"});case"binary":return yv.read(e,{type:"binary"});case"buffer":case"array":return yv.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function ty(e,t){if("/"==e.charAt(0))return e.slice(1);var r=t.split("/");"/"!=t.slice(-1)&&r.pop();for(var n=e.split("/");0!==n.length;){var a=n.shift();".."===a?r.pop():"."!==a&&r.push(a)}return r.join("/")}var ry='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',ny=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,ay=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,sy=ry.match(ay)?ay:/<[^>]*>/g,iy=/<\w*:/,oy=/<(\/?)\w+:/;function ly(e,t,r){for(var n={},a=0,s=0;a!==e.length&&(32!==(s=e.charCodeAt(a))&&10!==s&&13!==s);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(ny),o=0,l="",c=0,d="",u="",h=1;if(i)for(c=0;c!=i.length;++c){for(u=i[c],s=0;s!=u.length&&61!==u.charCodeAt(s);++s);for(d=u.slice(0,s).trim();32==u.charCodeAt(s+1);)++s;for(h=34==(a=u.charCodeAt(s+1))||39==a?1:0,l=u.slice(s+1+h,u.length-h),o=0;o!=d.length&&58!==d.charCodeAt(o);++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var m=(5===o&&"xmlns"===d.slice(0,5)?"xmlns":"")+d.slice(o+1);if(n[m]&&"ext"==d.slice(o-3,o))continue;n[m]=l,n[m.toLowerCase()]=l}}return n}function cy(e){return e.replace(oy,"<$1")}var dy={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},uy=kv(dy),hy=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(-1==s)return a.replace(e,function(e,t){return dy[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e}).replace(t,function(e,t){return String.fromCharCode(parseInt(t,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),my=/[&<>'"]/g,fy=/[\u0000-\u0008\u000b-\u001f]/g;function py(e){return(e+"").replace(my,function(e){return uy[e]}).replace(fy,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function gy(e){return py(e).replace(/ /g,"_x0020_")}var xy=/[\u0000-\u001f]/g;function by(e){return(e+"").replace(my,function(e){return uy[e]}).replace(/\n/g,"<br/>").replace(xy,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}var vy=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(r){return r.replace(e,t)}}();function yy(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function wy(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0;r<e.length;)(n=e.charCodeAt(r++))<128?t+=String.fromCharCode(n):(a=e.charCodeAt(r++),n>191&&n<224?(i=(31&n)<<6,i|=63&a,t+=String.fromCharCode(i)):(s=e.charCodeAt(r++),n<240?t+=String.fromCharCode((15&n)<<12|(63&a)<<6|63&s):(o=((7&n)<<18|(63&a)<<12|(63&s)<<6|63&(i=e.charCodeAt(r++)))-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t}function jy(e){var t,r,n,a=xb(2*e.length),s=1,i=0,o=0;for(r=0;r<e.length;r+=s)s=1,(n=e.charCodeAt(r))<128?t=n:n<224?(t=64*(31&n)+(63&e.charCodeAt(r+1)),s=2):n<240?(t=4096*(15&n)+64*(63&e.charCodeAt(r+1))+(63&e.charCodeAt(r+2)),s=3):(s=4,t=262144*(7&n)+4096*(63&e.charCodeAt(r+1))+64*(63&e.charCodeAt(r+2))+(63&e.charCodeAt(r+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(a[i++]=255&o,a[i++]=o>>>8,o=0),a[i++]=t%256,a[i++]=t>>>8;return a.slice(0,i).toString("ucs2")}function Ny(e){return gb(e,"binary").toString("utf8")}var Sy="foo bar baz",ky=pb&&(Ny(Sy)==wy(Sy)&&Ny||jy(Sy)==wy(Sy)&&jy)||wy,Cy=pb?function(e){return gb(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(63&n)));break;case n>=55296&&n<57344:n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(63&a)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(63&n)))}return t.join("")},Ey=function(){var e={};return function(t,r){var n=t+"|"+(r||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",r||"")}}(),Ty=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),n=0;n<e.length;++n)r=r.replace(e[n][0],e[n][1]);return r}}(),_y=function(){var e={};return function(t){return void 0!==e[t]?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),Ay=/<\/?(?:vt:)?variant>/g,Iy=/<(?:vt:)([^>]*)>([\s\S]*)</;function Py(e,t){var r=ly(e),n=e.match(_y(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(e){var t=e.replace(Ay,"").match(Iy);t&&a.push({v:ky(t[2]),t:t[1]})}),a}var Dy=/(^\s|\s$|\n)/;function Oy(e,t){return"<"+e+(t.match(Dy)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Ly(e){return Nv(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ry(e,t,r){return"<"+e+(null!=r?Ly(r):"")+(null!=t?(t.match(Dy)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function My(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(xJ){if(t)throw xJ}return""}function Fy(e){if(pb&&Buffer.isBuffer(e))return e.toString("utf8");if("string"==typeof e)return e;if("undefined"!=typeof Uint8Array&&e instanceof Uint8Array)return ky(wb(jb(e)));throw new Error("Bad input format: expected Buffer or string")}var $y=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,By="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",Uy="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",zy="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",Vy="http://schemas.openxmlformats.org/package/2006/content-types",Wy="http://schemas.openxmlformats.org/package/2006/relationships",qy="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",Hy="http://purl.org/dc/elements/1.1/",Qy="http://purl.org/dc/terms/",Gy="http://purl.org/dc/dcmitype/",Yy="http://schemas.openxmlformats.org/officeDocument/2006/relationships",Ky="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",Xy="http://www.w3.org/2001/XMLSchema-instance",Zy="http://www.w3.org/2001/XMLSchema",Jy=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ew="urn:schemas-microsoft-com:office:office",tw="urn:schemas-microsoft-com:office:excel",rw="urn:schemas-microsoft-com:office:spreadsheet",nw="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",aw="http://macVmlSchemaUri",sw="urn:schemas-microsoft-com:vml",iw="http://www.w3.org/TR/REC-html40";var ow=function(e){for(var t=[],r=0;r<e[0].length;++r)if(e[0][r])for(var n=0,a=e[0][r].length;n<a;n+=10240)t.push.apply(t,e[0][r].slice(n,n+10240));return t},lw=pb?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(e){return Buffer.isBuffer(e)?e:gb(e)})):ow(e)}:ow,cw=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(_w(e,a)));return n.join("").replace(Sb,"")},dw=pb?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Sb,""):cw(e,t,r)}:cw,uw=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},hw=pb?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):uw(e,t,r)}:uw,mw=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Tw(e,a)));return n.join("")},fw=pb?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):mw(e,t,r)}:mw,pw=function(e,t){var r=Iw(e,t);return r>0?fw(e,t+4,t+4+r-1):""},gw=pw,xw=function(e,t){var r=Iw(e,t);return r>0?fw(e,t+4,t+4+r-1):""},bw=xw,vw=function(e,t){var r=2*Iw(e,t);return r>0?fw(e,t+4,t+4+r-1):""},yw=vw,ww=function(e,t){var r=Iw(e,t);return r>0?dw(e,t+4,t+4+r):""},jw=ww,Nw=function(e,t){var r=Iw(e,t);return r>0?fw(e,t+4,t+4+r):""},Sw=Nw,kw=function(e,t){return function(e,t){for(var r=1-2*(e[t+7]>>>7),n=((127&e[t+7])<<4)+(e[t+6]>>>4&15),a=15&e[t+6],s=5;s>=0;--s)a=256*a+e[t+s];return 2047==n?0==a?r*(1/0):NaN:(0==n?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}(e,t)},Cw=kw,Ew=function(e){return Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array};pb&&(gw=function(e,t){if(!Buffer.isBuffer(e))return pw(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},bw=function(e,t){if(!Buffer.isBuffer(e))return xw(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},yw=function(e,t){if(!Buffer.isBuffer(e))return vw(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},jw=function(e,t){if(!Buffer.isBuffer(e))return ww(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},Sw=function(e,t){if(!Buffer.isBuffer(e))return Nw(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},Cw=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):kw(e,t)},Ew=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array});var Tw=function(e,t){return e[t]},_w=function(e,t){return 256*e[t+1]+e[t]},Aw=function(e,t){var r=256*e[t+1]+e[t];return r<32768?r:-1*(65535-r+1)},Iw=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Pw=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Dw=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ow(e,t){var r,n,a,s,i,o,l="",c=[];switch(t){case"dbcs":if(o=this.l,pb&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(i=0;i<e;++i)l+=String.fromCharCode(_w(this,o)),o+=2;e*=2;break;case"utf8":l=fw(this,this.l,this.l+e);break;case"utf16le":e*=2,l=dw(this,this.l,this.l+e);break;case"wstr":return Ow.call(this,e,"dbcs");case"lpstr-ansi":l=gw(this,this.l),e=4+Iw(this,this.l);break;case"lpstr-cp":l=bw(this,this.l),e=4+Iw(this,this.l);break;case"lpwstr":l=yw(this,this.l),e=4+2*Iw(this,this.l);break;case"lpp4":e=4+Iw(this,this.l),l=jw(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Iw(this,this.l),l=Sw(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(a=Tw(this,this.l+e++));)c.push(db(a));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(a=_w(this,this.l+e));)c.push(db(a)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",o=this.l,i=0;i<e;++i){if(this.lens&&-1!==this.lens.indexOf(o))return a=Tw(this,o),this.l=o+1,s=Ow.call(this,e-i,a?"dbcs-cont":"sbcs-cont"),c.join("")+s;c.push(db(_w(this,o))),o+=2}l=c.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(l="",o=this.l,i=0;i!=e;++i){if(this.lens&&-1!==this.lens.indexOf(o))return a=Tw(this,o),this.l=o+1,s=Ow.call(this,e-i,a?"dbcs-cont":"sbcs-cont"),c.join("")+s;c.push(db(Tw(this,o))),o+=1}l=c.join("");break;default:switch(e){case 1:return r=Tw(this,this.l),this.l++,r;case 2:return r=("i"===t?Aw:_w)(this,this.l),this.l+=2,r;case 4:case-4:return"i"!==t&&128&this[this.l+3]?(n=Iw(this,this.l),this.l+=4,n):(r=(e>0?Pw:Dw)(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return n=8==e?Cw(this,this.l):Cw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:l=hw(this,this.l,e)}}return this.l+=e,l}var Lw=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Rw=function(e,t,r){e[r]=255&t,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Mw=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255};function Fw(e,t,r){var n=0,a=0;if("dbcs"===r){for(a=0;a!=t.length;++a)Mw(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if("sbcs"===r){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=255&t.charCodeAt(a);n=t.length}else{if("hex"===r){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}if("utf16le"===r){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=255&i,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}switch(e){case 1:n=1,this[this.l]=255&t;break;case 2:n=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:n=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:n=4,Lw(this,t,this.l);break;case 8:if(n=8,"f"===r){!function(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?0==i?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=255&s;e[r+6]=(15&a)<<4|15&s,e[r+7]=a>>4|n}(this,t,this.l);break}case 16:break;case-4:n=4,Rw(this,t,this.l)}}return this.l+=n,this}function $w(e,t){var r=hw(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Bw(e,t){e.l=t,e.read_shift=Ow,e.chk=$w,e.write_shift=Fw}function Uw(e,t){e.l+=t}function zw(e){var t=xb(e);return Bw(t,0),t}function Vw(e,t,r){if(e){var n,a,s;Bw(e,e.l||0);for(var i=e.length,o=0,l=0;e.l<i;){128&(o=e.read_shift(1))&&(o=(127&o)+((127&e.read_shift(1))<<7));var c=XT[o]||XT[65535];for(s=127&(n=e.read_shift(1)),a=1;a<4&&128&n;++a)s+=(127&(n=e.read_shift(1)))<<7*a;l=e.l+s;var d=c.f&&c.f(e,s,r);if(e.l=l,t(d,c,o))return}}}function Ww(){var e=[],t=pb?256:2048,r=function(e){var t=zw(e);return Bw(t,0),t},n=r(t),a=function(){n&&(n.length>n.l&&((n=n.slice(0,n.l)).l=n.length),n.length>0&&e.push(n),n=null)},s=function(e){return n&&e<n.length-n.l?n:(a(),n=r(Math.max(e+1,t)))};return{next:s,push:function(e){a(),null==(n=e).l&&(n.l=n.length),s(t)},end:function(){return a(),Nb(e)},_bufs:e}}function qw(e,t,r,n){var a,s=+t;if(!isNaN(s)){n||(n=XT[s].p||(r||[]).length||0),a=1+(s>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var i=e.next(a);s<=127?i.write_shift(1,s):(i.write_shift(1,128+(127&s)),i.write_shift(1,s>>7));for(var o=0;4!=o;++o){if(!(n>=128)){i.write_shift(1,n);break}i.write_shift(1,128+(127&n)),n>>=7}n>0&&Ew(r)&&e.push(r)}}function Hw(e,t,r){var n=$v(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Qw(e,t,r){var n=$v(e);return n.s=Hw(n.s,t.s,r),n.e=Hw(n.e,t.s,r),n}function Gw(e,t){if(e.cRel&&e.c<0)for(e=$v(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=$v(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=tj(e);return e.cRel||null==e.cRel||(r=r.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(r=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(r)),r}function Yw(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?Gw(e.s,t.biff)+":"+Gw(e.e,t.biff):(e.s.rRel?"":"$")+Xw(e.s.r)+":"+(e.e.rRel?"":"$")+Xw(e.e.r):(e.s.cRel?"":"$")+Jw(e.s.c)+":"+(e.e.cRel?"":"$")+Jw(e.e.c)}function Kw(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function Xw(e){return""+(e+1)}function Zw(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Jw(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function ej(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function tj(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function rj(e){var t=e.indexOf(":");return-1==t?{s:ej(e),e:ej(e)}:{s:ej(e.slice(0,t)),e:ej(e.slice(t+1))}}function nj(e,t){return void 0===t||"number"==typeof t?nj(e.s,e.e):("string"!=typeof e&&(e=tj(e)),"string"!=typeof t&&(t=tj(t)),e==t?e:e+":"+t)}function aj(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||10!=a)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function sj(e,t){var r="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=mv(e.z,r?Tv(t):t)}catch(xJ){}try{return e.w=mv((e.XF||{}).numFmtId||(r?14:0),r?Tv(t):t)}catch(xJ){return""+t}}function ij(e,t,r){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),"e"==e.t?qj[e.v]||e.v:sj(e,null==t?e.v:t))}function oj(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function lj(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,o=0;if(s&&null!=n.origin){if("number"==typeof n.origin)i=n.origin;else{var l="string"==typeof n.origin?ej(n.origin):n.origin;i=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=aj(s["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),-1==i&&(c.e.r=i=d.e.r+1)}for(var u=0;u!=t.length;++u)if(t[u]){if(!Array.isArray(t[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[u].length;++h)if(void 0!==t[u][h]){var m={v:t[u][h]},f=i+u,p=o+h;if(c.s.r>f&&(c.s.r=f),c.s.c>p&&(c.s.c=p),c.e.r<f&&(c.e.r=f),c.e.c<p&&(c.e.c=p),!t[u][h]||"object"!=typeof t[u][h]||Array.isArray(t[u][h])||t[u][h]instanceof Date)if(Array.isArray(m.v)&&(m.f=t[u][h][1],m.v=m.v[0]),null===m.v)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else{if(!n.sheetStubs)continue;m.t="z"}else"number"==typeof m.v?m.t="n":"boolean"==typeof m.v?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Lb[14],n.cellDates?(m.t="d",m.w=mv(m.z,Tv(m.v))):(m.t="n",m.v=Tv(m.v),m.w=mv(m.z,m.v))):m.t="s";else m=t[u][h];if(a)s[f]||(s[f]=[]),s[f][p]&&s[f][p].z&&(m.z=s[f][p].z),s[f][p]=m;else{var g=tj({c:p,r:f});s[g]&&s[g].z&&(m.z=s[g].z),s[g]=m}}}return c.s.c<1e7&&(s["!ref"]=nj(c)),s}function cj(e,t){return lj(null,e,t)}function dj(e,t){return t||(t=zw(4)),t.write_shift(4,e),t}function uj(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function hj(e,t){var r=!1;return null==t&&(r=!0,t=zw(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function mj(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function fj(e,t){var r=e.l,n=e.read_shift(1),a=uj(e),s=[],i={t:a,h:a};if(1&n){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(mj(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var pj=fj;function gj(e,t){var r=!1;return null==t&&(r=!0,t=zw(23+4*e.t.length)),t.write_shift(1,1),hj(e.t,t),t.write_shift(4,1),function(e,t){t||(t=zw(4)),t.write_shift(2,0),t.write_shift(2,0)}(0,t),r?t.slice(0,t.l):t}function xj(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function bj(e,t){return null==t&&(t=zw(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function vj(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function yj(e,t){return null==t&&(t=zw(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var wj=uj,jj=hj;function Nj(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function Sj(e,t){var r=!1;return null==t&&(r=!0,t=zw(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var kj=uj,Cj=Nj,Ej=Sj;function Tj(e){var t=e.slice(e.l,e.l+4),r=1&t[0],n=2&t[0];e.l+=4;var a=0===n?Cw([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):Pw(t,0)>>2;return r?a/100:a}function _j(e,t){null==t&&(t=zw(4));var r=0,n=0,a=100*e;if(e==(0|e)&&e>=-536870912&&e<1<<29?n=1:a==(0|a)&&a>=-536870912&&a<1<<29&&(n=1,r=1),!n)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((r?a:e)<<2)+(r+2))}function Aj(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Ij=Aj,Pj=function(e,t){return t||(t=zw(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function Dj(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Oj(e,t){return(t||zw(8)).write_shift(8,e,"f")}function Lj(e,t){if(t||(t=zw(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),e.rgb&&null==e.theme){var n=e.rgb||"FFFFFF";"number"==typeof n&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}function Rj(e,t){var r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}var Mj=80,Fj=[Mj,81],$j={1:{n:"CodePage",t:2},2:{n:"Category",t:Mj},3:{n:"PresentationFormat",t:Mj},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:Mj},15:{n:"Company",t:Mj},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:Mj},27:{n:"ContentStatus",t:Mj},28:{n:"Language",t:Mj},29:{n:"Version",t:Mj},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Bj={1:{n:"CodePage",t:2},2:{n:"Title",t:Mj},3:{n:"Subject",t:Mj},4:{n:"Author",t:Mj},5:{n:"Keywords",t:Mj},6:{n:"Comments",t:Mj},7:{n:"Template",t:Mj},8:{n:"LastAuthor",t:Mj},9:{n:"RevNumber",t:Mj},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:Mj},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Uj={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},zj=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Vj(e){return e.map(function(e){return[e>>16&255,e>>8&255,255&e]})}var Wj=$v(Vj([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),qj={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Hj={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Qj={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Gj={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Yj(e,t){var r,n=function(e){for(var t=[],r=Nv(e),n=0;n!==r.length;++n)null==t[e[r[n]]]&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}(Qj),a=[];a[a.length]=ry,a[a.length]=Ry("Types",null,{xmlns:Vy,"xmlns:xsd":Zy,"xmlns:xsi":Xy}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(e){return Ry("Default",null,{Extension:e[0],ContentType:e[1]})}));var s=function(n){e[n]&&e[n].length>0&&(r=e[n][0],a[a.length]=Ry("Override",null,{PartName:("/"==r[0]?"":"/")+r,ContentType:Gj[n][t.bookType]||Gj[n].xlsx}))},i=function(r){(e[r]||[]).forEach(function(e){a[a.length]=Ry("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:Gj[r][t.bookType]||Gj[r].xlsx})})},o=function(t){(e[t]||[]).forEach(function(e){a[a.length]=Ry("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:n[t][0]})})};return s("workbooks"),i("sheets"),i("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),i("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Kj={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Xj(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Zj(e,t){var r={"!id":{}};if(!e)return r;"/"!==t.charAt(0)&&(t="/"+t);var n={};return(e.match(sy)||[]).forEach(function(e){var a=ly(e);if("<Relationship"===a[0]){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var i="External"===a.TargetMode?a.Target:ty(a.Target,t);r[i]=s,n[a.Id]=s}}),r["!id"]=n,r}function Jj(e){var t=[ry,Ry("Relationships",null,{xmlns:Wy})];return Nv(e["!id"]).forEach(function(r){t[t.length]=Ry("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function eN(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Kj.HLINK,Kj.XPATH,Kj.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function tN(e,t,r){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function rN(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function nN(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Jx.version+"</meta:generator></office:meta></office:document-meta>"}var aN=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],sN=function(){for(var e=new Array(aN.length),t=0;t<aN.length;++t){var r=aN[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function iN(e){var t={};e=ky(e);for(var r=0;r<aN.length;++r){var n=aN[r],a=e.match(sN[r]);null!=a&&a.length>0&&(t[n[1]]=hy(a[1])),"date"===n[2]&&t[n[1]]&&(t[n[1]]=Mv(t[n[1]]))}return t}function oN(e,t,r,n,a){null==a[e]&&null!=t&&""!==t&&(a[e]=t,t=py(t),n[n.length]=r?Ry(e,t,r):Oy(e,t))}function lN(e,t){var r=t||{},n=[ry,Ry("cp:coreProperties",null,{"xmlns:cp":By,"xmlns:dc":Hy,"xmlns:dcterms":Qy,"xmlns:dcmitype":Gy,"xmlns:xsi":Xy})],a={};if(!e&&!r.Props)return n.join("");e&&(null!=e.CreatedDate&&oN("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:My(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),null!=e.ModifiedDate&&oN("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:My(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=aN.length;++s){var i=aN[s],o=r.Props&&null!=r.Props[i[1]]?r.Props[i[1]]:e?e[i[1]]:null;!0===o?o="1":!1===o?o="0":"number"==typeof o&&(o=String(o)),null!=o&&oN(i[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var cN=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],dN=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function uN(e,t,r,n){var a=[];if("string"==typeof e)a=Py(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(e){return{v:e}}));var i="string"==typeof t?Py(t,n).map(function(e){return e.v}):t,o=0,l=0;if(i.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=i.slice(o,o+l)}o+=l}}function hN(e){var t=[],r=Ry;return e||(e={}),e.Application="SheetJS",t[t.length]=ry,t[t.length]=Ry("Properties",null,{xmlns:zy,"xmlns:vt":Ky}),cN.forEach(function(n){if(void 0!==e[n[1]]){var a;switch(n[2]){case"string":a=py(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false"}void 0!==a&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(e){return"<vt:lpstr>"+py(e)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var mN=/<[^>]+>[^<]*/g;function fN(e){var t=[ry,Ry("Properties",null,{xmlns:Uy,"xmlns:vt":Ky})];if(!e)return t.join("");var r=1;return Nv(e).forEach(function(n){++r,t[t.length]=Ry("property",function(e){switch(typeof e){case"string":var t=Ry("vt:lpwstr",py(e));return t.replace(/&quot;/g,"_x0022_");case"number":return Ry((0|e)==e?"vt:i4":"vt:r8",py(String(e)));case"boolean":return Ry("vt:bool",e?"true":"false")}if(e instanceof Date)return Ry("vt:filetime",My(e));throw new Error("Unable to serialize "+e)}(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:py(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var pN,gN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function xN(e,t,r){pN||(pN=kv(gN)),e[t=pN[t]||t]=r}function bN(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date(1e3*(r/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function vN(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function yN(e,t,r){return e.read_shift(0,"lpwstr")}function wN(e,t,r){return 31===t?yN(e):vN(e,0,r)}function jN(e,t,r){return wN(e,t,!1===r?0:4)}function NN(e){var t=e.l,r=CN(e,81);return 0==e[e.l]&&0==e[e.l+1]&&e.l-t&2&&(e.l+=2),[r,CN(e,3)]}function SN(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,1200===t?"utf16le":"utf8").replace(Sb,"").replace(kb,"!"),1200===t&&i%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),n}function kN(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),r}function CN(e,t,r){var n,a=e.read_shift(2),s=r||{};if(e.l+=2,12!==t&&a!==t&&-1===Fj.indexOf(t)&&(4126!=(65534&t)||4126!=(65534&a)))throw new Error("Expected type "+t+" saw "+a);switch(12===t?a:t){case 2:return n=e.read_shift(2,"i"),s.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i");case 11:return 0!==e.read_shift(4);case 19:return n=e.read_shift(4);case 30:return vN(e,0,4).replace(Sb,"");case 31:return yN(e);case 64:return bN(e);case 65:return kN(e);case 71:return function(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}(e);case 80:return jN(e,a,!s.raw).replace(Sb,"");case 81:return function(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return wN(e,t,0)}(e,a).replace(Sb,"");case 4108:return function(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(NN(e));return r}(e);case 4126:case 4127:return 4127==a?function(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Sb,""),e.l-a&2&&(e.l+=2)}return r}(e):function(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Sb,"");return r}(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function EN(e,t){var r=zw(4),n=zw(4);switch(r.write_shift(4,80==e?31:e),e){case 3:n.write_shift(-4,t);break;case 5:(n=zw(8)).write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,r=t%Math.pow(2,32),n=(t-r)/Math.pow(2,32);n*=1e7;var a=(r*=1e7)/Math.pow(2,32)|0;a>0&&(r%=Math.pow(2,32),n+=a);var s=zw(8);return s.write_shift(4,r),s.write_shift(4,n),s}(t);break;case 31:case 80:for((n=zw(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Nb([r,n])}function TN(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,l=-1,c={};for(i=0;i!=a;++i){var d=e.read_shift(4),u=e.read_shift(4);s[i]=[d,u+r]}s.sort(function(e,t){return e[1]-t[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var m=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,m=!1);break;case 80:case 4108:e.l<=s[i][1]&&(e.l=s[i][1],m=!1)}if((!t||0==i)&&e.l<=s[i][1]&&(m=!1,e.l=s[i][1]),m)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var f=t[s[i][0]];if(h[f.n]=CN(e,f.t,{raw:!0}),"version"===f.p&&(h[f.n]=String(h[f.n]>>16)+"."+("0000"+String(65535&h[f.n])).slice(-4)),"CodePage"==f.n)switch(h[f.n]){case 0:h[f.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ab(o=h[f.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[f.n])}}else if(1===s[i][0]){if(o=h.CodePage=CN(e,2),ab(o),-1!==l){var p=e.l;e.l=s[l][1],c=SN(e,o),e.l=p}}else if(0===s[i][0]){if(0===o){l=i,e.l=s[i+1][1];continue}c=SN(e,o)}else{var g,x=c[s[i][0]];switch(e[e.l]){case 65:e.l+=4,g=kN(e);break;case 30:case 31:e.l+=4,g=jN(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,g=e.read_shift(4,"i");break;case 19:e.l+=4,g=e.read_shift(4);break;case 5:e.l+=4,g=e.read_shift(8,"f");break;case 11:e.l+=4,g=LN(e,4);break;case 64:e.l+=4,g=Mv(bN(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[x]=g}}return e.l=r+n,h}var _N=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function AN(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function IN(e,t,r){var n=zw(8),a=[],s=[],i=8,o=0,l=zw(8),c=zw(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),a.push(c),i+=8+l.length,!t){(c=zw(8)).write_shift(4,0),a.unshift(c);var d=[zw(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var u=e[o][0];for((l=zw(8+2*(u.length+1)+(u.length%2?0:2))).write_shift(4,o+2),l.write_shift(4,u.length+1),l.write_shift(0,u,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Nb(d),s.unshift(l),i+=8+l.length}for(o=0;o<e.length;++o)if((!t||t[e[o][0]])&&!(_N.indexOf(e[o][0])>-1||dN.indexOf(e[o][0])>-1)&&null!=e[o][1]){var h=e[o][1],m=0;if(t){var f=r[m=+t[e[o][0]]];if("version"==f.p&&"string"==typeof h){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}l=EN(f.t,h)}else{var g=AN(h);-1==g&&(g=31,h=String(h)),l=EN(g,h)}s.push(l),(c=zw(8)).write_shift(4,t?m:2+o),a.push(c),i+=8+l.length}var x=8*(s.length+1);for(o=0;o<s.length;++o)a[o].write_shift(4,x),x+=s[o].length;return n.write_shift(4,i),n.write_shift(4,s.length),Nb([n].concat(a).concat(s))}function PN(e,t,r){var n=e.content;if(!n)return{};Bw(n,0);var a,s,i,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),d=n.read_shift(16);if(d!==yv.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(1!==(a=n.read_shift(4))&&2!==a)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),1===a&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);2===a&&(i=n.read_shift(16),l=n.read_shift(4));var u,h=TN(n,t),m={SystemIdentifier:c};for(var f in h)m[f]=h[f];if(m.FMTID=s,1===a)return m;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);try{u=TN(n,null)}catch(xJ){}for(f in u)m[f]=u[f];return m.FMTID=[s,i],m}function DN(e,t,r,n,a,s){var i=zw(a?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,yv.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,a?68:48);var l=IN(e,r,n);if(o.push(l),a){var c=IN(a,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+l.length),o.push(c)}return Nb(o)}function ON(e,t){return e.read_shift(t),null}function LN(e,t){return 1===e.read_shift(t)}function RN(e,t){return t||(t=zw(2)),t.write_shift(2,+!!e),t}function MN(e){return e.read_shift(2,"u")}function FN(e,t){return t||(t=zw(2)),t.write_shift(2,e),t}function $N(e,t){return function(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}(e,t,MN)}function BN(e,t,r){return r||(r=zw(2)),r.write_shift(1,"e"==t?+e:+!!e),r.write_shift(1,"e"==t?1:0),r}function UN(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";(r&&r.biff,r&&8!=r.biff)?12==r.biff&&(a="wstr"):e.read_shift(1)&&(a="dbcs-cont");return r.biff>=2&&r.biff<=5&&(a="cpstr"),n?e.read_shift(n,a):""}function zN(e){var t,r=e.read_shift(2),n=e.read_shift(1),a=4&n,s=8&n,i=1+(1&n),o=0,l={};s&&(o=e.read_shift(2)),a&&(t=e.read_shift(4));var c=2==i?"dbcs-cont":"sbcs-cont",d=0===r?"":e.read_shift(r,c);return s&&(e.l+=4*o),a&&(e.l+=t),l.t=d,s||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function VN(e){var t=e.t||"",r=zw(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=zw(2*t.length);return n.write_shift(2*t.length,t,"utf16le"),Nb([r,n])}function WN(e,t,r){if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function qN(e,t,r){var n=e.read_shift(r&&2==r.biff?1:2);return 0===n?(e.l++,""):WN(e,n,r)}function HN(e,t,r){if(r.biff>5)return qN(e,0,r);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function QN(e,t,r){return r||(r=zw(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function GN(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return function(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Sb,"");return n&&(e.l+=24),a}(e);case"0303000000000000c000000000000046":return function(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");if(0===e.read_shift(4))return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");return r+e.read_shift(a>>1,"utf16le").replace(Sb,"")}(e);default:throw new Error("Unsupported Moniker "+r)}}function YN(e){var t=e.read_shift(4);return t>0?e.read_shift(t,"utf16le").replace(Sb,""):""}function KN(e,t){t||(t=zw(6+2*e.length)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function XN(e){var t=zw(512),r=0,n=e.Target;"file://"==n.slice(0,7)&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3}t.write_shift(4,2),t.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(28==s)KN(n=n.slice(1),t);else if(2&s){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),8&s&&KN(a>-1?n.slice(a+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var l=0;"../"==n.slice(3*l,3*l+3)||"..\\"==n.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,255&n.charCodeAt(r+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function ZN(e){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function JN(e,t){var r=ZN(e);return r[3]=0,r}function eS(e){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function tS(e,t,r,n){return n||(n=zw(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function rS(e,t,r){var n=r.biff>8?4:2;return[e.read_shift(n),e.read_shift(n,"i"),e.read_shift(n,"i")]}function nS(e){return[e.read_shift(2),Tj(e)]}function aS(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:r}}}function sS(e,t){return t||(t=zw(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function iS(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(1),r:t},e:{c:e.read_shift(1),r:r}}}var oS=iS;function lS(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function cS(e){e.l+=2,e.l+=e.read_shift(2)}var dS={0:cS,4:cS,5:cS,6:cS,7:function(e){return e.l+=4,e.cf=e.read_shift(2),{}},8:cS,9:cS,10:cS,11:cS,12:cS,13:function(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t},14:cS,15:cS,16:cS,17:cS,18:cS,19:cS,20:cS,21:lS};function uS(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),(t-=2)>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function hS(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":case"xla":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;default:throw new Error("unsupported BIFF version")}var s=zw(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function mS(e,t){var r=!t||t.biff>=8?2:1,n=zw(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function fS(e,t,r){var n=0;r&&2==r.biff||(n=e.read_shift(2));var a=e.read_shift(2);return r&&2==r.biff&&(n=1-(a>>15),a&=32767),[{Unsynced:1&n,DyZero:(2&n)>>1,ExAsc:(4&n)>>2,ExDsc:(8&n)>>3},a]}function pS(e,t,r,n){var a=r&&5==r.biff;n||(n=zw(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return null==s.l&&(s.l=s.length),s}var gS=HN;function xS(e,t,r){var n=e.l+t,a=8!=r.biff&&r.biff?2:4,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:i,c:l}}}function bS(e,t,r,n){var a=r&&5==r.biff;n||(n=zw(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function vS(e,t,r){var n=eS(e);2!=r.biff&&9!=t||++e.l;var a=function(e){var t=e.read_shift(1);return 1===e.read_shift(1)?t:1===t}(e);return n.val=a,n.t=!0===a||!1===a?"b":"e",n}var yS=function(e,t,r){return 0===t?"":HN(e,0,r)};function wS(e,t,r){var n,a=e.read_shift(2),s={fBuiltIn:1&a,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return 14849===r.sbcch&&(n=function(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=UN(e,0,r),s=e.read_shift(2);if(s!==(n-=e.l))throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}(e,t-2,r)),s.body=n||e.read_shift(t-2),"string"==typeof n&&(s.Name=n),s}var jS=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function NS(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&2==r.biff?1:2),l=0;(!r||r.biff>=5)&&(5!=r.biff&&(e.l+=2),l=e.read_shift(2),5==r.biff&&(e.l+=2),e.l+=4);var c=WN(e,i,r);32&a&&(c=jS[c.charCodeAt(0)]);var d=n-e.l;r&&2==r.biff&&--d;var u=n!=e.l&&0!==o&&d>0?function(e,t,r,n){var a,s=e.l+t,i=FC(e,n,r);s!==e.l&&(a=MC(e,s-e.l,i,r));return[i,a]}(e,d,r,o):[];return{chKey:s,Name:c,itab:l,rgce:u}}function SS(e,t,r){if(r.biff<8)return function(e,t,r){3==e[e.l+1]&&e[e.l]++;var n=UN(e,0,r);return 3==n.charCodeAt(0)?n.slice(1):n}(e,0,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);0!==s--;)n.push(rS(e,r.biff,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function kS(e,t,r){var n=oS(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,WC(e,t,r)]}var CS={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function ES(e){var t=zw(24),r=ej(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Nb([t,XN(e[1])])}function TS(e){var t=e[1].Tooltip,r=zw(10+2*(t.length+1));r.write_shift(2,2048);var n=ej(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function _S(e,t,r){if(!r.cellStyles)return Uw(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);2==n&&(e.l+=2);var c={s:a,e:s,w:i,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}var AS=eS,IS=$N,PS=qN;var DS=[2,3,48,49,131,139,140,245],OS=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=kv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(t,r){var n=r||{};n.dateNF||(n.dateNF="yyyymmdd");var a=cj(function(t,r){var n=[],a=xb(1);switch(r.type){case"base64":a=vb(fb(t));break;case"binary":a=vb(t);break;case"buffer":case"array":a=t}Bw(a,0);var s=a.read_shift(1),i=!!(136&s),o=!1,l=!1;switch(s){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,i=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+s.toString(16))}var c=0,d=521;2==s&&(c=a.read_shift(2)),a.l+=3,2!=s&&(c=a.read_shift(4)),c>1048576&&(c=1e6),2!=s&&(d=a.read_shift(2));var u=a.read_shift(2),h=r.codepage||1252;2!=s&&(a.l+=16,a.read_shift(1),0!==a[a.l]&&(h=e[a[a.l]]),a.l+=1,a.l+=2),l&&(a.l+=36);for(var m=[],f={},p=Math.min(a.length,2==s?521:d-10-(o?264:0)),g=l?32:11;a.l<p&&13!=a[a.l];)switch((f={}).name=lb.utils.decode(h,a.slice(a.l,a.l+g)).replace(/[\u0000\r\n].*$/g,""),a.l+=g,f.type=String.fromCharCode(a.read_shift(1)),2==s||l||(f.offset=a.read_shift(4)),f.len=a.read_shift(1),2==s&&(f.offset=a.read_shift(2)),f.dec=a.read_shift(1),f.name.length&&m.push(f),2!=s&&(a.l+=l?13:14),f.type){case"B":o&&8==f.len||!r.WTF||console.log("Skipping "+f.name+":"+f.type);break;case"G":case"P":r.WTF&&console.log("Skipping "+f.name+":"+f.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+f.type)}if(13!==a[a.l]&&(a.l=d-1),13!==a.read_shift(1))throw new Error("DBF Terminator not found "+a.l+" "+a[a.l]);a.l=d;var x=0,b=0;for(n[0]=[],b=0;b!=m.length;++b)n[0][b]=m[b].name;for(;c-- >0;)if(42!==a[a.l])for(++a.l,n[++x]=[],b=0,b=0;b!=m.length;++b){var v=a.slice(a.l,a.l+m[b].len);a.l+=m[b].len,Bw(v,0);var y=lb.utils.decode(h,v);switch(m[b].type){case"C":y.trim().length&&(n[x][b]=y.replace(/\s+$/,""));break;case"D":8===y.length?n[x][b]=new Date(+y.slice(0,4),+y.slice(4,6)-1,+y.slice(6,8)):n[x][b]=y;break;case"F":n[x][b]=parseFloat(y.trim());break;case"+":case"I":n[x][b]=l?2147483648^v.read_shift(-4,"i"):v.read_shift(4,"i");break;case"L":switch(y.trim().toUpperCase()){case"Y":case"T":n[x][b]=!0;break;case"N":case"F":n[x][b]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+y+"|")}break;case"M":if(!i)throw new Error("DBF Unexpected MEMO for type "+s.toString(16));n[x][b]="##MEMO##"+(l?parseInt(y.trim(),10):v.read_shift(4));break;case"N":(y=y.replace(/\u0000/g,"").trim())&&"."!=y&&(n[x][b]=+y||0);break;case"@":n[x][b]=new Date(v.read_shift(-8,"f")-621356832e5);break;case"T":n[x][b]=new Date(864e5*(v.read_shift(4)-2440588)+v.read_shift(4));break;case"Y":n[x][b]=v.read_shift(4,"i")/1e4+v.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":n[x][b]=-v.read_shift(-8,"f");break;case"B":if(o&&8==m[b].len){n[x][b]=v.read_shift(8,"f");break}case"G":case"P":v.l+=m[b].len;break;case"0":if("_NullFlags"===m[b].name)break;default:throw new Error("DBF Unsupported data type "+m[b].type)}}else a.l+=u;if(2!=s&&a.l<a.length&&26!=a[a.l++])throw new Error("DBF EOF Marker missing "+(a.l-1)+" of "+a.length+" "+a[a.l-1].toString(16));return r&&r.sheetRows&&(n=n.slice(0,r.sheetRows)),r.DBF=m,n}(t,n),n);return a["!cols"]=n.DBF.map(function(e){return{wch:e.len,DBF:e}}),delete n.DBF,a}var n={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return oj(r(e,t),t)}catch(xJ){if(t&&t.WTF)throw xJ}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function(e,r){var a=r||{};if(+a.codepage>=0&&ab(+a.codepage),"string"==a.type)throw new Error("Cannot write DBF to JS string");var s=Ww(),i=pA(e,{header:1,raw:!0,cellDates:!0}),o=i[0],l=i.slice(1),c=e["!cols"]||[],d=0,u=0,h=0,m=1;for(d=0;d<o.length;++d)if(((c[d]||{}).DBF||{}).name)o[d]=c[d].DBF.name,++h;else if(null!=o[d]){if(++h,"number"==typeof o[d]&&(o[d]=o[d].toString(10)),"string"!=typeof o[d])throw new Error("DBF Invalid column name "+o[d]+" |"+typeof o[d]+"|");if(o.indexOf(o[d])!==d)for(u=0;u<1024;++u)if(-1==o.indexOf(o[d]+"_"+u)){o[d]+="_"+u;break}}var f=aj(e["!ref"]),p=[],g=[],x=[];for(d=0;d<=f.e.c-f.s.c;++d){var b="",v="",y=0,w=[];for(u=0;u<l.length;++u)null!=l[u][d]&&w.push(l[u][d]);if(0!=w.length&&null!=o[d]){for(u=0;u<w.length;++u){switch(typeof w[u]){case"number":v="B";break;case"string":default:v="C";break;case"boolean":v="L";break;case"object":v=w[u]instanceof Date?"D":"C"}y=Math.max(y,String(w[u]).length),b=b&&b!=v?"C":v}y>250&&(y=250),"C"==(v=((c[d]||{}).DBF||{}).type)&&c[d].DBF.len>y&&(y=c[d].DBF.len),"B"==b&&"N"==v&&(b="N",x[d]=c[d].DBF.dec,y=c[d].DBF.len),g[d]="C"==b||"N"==v?y:n[b]||0,m+=g[d],p[d]=b}else p[d]="?"}var j=s.next(32);for(j.write_shift(4,318902576),j.write_shift(4,l.length),j.write_shift(2,296+32*h),j.write_shift(2,m),d=0;d<4;++d)j.write_shift(4,0);for(j.write_shift(4,(+t[eb]||3)<<8),d=0,u=0;d<o.length;++d)if(null!=o[d]){var N=s.next(32),S=(o[d].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,S,"sbcs"),N.write_shift(1,"?"==p[d]?"C":p[d],"sbcs"),N.write_shift(4,u),N.write_shift(1,g[d]||n[p[d]]||0),N.write_shift(1,x[d]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),u+=g[d]||n[p[d]]||0}var k=s.next(264);for(k.write_shift(4,13),d=0;d<65;++d)k.write_shift(4,0);for(d=0;d<l.length;++d){var C=s.next(m);for(C.write_shift(1,0),u=0;u<o.length;++u)if(null!=o[u])switch(p[u]){case"L":C.write_shift(1,null==l[d][u]?63:l[d][u]?84:70);break;case"B":C.write_shift(8,l[d][u]||0,"f");break;case"N":var E="0";for("number"==typeof l[d][u]&&(E=l[d][u].toFixed(x[u]||0)),h=0;h<g[u]-E.length;++h)C.write_shift(1,32);C.write_shift(1,E,"sbcs");break;case"D":l[d][u]?(C.write_shift(4,("0000"+l[d][u].getFullYear()).slice(-4),"sbcs"),C.write_shift(2,("00"+(l[d][u].getMonth()+1)).slice(-2),"sbcs"),C.write_shift(2,("00"+l[d][u].getDate()).slice(-2),"sbcs")):C.write_shift(8,"00000000","sbcs");break;case"C":var T=String(null!=l[d][u]?l[d][u]:"").slice(0,g[u]);for(C.write_shift(1,T,"sbcs"),h=0;h<g[u]-T.length;++h)C.write_shift(1,32)}}return s.next(1).write_shift(1,26),s.end()}}}(),LS=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("N("+Nv(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(t,r){var n=e[r];return"number"==typeof n?ub(n):n},n=function(e,t,r){var n=t.charCodeAt(0)-32<<4|r.charCodeAt(0)-48;return 59==n?e:ub(n)};function a(e,a){var s,i=e.split(/[\n\r]+/),o=-1,l=-1,c=0,d=0,u=[],h=[],m=null,f={},p=[],g=[],x=[],b=0;for(+a.codepage>=0&&ab(+a.codepage);c!==i.length;++c){b=0;var v,y=i[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),w=y.replace(/;;/g,"\0").split(";").map(function(e){return e.replace(/\u0000/g,";")}),j=w[0];if(y.length>0)switch(j){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==w[1].charAt(0)&&h.push(y.slice(3).replace(/;;/g,";"));break;case"C":var N=!1,S=!1,k=!1,C=!1,E=-1,T=-1;for(d=1;d<w.length;++d)switch(w[d].charAt(0)){case"A":case"G":break;case"X":l=parseInt(w[d].slice(1))-1,S=!0;break;case"Y":for(o=parseInt(w[d].slice(1))-1,S||(l=0),s=u.length;s<=o;++s)u[s]=[];break;case"K":'"'===(v=w[d].slice(1)).charAt(0)?v=v.slice(1,v.length-1):"TRUE"===v?v=!0:"FALSE"===v?v=!1:isNaN(Uv(v))?isNaN(Vv(v).getDate())||(v=Mv(v)):(v=Uv(v),null!==m&&cv(m)&&(v=Pv(v))),N=!0;break;case"E":C=!0;var _=hC(w[d].slice(1),{r:o,c:l});u[o][l]=[u[o][l],_];break;case"S":k=!0,u[o][l]=[u[o][l],"S5S"];break;case"R":E=parseInt(w[d].slice(1))-1;break;case"C":T=parseInt(w[d].slice(1))-1;break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+y)}if(N&&(u[o][l]&&2==u[o][l].length?u[o][l][0]=v:u[o][l]=v,m=null),k){if(C)throw new Error("SYLK shared formula cannot have own formula");var A=E>-1&&u[E][T];if(!A||!A[1])throw new Error("SYLK shared formula cannot find base");u[o][l][1]=pC(A[1],{r:o-E,c:l-T})}break;case"F":var I=0;for(d=1;d<w.length;++d)switch(w[d].charAt(0)){case"X":l=parseInt(w[d].slice(1))-1,++I;break;case"Y":for(o=parseInt(w[d].slice(1))-1,s=u.length;s<=o;++s)u[s]=[];break;case"M":b=parseInt(w[d].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":m=h[parseInt(w[d].slice(1))];break;case"W":for(x=w[d].slice(1).split(" "),s=parseInt(x[0],10);s<=parseInt(x[1],10);++s)b=parseInt(x[2],10),g[s-1]=0===b?{hidden:!0}:{wch:b},wk(g[s-1]);break;case"C":g[l=parseInt(w[d].slice(1))-1]||(g[l]={});break;case"R":p[o=parseInt(w[d].slice(1))-1]||(p[o]={}),b>0?(p[o].hpt=b,p[o].hpx=Sk(b)):0===b&&(p[o].hidden=!0);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+y)}I<1&&(m=null);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+y)}}return p.length>0&&(f["!rows"]=p),g.length>0&&(f["!cols"]=g),a&&a.sheetRows&&(u=u.slice(0,a.sheetRows)),[u,f]}function s(e,t){var r=function(e,t){switch(t.type){case"base64":return a(fb(e),t);case"binary":return a(e,t);case"buffer":return a(pb&&Buffer.isBuffer(e)?e.toString("binary"):wb(e),t);case"array":return a(Fv(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),n=r[0],s=r[1],i=cj(n,t);return Nv(s).forEach(function(e){i[e]=s[e]}),i}function i(e,t,r,n){var a="C;Y"+(r+1)+";X"+(n+1)+";K";switch(e.t){case"n":a+=e.v||0,e.f&&!e.F&&(a+=";E"+fC(e.f,{r:r,c:n}));break;case"b":a+=e.v?"TRUE":"FALSE";break;case"e":a+=e.w||e.v;break;case"d":a+='"'+(e.w||e.v)+'"';break;case"s":a+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return a}return e["|"]=254,{to_workbook:function(e,t){return oj(s(e,t),t)},to_sheet:s,from_sheet:function(e,t){var r,n,a=["ID;PWXL;N;E"],s=[],o=aj(e["!ref"]),l=Array.isArray(e),c="\r\n";a.push("P;PGeneral"),a.push("F;P0;DG0G8;M255"),e["!cols"]&&(n=a,e["!cols"].forEach(function(e,t){var r="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?r+="0":("number"!=typeof e.width||e.wpx||(e.wpx=gk(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=xk(e.wpx)),"number"==typeof e.wch&&(r+=Math.round(e.wch)))," "!=r.charAt(r.length-1)&&n.push(r)})),e["!rows"]&&function(e,t){t.forEach(function(t,r){var n="F;";t.hidden?n+="M0;":t.hpt?n+="M"+20*t.hpt+";":t.hpx&&(n+="M"+20*Nk(t.hpx)+";"),n.length>2&&e.push(n+"R"+(r+1))})}(a,e["!rows"]),a.push("B;Y"+(o.e.r-o.s.r+1)+";X"+(o.e.c-o.s.c+1)+";D"+[o.s.c,o.s.r,o.e.c,o.e.r].join(" "));for(var d=o.s.r;d<=o.e.r;++d)for(var u=o.s.c;u<=o.e.c;++u){var h=tj({r:d,c:u});(r=l?(e[d]||[])[u]:e[h])&&(null!=r.v||r.f&&!r.F)&&s.push(i(r,0,d,u))}return a.join(c)+c+s.join(c)+c+"E"+c}}}(),RS=function(){function e(e,t){for(var r=e.split("\n"),n=-1,a=-1,s=0,i=[];s!==r.length;++s)if("BOT"!==r[s].trim()){if(!(n<0)){for(var o=r[s].trim().split(","),l=o[0],c=o[1],d=r[++s]||"";1&(d.match(/["]/g)||[]).length&&s<r.length-1;)d+="\n"+r[++s];switch(d=d.trim(),+l){case-1:if("BOT"===d){i[++n]=[],a=0;continue}if("EOD"!==d)throw new Error("Unrecognized DIF special command "+d);break;case 0:"TRUE"===d?i[n][a]=!0:"FALSE"===d?i[n][a]=!1:isNaN(Uv(c))?isNaN(Vv(c).getDate())?i[n][a]=c:i[n][a]=Mv(c):i[n][a]=Uv(c),++a;break;case 1:(d=(d=d.slice(1,d.length-1)).replace(/""/g,'"'))&&d.match(/^=".*"$/)&&(d=d.slice(2,-1)),i[n][a++]=""!==d?d:null}if("EOD"===d)break}}else i[++n]=[],a=0;return t&&t.sheetRows&&(i=i.slice(0,t.sheetRows)),i}function t(t,r){return cj(function(t,r){switch(r.type){case"base64":return e(fb(t),r);case"binary":return e(t,r);case"buffer":return e(pb&&Buffer.isBuffer(t)?t.toString("binary"):wb(t),r);case"array":return e(Fv(t),r)}throw new Error("Unrecognized type "+r.type)}(t,r),r)}return{to_workbook:function(e,r){return oj(t(e,r),r)},to_sheet:t,from_sheet:function(){var e=function(e,t,r,n,a){e.push(t),e.push(r+","+n),e.push('"'+a.replace(/"/g,'""')+'"')},t=function(e,t,r,n){e.push(t+","+r),e.push(1==t?'"'+n.replace(/"/g,'""')+'"':n)};return function(r){var n,a=[],s=aj(r["!ref"]),i=Array.isArray(r);e(a,"TABLE",0,1,"sheetjs"),e(a,"VECTORS",0,s.e.r-s.s.r+1,""),e(a,"TUPLES",0,s.e.c-s.s.c+1,""),e(a,"DATA",0,0,"");for(var o=s.s.r;o<=s.e.r;++o){t(a,-1,0,"BOT");for(var l=s.s.c;l<=s.e.c;++l){var c=tj({r:o,c:l});if(n=i?(r[o]||[])[l]:r[c])switch(n.t){case"n":var d=n.w;d||null==n.v||(d=n.v),null==d?n.f&&!n.F?t(a,1,0,"="+n.f):t(a,1,0,""):t(a,0,d,"V");break;case"b":t(a,0,n.v?1:0,n.v?"TRUE":"FALSE");break;case"s":t(a,1,0,isNaN(n.v)?n.v:'="'+n.v+'"');break;case"d":n.w||(n.w=mv(n.z||Lb[14],Tv(Mv(n.v)))),t(a,0,n.w,"V");break;default:t(a,1,0,"")}else t(a,1,0,"")}}t(a,-1,0,"EOD");return a.join("\r\n")}}()}}(),MS=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(t,r){return cj(function(t,r){for(var n=t.split("\n"),a=-1,s=-1,i=0,o=[];i!==n.length;++i){var l=n[i].trim().split(":");if("cell"===l[0]){var c=ej(l[1]);if(o.length<=c.r)for(a=o.length;a<=c.r;++a)o[a]||(o[a]=[]);switch(a=c.r,s=c.c,l[2]){case"t":o[a][s]=e(l[3]);break;case"v":o[a][s]=+l[3];break;case"vtf":var d=l[l.length-1];case"vtc":"nl"===l[3]?o[a][s]=!!+l[4]:o[a][s]=+l[4],"vtf"==l[2]&&(o[a][s]=[o[a][s],d])}}}return r&&r.sheetRows&&(o=o.slice(0,r.sheetRows)),o}(t,r),r)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),i="--SocialCalcSpreadsheetControlSave--";function o(e){if(!e||!e["!ref"])return"";for(var r,n=[],a=[],s="",i=rj(e["!ref"]),o=Array.isArray(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c)if(s=tj({r:l,c:c}),(r=o?(e[l]||[])[c]:e[s])&&null!=r.v&&"z"!==r.t){switch(a=["cell",s,"t"],r.t){case"s":case"str":a.push(t(r.v));break;case"n":r.f?(a[2]="vtf",a[3]="n",a[4]=r.v,a[5]=t(r.f)):(a[2]="v",a[3]=r.v);break;case"b":a[2]="vt"+(r.f?"f":"c"),a[3]="nl",a[4]=r.v?"1":"0",a[5]=t(r.f||(r.v?"TRUE":"FALSE"));break;case"d":var d=Tv(Mv(r.v));a[2]="vtc",a[3]="nd",a[4]=""+d,a[5]=r.w||mv(r.z||Lb[14],d);break;case"e":continue}n.push(a.join(":"))}return n.push("sheet:c:"+(i.e.c-i.s.c+1)+":r:"+(i.e.r-i.s.r+1)+":tvf:1"),n.push("valueformat:1:text-wiki"),n.join("\n")}return{to_workbook:function(e,t){return oj(r(e,t),t)},to_sheet:r,from_sheet:function(e){return[n,a,s,a,o(e),i].join("\n")}}}(),FS=function(){function e(e,t,r,n,a){a.raw?t[r][n]=e:""===e||("TRUE"===e?t[r][n]=!0:"FALSE"===e?t[r][n]=!1:isNaN(Uv(e))?isNaN(Vv(e).getDate())?t[r][n]=e:t[r][n]=Mv(e):t[r][n]=Uv(e))}var t={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(e){for(var n={},a=!1,s=0,i=0;s<e.length;++s)34==(i=e.charCodeAt(s))?a=!a:!a&&i in t&&(n[i]=(n[i]||0)+1);for(s in i=[],n)Object.prototype.hasOwnProperty.call(n,s)&&i.push([n[s],s]);if(!i.length)for(s in n=r)Object.prototype.hasOwnProperty.call(n,s)&&i.push([n[s],s]);return i.sort(function(e,t){return e[0]-t[0]||r[e[1]]-r[t[1]]}),t[i.pop()[1]]||44}function a(e,t){var r=t||{},a="",s=r.dense?[]:{},i={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(a=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(a=e.charAt(4),e=e.slice(6)):a=n(e.slice(0,1024)):a=r&&r.FS?r.FS:n(e.slice(0,1024));var o=0,l=0,c=0,d=0,u=0,h=a.charCodeAt(0),m=!1,f=0,p=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g,x,b=null!=r.dateNF?(g=r.dateNF,x=(x="number"==typeof g?Lb[g]:g).replace(bv,"(\\d+)"),new RegExp("^"+x+"$")):null;function v(){var t=e.slice(d,u),n={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)n.t="z";else if(r.raw)n.t="s",n.v=t;else if(0===t.trim().length)n.t="s",n.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(n.t="s",n.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(n.t="n",n.f=t.slice(1)):(n.t="s",n.v=t);else if("TRUE"==t)n.t="b",n.v=!0;else if("FALSE"==t)n.t="b",n.v=!1;else if(isNaN(c=Uv(t)))if(!isNaN(Vv(t).getDate())||b&&t.match(b)){n.z=r.dateNF||Lb[14];var a=0;b&&t.match(b)&&(t=function(e,t,r){var n=-1,a=-1,s=-1,i=-1,o=-1,l=-1;(t.match(bv)||[]).forEach(function(e,t){var c=parseInt(r[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":n=c;break;case"d":s=c;break;case"h":i=c;break;case"s":l=c;break;case"m":i>=0?o=c:a=c}}),l>=0&&-1==o&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:(new Date).getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==i&&-1==o&&-1==l?c:-1==n&&-1==a&&-1==s?d:c+"T"+d}(0,r.dateNF,t.match(b)||[]),a=1),r.cellDates?(n.t="d",n.v=Mv(t,a)):(n.t="n",n.v=Tv(Mv(t,a))),!1!==r.cellText&&(n.w=mv(n.z,n.v instanceof Date?Tv(n.v):n.v)),r.cellNF||delete n.z}else n.t="s",n.v=t;else n.t="n",!1!==r.cellText&&(n.w=t),n.v=c;if("z"==n.t||(r.dense?(s[o]||(s[o]=[]),s[o][l]=n):s[tj({c:l,r:o})]=n),d=u+1,p=e.charCodeAt(d),i.e.c<l&&(i.e.c=l),i.e.r<o&&(i.e.r=o),f==h)++l;else if(l=0,++o,r.sheetRows&&r.sheetRows<=o)return!0}e:for(;u<e.length;++u)switch(f=e.charCodeAt(u)){case 34:34===p&&(m=!m);break;case h:case 10:case 13:if(!m&&v())break e}return u-d>0&&v(),s["!ref"]=nj(i),s}function s(t,r){return r&&r.PRN?r.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?a(t,r):cj(function(t,r){var n=r||{},a=[];if(!t||0===t.length)return a;for(var s=t.split(/[\r\n]/),i=s.length-1;i>=0&&0===s[i].length;)--i;for(var o=10,l=0,c=0;c<=i;++c)-1==(l=s[c].indexOf(" "))?l=s[c].length:l++,o=Math.max(o,l);for(c=0;c<=i;++c){a[c]=[];var d=0;for(e(s[c].slice(0,o).trim(),a,c,d,n),d=1;d<=(s[c].length-o)/10+1;++d)e(s[c].slice(o+10*(d-1),o+10*d).trim(),a,c,d,n)}return n.sheetRows&&(a=a.slice(0,n.sheetRows)),a}(t,r),r):a(t,r)}function i(e,t){var r="",n="string"==t.type?[0,0,0,0]:aA(e,t);switch(t.type){case"base64":r=fb(e);break;case"binary":case"string":r=e;break;case"buffer":65001==t.codepage?r=e.toString("utf8"):(t.codepage,r=pb&&Buffer.isBuffer(e)?e.toString("binary"):wb(e));break;case"array":r=Fv(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==n[0]&&187==n[1]&&191==n[2]?r=ky(r.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?r=ky(r):t.type,"socialcalc:version:"==r.slice(0,19)?MS.to_sheet("string"==t.type?r:ky(r),t):s(r,t)}return{to_workbook:function(e,t){return oj(i(e,t),t)},to_sheet:i,from_sheet:function(e){for(var t,r=[],n=aj(e["!ref"]),a=Array.isArray(e),s=n.s.r;s<=n.e.r;++s){for(var i=[],o=n.s.c;o<=n.e.c;++o){var l=tj({r:s,c:o});if((t=a?(e[s]||[])[o]:e[l])&&null!=t.v){for(var c=(t.w||(ij(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";i.push(c+(0===o?" ":""))}else i.push("          ")}r.push(i.join(""))}return r.join("\n")}}}();var $S=function(){function e(e,t,r){if(e){Bw(e,e.l||0);for(var n=r.Enum||x;e.l<e.length;){var a=e.read_shift(2),s=n[a]||n[65535],i=e.read_shift(2),o=e.l+i,l=s.f&&s.f(e,i,r);if(e.l=o,t(l,s,a))return}}}function t(t,r){if(!t)return t;var n=r||{},a=n.dense?[]:{},s="Sheet1",i="",o=0,l={},c=[],d=[],u={s:{r:0,c:0},e:{r:0,c:0}},h=n.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])n.Enum=x,e(t,function(e,t,r){switch(r){case 0:n.vers=e,e>=4096&&(n.qpro=!0);break;case 6:u=e;break;case 204:e&&(i=e);break;case 222:i=e;break;case 15:case 51:n.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==r&&!(112&~e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=n.dateNF||Lb[14],n.cellDates&&(e[1].t="d",e[1].v=Pv(e[1].v))),n.qpro&&e[3]>o&&(a["!ref"]=nj(u),l[s]=a,c.push(s),a=n.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],s=i||"Sheet"+(o+1),i="");var d=n.dense?(a[e[0].r]||[])[e[0].c]:a[tj(e[0])];if(d){d.t=e[1].t,d.v=e[1].v,null!=e[1].z&&(d.z=e[1].z),null!=e[1].f&&(d.f=e[1].f);break}n.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[tj(e[0])]=e[1]}},n);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);n.Enum=b,14==t[2]&&(n.qpro=!0,t.l=0),e(t,function(e,t,r){switch(r){case 204:s=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(a["!ref"]=nj(u),l[s]=a,c.push(s),a=n.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],s="Sheet"+(o+1)),h>0&&e[0].r>=h)break;n.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[tj(e[0])]=e[1],u.e.c<e[0].c&&(u.e.c=e[0].c),u.e.r<e[0].r&&(u.e.r=e[0].r);break;case 27:e[14e3]&&(d[e[14e3][0]]=e[14e3][1]);break;case 1537:d[e[0]]=e[1],e[0]==o&&(s=e[1])}},n)}if(a["!ref"]=nj(u),l[i||s]=a,c.push(i||s),!d.length)return{SheetNames:c,Sheets:l};for(var m={},f=[],p=0;p<d.length;++p)l[c[p]]?(f.push(d[p]||c[p]),m[d[p]]=l[d[p]]||l[c[p]]):(f.push(d[p]),m[d[p]]={"!ref":"A1"});return{SheetNames:f,Sheets:m}}function r(e,t,r){var n=[{c:0,r:0},{t:"n",v:0},0,0];return r.qpro&&20768!=r.vers?(n[0].c=e.read_shift(1),n[3]=e.read_shift(1),n[0].r=e.read_shift(2),e.l+=2):(n[2]=e.read_shift(1),n[0].c=e.read_shift(2),n[0].r=e.read_shift(2)),n}function n(e,t,n){var a=e.l+t,s=r(e,0,n);if(s[1].t="s",20768==n.vers){e.l++;var i=e.read_shift(1);return s[1].v=e.read_shift(i,"utf8"),s}return n.qpro&&e.l++,s[1].v=e.read_shift(a-e.l,"cstr"),s}function a(e,t,r){var n=zw(7+r.length);n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(1,39);for(var a=0;a<n.length;++a){var s=r.charCodeAt(a);n.write_shift(1,s>=128?95:s)}return n.write_shift(1,0),n}function s(e,t,r){var n=zw(7);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r,"i"),n}function i(e,t,r){var n=zw(13);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(8,r,"f"),n}function o(e,t,r){var n=32768&t;return t=(n?e:0)+((t&=-32769)>=8192?t-16384:t),(n?"":"$")+(r?Jw(t):Xw(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function d(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function u(e,t,r,n){var a=zw(6+n.length);a.write_shift(2,e),a.write_shift(1,r),a.write_shift(1,t),a.write_shift(1,39);for(var s=0;s<n.length;++s){var i=n.charCodeAt(s);a.write_shift(1,i>=128?95:i)}return a.write_shift(1,0),a}function h(e,t){var r=d(e),n=e.read_shift(4),a=e.read_shift(4),s=e.read_shift(2);if(65535==s)return 0===n&&3221225472===a?(r[1].t="e",r[1].v=15):0===n&&3489660928===a?(r[1].t="e",r[1].v=42):r[1].v=0,r;var i=32768&s;return s=(32767&s)-16446,r[1].v=(1-2*i)*(a*Math.pow(2,s+32)+n*Math.pow(2,s)),r}function m(e,t,r,n){var a=zw(14);if(a.write_shift(2,e),a.write_shift(1,r),a.write_shift(1,t),0==n)return a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,65535),a;var s,i=0,o=0,l=0;return n<0&&(i=1,n=-n),o=0|Math.log2(n),2147483648&(l=(n/=Math.pow(2,o-31))>>>0)||(++o,l=(n/=2)>>>0),n-=l,l|=2147483648,l>>>=0,s=(n*=Math.pow(2,32))>>>0,a.write_shift(4,s),a.write_shift(4,l),o+=16383+(i?32768:0),a.write_shift(2,o),a}function f(e,t){var r=d(e),n=e.read_shift(8,"f");return r[1].v=n,r}function p(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function g(e,t){var r=zw(5+e.length);r.write_shift(2,14e3),r.write_shift(2,t);for(var n=0;n<e.length;++n){var a=e.charCodeAt(n);r[r.l++]=a>127?95:a}return r[r.l++]=0,r}var x={0:{n:"BOF",f:MN},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,r){var n={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&r.qpro?(n.s.c=e.read_shift(1),e.l++,n.s.r=e.read_shift(2),n.e.c=e.read_shift(1),e.l++,n.e.r=e.read_shift(2),n):(n.s.c=e.read_shift(2),n.s.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),n.e.c=e.read_shift(2),n.e.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),65535==n.s.c&&(n.s.c=n.e.c=n.s.r=n.e.r=0),n)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,n){var a=r(e,0,n);return a[1].v=e.read_shift(2,"i"),a}},14:{n:"NUMBER",f:function(e,t,n){var a=r(e,0,n);return a[1].v=e.read_shift(8,"f"),a}},15:{n:"LABEL",f:n},16:{n:"FORMULA",f:function(e,t,n){var a=e.l+t,s=r(e,0,n);if(s[1].v=e.read_shift(8,"f"),n.qpro)e.l=a;else{var i=e.read_shift(2);!function(e,t){Bw(e,0);var r=[],n=0,a="",s="",i="",d="";for(;e.l<e.length;){var u=e[e.l++];switch(u){case 0:r.push(e.read_shift(8,"f"));break;case 1:s=o(t[0].c,e.read_shift(2),!0),a=o(t[0].r,e.read_shift(2),!1),r.push(s+a);break;case 2:var h=o(t[0].c,e.read_shift(2),!0),m=o(t[0].r,e.read_shift(2),!1);s=o(t[0].c,e.read_shift(2),!0),a=o(t[0].r,e.read_shift(2),!1),r.push(h+m+":"+s+a);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:r.push("("+r.pop()+")");break;case 5:r.push(e.read_shift(2));break;case 6:for(var f="";u=e[e.l++];)f+=String.fromCharCode(u);r.push('"'+f.replace(/"/g,'""')+'"');break;case 8:r.push("-"+r.pop());break;case 23:r.push("+"+r.pop());break;case 22:r.push("NOT("+r.pop()+")");break;case 20:case 21:d=r.pop(),i=r.pop(),r.push(["AND","OR"][u-20]+"("+i+","+d+")");break;default:if(u<32&&c[u])d=r.pop(),i=r.pop(),r.push(i+c[u]+d);else{if(!l[u])return u<=7?console.error("WK1 invalid opcode "+u.toString(16)):u<=24?console.error("WK1 unsupported op "+u.toString(16)):u<=30?console.error("WK1 invalid opcode "+u.toString(16)):u<=115?console.error("WK1 unsupported function opcode "+u.toString(16)):console.error("WK1 unrecognized opcode "+u.toString(16));if(69==(n=l[u][1])&&(n=e[e.l++]),n>r.length)return void console.error("WK1 bad formula parse 0x"+u.toString(16)+":|"+r.join("|")+"|");var p=r.slice(-n);r.length-=n,r.push(l[u][0]+"("+p.join(",")+")")}}}1==r.length?t[1].f=""+r[0]:console.error("WK1 bad formula parse |"+r.join("|")+"|")}(e.slice(e.l,e.l+i),s),e.l+=i}return s}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:n},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:p},222:{n:"SHEETNAMELP",f:function(e,t){var r=e[e.l++];r>t-1&&(r=t-1);for(var n="";n.length<r;)n+=String.fromCharCode(e[e.l++]);return n}},65535:{n:""}},b={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var r=d(e);return r[1].t="s",r[1].v=e.read_shift(t-4,"cstr"),r}},23:{n:"NUMBER17",f:h},24:{n:"NUMBER18",f:function(e,t){var r=d(e);r[1].v=e.read_shift(2);var n=r[1].v>>1;if(1&r[1].v)switch(7&n){case 0:n=5e3*(n>>3);break;case 1:n=500*(n>>3);break;case 2:n=(n>>3)/20;break;case 3:n=(n>>3)/200;break;case 4:n=(n>>3)/2e3;break;case 5:n=(n>>3)/2e4;break;case 6:n=(n>>3)/16;break;case 7:n=(n>>3)/64}return r[1].v=n,r}},25:{n:"FORMULA19",f:function(e,t){var r=h(e);return e.l+=t-14,r}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var r={},n=e.l+t;e.l<n;){var a=e.read_shift(2);if(14e3==a){for(r[a]=[0,""],r[a][0]=e.read_shift(2);e[e.l];)r[a][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return r}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var r=d(e),n=e.read_shift(4);return r[1].v=n>>6,r}},38:{n:"??"},39:{n:"NUMBER27",f:f},40:{n:"FORMULA28",f:function(e,t){var r=f(e);return e.l+=t-10,r}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:p},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,r){if(r.qpro&&!(t<21)){var n=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[n,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var r=t||{};if(+r.codepage>=0&&ab(+r.codepage),"string"==r.type)throw new Error("Cannot write WK1 to JS string");var n,o,l=Ww(),c=aj(e["!ref"]),d=Array.isArray(e),u=[];JT(l,0,(n=1030,(o=zw(2)).write_shift(2,n),o)),JT(l,6,function(e){var t=zw(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(c));for(var h=Math.min(c.e.r,8191),m=c.s.r;m<=h;++m)for(var f=Xw(m),p=c.s.c;p<=c.e.c;++p){m===c.s.r&&(u[p]=Jw(p));var g=u[p]+f,x=d?(e[m]||[])[p]:e[g];if(x&&"z"!=x.t)if("n"==x.t)(0|x.v)==x.v&&x.v>=-32768&&x.v<=32767?JT(l,13,s(m,p,x.v)):JT(l,14,i(m,p,x.v));else JT(l,15,a(m,p,ij(x).slice(0,239)))}return JT(l,1),l.end()},book_to_wk3:function(e,t){var r=t||{};if(+r.codepage>=0&&ab(+r.codepage),"string"==r.type)throw new Error("Cannot write WK3 to JS string");var n=Ww();JT(n,0,function(e){var t=zw(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var r=0,n=0,a=0,s=0;s<e.SheetNames.length;++s){var i=e.SheetNames[s],o=e.Sheets[i];if(o&&o["!ref"]){++a;var l=rj(o["!ref"]);r<l.e.r&&(r=l.e.r),n<l.e.c&&(n=l.e.c)}}r>8191&&(r=8191);return t.write_shift(2,r),t.write_shift(1,a),t.write_shift(1,n),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var a=0,s=0;a<e.SheetNames.length;++a)(e.Sheets[e.SheetNames[a]]||{})["!ref"]&&JT(n,27,g(e.SheetNames[a],s++));var i=0;for(a=0;a<e.SheetNames.length;++a){var o=e.Sheets[e.SheetNames[a]];if(o&&o["!ref"]){for(var l=aj(o["!ref"]),c=Array.isArray(o),d=[],h=Math.min(l.e.r,8191),f=l.s.r;f<=h;++f)for(var p=Xw(f),x=l.s.c;x<=l.e.c;++x){f===l.s.r&&(d[x]=Jw(x));var b=d[x]+p,v=c?(o[f]||[])[x]:o[b];if(v&&"z"!=v.t)if("n"==v.t)JT(n,23,m(f,x,i,v.v));else JT(n,22,u(f,x,i,ij(v).slice(0,239)))}++i}}return JT(n,1),n.end()},to_workbook:function(e,r){switch(r.type){case"base64":return t(vb(fb(e)),r);case"binary":return t(vb(e),r);case"buffer":case"array":return t(e,r)}throw"Unsupported type "+r.type}}}();var BS=function(){var e=Ey("t"),t=Ey("rPr");function r(r){var n=r.match(e);if(!n)return{t:"s",v:""};var a={t:"s",v:hy(n[1])},s=r.match(t);return s&&(a.s=function(e){var t={},r=e.match(sy),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=ly(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==s.val)break;t.cp=rb[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting"}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==s.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==s.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(47!==s[0].charCodeAt(1)&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}(s[1])),a}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(e){return e.replace(n,"").split(a).map(r).filter(function(e){return e.v})}}(),US=function(){var e=/(\r\n|\n)/g;function t(t){var r=[[],t.v,[]];return t.v?(t.s&&function(e,t,r){var n=[];e.u&&n.push("text-decoration: underline;"),e.uval&&n.push("text-underline-style:"+e.uval+";"),e.sz&&n.push("font-size:"+e.sz+"pt;"),e.outline&&n.push("text-effect: outline;"),e.shadow&&n.push("text-shadow: auto;"),t.push('<span style="'+n.join("")+'">'),e.b&&(t.push("<b>"),r.push("</b>")),e.i&&(t.push("<i>"),r.push("</i>")),e.strike&&(t.push("<s>"),r.push("</s>"));var a=e.valign||"";"superscript"==a||"super"==a?a="sup":"subscript"==a&&(a="sub"),""!=a&&(t.push("<"+a+">"),r.push("</"+a+">")),r.push("</span>")}(t.s,r[0],r[2]),r[0].join("")+r[1].replace(e,"<br/>")+r[2].join("")):""}return function(e){return e.map(t).join("")}}(),zS=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,VS=/<(?:\w+:)?r>/,WS=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function qS(e,t){var r=!t||t.cellHTML,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=hy(ky(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ky(e),r&&(n.h=by(n.t))):e.match(VS)&&(n.r=ky(e),n.t=hy(ky((e.replace(WS,"").match(zS)||[]).join("").replace(sy,""))),r&&(n.h=US(BS(n.r)))),n):{t:""}}var HS=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,QS=/<(?:\w+:)?(?:si|sstItem)>/g,GS=/<\/(?:\w+:)?(?:si|sstItem)>/;var YS=/^\s|\s$|[\t\n\r]/;function KS(e,t){if(!t.bookSST)return"";var r=[ry];r[r.length]=Ry("sst",null,{xmlns:Jy[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(YS)&&(s+=' xml:space="preserve"'),s+=">"+py(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}var XS=function(e,t){var r=!1;return null==t&&(r=!0,t=zw(15+4*e.t.length)),t.write_shift(1,0),hj(e.t,t),r?t.slice(0,t.l):t};function ZS(e){var t=Ww();qw(t,159,function(e,t){return t||(t=zw(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var r=0;r<e.length;++r)qw(t,19,XS(e[r]));return qw(t,160),t.end()}function JS(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function ek(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function tk(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function rk(e){var t=function(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=ek(e,4),t.U=ek(e,4),t.W=ek(e,4),t}(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),4!=e.read_shift(4))throw new Error("Bad !Primary record");return t}function nk(e,t){var r=e.l+t,n={};n.Flags=63&e.read_shift(4),e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=36==n.Flags;break;case 26625:a=4==n.Flags;break;case 0:a=16==n.Flags||4==n.Flags||36==n.Flags;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function ak(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function sk(e){if(36!=(63&e.read_shift(4)))throw new Error("EncryptionInfo mismatch");var t=e.read_shift(4);return{t:"Std",h:nk(e,t),v:ak(e,e.length-e.l)}}function ik(){throw new Error("File is password-protected: ECMA-376 Extensible")}function ok(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(sy,function(e){var r=ly(e);switch(cy(r[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":t.forEach(function(e){n[e]=r[e]});break;case"<dataIntegrity":n.encryptedHmacKey=r.encryptedHmacKey,n.encryptedHmacValue=r.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"<keyEncryptor":n.uri=r.uri;break;case"<encryptedKey":n.encs.push(r);break;default:throw r[0]}}),n}function lk(e){var t,r,n=0,a=JS(e),s=a.length+1;for((t=xb(s))[0]=a.length,r=1;r!=s;++r)t[r]=a[r-1];for(r=s-1;r>=0;--r)n=((16384&n?1:0)|n<<1&32767)^t[r];return 52811^n}var ck=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(e,t){return 255&((r=e^t)/2|128*r);var r};return function(a){for(var s,i,o,l=JS(a),c=function(e){for(var n=t[e.length-1],a=104,s=e.length-1;s>=0;--s)for(var i=e[s],o=0;7!=o;++o)64&i&&(n^=r[a]),i*=2,--a;return n}(l),d=l.length,u=xb(16),h=0;16!=h;++h)u[h]=0;for(1&~d||(s=c>>8,u[d]=n(e[0],s),--d,s=255&c,i=l[l.length-1],u[d]=n(i,s));d>0;)s=c>>8,u[--d]=n(l[d],s),s=255&c,u[--d]=n(l[d],s);for(d=15,o=15-l.length;o>0;)s=c>>8,u[d]=n(e[o],s),--o,s=255&c,u[--d]=n(l[d],s),--d,--o;return u}}(),dk=function(e){var t=0,r=ck(e);return function(e){var n=function(e,t,r,n,a){var s,i;for(a||(a=t),n||(n=ck(e)),s=0;s!=t.length;++s)i=t[s],i=255&((i^=n[r])>>5|i<<3),a[s]=i,++r;return[a,r,n]}("",e,t,r);return t=n[1],n[0]}};function uk(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,1===n.Info?n.Data=function(e){var t={},r=t.EncryptionVersionInfo=ek(e,4);if(1!=r.Major||1!=r.Minor)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}(e):n.Data=function(e,t){var r={},n=r.EncryptionVersionInfo=ek(e,4);if(t-=4,2!=n.Minor)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=nk(e,a),t-=a,r.EncryptionVerifier=ak(e,t),r}(e,t),n}var hk=function(){function e(e,r){switch(r.type){case"base64":return t(fb(e),r);case"binary":return t(e,r);case"buffer":return t(pb&&Buffer.isBuffer(e)?e.toString("binary"):wb(e),r);case"array":return t(Fv(e),r)}throw new Error("Unrecognized type "+r.type)}function t(e,t){var r=(t||{}).dense?[]:{},n=e.match(/\\trowd.*?\\row\b/g);if(!n.length)throw new Error("RTF missing table");var a={s:{c:0,r:0},e:{c:0,r:n.length-1}};return n.forEach(function(e,t){Array.isArray(r)&&(r[t]=[]);for(var n,s=/\\\w+\b/g,i=0,o=-1;n=s.exec(e);){if("\\cell"===n[0]){var l=e.slice(i,s.lastIndex-n[0].length);if(" "==l[0]&&(l=l.slice(1)),++o,l.length){var c={v:l,t:"s"};Array.isArray(r)?r[t][o]=c:r[tj({r:t,c:o})]=c}}i=s.lastIndex}o>a.e.c&&(a.e.c=o)}),r["!ref"]=nj(a),r}return{to_workbook:function(t,r){return oj(e(t,r),r)},to_sheet:e,from_sheet:function(e){for(var t,r=["{\\rtf1\\ansi"],n=aj(e["!ref"]),a=Array.isArray(e),s=n.s.r;s<=n.e.r;++s){r.push("\\trowd\\trautofit1");for(var i=n.s.c;i<=n.e.c;++i)r.push("\\cellx"+(i+1));for(r.push("\\pard\\intbl"),i=n.s.c;i<=n.e.c;++i){var o=tj({r:s,c:i});(t=a?(e[s]||[])[i]:e[o])&&(null!=t.v||t.f&&!t.F)&&(r.push(" "+(t.w||(ij(t),t.w))),r.push("\\cell"))}r.push("\\pard\\intbl\\row")}return r.join("")+"}"}}}();function mk(e){for(var t=0,r=1;3!=t;++t)r=256*r+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function fk(e,t){if(0===t)return e;var r,n,a=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(0===i)return[0,0,t];var o,l=0,c=a+s;switch(o=i/(c>1?2-c:c),a){case t:l=((r-n)/i+6)%6;break;case r:l=(n-t)/i+2;break;case n:l=(t-r)/i+4}return[l/6,o,c/2]}((n=(r=e).slice("#"===r[0]?1:0).slice(0,6),[parseInt(n.slice(0,2),16),parseInt(n.slice(2,4),16),parseInt(n.slice(4,6),16)]));return a[2]=t<0?a[2]*(1+t):1-(1-a[2])*(1-t),mk(function(e){var t,r=e[0],n=e[1],a=e[2],s=2*n*(a<.5?a:1-a),i=a-s/2,o=[i,i,i],l=6*r;if(0!==n)switch(0|l){case 0:case 6:t=s*l,o[0]+=s,o[1]+=t;break;case 1:t=s*(2-l),o[0]+=t,o[1]+=s;break;case 2:t=s*(l-2),o[1]+=s,o[2]+=t;break;case 3:t=s*(4-l),o[1]+=t,o[2]+=s;break;case 4:t=s*(l-4),o[2]+=s,o[0]+=t;break;case 5:t=s*(6-l),o[2]+=t,o[0]+=s}for(var c=0;3!=c;++c)o[c]=Math.round(255*o[c]);return o}(a))}var pk=6;function gk(e){return Math.floor((e+Math.round(128/pk)/256)*pk)}function xk(e){return Math.floor((e-5)/pk*100+.5)/100}function bk(e){return Math.round((e*pk+5)/pk*256)/256}function vk(e){return bk(xk(gk(e)))}function yk(e){var t=Math.abs(e-vk(e)),r=pk;if(t>.005)for(pk=1;pk<15;++pk)Math.abs(e-vk(e))<=t&&(t=Math.abs(e-vk(e)),r=pk);pk=r}function wk(e){e.width?(e.wpx=gk(e.width),e.wch=xk(e.wpx),e.MDW=pk):e.wpx?(e.wch=xk(e.wpx),e.width=bk(e.wch),e.MDW=pk):"number"==typeof e.wch&&(e.width=bk(e.wch),e.wpx=gk(e.width),e.MDW=pk),e.customWidth&&delete e.customWidth}var jk=96;function Nk(e){return 96*e/jk}function Sk(e){return e*jk/96}var kk={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};var Ck=["numFmtId","fillId","fontId","borderId","xfId"],Ek=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];var Tk=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,i,o){var l,c={};return s?((l=(s=s.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(e))&&function(e,t,r){t.NumberFmt=[];for(var n=Nv(Lb),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Lb[n[a]];var s=e[0].match(sy);if(s)for(a=0;a<s.length;++a){var i=ly(s[a]);switch(cy(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var o=hy(ky(i.formatCode)),l=parseInt(i.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&null!=t.NumberFmt[l];--l);t.NumberFmt[l]=o}fv(o,l)}break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}(l,c,o),(l=s.match(n))&&function(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(sy)||[]).forEach(function(e){var i=ly(e);switch(cy(i[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":i.val&&(a.name=ky(i.val));break;case"<b":a.bold=i.val?yy(i.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=i.val?yy(i.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(i.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=i.val?yy(i.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=i.val?yy(i.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=i.val?yy(i.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=i.val?yy(i.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=i.val?yy(i.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":i.val&&(a.sz=+i.val);break;case"<vertAlign":i.val&&(a.vertAlign=i.val);break;case"<family":i.val&&(a.family=parseInt(i.val,10));break;case"<scheme":i.val&&(a.scheme=i.val);break;case"<charset":if("1"==i.val)break;i.codepage=rb[parseInt(i.val,10)];break;case"<color":if(a.color||(a.color={}),i.auto&&(a.color.auto=yy(i.auto)),i.rgb)a.color.rgb=i.rgb.slice(-6);else if(i.indexed){a.color.index=parseInt(i.indexed,10);var o=Wj[a.color.index];81==a.color.index&&(o=Wj[1]),o||(o=Wj[1]),a.color.rgb=o[0].toString(16)+o[1].toString(16)+o[2].toString(16)}else i.theme&&(a.color.theme=parseInt(i.theme,10),i.tint&&(a.color.tint=parseFloat(i.tint)),i.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=fk(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<AlternateContent":case"<ext":s=!0;break;case"</AlternateContent>":case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+i[0]+" in fonts")}})}(l,c,i,o),(l=s.match(r))&&function(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(sy)||[]).forEach(function(e){var r=ly(e);switch(cy(r[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":r.patternType&&(a.patternType=r.patternType);break;case"<bgColor":a.bgColor||(a.bgColor={}),r.indexed&&(a.bgColor.indexed=parseInt(r.indexed,10)),r.theme&&(a.bgColor.theme=parseInt(r.theme,10)),r.tint&&(a.bgColor.tint=parseFloat(r.tint)),r.rgb&&(a.bgColor.rgb=r.rgb.slice(-6));break;case"<fgColor":a.fgColor||(a.fgColor={}),r.theme&&(a.fgColor.theme=parseInt(r.theme,10)),r.tint&&(a.fgColor.tint=parseFloat(r.tint)),null!=r.rgb&&(a.fgColor.rgb=r.rgb.slice(-6));break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+r[0]+" in fills")}})}(l,c,0,o),(l=s.match(a))&&function(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(sy)||[]).forEach(function(e){var r=ly(e);switch(cy(r[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":a={},r.diagonalUp&&(a.diagonalUp=yy(r.diagonalUp)),r.diagonalDown&&(a.diagonalDown=yy(r.diagonalDown)),t.Borders.push(a);break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+r[0]+" in borders")}})}(l,c,0,o),(l=s.match(t))&&function(e,t,r){var n;t.CellXf=[];var a=!1;(e[0].match(sy)||[]).forEach(function(e){var s=ly(e),i=0;switch(cy(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(n=s)[0],i=0;i<Ck.length;++i)n[Ck[i]]&&(n[Ck[i]]=parseInt(n[Ck[i]],10));for(i=0;i<Ek.length;++i)n[Ek[i]]&&(n[Ek[i]]=yy(n[Ek[i]]));if(t.NumberFmt&&n.numFmtId>392)for(i=392;i>60;--i)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[i]){n.numFmtId=i;break}t.CellXf.push(n);break;case"<alignment":case"<alignment/>":var o={};s.vertical&&(o.vertical=s.vertical),s.horizontal&&(o.horizontal=s.horizontal),null!=s.textRotation&&(o.textRotation=s.textRotation),s.indent&&(o.indent=s.indent),s.wrapText&&(o.wrapText=yy(s.wrapText)),n.alignment=o;break;case"<AlternateContent":case"<ext":a=!0;break;case"</AlternateContent>":case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}(l,c,o),c):c}}();function _k(e,t){var r,n=[ry,Ry("styleSheet",null,{xmlns:Jy[0],"xmlns:vt":Ky})];return e.SSF&&null!=(r=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)null!=e[n]&&(t[t.length]=Ry("numFmt",null,{numFmtId:n,formatCode:py(e[n])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=Ry("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function(e){var t=[];return t[t.length]=Ry("cellXfs",null),e.forEach(function(e){t[t.length]=Ry("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=Ry("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Ak(e,t,r){r||(r=zw(6+4*t.length)),r.write_shift(2,e),hj(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return null==r.l&&(r.l=r.length),n}function Ik(e,t){t||(t=zw(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=zw(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,r),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var r=0;"superscript"==e.vertAlign?r=1:"subscript"==e.vertAlign&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Lj(e.color,t);return t.write_shift(1,2),hj(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Pk,Dk=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Ok=Uw;function Lk(e,t){t||(t=zw(84)),Pk||(Pk=kv(Dk));var r=Pk[e.patternType];null==r&&(r=40),t.write_shift(4,r);var n=0;if(40!=r)for(Lj({auto:1},t),Lj({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Rk(e,t,r){r||(r=zw(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);return r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Mk(e,t){return t||(t=zw(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Fk=Uw;function $k(e){var t;qw(e,613,dj(1)),qw(e,46,(t||(t=zw(51)),t.write_shift(1,0),Mk(0,t),Mk(0,t),Mk(0,t),Mk(0,t),Mk(0,t),t.length>t.l?t.slice(0,t.l):t)),qw(e,614)}function Bk(e){var t,r;qw(e,619,dj(1)),qw(e,48,(t={xfId:0,name:"Normal"},r||(r=zw(52)),r.write_shift(4,t.xfId),r.write_shift(2,1),r.write_shift(1,0),r.write_shift(1,0),Sj(t.name||"",r),r.length>r.l?r.slice(0,r.l):r)),qw(e,620)}function Uk(e){qw(e,508,function(e,t,r){var n=zw(2052);return n.write_shift(4,e),Sj(t,n),Sj(r,n),n.length>n.l?n.slice(0,n.l):n}(0,"TableStyleMedium9","PivotStyleMedium4")),qw(e,509)}function zk(e,t){var r=Ww();return qw(r,278),function(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var n=e[0];n<=e[1];++n)null!=t[n]&&++r}),0!=r&&(qw(e,615,dj(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)null!=t[n]&&qw(e,44,Ak(n,t[n]))}),qw(e,616))}}(r,e.SSF),function(e){qw(e,611,dj(1)),qw(e,43,Ik({sz:12,color:{theme:1},name:"Calibri",family:2})),qw(e,612)}(r),function(e){qw(e,603,dj(2)),qw(e,45,Lk({patternType:"none"})),qw(e,45,Lk({patternType:"gray125"})),qw(e,604)}(r),$k(r),function(e){qw(e,626,dj(1)),qw(e,47,Rk({numFmtId:0},65535)),qw(e,627)}(r),function(e,t){qw(e,617,dj(t.length)),t.forEach(function(t){qw(e,47,Rk(t,0))}),qw(e,618)}(r,t.cellXfs),Bk(r),function(e){qw(e,505,dj(0)),qw(e,506)}(r),Uk(r),qw(r,279),r.end()}var Vk=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Wk(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(sy)||[]).forEach(function(e){var a=ly(e);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===a[0].charAt(1)?(t.themeElements.clrScheme[Vk.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function qk(){}function Hk(){}var Qk=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Gk=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Yk=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;var Kk=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Xk(e,t){var r;e&&0!==e.length||(e=Zk());var n={};if(!(r=e.match(Kk)))throw new Error("themeElements not found in theme");return function(e,t,r){var n;t.themeElements={},[["clrScheme",Qk,Wk],["fontScheme",Gk,qk],["fmtScheme",Yk,Hk]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}(r[0],n,t),n.raw=e,n}function Zk(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var r=[ry];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Jk(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:case 4:e.l+=4;break;case 1:t.xclrValue=function(e,t){return Uw(e,t)}(e,4);break;case 2:t.xclrValue=ZN(e);break;case 3:t.xclrValue=function(e){return e.read_shift(4)}(e)}return e.l+=8,t}function eC(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Jk(e);break;case 6:n[1]=function(e,t){return Uw(e,t)}(e,r);break;case 14:case 15:n[1]=e.read_shift(1===r?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function tC(e,t){t.forEach(function(e){e[0]})}function rC(){var e,t,r=Ww();return qw(r,332),qw(r,334,dj(1)),qw(r,335,((t=zw(12+2*(e={name:"XLDAPR",version:12e4,flags:3496657072}).name.length)).write_shift(4,e.flags),t.write_shift(4,e.version),hj(e.name,t),t.slice(0,t.l))),qw(r,336),qw(r,339,function(e,t){var r=zw(8+2*t.length);return r.write_shift(4,e),hj(t,r),r.slice(0,r.l)}(1,"XLDAPR")),qw(r,52),qw(r,35,dj(514)),qw(r,4096,dj(0)),qw(r,4097,FN(1)),qw(r,36),qw(r,53),qw(r,340),qw(r,337,function(e){var t=zw(8);return t.write_shift(4,e),t.write_shift(4,1),t}(1)),qw(r,51,function(e){var t=zw(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}([[1,0]])),qw(r,338),qw(r,333),r.end()}function nC(){var e=[ry];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var aC=1024;function sC(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Ry("xml",null,{"xmlns:v":sw,"xmlns:o":ew,"xmlns:x":tw,"xmlns:mv":aw}).replace(/\/>/,">"),Ry("o:shapelayout",Ry("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ry("v:shapetype",[Ry("v:stroke",null,{joinstyle:"miter"}),Ry("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];aC<1e3*e;)aC+=1e3;return t.forEach(function(e){var t=ej(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var n="gradient"==r.type?Ry("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,s=Ry("v:fill",n,r);++aC,a=a.concat(["<v:shape"+Ly({id:"_x0000_s"+aC,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",s,Ry("v:shadow",null,{on:"t",obscured:"t"}),Ry("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Oy("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),Oy("x:AutoFill","False"),Oy("x:Row",String(t.r)),Oy("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function iC(e,t,r,n){var a,s=Array.isArray(e);t.forEach(function(t){var i=ej(t.ref);if(s?(e[i.r]||(e[i.r]=[]),a=e[i.r][i.c]):a=e[t.ref],!a){a={t:"z"},s?e[i.r][i.c]=a:e[t.ref]=a;var o=aj(e["!ref"]||"BDWGO1000001:A1");o.s.r>i.r&&(o.s.r=i.r),o.e.r<i.r&&(o.e.r=i.r),o.s.c>i.c&&(o.s.c=i.c),o.e.c<i.c&&(o.e.c=i.c);var l=nj(o);l!==e["!ref"]&&(e["!ref"]=l)}a.c||(a.c=[]);var c={a:t.author,t:t.t,r:t.r,T:r};t.h&&(c.h=t.h);for(var d=a.c.length-1;d>=0;--d){if(!r&&a.c[d].T)return;r&&!a.c[d].T&&a.c.splice(d,1)}if(r&&n)for(d=0;d<n.length;++d)if(c.a==n[d].id){c.a=n[d].name||c.a;break}a.c.push(c)})}function oC(e){var t=[ry,Ry("comments",null,{xmlns:Jy[0]})],r=[];return t.push("<authors>"),e.forEach(function(e){e[1].forEach(function(e){var n=py(e.a);-1==r.indexOf(n)&&(r.push(n),t.push("<author>"+n+"</author>")),e.T&&e.ID&&-1==r.indexOf("tc="+e.ID)&&(r.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))})}),0==r.length&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(e){var n=0,a=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?n=r.indexOf("tc="+e[1][0].ID):e[1].forEach(function(e){e.a&&(n=r.indexOf(py(e.a))),a.push(e.t||"")}),t.push('<comment ref="'+e[0]+'" authorId="'+n+'"><text>'),a.length<=1)t.push(Oy("t",py(a[0]||"")));else{for(var s="Comment:\n    "+a[0]+"\n",i=1;i<a.length;++i)s+="Reply:\n    "+a[i]+"\n";t.push(Oy("t",py(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function lC(e,t,r){var n=[ry,Ry("ThreadedComments",null,{xmlns:qy}).replace(/[\/]>/,">")];return e.forEach(function(e){var a="";(e[1]||[]).forEach(function(s,i){if(s.T){s.a&&-1==t.indexOf(s.a)&&t.push(s.a);var o={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};0==i?a=o.id:o.parentId=a,s.ID=o.id,s.a&&(o.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(Ry("threadedComment",Oy("text",s.t||""),o))}else delete s.ID})}),n.push("</ThreadedComments>"),n.join("")}var cC=uj;function dC(e){var t=Ww(),r=[];return qw(t,628),qw(t,630),e.forEach(function(e){e[1].forEach(function(e){r.indexOf(e.a)>-1||(r.push(e.a.slice(0,54)),qw(t,632,function(e){return hj(e.slice(0,54))}(e.a)))})}),qw(t,631),qw(t,633),e.forEach(function(e){e[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var a={s:ej(e[0]),e:ej(e[0])};qw(t,635,function(e,t){return null==t&&(t=zw(36)),t.write_shift(4,e[1].iauthor),Pj(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([a,n])),n.t&&n.t.length>0&&qw(t,637,gj(n)),qw(t,636),delete n.iauthor})}),qw(t,634),qw(t,629),t.end()}var uC=["xlsb","xlsm","xlam","biff8","xla"];var hC=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(e,r,n,a){var s=!1,i=!1;0==n.length?i=!0:"["==n.charAt(0)&&(i=!0,n=n.slice(1,-1)),0==a.length?s=!0:"["==a.charAt(0)&&(s=!0,a=a.slice(1,-1));var o=n.length>0?0|parseInt(n,10):0,l=a.length>0?0|parseInt(a,10):0;return s?l+=t.c:--l,i?o+=t.r:--o,r+(s?"":"$")+Jw(l)+(i?"":"$")+Xw(o)}return function(n,a){return t=a,n.replace(e,r)}}(),mC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,fC=function(){return function(e,t){return e.replace(mC,function(e,r,n,a,s,i){var o=Zw(a)-(n?0:t.c),l=Kw(i)-(s?0:t.r);return r+"R"+(0==l?"":s?l+1:"["+l+"]")+"C"+(0==o?"":n?o+1:"["+o+"]")})}}();function pC(e,t){return e.replace(mC,function(e,r,n,a,s,i){return r+("$"==n?n+a:Jw(Zw(a)+t.c))+("$"==s?s+i:Xw(Kw(i)+t.r))})}function gC(e,t,r){var n=rj(t).s,a=ej(r);return pC(e,{r:a.r-n.r,c:a.c-n.c})}function xC(e){return e.replace(/_xlfn\./g,"")}function bC(e){e.l+=1}function vC(e,t){var r=e.read_shift(2);return[16383&r,r>>14&1,r>>15&1]}function yC(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return wC(e);12==r.biff&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=vC(e),o=vC(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function wC(e){var t=vC(e),r=vC(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function jC(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return function(e){var t=vC(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}(e);var n=e.read_shift(r&&12==r.biff?4:2),a=vC(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function NC(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:255&r,fQuoted:!!(16384&r),cRel:r>>15,rRel:r>>15}}function SC(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function kC(e){return[e.read_shift(1),e.read_shift(1)]}function CC(e,t){var r=[e.read_shift(1)];if(12==t)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2}switch(r[0]){case 4:r[1]=LN(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:r[1]=qj[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Dj(e);break;case 2:r[1]=HN(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function EC(e,t,r){for(var n=e.read_shift(12==r.biff?4:2),a=[],s=0;s!=n;++s)a.push((12==r.biff?Ij:aS)(e));return a}function TC(e,t,r){var n=0,a=0;12==r.biff?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,0==--a&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=CC(e,r.biff);return i}function _C(e,t,r){return e.l+=2,[NC(e)]}function AC(e){return e.l+=6,[]}function IC(e){return e.l+=2,[MN(e),1&e.read_shift(2)]}var PC=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var DC={1:{n:"PtgExp",f:function(e,t,r){return e.l++,r&&12==r.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(r&&2==r.biff?1:2)]}},2:{n:"PtgTbl",f:Uw},3:{n:"PtgAdd",f:bC},4:{n:"PtgSub",f:bC},5:{n:"PtgMul",f:bC},6:{n:"PtgDiv",f:bC},7:{n:"PtgPower",f:bC},8:{n:"PtgConcat",f:bC},9:{n:"PtgLt",f:bC},10:{n:"PtgLe",f:bC},11:{n:"PtgEq",f:bC},12:{n:"PtgGe",f:bC},13:{n:"PtgGt",f:bC},14:{n:"PtgNe",f:bC},15:{n:"PtgIsect",f:bC},16:{n:"PtgUnion",f:bC},17:{n:"PtgRange",f:bC},18:{n:"PtgUplus",f:bC},19:{n:"PtgUminus",f:bC},20:{n:"PtgPercent",f:bC},21:{n:"PtgParen",f:bC},22:{n:"PtgMissArg",f:bC},23:{n:"PtgStr",f:function(e,t,r){return e.l++,UN(e,0,r)}},26:{n:"PtgSheet",f:function(e,t,r){return e.l+=5,e.l+=2,e.l+=2==r.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,r){return e.l+=2==r.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,qj[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,Dj(e)}},32:{n:"PtgArray",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=2==r.biff?6:12==r.biff?14:7,[n]}},33:{n:"PtgFunc",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[tE[a],eE[a],n]}},34:{n:"PtgFuncVar",f:function(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[88==n?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[a,(0===s[0]?eE:JC)[s[1]]]}},35:{n:"PtgName",f:function(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[n,0,s]}},36:{n:"PtgRef",f:function(e,t,r){var n=(96&e[e.l])>>5;return e.l+=1,[n,jC(e,0,r)]}},37:{n:"PtgArea",f:function(e,t,r){return[(96&e[e.l++])>>5,yC(e,r.biff>=2&&r.biff,r)]}},38:{n:"PtgMemArea",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=r&&2==r.biff?3:4,[n,e.read_shift(r&&2==r.biff?1:2)]}},39:{n:"PtgMemErr",f:Uw},40:{n:"PtgMemNoMem",f:Uw},41:{n:"PtgMemFunc",f:function(e,t,r){return[e.read_shift(1)>>>5&3,e.read_shift(r&&2==r.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,12==r.biff&&(e.l+=2),[n]}},43:{n:"PtgAreaErr",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}},44:{n:"PtgRefN",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var a=function(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return function(e){var t=e.read_shift(2),r=e.read_shift(1),n=(32768&t)>>15,a=(16384&t)>>14;return t&=16383,1==n&&t>=8192&&(t-=16384),1==a&&r>=128&&(r-=256),{r:t,c:r,cRel:a,rRel:n}}(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(16384&s)>>14,o=(32768&s)>>15;if(s&=16383,1==o)for(;a>524287;)a-=1048576;if(1==i)for(;s>8191;)s-=16384;return{r:a,c:s,cRel:i,rRel:o}}(e,0,r);return[n,a]}},45:{n:"PtgAreaN",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=function(e,t,r){if(r.biff<8)return wC(e);var n=e.read_shift(12==r.biff?4:2),a=e.read_shift(12==r.biff?4:2),s=vC(e),i=vC(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}(e,0,r);return[n,a]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,r){return 5==r.biff?function(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(2);return r&&5==r.biff&&(e.l+=12),[n,a,jC(e,0,r)]}},59:{n:"PtgArea3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=e.read_shift(2,"i");if(r)switch(r.biff){case 5:e.l+=12;break;case 12:0}return[n,a,yC(e,0,r)]}},60:{n:"PtgRefErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6}return e.l+=s,[n,a]}},61:{n:"PtgAreaErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return e.l+=s,[n,a]}},255:{}},OC={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},LC={1:{n:"PtgElfLel",f:IC},2:{n:"PtgElfRw",f:_C},3:{n:"PtgElfCol",f:_C},6:{n:"PtgElfRwV",f:_C},7:{n:"PtgElfColV",f:_C},10:{n:"PtgElfRadical",f:_C},11:{n:"PtgElfRadicalS",f:AC},13:{n:"PtgElfColS",f:AC},15:{n:"PtgElfColSV",f:AC},16:{n:"PtgElfRadicalLel",f:IC},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2);return{ixti:t,coltype:3&r,rt:PC[r>>2&31],idx:n,c:a,C:s}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},RC={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=r&&2==r.biff?3:4,[n]}},2:{n:"PtgAttrIf",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,r){e.l+=2;for(var n=e.read_shift(r&&2==r.biff?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&2==r.biff?1:2));return a}},8:{n:"PtgAttrGoto",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,r){e.l+=r&&2==r.biff?3:4}},32:{n:"PtgAttrBaxcel",f:SC},33:{n:"PtgAttrBaxcel",f:SC},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),kC(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),kC(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function MC(e,t,r,n){if(n.biff<8)return Uw(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=TC(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=EC(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&12==n.biff&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return 0!==(t=a-e.l)&&s.push(Uw(e,t)),s}function FC(e,t,r){for(var n,a,s=e.l+t,i=[];s!=e.l;)t=s-e.l,a=e[e.l],n=DC[a]||DC[OC[a]],24!==a&&25!==a||(n=(24===a?LC:RC)[e[e.l+1]]),n&&n.f?i.push([n.n,n.f(e,t,r)]):Uw(e,t);return i}function $C(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)if(2===i[0])a.push('"'+i[1].replace(/"/g,'""')+'"');else a.push(i[1]);else a.push("")}t.push(a.join(","))}return t.join(";")}var BC={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function UC(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=-1==n[1]?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return null!=r.SID?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=-1==n[1]?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(e){return e.Name}).join(";;");default:return e[n[0]][0][3]?(a=-1==n[1]?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function zC(e,t,r){var n=UC(e,t,r);return"#REF"==n?n:function(e,t){if(!(e||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(n,r)}function VC(e,t,r,n,a){var s,i,o,l,c=a&&a.biff||8,d={s:{c:0,r:0}},u=[],h=0,m=0,f="";if(!e[0]||!e[0][0])return"";for(var p=-1,g="",x=0,b=e[0].length;x<b;++x){var v=e[0][x];switch(v[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(s=u.pop(),i=u.pop(),p>=0){switch(e[0][p][1][0]){case 0:g=Bv(" ",e[0][p][1][1]);break;case 1:g=Bv("\r",e[0][p][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}i+=g,p=-1}u.push(i+BC[v[0]]+s);break;case"PtgIsect":s=u.pop(),i=u.pop(),u.push(i+" "+s);break;case"PtgUnion":s=u.pop(),i=u.pop(),u.push(i+","+s);break;case"PtgRange":s=u.pop(),i=u.pop(),u.push(i+":"+s);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":o=Hw(v[1][1],d,a),u.push(Gw(o,c));break;case"PtgRefN":o=r?Hw(v[1][1],r,a):v[1][1],u.push(Gw(o,c));break;case"PtgRef3d":h=v[1][1],o=Hw(v[1][2],d,a),f=zC(n,h,a),u.push(f+"!"+Gw(o,c));break;case"PtgFunc":case"PtgFuncVar":var y=v[1][0],w=v[1][1];y||(y=0);var j=0==(y&=127)?[]:u.slice(-y);u.length-=y,"User"===w&&(w=j.shift()),u.push(w+"("+j.join(",")+")");break;case"PtgBool":u.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":u.push(v[1]);break;case"PtgNum":u.push(String(v[1]));break;case"PtgStr":u.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=Qw(v[1][1],r?{s:r}:d,a),u.push(Yw(l,a));break;case"PtgArea":l=Qw(v[1][1],d,a),u.push(Yw(l,a));break;case"PtgArea3d":h=v[1][1],l=v[1][2],f=zC(n,h,a),u.push(f+"!"+Yw(l,a));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgName":m=v[1][2];var N=(n.names||[])[m-1]||(n[0]||[])[m],S=N?N.Name:"SH33TJSNAME"+String(m);S&&"_xlfn."==S.slice(0,6)&&!a.xlfn&&(S=S.slice(6)),u.push(S);break;case"PtgNameX":var k,C=v[1][1];if(m=v[1][2],!(a.biff<=5)){var E="";if(14849==((n[C]||[])[0]||[])[0]||(1025==((n[C]||[])[0]||[])[0]?n[C][m]&&n[C][m].itab>0&&(E=n.SheetNames[n[C][m].itab-1]+"!"):E=n.SheetNames[m-1]+"!"),n[C]&&n[C][m])E+=n[C][m].Name;else if(n[0]&&n[0][m])E+=n[0][m].Name;else{var T=(UC(n,C,a)||"").split(";;");T[m-1]?E=T[m-1]:E+="SH33TJSERRX"}u.push(E);break}C<0&&(C=-C),n[C]&&(k=n[C][m]),k||(k={Name:"SH33TJSERRY"}),u.push(k.Name);break;case"PtgParen":var _="(",A=")";if(p>=0){switch(g="",e[0][p][1][0]){case 2:_=Bv(" ",e[0][p][1][1])+_;break;case 3:_=Bv("\r",e[0][p][1][1])+_;break;case 4:A=Bv(" ",e[0][p][1][1])+A;break;case 5:A=Bv("\r",e[0][p][1][1])+A;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}u.push(_+u.pop()+A);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":u.push("#REF!");break;case"PtgExp":o={c:v[1][1],r:v[1][0]};var I={c:r.c,r:r.r};if(n.sharedf[tj(o)]){var P=n.sharedf[tj(o)];u.push(VC(P,d,I,n,a))}else{var D=!1;for(s=0;s!=n.arrayf.length;++s)if(i=n.arrayf[s],!(o.c<i[0].s.c||o.c>i[0].e.c||o.r<i[0].s.r||o.r>i[0].e.r)){u.push(VC(i[1],d,I,n,a)),D=!0;break}D||u.push(v[1])}break;case"PtgArray":u.push("{"+$C(v[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=x;break;case"PtgMissArg":u.push("");break;case"PtgList":u.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(v))}if(3!=a.biff&&p>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][x][0])){var O=!0;switch((v=e[0][p])[1][0]){case 4:O=!1;case 0:g=Bv(" ",v[1][1]);break;case 5:O=!1;case 1:g=Bv("\r",v[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}u.push((O?g:"")+u.pop()+(O?"":g)),p=-1}}if(u.length>1&&a.WTF)throw new Error("bad formula stack");return u[0]}function WC(e,t,r){var n,a=e.l+t,s=2==r.biff?1:2,i=e.read_shift(s);if(65535==i)return[[],Uw(e,t-2)];var o=FC(e,i,r);return t!==i+s&&(n=MC(e,t-i-s,o,r)),e.l=a,[o,n]}function qC(e,t,r){var n,a=e.l+t,s=e.read_shift(2),i=FC(e,s,r);return 65535==s?[[],Uw(e,t-2)]:(t!==s+2&&(n=MC(e,a-s-2,i,r)),[i,n])}function HC(e,t,r){var n=e.l+t,a=eS(e);2==r.biff&&++e.l;var s=function(e){var t;if(65535!==_w(e,e.l+6))return[Dj(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}(e),i=e.read_shift(1);2!=r.biff&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=function(e,t,r){var n,a=e.l+t,s=2==r.biff?1:2,i=e.read_shift(s);if(65535==i)return[[],Uw(e,t-2)];var o=FC(e,i,r);return t!==i+s&&(n=MC(e,t-i-s,o,r)),e.l=a,[o,n]}(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function QC(e,t,r,n,a){var s=tS(t,r,a),i=function(e){if(null==e){var t=zw(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return Oj("number"==typeof e?e:0)}(e.v),o=zw(6);o.write_shift(2,33),o.write_shift(4,0);for(var l=zw(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return Nb([s,i,o,l])}function GC(e,t,r){var n=e.read_shift(4),a=FC(e,n,r),s=e.read_shift(4);return[a,s>0?MC(e,s,a,r):null]}var YC=GC,KC=GC,XC=GC,ZC=GC,JC={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},eE={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},tE={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function rE(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&61==(e=e.slice(1)).charCodeAt(0)&&(e=e.slice(1)),(e=(e=(e=e.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")})).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function nE(e){return("of:="+e.replace(mC,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function aE(e){var t=e.split(":");return[t[0].split(".")[0],t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function sE(e){return e.replace(/\./,"!")}var iE={},oE={},lE="undefined"!=typeof Map;function cE(e,t,r){var n=0,a=e.length;if(r){if(lE?r.has(t):Object.prototype.hasOwnProperty.call(r,t))for(var s=lE?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t:t},e.Count++,e.Unique++,r&&(lE?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function dE(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(pk=t.MDW),null!=t.width?r.customWidth=1:null!=t.wpx?n=xk(t.wpx):null!=t.wch&&(n=t.wch),n>-1?(r.width=bk(n),r.customWidth=1):null!=t.width&&(r.width=t.width),t.hidden&&(r.hidden=!0),null!=t.level&&(r.outlineLevel=r.level=t.level),r}function uE(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(r=[1,1,1,1,.5,.5]),null==e.left&&(e.left=r[0]),null==e.right&&(e.right=r[1]),null==e.top&&(e.top=r[2]),null==e.bottom&&(e.bottom=r[3]),null==e.header&&(e.header=r[4]),null==e.footer&&(e.footer=r[5])}}function hE(e,t,r){var n=r.revssf[null!=t.z?t.z:"General"],a=60,s=e.length;if(null==n&&r.ssf)for(;a<392;++a)if(null==r.ssf[a]){fv(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function mE(e,t,r,n,a,s){try{n.cellNF&&(e.z=Lb[t])}catch(xJ){if(n.WTF)throw xJ}if("z"!==e.t||n.cellStyles){if("d"===e.t&&"string"==typeof e.v&&(e.v=Mv(e.v)),(!n||!1!==n.cellText)&&"z"!==e.t)try{if(null==Lb[t]&&fv(xv[t]||"General",t),"e"===e.t)e.w=e.w||qj[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=e.v.toString(10):e.w=qb(e.v);else if("d"===e.t){var i=Tv(e.v);e.w=(0|i)===i?i.toString(10):qb(i)}else{if(void 0===e.v)return"";e.w=Hb(e.v,oE)}else"d"===e.t?e.w=mv(t,Tv(e.v),oE):e.w=mv(t,e.v,oE)}catch(xJ){if(n.WTF)throw xJ}if(n.cellStyles&&null!=r)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=fk(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=fk(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(xJ){if(n.WTF&&s.Fills)throw xJ}}}function fE(e,t,r){if(e&&e["!ref"]){var n=aj(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}var pE=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,gE=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,xE=/<(?:\w:)?hyperlink [^>]*>/gm,bE=/"(\w*:\w*)"/,vE=/<(?:\w:)?col\b[^>]*[\/]?>/g,yE=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,wE=/<(?:\w:)?pageMargins[^>]*\/>/g,jE=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,NE=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,SE=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function kE(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",u=e.match(gE);u?(c=e.slice(0,u.index),d=e.slice(u.index+u[0].length)):c=d=e;var h=c.match(jE);h?CE(h[0],o,a,r):(h=c.match(NE))&&function(e,t,r,n,a){CE(e.slice(0,e.indexOf(">")),r,n,a)}(h[0],h[1],o,a,r);var m=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var f=c.slice(m,m+50).match(bE);f&&function(e,t){var r=aj(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=nj(r))}(o,f[1])}var p=c.match(SE);p&&p[1]&&function(e,t){t.Views||(t.Views=[{}]);(e.match(_E)||[]).forEach(function(e,r){var n=ly(e);t.Views[r]||(t.Views[r]={}),+n.zoomScale&&(t.Views[r].zoom=+n.zoomScale),yy(n.rightToLeft)&&(t.Views[r].RTL=!0)})}(p[1],a);var g=[];if(t.cellStyles){var x=c.match(vE);x&&function(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=ly(t[n],!0);a.hidden&&(a.hidden=yy(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,yk(a.width)),wk(a);s<=i;)e[s++]=$v(a)}}(g,x)}u&&IE(u[1],o,t,l,s,i);var b=d.match(yE);b&&(o["!autofilter"]=function(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}(b[0]));var v=[],y=d.match(pE);if(y)for(m=0;m!=y.length;++m)v[m]=aj(y[m].slice(y[m].indexOf('"')+1));var w=d.match(xE);w&&function(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=ly(ky(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+hy(s.location))):(s.Target="#"+hy(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=aj(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var d=tj({c:c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}(o,w,n);var j,N,S=d.match(wE);if(S&&(o["!margins"]=(j=ly(S[0]),N={},["left","right","top","bottom","header","footer"].forEach(function(e){j[e]&&(N[e]=parseFloat(j[e]))}),N)),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=nj(l)),t.sheetRows>0&&o["!ref"]){var k=aj(o["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>l.e.r&&(k.e.r=l.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>l.e.c&&(k.e.c=l.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),o["!fullref"]=o["!ref"],o["!ref"]=nj(k))}return g.length>0&&(o["!cols"]=g),v.length>0&&(o["!merges"]=v),o}function CE(e,t,r,n){var a=ly(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=hy(ky(a.codeName)))}var EE=["objects","scenarios","selectLockedCells","selectUnlockedCells"],TE=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];var _E=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function AE(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),void 0===e.v&&"string"!=typeof e.f||"z"===e.t&&!e.f)return"";var a="",s=e.t,i=e.v;if("z"!==e.t)switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=qj[e.v];break;case"d":n&&n.cellDates?a=Mv(e.v,-1).toISOString():((e=$v(e)).t="n",a=""+(e.v=Tv(Mv(e.v)))),void 0===e.z&&(e.z=Lb[14]);break;default:a=e.v}var o=Oy("v",py(a)),l={r:t},c=hE(n.cellXfs,e,n);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Oy("v",""+cE(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str"}if(e.t!=s&&(e.t=s,e.v=i),"string"==typeof e.f&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Ry("f",py(e.f),d)+(null!=e.v?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),Ry("c",o,l)}var IE=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=Ey("v"),i=Ey("f");return function(o,l,c,d,u,h){for(var m,f,p,g,x,b=0,v="",y=[],w=[],j=0,N=0,S=0,k="",C=0,E=0,T=0,_=0,A=Array.isArray(h.CellXf),I=[],P=[],D=Array.isArray(l),O=[],L={},R=!1,M=!!c.sheetStubs,F=o.split(t),$=0,B=F.length;$!=B;++$){var U=(v=F[$].trim()).length;if(0!==U){var z=0;e:for(b=0;b<U;++b)switch(v[b]){case">":if("/"!=v[b-1]){++b;break e}if(c&&c.cellStyles){if(C=null!=(f=ly(v.slice(z,b),!0)).r?parseInt(f.r,10):C+1,E=-1,c.sheetRows&&c.sheetRows<C)continue;L={},R=!1,f.ht&&(R=!0,L.hpt=parseFloat(f.ht),L.hpx=Sk(L.hpt)),"1"==f.hidden&&(R=!0,L.hidden=!0),null!=f.outlineLevel&&(R=!0,L.level=+f.outlineLevel),R&&(O[C-1]=L)}break;case"<":z=b}if(z>=b)break;if(C=null!=(f=ly(v.slice(z,b),!0)).r?parseInt(f.r,10):C+1,E=-1,!(c.sheetRows&&c.sheetRows<C)){d.s.r>C-1&&(d.s.r=C-1),d.e.r<C-1&&(d.e.r=C-1),c&&c.cellStyles&&(L={},R=!1,f.ht&&(R=!0,L.hpt=parseFloat(f.ht),L.hpx=Sk(L.hpt)),"1"==f.hidden&&(R=!0,L.hidden=!0),null!=f.outlineLevel&&(R=!0,L.level=+f.outlineLevel),R&&(O[C-1]=L)),y=v.slice(b).split(e);for(var V=0;V!=y.length&&"<"==y[V].trim().charAt(0);++V);for(y=y.slice(V),b=0;b!=y.length;++b)if(0!==(v=y[b].trim()).length){if(w=v.match(r),j=b,N=0,S=0,v="<c "+("<"==v.slice(0,1)?">":"")+v,null!=w&&2===w.length){for(j=0,k=w[1],N=0;N!=k.length&&!((S=k.charCodeAt(N)-64)<1||S>26);++N)j=26*j+S;E=--j}else++E;for(N=0;N!=v.length&&62!==v.charCodeAt(N);++N);if(++N,(f=ly(v.slice(0,N),!0)).r||(f.r=tj({r:C-1,c:E})),m={t:""},null!=(w=(k=v.slice(N)).match(s))&&""!==w[1]&&(m.v=hy(w[1])),c.cellFormula){if(null!=(w=k.match(i))&&""!==w[1]){if(m.f=hy(ky(w[1])).replace(/\r\n/g,"\n"),c.xlfn||(m.f=xC(m.f)),w[0].indexOf('t="array"')>-1)m.F=(k.match(a)||[])[1],m.F.indexOf(":")>-1&&I.push([aj(m.F),m.F]);else if(w[0].indexOf('t="shared"')>-1){g=ly(w[0]);var W=hy(ky(w[1]));c.xlfn||(W=xC(W)),P[parseInt(g.si,10)]=[g,W,f.r]}}else(w=k.match(/<f[^>]*\/>/))&&P[(g=ly(w[0])).si]&&(m.f=gC(P[g.si][1],P[g.si][2],f.r));var q=ej(f.r);for(N=0;N<I.length;++N)q.r>=I[N][0].s.r&&q.r<=I[N][0].e.r&&q.c>=I[N][0].s.c&&q.c<=I[N][0].e.c&&(m.F=I[N][1])}if(null==f.t&&void 0===m.v)if(m.f||m.F)m.v=0,m.t="n";else{if(!M)continue;m.t="z"}else m.t=f.t||"n";switch(d.s.c>E&&(d.s.c=E),d.e.c<E&&(d.e.c=E),m.t){case"n":if(""==m.v||null==m.v){if(!M)continue;m.t="z"}else m.v=parseFloat(m.v);break;case"s":if(void 0===m.v){if(!M)continue;m.t="z"}else p=iE[parseInt(m.v,10)],m.v=p.t,m.r=p.r,c.cellHTML&&(m.h=p.h);break;case"str":m.t="s",m.v=null!=m.v?ky(m.v):"",c.cellHTML&&(m.h=by(m.v));break;case"inlineStr":w=k.match(n),m.t="s",null!=w&&(p=qS(w[1]))?(m.v=p.t,c.cellHTML&&(m.h=p.h)):m.v="";break;case"b":m.v=yy(m.v);break;case"d":c.cellDates?m.v=Mv(m.v,1):(m.v=Tv(Mv(m.v,1)),m.t="n");break;case"e":c&&!1===c.cellText||(m.w=m.v),m.v=Hj[m.v]}if(T=_=0,x=null,A&&void 0!==f.s&&null!=(x=h.CellXf[f.s])&&(null!=x.numFmtId&&(T=x.numFmtId),c.cellStyles&&null!=x.fillId&&(_=x.fillId)),mE(m,T,_,c,u,h),c.cellDates&&A&&"n"==m.t&&cv(Lb[T])&&(m.t="d",m.v=Pv(m.v)),f.cm&&c.xlmeta){var H=(c.xlmeta.Cell||[])[+f.cm-1];H&&"XLDAPR"==H.type&&(m.D=!0)}if(D){var Q=ej(f.r);l[Q.r]||(l[Q.r]=[]),l[Q.r][Q.c]=m}else l[f.r]=m}}}}O.length>0&&(l["!rows"]=O)}}();function PE(e,t,r,n){var a,s=[ry,Ry("worksheet",null,{xmlns:Jy[0],"xmlns:r":Yy})],i=r.SheetNames[e],o="",l=r.Sheets[i];null==l&&(l={});var c=l["!ref"]||"A1",d=aj(c);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=nj(d)}n||(n={}),l["!comments"]=[];var u=[];!function(e,t,r,n,a){var s=!1,i={},o=null;if("xlsx"!==n.bookType&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch(xJ){}s=!0,i.codeName=Cy(py(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+Ry("outlinePr",null,c)}(s||o)&&(a[a.length]=Ry("sheetPr",o,i))}(l,r,e,t,s),s[s.length]=Ry("dimension",null,{ref:c}),s[s.length]=function(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ry("sheetViews",Ry("sheetView",null,a),{})}(0,0,0,r),t.sheetFormat&&(s[s.length]=Ry("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(s[s.length]=function(e,t){for(var r,n=["<cols>"],a=0;a!=t.length;++a)(r=t[a])&&(n[n.length]=Ry("col",null,dE(a,r)));return n[n.length]="</cols>",n.join("")}(0,l["!cols"])),s[a=s.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(o=function(e,t){var r,n,a=[],s=[],i=aj(e["!ref"]),o="",l="",c=[],d=0,u=0,h=e["!rows"],m=Array.isArray(e),f={r:l},p=-1;for(u=i.s.c;u<=i.e.c;++u)c[u]=Jw(u);for(d=i.s.r;d<=i.e.r;++d){for(s=[],l=Xw(d),u=i.s.c;u<=i.e.c;++u){r=c[u]+l;var g=m?(e[d]||[])[u]:e[r];void 0!==g&&null!=(o=AE(g,r,e,t))&&s.push(o)}(s.length>0||h&&h[d])&&(f={r:l},h&&h[d]&&((n=h[d]).hidden&&(f.hidden=1),p=-1,n.hpx?p=Nk(n.hpx):n.hpt&&(p=n.hpt),p>-1&&(f.ht=p,f.customHeight=1),n.level&&(f.outlineLevel=n.level)),a[a.length]=Ry("row",s.join(""),f))}if(h)for(;d<h.length;++d)h&&h[d]&&(f={r:d+1},(n=h[d]).hidden&&(f.hidden=1),p=-1,n.hpx?p=Nk(n.hpx):n.hpt&&(p=n.hpt),p>-1&&(f.ht=p,f.customHeight=1),n.level&&(f.outlineLevel=n.level),a[a.length]=Ry("row","",f));return a.join("")}(l,t),o.length>0&&(s[s.length]=o)),s.length>a+1&&(s[s.length]="</sheetData>",s[a]=s[a].replace("/>",">")),l["!protect"]&&(s[s.length]=function(e){var t={sheet:1};return EE.forEach(function(r){null!=e[r]&&e[r]&&(t[r]="1")}),TE.forEach(function(r){null==e[r]||e[r]||(t[r]="0")}),e.password&&(t.password=lk(e.password).toString(16).toUpperCase()),Ry("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(s[s.length]=function(e,t,r,n){var a="string"==typeof e.ref?e.ref:nj(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,i=rj(a);i.s.r==i.e.r&&(i.e.r=rj(t["!ref"]).e.r,a=nj(i));for(var o=0;o<s.length;++o){var l=s[o];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ry("autoFilter",null,{ref:a})}(l["!autofilter"],l,r,e)),null!=l["!merges"]&&l["!merges"].length>0&&(s[s.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+nj(e[r])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var h,m,f=-1,p=-1;return l["!links"].length>0&&(s[s.length]="<hyperlinks>",l["!links"].forEach(function(e){e[1].Target&&(h={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(p=eN(n,-1,py(e[1].Target).replace(/#.*$/,""),Kj.HLINK),h["r:id"]="rId"+p),(f=e[1].Target.indexOf("#"))>-1&&(h.location=py(e[1].Target.slice(f+1))),e[1].Tooltip&&(h.tooltip=py(e[1].Tooltip)),s[s.length]=Ry("hyperlink",null,h))}),s[s.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(s[s.length]=(uE(m=l["!margins"]),Ry("pageMargins",null,m))),t&&!t.ignoreEC&&null!=t.ignoreEC||(s[s.length]=Oy("ignoredErrors",Ry("ignoredError",null,{numberStoredAsText:1,sqref:c}))),u.length>0&&(p=eN(n,-1,"../drawings/drawing"+(e+1)+".xml",Kj.DRAW),s[s.length]=Ry("drawing",null,{"r:id":"rId"+p}),l["!drawing"]=u),l["!comments"].length>0&&(p=eN(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Kj.VML),s[s.length]=Ry("legacyDrawing",null,{"r:id":"rId"+p}),l["!legacy"]=p),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function DE(e,t,r,n){var a=function(e,t,r){var n=zw(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=20*Nk(a.hpx):a.hpt&&(s=20*a.hpt),n.write_shift(2,s),n.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var u=-1,h=-1,m=d<<10;m<d+1<<10;++m)c.c=m,(Array.isArray(r)?(r[c.r]||[])[c.c]:r[tj(c)])&&(u<0&&(u=m),h=m);u<0||(++o,n.write_shift(4,u),n.write_shift(4,h))}var f=n.l;return n.l=l,n.write_shift(4,o),n.l=f,n.length>n.l?n.slice(0,n.l):n}(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&qw(e,0,a)}var OE=Ij,LE=Pj;function RE(e){return[vj(e),Dj(e),"n"]}var ME=Ij,FE=Pj;var $E=["left","right","top","bottom","header","footer"];function BE(e,t,r,n,a,s,i){if(void 0===t.v)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":(t=$v(t)).z=t.z||Lb[14],t.v=Tv(Mv(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v}var l={r:r,c:n};switch(l.s=hE(a.cellXfs,t,a),t.l&&s["!links"].push([tj(l),t.l]),t.c&&s["!comments"].push([tj(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=cE(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,i?qw(e,18,function(e,t,r){return null==r&&(r=zw(8)),yj(t,r),r.write_shift(4,t.v),r}(0,l)):qw(e,7,function(e,t,r){return null==r&&(r=zw(12)),bj(t,r),r.write_shift(4,t.v),r}(0,l))):(l.t="str",i?qw(e,17,function(e,t,r){return null==r&&(r=zw(8+4*e.v.length)),yj(t,r),hj(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l)):qw(e,6,function(e,t,r){return null==r&&(r=zw(12+4*e.v.length)),bj(t,r),hj(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?i?qw(e,13,function(e,t,r){return null==r&&(r=zw(8)),yj(t,r),_j(e.v,r),r}(t,l)):qw(e,2,function(e,t,r){return null==r&&(r=zw(12)),bj(t,r),_j(e.v,r),r}(t,l)):i?qw(e,16,function(e,t,r){return null==r&&(r=zw(12)),yj(t,r),Oj(e.v,r),r}(t,l)):qw(e,5,function(e,t,r){return null==r&&(r=zw(16)),bj(t,r),Oj(e.v,r),r}(t,l)),!0;case"b":return l.t="b",i?qw(e,15,function(e,t,r){return null==r&&(r=zw(5)),yj(t,r),r.write_shift(1,e.v?1:0),r}(t,l)):qw(e,4,function(e,t,r){return null==r&&(r=zw(9)),bj(t,r),r.write_shift(1,e.v?1:0),r}(t,l)),!0;case"e":return l.t="e",i?qw(e,14,function(e,t,r){return null==r&&(r=zw(8)),yj(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}(t,l)):qw(e,3,function(e,t,r){return null==r&&(r=zw(9)),bj(t,r),r.write_shift(1,e.v),r}(t,l)),!0}return i?qw(e,12,function(e,t,r){return null==r&&(r=zw(4)),yj(t,r)}(0,l)):qw(e,1,function(e,t,r){return null==r&&(r=zw(8)),bj(t,r)}(0,l)),!0}function UE(e,t){var r,n;t&&t["!merges"]&&(qw(e,177,(r=t["!merges"].length,null==n&&(n=zw(4)),n.write_shift(4,r),n)),t["!merges"].forEach(function(t){qw(e,176,FE(t))}),qw(e,178))}function zE(e,t){t&&t["!cols"]&&(qw(e,390),t["!cols"].forEach(function(t,r){t&&qw(e,60,function(e,t,r){null==r&&(r=zw(18));var n=dE(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,256*(n.width||10)),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),"number"==typeof n.width&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}(r,t))}),qw(e,391))}function VE(e,t){var r,n;t&&t["!ref"]&&(qw(e,648),qw(e,649,(r=aj(t["!ref"]),(n=zw(24)).write_shift(4,4),n.write_shift(4,1),Pj(r,n),n)),qw(e,650))}function WE(e,t,r){t["!links"].forEach(function(t){if(t[1].Target){var n=eN(r,-1,t[1].Target.replace(/#.*$/,""),Kj.HLINK);qw(e,494,function(e,t){var r=zw(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Pj({s:ej(e[0]),e:ej(e[0])},r),Ej("rId"+t,r);var n=e[1].Target.indexOf("#");return hj((-1==n?"":e[1].Target.slice(n+1))||"",r),hj(e[1].Tooltip||"",r),hj("",r),r.slice(0,r.l)}(t,n))}}),delete t["!links"]}function qE(e,t,r){qw(e,133),qw(e,137,function(e,t,r){null==r&&(r=zw(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}(0,r)),qw(e,138),qw(e,134)}function HE(e,t){var r,n;t["!protect"]&&qw(e,535,(r=t["!protect"],null==n&&(n=zw(66)),n.write_shift(2,r.password?lk(r.password):0),n.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?n.write_shift(4,null==r[e[0]]||r[e[0]]?0:1):n.write_shift(4,null!=r[e[0]]&&r[e[0]]?0:1)}),n))}function QE(e,t,r,n){var a=Ww(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch(xJ){}var l,c,d=aj(i["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],qw(a,129),(r.vbaraw||i["!outline"])&&qw(a,147,function(e,t,r){null==r&&(r=zw(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Lj({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),jj(e,r),r.slice(0,r.l)}(o,i["!outline"])),qw(a,148,LE(d)),qE(a,0,r.Workbook),zE(a,i),function(e,t,r,n){var a,s=aj(t["!ref"]||"A1"),i="",o=[];qw(e,145);var l=Array.isArray(t),c=s.e.r;t["!rows"]&&(c=Math.max(s.e.r,t["!rows"].length-1));for(var d=s.s.r;d<=c;++d){i=Xw(d),DE(e,t,s,d);var u=!1;if(d<=s.e.r)for(var h=s.s.c;h<=s.e.c;++h){d===s.s.r&&(o[h]=Jw(h)),a=o[h]+i;var m=l?(t[d]||[])[h]:t[a];u=!!m&&BE(e,m,d,h,n,t,u)}}qw(e,146)}(a,i,0,t),HE(a,i),function(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s="string"==typeof a.ref?a.ref:nj(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=rj(s);o.s.r==o.e.r&&(o.e.r=rj(t["!ref"]).e.r,s=nj(o));for(var l=0;l<i.length;++l){var c=i[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),qw(e,161,Pj(aj(s))),qw(e,162)}}(a,i,r,e),UE(a,i),WE(a,i,n),i["!margins"]&&qw(a,476,(l=i["!margins"],null==c&&(c=zw(48)),uE(l),$E.forEach(function(e){Oj(l[e],c)}),c)),t&&!t.ignoreEC&&null!=t.ignoreEC||VE(a,i),function(e,t,r,n){if(t["!comments"].length>0){var a=eN(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Kj.VML);qw(e,551,Ej("rId"+a)),t["!legacy"]=a}}(a,i,e,n),qw(a,130),a.end()}function GE(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,l=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(e){var t=function(e){var t,r=[],n=e.match(/^<c:numCache>/);(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach(function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(r[+t[1]]=n?+t[2]:t[2])});var a=hy((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach(function(e){t=e.replace(/<.*?>/g,"")}),[r,a,t]}(e);d.s.r=d.s.c=0,d.e.c=o,c=Jw(o),t[0].forEach(function(e,r){i[c+Xw(r)]={t:"n",v:e,z:t[1]},l=r}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(i["!ref"]=nj(d)),i}var YE=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],KE=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],XE=[],ZE=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function JE(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(null==n[s[0]])n[s[0]]=s[1];else switch(s[2]){case"bool":"string"==typeof n[s[0]]&&(n[s[0]]=yy(n[s[0]]));break;case"int":"string"==typeof n[s[0]]&&(n[s[0]]=parseInt(n[s[0]],10))}}}function eT(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(null==e[n[0]])e[n[0]]=n[1];else switch(n[2]){case"bool":"string"==typeof e[n[0]]&&(e[n[0]]=yy(e[n[0]]));break;case"int":"string"==typeof e[n[0]]&&(e[n[0]]=parseInt(e[n[0]],10))}}}function tT(e){eT(e.WBProps,YE),eT(e.CalcPr,ZE),JE(e.WBView,KE),JE(e.Sheets,XE),oE.date1904=yy(e.WBProps.date1904)}var rT="][*?/\\".split("");function nT(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");return rT.forEach(function(t){if(-1!=e.indexOf(t))throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),!0}function aT(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t,r,n,a=e.Workbook&&e.Workbook.Sheets||[];t=e.SheetNames,r=a,n=!!e.vbaraw,t.forEach(function(e,a){nT(e);for(var s=0;s<a;++s)if(e==t[s])throw new Error("Duplicate Sheet Name: "+e);if(n){var i=r&&r[a]&&r[a].CodeName||e;if(95==i.charCodeAt(0)&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}});for(var s=0;s<e.SheetNames.length;++s)fE(e.Sheets[e.SheetNames[s]],e.SheetNames[s],s)}var sT=/<\w+:workbook/;function iT(e){var t=[ry];t[t.length]=Ry("workbook",null,{xmlns:Jy[0],"xmlns:r":Yy});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(YE.forEach(function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(n[t[0]]=e.Workbook.WBProps[t[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Ry("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&a[s]&&a[s].Hidden;++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var i={name:py(e.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden"}t[t.length]=Ry("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(e){var r={name:e.Name};e.Comment&&(r.comment=e.Comment),null!=e.Sheet&&(r.localSheetId=""+e.Sheet),e.Hidden&&(r.hidden="1"),e.Ref&&(t[t.length]=Ry("definedName",py(e.Ref),r))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function oT(e,t){return t||(t=zw(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Ej(e.strRelID,t),hj(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function lT(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function cT(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var r,n,a=t.Workbook.Sheets,s=0,i=-1,o=-1;s<a.length;++s)!a[s]||!a[s].Hidden&&-1==i?i=s:1==a[s].Hidden&&-1==o&&(o=s);if(!(o>i))qw(e,135),qw(e,158,(r=i,n||(n=zw(29)),n.write_shift(-4,0),n.write_shift(-4,460),n.write_shift(4,28800),n.write_shift(4,17600),n.write_shift(4,500),n.write_shift(4,r),n.write_shift(4,r),n.write_shift(1,120),n.length>n.l?n.slice(0,n.l):n)),qw(e,136)}}function dT(e,t){var r=Ww();return qw(r,131),qw(r,128,function(e,t){t||(t=zw(127));for(var r=0;4!=r;++r)t.write_shift(4,0);return hj("SheetJS",t),hj(Jx.version,t),hj(Jx.version,t),hj("7262",t),t.length>t.l?t.slice(0,t.l):t}()),qw(r,153,function(e,t){t||(t=zw(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),jj(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),cT(r,e),function(e,t){qw(e,143);for(var r=0;r!=t.SheetNames.length;++r)qw(e,156,oT({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]}));qw(e,144)}(r,e),qw(r,132),r.end()}function uT(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],XT[16]={n:"BrtFRTArchID$",f:lT},Vw(e,function(e,o,l){switch(l){case 156:i.SheetNames.push(e.name),r.Sheets.push(e);break;case 153:r.WBProps=e;break;case 39:null!=e.Sheet&&(t.SID=e.Sheet),e.Ref=VC(e.Ptg,0,null,i,t),delete t.SID,delete e.Ptg,s.push(e);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:i[0].length?i.push([l,e]):i[0]=[l,e],i[i.length-1].XTI=[];break;case 362:0===i.length&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(e),i.XTI=i.XTI.concat(e);break;case 35:case 37:n.push(l),a=!0;break;case 36:case 38:n.pop(),a=!1;break;default:if(o.T);else if(!a||t.WTF&&37!=n[n.length-1]&&35!=n[n.length-1])throw new Error("Unexpected record 0x"+l.toString(16))}},t),tT(r),r.Names=s,r.supbooks=i,r}(e,r):function(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(sy,function(o,l){var c=ly(o);switch(cy(c[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":o.match(sT)&&(a="xmlns"+o.match(/<(\w+):/)[1]),r.xmlns=c[a];break;case"<fileVersion":delete c[0],r.AppVersion=c;break;case"<workbookPr":case"<workbookPr/>":YE.forEach(function(e){if(null!=c[e[0]])switch(e[2]){case"bool":r.WBProps[e[0]]=yy(c[e[0]]);break;case"int":r.WBProps[e[0]]=parseInt(c[e[0]],10);break;default:r.WBProps[e[0]]=c[e[0]]}}),c.codeName&&(r.WBProps.CodeName=ky(c.codeName));break;case"<workbookView":case"<workbookView/>":delete c[0],r.WBView.push(c);break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=hy(ky(c.name)),delete c[0],r.Sheets.push(c);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":n=!1;break;case"<definedName":(s={}).Name=ky(c.name),c.comment&&(s.Comment=c.comment),c.localSheetId&&(s.Sheet=+c.localSheetId),yy(c.hidden||"0")&&(s.Hidden=!0),i=l+o.length;break;case"</definedName>":s.Ref=hy(ky(e.slice(i,l))),r.Names.push(s);break;case"<calcPr":case"<calcPr/>":delete c[0],r.CalcPr=c;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return o}),-1===Jy.indexOf(r.xmlns))throw new Error("Unknown Namespace: "+r.xmlns);return tT(r),r}(e,r)}function hT(e,t,r,n,a,s,i,o){return".bin"===t.slice(-4)?function(e,t,r,n,a,s,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l,c,d,u,h,m,f,p,g,x,b=o.dense?[]:{},v={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=!1,w=!1,j=[];o.biff=12,o["!row"]=0;var N=0,S=!1,k=[],C={},E=o.supbooks||a.supbooks||[[]];if(E.sharedf=C,E.arrayf=k,E.SheetNames=a.SheetNames||a.Sheets.map(function(e){return e.name}),!o.supbooks&&(o.supbooks=E,a.Names))for(var T=0;T<a.Names.length;++T)E[0][T+1]=a.Names[T];var _,A=[],I=[],P=!1;if(XT[16]={n:"BrtShortReal",f:RE},Vw(e,function(e,t,T){if(!w)switch(T){case 148:l=e;break;case 0:c=e,o.sheetRows&&o.sheetRows<=c.r&&(w=!0),g=Xw(h=c.r),o["!row"]=c.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=Sk(e.hpt)),I[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(d={t:e[2]},e[2]){case"n":d.v=e[1];break;case"s":p=iE[e[1]],d.v=p.t,d.r=p.r;break;case"b":d.v=!!e[1];break;case"e":d.v=e[1],!1!==o.cellText&&(d.w=qj[d.v]);break;case"str":d.t="s",d.v=e[1];break;case"is":d.t="s",d.v=e[1].t}if((u=i.CellXf[e[0].iStyleRef])&&mE(d,u.numFmtId,null,o,s,i),m=-1==e[0].c?m+1:e[0].c,o.dense?(b[h]||(b[h]=[]),b[h][m]=d):b[Jw(m)+g]=d,o.cellFormula){for(S=!1,N=0;N<k.length;++N){var D=k[N];c.r>=D[0].s.r&&c.r<=D[0].e.r&&m>=D[0].s.c&&m<=D[0].e.c&&(d.F=nj(D[0]),S=!0)}!S&&e.length>3&&(d.f=e[3])}if(v.s.r>c.r&&(v.s.r=c.r),v.s.c>m&&(v.s.c=m),v.e.r<c.r&&(v.e.r=c.r),v.e.c<m&&(v.e.c=m),o.cellDates&&u&&"n"==d.t&&cv(Lb[u.numFmtId])){var O=$b(d.v);O&&(d.t="d",d.v=new Date(O.y,O.m-1,O.d,O.H,O.M,O.S,O.u))}_&&("XLDAPR"==_.type&&(d.D=!0),_=void 0);break;case 1:case 12:if(!o.sheetStubs||y)break;d={t:"z",v:void 0},m=-1==e[0].c?m+1:e[0].c,o.dense?(b[h]||(b[h]=[]),b[h][m]=d):b[Jw(m)+g]=d,v.s.r>c.r&&(v.s.r=c.r),v.s.c>m&&(v.s.c=m),v.e.r<c.r&&(v.e.r=c.r),v.e.c<m&&(v.e.c=m),_&&("XLDAPR"==_.type&&(d.D=!0),_=void 0);break;case 176:j.push(e);break;case 49:_=((o.xlmeta||{}).Cell||[])[e-1];break;case 494:var L=n["!id"][e.relId];for(L?(e.Target=L.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=L):""==e.relId&&(e.Target="#"+e.loc),h=e.rfx.s.r;h<=e.rfx.e.r;++h)for(m=e.rfx.s.c;m<=e.rfx.e.c;++m)o.dense?(b[h]||(b[h]=[]),b[h][m]||(b[h][m]={t:"z",v:void 0}),b[h][m].l=e):(f=tj({c:m,r:h}),b[f]||(b[f]={t:"z",v:void 0}),b[f].l=e);break;case 426:if(!o.cellFormula)break;k.push(e),(x=o.dense?b[h][m]:b[Jw(m)+g]).f=VC(e[1],0,{r:c.r,c:m},E,o),x.F=nj(e[0]);break;case 427:if(!o.cellFormula)break;C[tj(e[0].s)]=e[1],(x=o.dense?b[h][m]:b[Jw(m)+g]).f=VC(e[1],0,{r:c.r,c:m},E,o);break;case 60:if(!o.cellStyles)break;for(;e.e>=e.s;)A[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},P||(P=!0,yk(e.w/256)),wk(A[e.e+1]);break;case 161:b["!autofilter"]={ref:nj(e)};break;case 476:b["!margins"]=e;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),e.name&&(a.Sheets[r].CodeName=e.name),(e.above||e.left)&&(b["!outline"]={above:e.above,left:e.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),e.RTL&&(a.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:case 37:y=!0;break;case 36:case 38:y=!1;break;default:if(t.T);else if(!y||o.WTF)throw new Error("Unexpected record 0x"+T.toString(16))}},o),delete o.supbooks,delete o["!row"],!b["!ref"]&&(v.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(b["!ref"]=nj(l||v)),o.sheetRows&&b["!ref"]){var D=aj(b["!ref"]);o.sheetRows<=+D.e.r&&(D.e.r=o.sheetRows-1,D.e.r>v.e.r&&(D.e.r=v.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>v.e.c&&(D.e.c=v.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),b["!fullref"]=b["!ref"],b["!ref"]=nj(D))}return j.length>0&&(b["!merges"]=j),A.length>0&&(b["!cols"]=A),I.length>0&&(b["!rows"]=I),b}(e,n,r,a,s,i,o):kE(e,n,r,a,s,i,o)}function mT(e,t,r,n,a,s,i,o){return".bin"===t.slice(-4)?function(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Vw(e,function(e,n,o){switch(o){case 550:s["!rel"]=e;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),e.name&&(a.Sheets[r].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:case 37:case 38:break;case 35:i=!0;break;case 36:i=!1;break;default:if(n.T>0);else if(n.T<0);else if(!i||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}(e,n,r,a,s):function(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s,i={"!type":"chart","!drawel":null,"!rel":""},o=e.match(jE);return o&&CE(o[0],0,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}(e,0,r,a,s)}function fT(e,t,r,n){return".bin"===t.slice(-4)?function(e,t,r){var n={NumberFmt:[]};for(var a in Lb)n.NumberFmt[a]=Lb[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return Vw(e,function(e,a,o){switch(o){case 44:n.NumberFmt[e[0]]=e[1],fv(e[1],e[0]);break;case 43:n.Fonts.push(e),null!=e.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=fk(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==s[s.length-1]&&n.CellXf.push(e);break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(o),i=!0;break;case 38:s.pop(),i=!1;break;default:if(a.T>0)s.push(o);else if(a.T<0)s.pop();else if(!i||r.WTF&&37!=s[s.length-1])throw new Error("Unexpected record 0x"+o.toString(16))}}),n}(e,r,n):Tk(e,r,n)}function pT(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r=[],n=!1;return Vw(e,function(e,a,s){switch(s){case 159:r.Count=e[0],r.Unique=e[1];break;case 19:r.push(e);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),r}(e,r):function(e,t){var r=[],n="";if(!e)return r;var a=e.match(HS);if(a){n=a[2].replace(QS,"").split(GS);for(var s=0;s!=n.length;++s){var i=qS(n[s].trim(),t);null!=i&&(r[r.length]=i)}a=ly(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}(e,r)}function gT(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r=[],n=[],a={},s=!1;return Vw(e,function(e,i,o){switch(o){case 632:n.push(e);break;case 635:a=e;break;case 637:a.t=e.t,a.h=e.h,a.r=e.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:case 37:case 38:break;case 35:s=!0;break;case 36:s=!1;break;default:if(i.T);else if(!s||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}(e,r):function(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&r.push(t[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(e){if(""!==e&&""!==e.trim()){var a=e.match(/<(?:\w+:)?comment[^>]*>/);if(a){var s=ly(a[0]),i={author:s.authorId&&r[s.authorId]||"sheetjsghost",ref:s.ref,guid:s.guid},o=ej(s.ref);if(!(t.sheetRows&&t.sheetRows<=o.r)){var l=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),c=!!l&&!!l[1]&&qS(l[1])||{r:"",t:"",h:""};i.r=c.r,"<t></t>"==c.r&&(c.t=c.h=""),i.t=(c.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(i.h=c.h),n.push(i)}}}}),n}(e,r)}function xT(e,t,r){return".bin"===t.slice(-4)?function(e){var t=[];return Vw(e,function(e,r,n){if(63===n)t.push(e);else if(!r.T)throw new Error("Unexpected record 0x"+n.toString(16))}),t}(e):function(e){var t=[];if(!e)return t;var r=1;return(e.match(sy)||[]).forEach(function(e){var n=ly(e);switch(n[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n)}}),t}(e)}function bT(e,t,r,n){if(".bin"===r.slice(-4))return function(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Vw(e,function(e,t,r){switch(r){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(t.T);else if(!s||a.WTF)throw new Error("Unexpected record 0x"+r.toString(16))}},a)}(e,0,0,n)}function vT(e,t,r){return".bin"===t.slice(-4)?function(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,o=2;return Vw(e,function(e,t,r){switch(r){case 335:n.Types.push({name:e.name});break;case 51:e.forEach(function(e){1==o?n.Cell.push({type:n.Types[e[0]-1].name,index:e[1]}):0==o&&n.Value.push({type:n.Types[e[0]-1].name,index:e[1]})});break;case 337:o=e?1:0;break;case 338:o=2;break;case 35:s.push(r),i=!0;break;case 36:s.pop(),i=!1;break;default:if(t.T);else if(!i||a.WTF&&35!=s[s.length-1])throw new Error("Unexpected record 0x"+r.toString(16))}}),n}(e,0,r):function(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a,s=!1,i=2;return e.replace(sy,function(e){var t=ly(e);switch(cy(t[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":n.Types.push({name:t.name});break;case"<futureMetadata":for(var o=0;o<n.Types.length;++o)n.Types[o].name==t.name&&(a=n.Types[o]);break;case"<rc":1==i?n.Cell.push({type:n.Types[t.t-1].name,index:+t.v}):0==i&&n.Value.push({type:n.Types[t.t-1].name,index:+t.v});break;case"<cellMetadata":i=1;break;case"</cellMetadata>":case"</valueMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+t.i);break;default:if(!s&&r.WTF)throw new Error("unrecognized "+t[0]+" in metadata")}return e}),n}(e,0,r)}function yT(e,t,r,n,a){return(".bin"===t.slice(-4)?QE:PE)(e,r,n,a)}function wT(e,t,r){return(".bin"===t.slice(-4)?dC:oC)(e)}var jT,NT=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,ST=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function kT(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],1===r.length)return n;var a,s,i,o=e.match(NT);if(o)for(i=0;i!=o.length;++i)-1===(s=(a=o[i].match(ST))[1].indexOf(":"))?n[a[1]]=a[2].slice(1,a[2].length-1):n["xmlns:"===a[1].slice(0,6)?"xmlns"+a[1].slice(6):a[1].slice(s+1)]=a[2].slice(1,a[2].length-1);return n}function CT(e){var t={};if(1===e.split(/\s+/).length)return t;var r,n,a,s=e.match(NT);if(s)for(a=0;a!=s.length;++a)-1===(n=(r=s[a].match(ST))[1].indexOf(":"))?t[r[1]]=r[2].slice(1,r[2].length-1):t["xmlns:"===r[1].slice(0,6)?"xmlns"+r[1].slice(6):r[1].slice(n+1)]=r[2].slice(1,r[2].length-1);return t}function ET(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=yy(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Mv(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[hy(t)]=a}function TT(e,t,r){if("z"!==e.t){if(!r||!1!==r.cellText)try{"e"===e.t?e.w=e.w||qj[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=qb(e.v):e.w=Hb(e.v):e.w=(n=t||"General",a=e.v,"General"===(s=jT[n]||hy(n))?Hb(a):mv(s,a))}catch(xJ){if(r.WTF)throw xJ}var n,a,s;try{var i=jT[t]||t||"General";if(r.cellNF&&(e.z=i),r.cellDates&&"n"==e.t&&cv(i)){var o=$b(e.v);o&&(e.t="d",e.v=new Date(o.y,o.m-1,o.d,o.H,o.M,o.S,o.u))}}catch(xJ){if(r.WTF)throw xJ}}}function _T(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=kk[n.Pattern]||n.Pattern)}e[t.ID]=t}function AT(e,t,r,n,a,s,i,o,l,c){var d="General",u=n.StyleID,h={};c=c||{};var m=[],f=0;for(void 0===u&&o&&(u=o.StyleID),void 0===u&&i&&(u=i.StyleID);void 0!==s[u]&&(s[u].nf&&(d=s[u].nf),s[u].Interior&&m.push(s[u].Interior),s[u].Parent);)u=s[u].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=yy(e);break;case"String":n.t="s",n.r=vy(hy(e)),n.v=e.indexOf("<")>-1?hy(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),n.v=(Mv(e)-new Date(Date.UTC(1899,11,30)))/864e5,n.v!=n.v?n.v=hy(e):n.v<60&&(n.v=n.v-1),d&&"General"!=d||(d="yyyy-mm-dd");case"Number":void 0===n.v&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Hj[e],!1!==c.cellText&&(n.w=e);break;default:""==e&&""==t?n.t="z":(n.t="s",n.v=vy(t||e))}if(TT(n,d,c),!1!==c.cellFormula)if(n.Formula){var p=hy(n.Formula);61==p.charCodeAt(0)&&(p=p.slice(1)),n.f=hC(p,a),delete n.Formula,"RC"==n.ArrayRange?n.F=hC("RC:RC",a):n.ArrayRange&&(n.F=hC(n.ArrayRange,a),l.push([aj(n.F),n.F]))}else for(f=0;f<l.length;++f)a.r>=l[f][0].s.r&&a.r<=l[f][0].e.r&&a.c>=l[f][0].s.c&&a.c<=l[f][0].e.c&&(n.F=l[f][1]);c.cellStyles&&(m.forEach(function(e){!h.patternType&&e.patternType&&(h.patternType=e.patternType)}),n.s=h),void 0!==n.StyleID&&(n.ixfe=n.StyleID)}function IT(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.v=e.w=e.ixfe=void 0}function PT(e,t){var r=t||{};gv();var n=cb(Fy(e));"binary"!=r.type&&"array"!=r.type&&"base64"!=r.type||(n=ky(n));var a,s=n.slice(0,1024).toLowerCase(),i=!1;if((1023&(s=s.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&s.indexOf(","),1023&s.indexOf(";"))){var o=$v(r);return o.type="string",FS.to_workbook(n,o)}if(-1==s.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach(function(e){s.indexOf("<"+e)>=0&&(i=!0)}),i)return function(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||0==r.length)throw new Error("Invalid HTML: could not find <table>");if(1==r.length)return oj(c_(r[0],t),t);var n={SheetNames:[],Sheets:{}};return r.forEach(function(e,r){NA(n,c_(e,t),"Sheet"+(r+1))}),n}(n,r);jT={"General Number":"General","General Date":Lb[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Lb[15],"Short Date":Lb[14],"Long Time":Lb[19],"Medium Time":Lb[18],"Short Time":Lb[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Lb[2],Standard:Lb[4],Percent:Lb[10],Scientific:Lb[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c,d=[],u={},h=[],m=r.dense?[]:{},f="",p={},g={},x=kT('<Data ss:Type="String">'),b=0,v=0,y=0,w={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},N={},S="",k=0,C=[],E={},T={},_=0,A=[],I=[],P={},D=[],O=!1,L=[],R=[],M={},F=0,$=0,B={Sheets:[],WBProps:{date1904:!1}},U={};$y.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/gm,"");for(var z="";a=$y.exec(n);)switch(a[3]=(z=a[3]).toLowerCase()){case"data":if("data"==z){if("/"===a[1]){if((l=d.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&d.push([a[3],!0]);break}if(d[d.length-1][1])break;"/"===a[1]?AT(n.slice(b,a.index),S,x,"comment"==d[d.length-1][0]?P:p,{c:v,r:y},j,D[v],g,L,r):(S="",x=kT(a[0]),b=a.index+a[0].length);break;case"cell":if("/"===a[1])if(I.length>0&&(p.c=I),(!r.sheetRows||r.sheetRows>y)&&void 0!==p.v&&(r.dense?(m[y]||(m[y]=[]),m[y][v]=p):m[Jw(v)+Xw(y)]=p),p.HRef&&(p.l={Target:hy(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(F=v+(0|parseInt(p.MergeAcross,10)),$=y+(0|parseInt(p.MergeDown,10)),C.push({s:{c:v,r:y},e:{c:F,r:$}})),r.sheetStubs)if(p.MergeAcross||p.MergeDown){for(var V=v;V<=F;++V)for(var W=y;W<=$;++W)(V>v||W>y)&&(r.dense?(m[W]||(m[W]=[]),m[W][V]={t:"z"}):m[Jw(V)+Xw(W)]={t:"z"});v=F+1}else++v;else p.MergeAcross?v=F+1:++v;else(p=CT(a[0])).Index&&(v=+p.Index-1),v<w.s.c&&(w.s.c=v),v>w.e.c&&(w.e.c=v),"/>"===a[0].slice(-2)&&++v,I=[];break;case"row":"/"===a[1]||"/>"===a[0].slice(-2)?(y<w.s.r&&(w.s.r=y),y>w.e.r&&(w.e.r=y),"/>"===a[0].slice(-2)&&(g=kT(a[0])).Index&&(y=+g.Index-1),v=0,++y):((g=kT(a[0])).Index&&(y=+g.Index-1),M={},("0"==g.AutoFitHeight||g.Height)&&(M.hpx=parseInt(g.Height,10),M.hpt=Nk(M.hpx),R[y]=M),"1"==g.Hidden&&(M.hidden=!0,R[y]=M));break;case"worksheet":if("/"===a[1]){if((l=d.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));h.push(f),w.s.r<=w.e.r&&w.s.c<=w.e.c&&(m["!ref"]=nj(w),r.sheetRows&&r.sheetRows<=w.e.r&&(m["!fullref"]=m["!ref"],w.e.r=r.sheetRows-1,m["!ref"]=nj(w))),C.length&&(m["!merges"]=C),D.length>0&&(m["!cols"]=D),R.length>0&&(m["!rows"]=R),u[f]=m}else w={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=v=0,d.push([a[3],!1]),l=kT(a[0]),f=hy(l.Name),m=r.dense?[]:{},C=[],L=[],R=[],U={name:f,Hidden:0},B.Sheets.push(U);break;case"table":if("/"===a[1]){if((l=d.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else{if("/>"==a[0].slice(-2))break;d.push([a[3],!1]),D=[],O=!1}break;case"style":"/"===a[1]?_T(j,N,r):N=kT(a[0]);break;case"numberformat":N.nf=hy(kT(a[0]).Format||"General"),jT[N.nf]&&(N.nf=jT[N.nf]);for(var q=0;392!=q&&Lb[q]!=N.nf;++q);if(392==q)for(q=57;392!=q;++q)if(null==Lb[q]){fv(N.nf,q);break}break;case"column":if("table"!==d[d.length-1][0])break;if((c=kT(a[0])).Hidden&&(c.hidden=!0,delete c.Hidden),c.Width&&(c.wpx=parseInt(c.Width,10)),!O&&c.wpx>10){O=!0,pk=6;for(var H=0;H<D.length;++H)D[H]&&wk(D[H])}O&&wk(c),D[c.Index-1||D.length]=c;for(var Q=0;Q<+c.Span;++Q)D[D.length]=$v(c);break;case"namedrange":if("/"===a[1])break;B.Names||(B.Names=[]);var G=ly(a[0]),Y={Name:G.Name,Ref:hC(G.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&(Y.Sheet=B.Sheets.length-1),B.Names.push(Y);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===a[0].slice(-2))break;"/"===a[1]?S+=n.slice(k,a.index):k=a.index+a[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=kT(a[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===a[0].slice(-2))break;"/"===a[1]?xN(E,z,n.slice(_,a.index)):_=a.index+a[0].length;break;case"styles":case"workbook":if("/"===a[1]){if((l=d.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else d.push([a[3],!1]);break;case"comment":if("/"===a[1]){if((l=d.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));IT(P),I.push(P)}else d.push([a[3],!1]),P={a:(l=kT(a[0])).Author};break;case"autofilter":if("/"===a[1]){if((l=d.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else if("/"!==a[0].charAt(a[0].length-2)){var K=kT(a[0]);m["!autofilter"]={ref:hC(K.Range).replace(/\$/g,"")},d.push([a[3],!0])}break;case"datavalidation":if("/"===a[1]){if((l=d.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&d.push([a[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===a[1]){if((l=d.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&d.push([a[3],!0]);break;default:if(0==d.length&&"document"==a[3])return v_(n,r);if(0==d.length&&"uof"==a[3])return v_(n,r);var X=!0;switch(d[d.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:X=!1}break;case"componentoptions":switch(a[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:X=!1}break;case"excelworkbook":switch(a[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:X=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":case"height":case"width":break;default:X=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if("/>"===a[0].slice(-2));else if("/"===a[1])switch(n.slice(_,a.index)){case"SheetHidden":U.Hidden=1;break;case"SheetVeryHidden":U.Hidden=2}else _=a.index+a[0].length;break;case"header":m["!margins"]||uE(m["!margins"]={},"xlml"),isNaN(+ly(a[0]).Margin)||(m["!margins"].header=+ly(a[0]).Margin);break;case"footer":m["!margins"]||uE(m["!margins"]={},"xlml"),isNaN(+ly(a[0]).Margin)||(m["!margins"].footer=+ly(a[0]).Margin);break;case"pagemargins":var Z=ly(a[0]);m["!margins"]||uE(m["!margins"]={},"xlml"),isNaN(+Z.Top)||(m["!margins"].top=+Z.Top),isNaN(+Z.Left)||(m["!margins"].left=+Z.Left),isNaN(+Z.Right)||(m["!margins"].right=+Z.Right),isNaN(+Z.Bottom)||(m["!margins"].bottom=+Z.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;default:X=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:X=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:X=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:X=!1}break;case"querytable":switch(a[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:X=!1}break;case"datavalidation":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:X=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:X=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:X=!1}break;case"smarttags":break;default:X=!1}if(X)break;if(a[3].match(/!\[CDATA/))break;if(!d[d.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+d.join("|");if("customdocumentproperties"===d[d.length-1][0]){if("/>"===a[0].slice(-2))break;"/"===a[1]?ET(T,z,A,n.slice(_,a.index)):(A=a,_=a.index+a[0].length);break}if(r.WTF)throw"Unrecognized tag: "+a[3]+"|"+d.join("|")}var J={};return r.bookSheets||r.bookProps||(J.Sheets=u),J.SheetNames=h,J.Workbook=B,J.SSF=$v(Lb),J.Props=E,J.Custprops=T,J}function DT(e,t){switch(X_(t=t||{}),t.type||"base64"){case"base64":return PT(fb(e),t);case"binary":case"buffer":case"file":return PT(e,t);case"array":return PT(wb(e),t)}}function OT(e,t){var r=[];return e.Props&&r.push(function(e,t){var r=[];return Nv(gN).map(function(e){for(var t=0;t<aN.length;++t)if(aN[t][1]==e)return aN[t];for(t=0;t<cN.length;++t)if(cN[t][1]==e)return cN[t];throw e}).forEach(function(n){if(null!=e[n[1]]){var a=t&&t.Props&&null!=t.Props[n[1]]?t.Props[n[1]]:e[n[1]];"date"===n[2]&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof a?a=String(a):!0===a||!1===a?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Oy(gN[n[1]]||n[1],a))}}),Ry("DocumentProperties",r.join(""),{xmlns:ew})}(e.Props,t)),e.Custprops&&r.push(function(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Nv(e).forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var n=0;n<aN.length;++n)if(t==aN[n][1])return;for(n=0;n<cN.length;++n)if(t==cN[n][1])return;for(n=0;n<r.length;++n)if(t==r[n])return;var s=e[t],i="string";"number"==typeof s?(i="float",s=String(s)):!0===s||!1===s?(i="boolean",s=s?"1":"0"):s=String(s),a.push(Ry(gy(t),s,{"dt:dt":i}))}}),t&&Nv(t).forEach(function(r){if(Object.prototype.hasOwnProperty.call(t,r)&&(!e||!Object.prototype.hasOwnProperty.call(e,r))){var n=t[r],s="string";"number"==typeof n?(s="float",n=String(n)):!0===n||!1===n?(s="boolean",n=n?"1":"0"):n instanceof Date?(s="dateTime.tz",n=n.toISOString()):n=String(n),a.push(Ry(gy(r),n,{"dt:dt":s}))}}),"<"+n+' xmlns="'+ew+'">'+a.join("")+"</"+n+">"}(e.Props,e.Custprops)),r.join("")}function LT(e){return Ry("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+fC(e.Ref,{r:0,c:0})})}function RT(e,t,r,n,a,s,i){if(!e||null==e.v&&null==e.f)return"";var o={};if(e.f&&(o["ss:Formula"]="="+py(fC(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var l=ej(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==i.r?"":"["+(l.r-i.r)+"]")+"C"+(l.c==i.c?"":"["+(l.c-i.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=py(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=py(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],d=0;d!=c.length;++d)c[d].s.c==i.c&&c[d].s.r==i.r&&(c[d].e.c>c[d].s.c&&(o["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(o["ss:MergeDown"]=c[d].e.r-c[d].s.r));var u="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":u="Number",h=String(e.v);break;case"b":u="Boolean",h=e.v?"1":"0";break;case"e":u="Error",h=qj[e.v];break;case"d":u="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||Lb[14]);break;case"s":u="String",h=((e.v||"")+"").replace(my,function(e){return uy[e]}).replace(xy,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}var m=hE(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=i.c+1;var f=null!=e.v?h:"",p="z"==e.t?"":'<Data ss:Type="'+u+'">'+f+"</Data>";return(e.c||[]).length>0&&(p+=e.c.map(function(e){var t=Ry("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return Ry("Comment",t,{"ss:Author":e.a})}).join("")),Ry("Cell",p,o)}function MT(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Sk(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function FT(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],i=s?function(e,t,r,n){if(!e)return"";if(!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],i=0;i<a.length;++i){var o=a[i];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(LT(o)))}return s.join("")}(s,0,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=s?function(e,t){if(!e["!ref"])return"";var r=aj(e["!ref"]),n=e["!merges"]||[],a=0,s=[];e["!cols"]&&e["!cols"].forEach(function(e,t){wk(e);var r=!!e.width,n=dE(t,e),a={"ss:Index":t+1};r&&(a["ss:Width"]=gk(n.width)),e.hidden&&(a["ss:Hidden"]="1"),s.push(Ry("Column",null,a))});for(var i=Array.isArray(e),o=r.s.r;o<=r.e.r;++o){for(var l=[MT(o,(e["!rows"]||[])[o])],c=r.s.c;c<=r.e.c;++c){var d=!1;for(a=0;a!=n.length;++a)if(!(n[a].s.c>c||n[a].s.r>o||n[a].e.c<c||n[a].e.r<o)){n[a].s.c==c&&n[a].s.r==o||(d=!0);break}if(!d){var u={r:o,c:c},h=tj(u),m=i?(e[o]||[])[c]:e[h];l.push(RT(m,h,e,t,0,0,u))}}l.push("</Row>"),l.length>2&&s.push(l.join(""))}return s.join("")}(s,t):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(function(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Ry("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Ry("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Ry("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Ry("Visible",1==n.Workbook.Sheets[r].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&(!n.Workbook.Sheets[s]||n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Oy("ProtectContents","True")),e["!protect"].objects&&a.push(Oy("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Oy("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||a.push(Oy("EnableSelection","UnlockedCells")):a.push(Oy("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(t){e["!protect"][t[0]]&&a.push("<"+t[1]+"/>")})),0==a.length?"":Ry("WorksheetOptions",a.join(""),{xmlns:tw})}(s,0,e,r)),n.join("")}function $T(e,t){t||(t={}),e.SSF||(e.SSF=$v(Lb)),e.SSF&&(gv(),pv(e.SSF),t.revssf=Cv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],hE(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(OT(e,t)),r.push(""),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Ry("Worksheet",FT(n,t,e),{"ss:Name":py(e.SheetNames[n])}));return r[2]=function(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(e,t){var n=[];n.push(Ry("NumberFormat",null,{"ss:Format":py(Lb[e.numFmtId])}));var a={"ss:ID":"s"+(21+t)};r.push(Ry("Style",n.join(""),a))}),Ry("Styles",r.join(""))}(0,t),r[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];null==a.Sheet&&(a.Name.match(/^_xlfn\./)||r.push(LT(a)))}return Ry("Names",r.join(""))}(e),ry+Ry("Workbook",r.join(""),{xmlns:rw,"xmlns:o":ew,"xmlns:x":tw,"xmlns:ss":rw,"xmlns:dt":nw,"xmlns:html":iw})}function BT(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=function(e){return Rj(e,1)}(r),r.length-r.l<=4)return t;var n=r.read_shift(4);return 0==n||n>40?t:(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4||1907505652!==(n=r.read_shift(4))?t:(t.UnicodeClipboardFormat=function(e){return Rj(e,2)}(r),0==(n=r.read_shift(4))||n>40?t:(r.l-=4,void(t.Reserved2=r.read_shift(0,"lpwstr")))))}var UT=[60,1084,2066,2165,2175];function zT(e,t,r,n,a){var s=n,i=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:a.enc.insitu(o)}i.push(o),r.l+=s;for(var l=_w(r,r.l),c=ZT[l],d=0;null!=c&&UT.indexOf(l)>-1;)s=_w(r,r.l+2),d=r.l+4,2066==l?d+=4:2165!=l&&2175!=l||(d+=12),o=r.slice(d,r.l+4+s),i.push(o),r.l+=4+s,c=ZT[l=_w(r,r.l)];var u=Nb(i);Bw(u,0);var h=0;u.lens=[];for(var m=0;m<i.length;++m)u.lens.push(h),h+=i[m].length;if(u.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+u.length+" < "+n;return t.f(u,u.length,a)}function VT(e,t,r){if("z"!==e.t&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Lb[n])}catch(xJ){if(t.WTF)throw xJ}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||qj[e.v]:0===n||"General"==n?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=qb(e.v):e.w=Hb(e.v):e.w=mv(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(xJ){if(t.WTF)throw xJ}if(t.cellDates&&n&&"n"==e.t&&cv(Lb[n]||String(n))){var a=$b(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function WT(e,t,r){return{v:e,ixfe:t,t:r}}function qT(e,t){var r,n,a,s,i,o,l,c,d={opts:{}},u={},h=t.dense?[]:{},m={},f={},p=null,g=[],x="",b={},v="",y={},w=[],j=[],N=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},C=function(e){return e<8?Wj[e]:e<64&&N[e-8]||Wj[e]},E=function(e,t,n){if(!(M>1||n.sheetRows&&e.r>=n.sheetRows)){if(n.cellStyles&&t.XF&&t.XF.data&&function(e,t,r){var n,a=t.XF.data;a&&a.patternType&&r&&r.cellStyles&&(t.s={},t.s.patternType=a.patternType,(n=mk(C(a.icvFore)))&&(t.s.fgColor={rgb:n}),(n=mk(C(a.icvBack)))&&(t.s.bgColor={rgb:n}))}(0,t,n),delete t.ixfe,delete t.XF,r=e,v=tj(e),f&&f.s&&f.e||(f={s:{r:0,c:0},e:{r:0,c:0}}),e.r<f.s.r&&(f.s.r=e.r),e.c<f.s.c&&(f.s.c=e.c),e.r+1>f.e.r&&(f.e.r=e.r+1),e.c+1>f.e.c&&(f.e.c=e.c+1),n.cellFormula&&t.f)for(var a=0;a<w.length;++a)if(!(w[a][0].s.c>e.c||w[a][0].s.r>e.r||w[a][0].e.c<e.c||w[a][0].e.r<e.r)){t.F=nj(w[a][0]),w[a][0].s.c==e.c&&w[a][0].s.r==e.r||delete t.f,t.f&&(t.f=""+VC(w[a][1],0,e,O,T));break}n.dense?(h[e.r]||(h[e.r]=[]),h[e.r][e.c]=t):h[v]=t}},T={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var _=[],A=[],I=[],P=[],D=!1,O=[];O.SheetNames=T.snames,O.sharedf=T.sharedf,O.arrayf=T.arrayf,O.names=[],O.XTI=[];var L,R=0,M=0,F=0,$=[],B=[];T.codepage=1200,ab(1200);for(var U=!1;e.l<e.length-1;){var z=e.l,V=e.read_shift(2);if(0===V&&10===R)break;var W=e.l===e.length?0:e.read_shift(2),q=ZT[V];if(q&&q.f){if(t.bookSheets&&133===R&&133!==V)break;if(R=V,2===q.r||12==q.r){var H=e.read_shift(2);if(W-=2,!T.enc&&H!==V&&((255&H)<<8|H>>8)!==V)throw new Error("rt mismatch: "+H+"!="+V);12==q.r&&(e.l+=10,W-=10)}var Q={};if(Q=10===V?q.f(e,W,T):zT(V,q,e,W,T),0==M&&-1===[9,521,1033,2057].indexOf(R))continue;switch(V){case 34:d.opts.Date1904=S.WBProps.date1904=Q;break;case 134:d.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=Q,!t.password)throw new Error("File is password-protected");if(null==Q.valid)throw new Error("Encryption scheme unsupported");if(!Q.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=Q;break;case 66:var G=Number(Q);switch(G){case 21010:G=1200;break;case 32768:G=1e4;break;case 32769:G=1252}ab(T.codepage=G),U=!0;break;case 317:T.rrtabid=Q;break;case 25:T.winlocked=Q;break;case 439:d.opts.RefreshAll=Q;break;case 12:d.opts.CalcCount=Q;break;case 16:d.opts.CalcDelta=Q;break;case 17:d.opts.CalcIter=Q;break;case 13:d.opts.CalcMode=Q;break;case 14:d.opts.CalcPrecision=Q;break;case 95:d.opts.CalcSaveRecalc=Q;break;case 15:T.CalcRefMode=Q;break;case 2211:d.opts.FullCalc=Q;break;case 129:Q.fDialog&&(h["!type"]="dialog"),Q.fBelow||((h["!outline"]||(h["!outline"]={})).above=!0),Q.fRight||((h["!outline"]||(h["!outline"]={})).left=!0);break;case 224:j.push(Q);break;case 430:O.push([Q]),O[O.length-1].XTI=[];break;case 35:case 547:O[O.length-1].push(Q);break;case 24:case 536:L={Name:Q.Name,Ref:VC(Q.rgce,0,null,O,T)},Q.itab>0&&(L.Sheet=Q.itab-1),O.names.push(L),O[0]||(O[0]=[],O[0].XTI=[]),O[O.length-1].push(Q),"_xlnm._FilterDatabase"==Q.Name&&Q.itab>0&&Q.rgce&&Q.rgce[0]&&Q.rgce[0][0]&&"PtgArea3d"==Q.rgce[0][0][0]&&(B[Q.itab-1]={ref:nj(Q.rgce[0][0][1][2])});break;case 22:T.ExternCount=Q;break;case 23:0==O.length&&(O[0]=[],O[0].XTI=[]),O[O.length-1].XTI=O[O.length-1].XTI.concat(Q),O.XTI=O.XTI.concat(Q);break;case 2196:if(T.biff<8)break;null!=L&&(L.Comment=Q[1]);break;case 18:h["!protect"]=Q;break;case 19:0!==Q&&T.WTF&&console.error("Password verifier: "+Q);break;case 133:m[Q.pos]=Q,T.snames.push(Q.name);break;case 10:if(--M)break;if(f.e){if(f.e.r>0&&f.e.c>0){if(f.e.r--,f.e.c--,h["!ref"]=nj(f),t.sheetRows&&t.sheetRows<=f.e.r){var Y=f.e.r;f.e.r=t.sheetRows-1,h["!fullref"]=h["!ref"],h["!ref"]=nj(f),f.e.r=Y}f.e.r++,f.e.c++}_.length>0&&(h["!merges"]=_),A.length>0&&(h["!objects"]=A),I.length>0&&(h["!cols"]=I),P.length>0&&(h["!rows"]=P),S.Sheets.push(k)}""===x?b=h:u[x]=h,h=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===T.biff&&(T.biff={9:2,521:3,1033:4}[V]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Q.BIFFVer]||8),T.biffguess=0==Q.BIFFVer,0==Q.BIFFVer&&4096==Q.dt&&(T.biff=5,U=!0,ab(T.codepage=28591)),8==T.biff&&0==Q.BIFFVer&&16==Q.dt&&(T.biff=2),M++)break;if(h=t.dense?[]:{},T.biff<8&&!U&&(U=!0,ab(T.codepage=t.codepage||1252)),T.biff<5||0==Q.BIFFVer&&4096==Q.dt){""===x&&(x="Sheet1"),f={s:{r:0,c:0},e:{r:0,c:0}};var K={pos:e.l-W,name:x};m[K.pos]=K,T.snames.push(x)}else x=(m[z]||{name:""}).name;32==Q.dt&&(h["!type"]="chart"),64==Q.dt&&(h["!type"]="macro"),_=[],A=[],T.arrayf=w=[],I=[],P=[],D=!1,k={Hidden:(m[z]||{hs:0}).hs,name:x};break;case 515:case 3:case 2:"chart"==h["!type"]&&(t.dense?(h[Q.r]||[])[Q.c]:h[tj({c:Q.c,r:Q.r})])&&++Q.c,o={ixfe:Q.ixfe,XF:j[Q.ixfe]||{},v:Q.val,t:"n"},F>0&&(o.z=$[o.ixfe>>8&63]),VT(o,t,d.opts.Date1904),E({c:Q.c,r:Q.r},o,t);break;case 5:case 517:o={ixfe:Q.ixfe,XF:j[Q.ixfe],v:Q.val,t:Q.t},F>0&&(o.z=$[o.ixfe>>8&63]),VT(o,t,d.opts.Date1904),E({c:Q.c,r:Q.r},o,t);break;case 638:o={ixfe:Q.ixfe,XF:j[Q.ixfe],v:Q.rknum,t:"n"},F>0&&(o.z=$[o.ixfe>>8&63]),VT(o,t,d.opts.Date1904),E({c:Q.c,r:Q.r},o,t);break;case 189:for(var X=Q.c;X<=Q.C;++X){var Z=Q.rkrec[X-Q.c][0];o={ixfe:Z,XF:j[Z],v:Q.rkrec[X-Q.c][1],t:"n"},F>0&&(o.z=$[o.ixfe>>8&63]),VT(o,t,d.opts.Date1904),E({c:X,r:Q.r},o,t)}break;case 6:case 518:case 1030:if("String"==Q.val){p=Q;break}if((o=WT(Q.val,Q.cell.ixfe,Q.tt)).XF=j[o.ixfe],t.cellFormula){var J=Q.formula;if(J&&J[0]&&J[0][0]&&"PtgExp"==J[0][0][0]){var ee=J[0][0][1][0],te=J[0][0][1][1],re=tj({r:ee,c:te});y[re]?o.f=""+VC(Q.formula,0,Q.cell,O,T):o.F=((t.dense?(h[ee]||[])[te]:h[re])||{}).F}else o.f=""+VC(Q.formula,0,Q.cell,O,T)}F>0&&(o.z=$[o.ixfe>>8&63]),VT(o,t,d.opts.Date1904),E(Q.cell,o,t),p=Q;break;case 7:case 519:if(!p)throw new Error("String record expects Formula");p.val=Q,(o=WT(Q,p.cell.ixfe,"s")).XF=j[o.ixfe],t.cellFormula&&(o.f=""+VC(p.formula,0,p.cell,O,T)),F>0&&(o.z=$[o.ixfe>>8&63]),VT(o,t,d.opts.Date1904),E(p.cell,o,t),p=null;break;case 33:case 545:w.push(Q);var ne=tj(Q[0].s);if(n=t.dense?(h[Q[0].s.r]||[])[Q[0].s.c]:h[ne],t.cellFormula&&n){if(!p)break;if(!ne||!n)break;n.f=""+VC(Q[1],0,Q[0],O,T),n.F=nj(Q[0])}break;case 1212:if(!t.cellFormula)break;if(v){if(!p)break;y[tj(p.cell)]=Q[0],((n=t.dense?(h[p.cell.r]||[])[p.cell.c]:h[tj(p.cell)])||{}).f=""+VC(Q[0],0,r,O,T)}break;case 253:o=WT(g[Q.isst].t,Q.ixfe,"s"),g[Q.isst].h&&(o.h=g[Q.isst].h),o.XF=j[o.ixfe],F>0&&(o.z=$[o.ixfe>>8&63]),VT(o,t,d.opts.Date1904),E({c:Q.c,r:Q.r},o,t);break;case 513:t.sheetStubs&&(o={ixfe:Q.ixfe,XF:j[Q.ixfe],t:"z"},F>0&&(o.z=$[o.ixfe>>8&63]),VT(o,t,d.opts.Date1904),E({c:Q.c,r:Q.r},o,t));break;case 190:if(t.sheetStubs)for(var ae=Q.c;ae<=Q.C;++ae){var se=Q.ixfe[ae-Q.c];o={ixfe:se,XF:j[se],t:"z"},F>0&&(o.z=$[o.ixfe>>8&63]),VT(o,t,d.opts.Date1904),E({c:ae,r:Q.r},o,t)}break;case 214:case 516:case 4:(o=WT(Q.val,Q.ixfe,"s")).XF=j[o.ixfe],F>0&&(o.z=$[o.ixfe>>8&63]),VT(o,t,d.opts.Date1904),E({c:Q.c,r:Q.r},o,t);break;case 0:case 512:1===M&&(f=Q);break;case 252:g=Q;break;case 1054:if(4==T.biff){$[F++]=Q[1];for(var ie=0;ie<F+163&&Lb[ie]!=Q[1];++ie);ie>=163&&fv(Q[1],F+163)}else fv(Q[1],Q[0]);break;case 30:$[F++]=Q;for(var oe=0;oe<F+163&&Lb[oe]!=Q;++oe);oe>=163&&fv(Q,F+163);break;case 229:_=_.concat(Q);break;case 93:A[Q.cmo[0]]=T.lastobj=Q;break;case 438:T.lastobj.TxO=Q;break;case 127:T.lastobj.ImData=Q;break;case 440:for(i=Q[0].s.r;i<=Q[0].e.r;++i)for(s=Q[0].s.c;s<=Q[0].e.c;++s)(n=t.dense?(h[i]||[])[s]:h[tj({c:s,r:i})])&&(n.l=Q[1]);break;case 2048:for(i=Q[0].s.r;i<=Q[0].e.r;++i)for(s=Q[0].s.c;s<=Q[0].e.c;++s)(n=t.dense?(h[i]||[])[s]:h[tj({c:s,r:i})])&&n.l&&(n.l.Tooltip=Q[1]);break;case 28:if(T.biff<=5&&T.biff>=2)break;n=t.dense?(h[Q[0].r]||[])[Q[0].c]:h[tj(Q[0])];var le=A[Q[2]];n||(t.dense?(h[Q[0].r]||(h[Q[0].r]=[]),n=h[Q[0].r][Q[0].c]={t:"z"}):n=h[tj(Q[0])]={t:"z"},f.e.r=Math.max(f.e.r,Q[0].r),f.s.r=Math.min(f.s.r,Q[0].r),f.e.c=Math.max(f.e.c,Q[0].c),f.s.c=Math.min(f.s.c,Q[0].c)),n.c||(n.c=[]),a={a:Q[1],t:le.TxO.t},n.c.push(a);break;case 2173:tC(j[Q.ixfe],Q.ext);break;case 125:if(!T.cellStyles)break;for(;Q.e>=Q.s;)I[Q.e--]={width:Q.w/256,level:Q.level||0,hidden:!!(1&Q.flags)},D||(D=!0,yk(Q.w/256)),wk(I[Q.e+1]);break;case 520:var ce={};null!=Q.level&&(P[Q.r]=ce,ce.level=Q.level),Q.hidden&&(P[Q.r]=ce,ce.hidden=!0),Q.hpt&&(P[Q.r]=ce,ce.hpt=Q.hpt,ce.hpx=Sk(Q.hpt));break;case 38:case 39:case 40:case 41:h["!margins"]||uE(h["!margins"]={}),h["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[V]]=Q;break;case 161:h["!margins"]||uE(h["!margins"]={}),h["!margins"].header=Q.header,h["!margins"].footer=Q.footer;break;case 574:Q.RTL&&(S.Views[0].RTL=!0);break;case 146:N=Q;break;case 2198:c=Q;break;case 140:l=Q;break;case 442:x?k.CodeName=Q||k.name:S.WBProps.CodeName=Q||"ThisWorkbook"}}else q||console.error("Missing Info for XLS Record 0x"+V.toString(16)),e.l+=W}return d.SheetNames=Nv(m).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return m[e].name}),t.bookSheets||(d.Sheets=u),!d.SheetNames.length&&b["!ref"]?(d.SheetNames.push("Sheet1"),d.Sheets&&(d.Sheets.Sheet1=b)):d.Preamble=b,d.Sheets&&B.forEach(function(e,t){d.Sheets[d.SheetNames[t]]["!autofilter"]=e}),d.Strings=g,d.SSF=$v(Lb),T.enc&&(d.Encryption=T.enc),c&&(d.Themes=c),d.Metadata={},void 0!==l&&(d.Metadata.Country=l),O.names.length>0&&(S.Names=O.names),d.Workbook=S,d}var HT="e0859ff2f94f6810ab9108002b27b3d9",QT="02d5cdd59c2e1b10939708002b2cf9ae",GT="05d5cdd59c2e1b10939708002b2cf9ae";function YT(e,t){var r,n,a,s;if(t||(t={}),X_(t),sb(),t.codepage&&nb(t.codepage),e.FullPaths){if(yv.find(e,"/encryption"))throw new Error("File is password-protected");r=yv.find(e,"!CompObj"),n=yv.find(e,"/Workbook")||yv.find(e,"/Book")}else{switch(t.type){case"base64":e=vb(fb(e));break;case"binary":e=vb(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e))}Bw(e,0),n={content:e}}if(r&&BT(r),t.bookProps&&!t.bookSheets)a={};else{var i=pb?"buffer":"array";if(n&&n.content)a=qT(n.content,t);else if((s=yv.find(e,"PerfectOffice_MAIN"))&&s.content)a=$S.to_workbook(s.content,(t.type=i,t));else{if(!(s=yv.find(e,"NativeContent_MAIN"))||!s.content)throw(s=yv.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");a=$S.to_workbook(s.content,(t.type=i,t))}t.bookVBA&&e.FullPaths&&yv.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=function(e){var t=yv.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if("/"!==r.slice(-1)&&r.match(/_VBA_PROJECT_CUR/)){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");yv.utils.cfb_add(t,a,e.FileIndex[n].content)}}),yv.write(t)}(e))}var o={};return e.FullPaths&&function(e,t,r){var n=yv.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=PN(n,$j,QT);for(var s in a)t[s]=a[s]}catch(xJ){if(r.WTF)throw xJ}var i=yv.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=PN(i,Bj,HT);for(var l in o)null==t[l]&&(t[l]=o[l])}catch(xJ){if(r.WTF)throw xJ}t.HeadingPairs&&t.TitlesOfParts&&(uN(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function KT(e,t){var r=t||{},n=yv.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return yv.utils.cfb_add(n,a,l_(e,r)),8==r.biff&&(e.Props||e.Custprops)&&function(e,t){var r,n=[],a=[],s=[],i=0,o=Sv($j,"n"),l=Sv(Bj,"n");if(e.Props)for(r=Nv(e.Props),i=0;i<r.length;++i)(Object.prototype.hasOwnProperty.call(o,r[i])?n:Object.prototype.hasOwnProperty.call(l,r[i])?a:s).push([r[i],e.Props[r[i]]]);if(e.Custprops)for(r=Nv(e.Custprops),i=0;i<r.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},r[i])||(Object.prototype.hasOwnProperty.call(o,r[i])?n:Object.prototype.hasOwnProperty.call(l,r[i])?a:s).push([r[i],e.Custprops[r[i]]]);var c=[];for(i=0;i<s.length;++i)_N.indexOf(s[i][0])>-1||dN.indexOf(s[i][0])>-1||null!=s[i][1]&&c.push(s[i]);a.length&&yv.utils.cfb_add(t,"/SummaryInformation",DN(a,HT,l,Bj)),(n.length||c.length)&&yv.utils.cfb_add(t,"/DocumentSummaryInformation",DN(n,QT,o,$j,c.length?c:null,GT))}(e,n),8==r.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach(function(r,n){if(0!=n){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==a.slice(-1)&&yv.utils.cfb_add(e,a,t.FileIndex[n].content)}})}(n,yv.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),n}var XT={0:{f:function(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,7&s&&(r.level=7&s),16&s&&(r.hidden=!0),32&s&&(r.hpt=a/20),r}},1:{f:function(e){return[xj(e)]}},2:{f:function(e){return[xj(e),Tj(e),"n"]}},3:{f:function(e){return[xj(e),e.read_shift(1),"e"]}},4:{f:function(e){return[xj(e),e.read_shift(1),"b"]}},5:{f:function(e){return[xj(e),Dj(e),"n"]}},6:{f:function(e){return[xj(e),uj(e),"str"]}},7:{f:function(e){return[xj(e),e.read_shift(4),"s"]}},8:{f:function(e,t,r){var n=e.l+t,a=xj(e);a.r=r["!row"];var s=[a,uj(e),"str"];if(r.cellFormula){e.l+=2;var i=KC(e,n-e.l,r);s[3]=VC(i,0,a,r.supbooks,r)}else e.l=n;return s}},9:{f:function(e,t,r){var n=e.l+t,a=xj(e);a.r=r["!row"];var s=[a,Dj(e),"n"];if(r.cellFormula){e.l+=2;var i=KC(e,n-e.l,r);s[3]=VC(i,0,a,r.supbooks,r)}else e.l=n;return s}},10:{f:function(e,t,r){var n=e.l+t,a=xj(e);a.r=r["!row"];var s=[a,e.read_shift(1),"b"];if(r.cellFormula){e.l+=2;var i=KC(e,n-e.l,r);s[3]=VC(i,0,a,r.supbooks,r)}else e.l=n;return s}},11:{f:function(e,t,r){var n=e.l+t,a=xj(e);a.r=r["!row"];var s=[a,e.read_shift(1),"e"];if(r.cellFormula){e.l+=2;var i=KC(e,n-e.l,r);s[3]=VC(i,0,a,r.supbooks,r)}else e.l=n;return s}},12:{f:function(e){return[vj(e)]}},13:{f:function(e){return[vj(e),Tj(e),"n"]}},14:{f:function(e){return[vj(e),e.read_shift(1),"e"]}},15:{f:function(e){return[vj(e),e.read_shift(1),"b"]}},16:{f:RE},17:{f:function(e){return[vj(e),uj(e),"str"]}},18:{f:function(e){return[vj(e),e.read_shift(4),"s"]}},19:{f:fj},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=kj(e),i=XC(e,0,r),o=Nj(e);e.l=n;var l={Name:s,Ptg:i};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}},40:{},42:{},43:{f:function(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var s=e.read_shift(1);0!=s&&(n.underline=s);var i=e.read_shift(1);i>0&&(n.family=i);var o=e.read_shift(1);switch(o>0&&(n.charset=o),e.l++,n.color=function(e){var t={},r=e.read_shift(1)>>>1,n=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=n;var l=Wj[n];l&&(t.rgb=mk(l));break;case 2:t.rgb=mk([s,i,o]);break;case 3:t.theme=n}return 0!=a&&(t.tint=a>0?a/32767:a/32768),t}(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=uj(e),n}},44:{f:function(e,t){return[e.read_shift(2),uj(e)]}},45:{f:Ok},46:{f:Fk},47:{f:function(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:_S},62:{f:function(e){return[xj(e),fj(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=tj(r);var n=e.read_shift(1);return 2&n&&(t.l="1"),8&n&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Uw,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var r={},n=e[e.l];return++e.l,r.above=!(64&n),r.left=!(128&n),e.l+=18,r.name=wj(e),r}},148:{f:OE,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?uj(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(65536&n),r.backupFile=!!(64&n),r.checkCompatibility=!!(4096&n),r.date1904=!!(1&n),r.filterPrivacy=!!(8&n),r.hidePivotFieldList=!!(1024&n),r.promptedSolutions=!!(16&n),r.publishItems=!!(2048&n),r.refreshAllConnections=!!(262144&n),r.saveExternalLinkValues=!!(128&n),r.showBorderUnselectedTables=!!(4&n),r.showInkAnnotation=!!(32&n),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(32768&n),r.updateLinks=["userSet","never","always"][n>>8&3],r}},154:{},155:{},156:{f:function(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Cj(e),r.name=uj(e),r}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:Ij},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ME},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:uj(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Cj},357:{},358:{},359:{},360:{T:1},361:{},362:{f:SS},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,r){var n=e.l+t,a=Aj(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var o=YC(e,n-e.l,r);i[1]=o}else e.l=n;return i}},427:{f:function(e,t,r){var n=e.l+t,a=[Ij(e)];if(r.cellFormula){var s=ZC(e,n-e.l,r);a[1]=s,e.l=n}else e.l=n;return a}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return $E.forEach(function(r){t[r]=Dj(e)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var r=e.l+t,n=Ij(e),a=Nj(e),s=uj(e),i=uj(e),o=uj(e);e.l=r;var l={rfx:n,relId:a,loc:s,display:o};return i&&(l.Tooltip=i),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Cj},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:cC},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var r=Ij(e);return t.rfx=r.s,t.ref=tj(r.s),e.l+=16,t}},636:{T:-1},637:{f:pj},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:uj(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},ZT={6:{f:HC},10:{f:ON},12:{f:MN},13:{f:MN},14:{f:LN},15:{f:LN},16:{f:Dj},17:{f:LN},18:{f:LN},19:{f:MN},20:{f:yS},21:{f:yS},23:{f:SS},24:{f:NS},25:{f:LN},26:{},27:{},28:{f:function(e,t,r){return function(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=HN(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,i,s]}}(e,0,r)}},29:{},34:{f:LN},35:{f:wS},38:{f:Dj},39:{f:Dj},40:{f:Dj},41:{f:Dj},42:{f:LN},43:{f:LN},47:{f:function(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?uk(e,t-2,n):function(e,t,r,n){var a={key:MN(e),verificationBytes:MN(e)};r.password&&(a.verifier=lk(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=dk(r.password))}(e,r.biff,r,n),n}},49:{f:function(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10}return n.name=UN(e,0,r),n}},51:{f:MN},60:{},61:{f:function(e){return{Pos:[e.read_shift(2),e.read_shift(2)],Dim:[e.read_shift(2),e.read_shift(2)],Flags:e.read_shift(2),CurTab:e.read_shift(2),FirstTab:e.read_shift(2),Selected:e.read_shift(2),TabRatio:e.read_shift(2)}}},64:{f:LN},65:{f:function(){}},66:{f:MN},77:{},80:{},81:{},82:{},85:{f:MN},89:{},90:{},91:{},92:{f:function(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=HN(e,0,r);return e.read_shift(t+n-e.l),a}},93:{f:function(e,t,r){if(r&&r.biff<8)return function(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((CS[n]||Uw)(e,t,r)),{cmo:[a,n,s],ft:i}}(e,t,r);var n=lS(e),a=function(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(dS[a](e,r-e.l))}catch(xJ){return e.l=r,n}}return e.l!=r&&(e.l=r),n}(e,t-22,n[1]);return{cmo:n,ft:a}}},94:{},95:{f:LN},96:{},97:{},99:{f:LN},125:{f:_S},128:{f:function(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}},129:{f:function(e,t,r){var n=r&&8==r.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&n,fBelow:64&n,fRight:128&n}}},130:{f:MN},131:{f:LN},132:{f:LN},133:{f:function(e,t,r){var n=e.read_shift(4),a=3&e.read_shift(1),s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule"}var i=UN(e,0,r);return 0===i.length&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}},134:{},140:{f:function(e){var t,r=[0,0];return t=e.read_shift(2),r[0]=Uj[t]||t,t=e.read_shift(2),r[1]=Uj[t]||t,r}},141:{f:MN},144:{},146:{f:function(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(JN(e));return r}},151:{},152:{},153:{},154:{},155:{},156:{f:MN},157:{},158:{},160:{f:IS},161:{f:function(e,t){var r={};return t<32||(e.l+=16,r.header=Dj(e),r.footer=Dj(e),e.l+=2),r}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(nS(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}},190:{f:function(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}},193:{f:ON},197:{},198:{},199:{},200:{},201:{},202:{f:LN},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:MN},220:{},221:{f:LN},222:{},224:{f:function(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,n.data=function(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=zj[o>>26],n.cellStyles?(a.alc=7&s,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=15&i,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=127&o,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=127&l,a.icvBack=l>>7&127,a.fsxButton=l>>14&1,a):a}(e,0,n.fStyle,r),n}},225:{f:function(e,t){return 0===t||e.read_shift(2),1200}},226:{f:ON},227:{},229:{f:function(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(aS(e));return r}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(zN(e));return s.Count=n,s.Unique=a,s}},253:{f:function(e){var t=eS(e);return t.isst=e.read_shift(4),t}},255:{f:function(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:$N},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:LN},353:{f:ON},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,1025==s||14849==s)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=WN(e,s),o=[];n>e.l;)o.push(qN(e));return[s,a,i,o]}},431:{f:LN},432:{},433:{},434:{},437:{},438:{f:function(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(s)?e.l+=6:function(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}(e);var i=e.read_shift(2);e.read_shift(2),MN(e);var o=e.read_shift(2);e.l+=o;for(var l=1;l<e.lens.length-1;++l){if(e.l-n!=e.lens[l])throw new Error("TxO: bad continue record");var c=e[e.l];if((a+=WN(e,e.lens[l+1]-e.lens[l]-1)).length>=(c?i:2*i))break}if(a.length!==i&&a.length!==2*i)throw new Error("cchText: "+i+" != "+a.length);return e.l=n+t,{t:a}}catch(xJ){return e.l=n+t,{t:a}}}},439:{f:LN},440:{f:function(e,t){var r=aS(e);e.l+=16;var n=function(e,t){var r=e.l+t,n=e.read_shift(4);if(2!==n)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,o,l,c,d,u="";16&a&&(s=YN(e,e.l)),128&a&&(i=YN(e,e.l)),257&~a||(o=YN(e,e.l)),1==(257&a)&&(l=GN(e,e.l)),8&a&&(u=YN(e,e.l)),32&a&&(c=e.read_shift(16)),64&a&&(d=bN(e)),e.l=r;var h=i||o||l||"";h&&u&&(h+="#"+u),h||(h="#"+u),2&a&&"/"==h.charAt(0)&&"/"!=h.charAt(1)&&(h="file://"+h);var m={Target:h};return c&&(m.guid=c),d&&(m.time=d),s&&(m.Tooltip=s),m}(e,t-24);return[r,n]}},441:{},442:{f:qN},443:{},444:{f:MN},445:{},446:{},448:{f:ON},449:{f:function(e){return e.read_shift(2),e.read_shift(4)},r:2},450:{f:ON},512:{f:xS},513:{f:AS},515:{f:function(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5);var n=eS(e),a=Dj(e);return n.val=a,n}},516:{f:function(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5),e.l;var n=eS(e);2==r.biff&&e.l++;var a=qN(e,e.l,r);return n.val=a,n}},517:{f:vS},519:{f:PS},520:{f:function(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,7&n&&(t.level=7&n),32&n&&(t.hidden=!0),64&n&&(t.hpt=r/20),t}},523:{},545:{f:kS},549:{f:fS},566:{},574:{f:function(e,t,r){return r&&r.biff>=2&&r.biff<5?{}:{RTL:64&e.read_shift(2)}}},638:{f:function(e){var t=e.read_shift(2),r=e.read_shift(2),n=nS(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}},659:{},1048:{},1054:{f:function(e,t,r){return[e.read_shift(2),HN(e,0,r)]}},1084:{},1212:{f:function(e,t,r){var n=iS(e);e.l++;var a=e.read_shift(1);return[qC(e,t-=8,r),a,n]}},2048:{f:function(e,t){e.read_shift(2);var r=aS(e),n=e.read_shift((t-10)/2,"dbcs-cont");return[r,n=n.replace(Sb,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:uS},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ON},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t},r:12},2173:{f:function(e,t){e.l,e.l+=2;var r=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),a=[];n-- >0;)a.push(eC(e,e.l));return{ixfe:r,ext:a}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:LN,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2);return[WN(e,n,r),WN(e,a,r)]}e.l+=t},r:12},2197:{},2198:{f:function(e,t,r){var n=e.l+t;if(124226!==e.read_shift(4))if(r.cellStyles){var a,s=e.slice(e.l);e.l=n;try{a=ey(s,{type:"array"})}catch(xJ){return}var i=Kv(a,"theme/theme/theme1.xml",!0);if(i)return Xk(i,r)}else e.l=n},r:12},2199:{},2200:{},2201:{},2202:{f:function(e){return[0!==e.read_shift(4),0!==e.read_shift(4),e.read_shift(4)]},r:12},2203:{f:ON},2204:{},2205:{},2206:{},2207:{},2211:{f:function(e){var t=function(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);return 0!==e.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:MN},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(e,t,r){var n={area:!1};if(5!=r.biff)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,16&a&&(n.area=!0),n}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(JN(e));return r}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:xS},1:{},2:{f:function(e){var t=eS(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}},3:{f:function(e){var t=eS(e);++e.l;var r=Dj(e);return t.t="n",t.val=r,t}},4:{f:function(e,t,r){r.biffguess&&5==r.biff&&(r.biff=2);var n=eS(e);++e.l;var a=HN(e,0,r);return n.t="str",n.val=a,n}},5:{f:vS},7:{f:function(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}},8:{},9:{f:uS},11:{},22:{f:MN},30:{f:gS},31:{},32:{},33:{f:kS},36:{},37:{f:fS},50:{f:function(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}},62:{},52:{},67:{},68:{f:MN},69:{},86:{},126:{},127:{f:function(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(e,t,r){var n=e.l+t,a=eS(e),s=e.read_shift(2),i=WN(e,s,r);return e.l=n,a.t="str",a.val=i,a}},223:{},234:{},354:{},421:{},518:{f:HC},521:{f:uS},536:{f:NS},547:{f:wS},561:{},579:{},1030:{f:HC},1033:{f:uS},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function JT(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&Ew(r)&&e.push(r)}}function e_(e,t,r){return e||(e=zw(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function t_(e,t,r,n){if(null!=t.v)switch(t.t){case"d":case"n":var a="d"==t.t?Tv(Mv(t.v)):t.v;return void(a==(0|a)&&a>=0&&a<65536?JT(e,2,(s=r,i=n,o=a,l=zw(9),e_(l,s,i),l.write_shift(2,o),l)):JT(e,3,function(e,t,r){var n=zw(15);return e_(n,e,t),n.write_shift(8,r,"f"),n}(r,n,a)));case"b":case"e":return void JT(e,5,function(e,t,r,n){var a=zw(9);return e_(a,e,t),BN(r,n||"b",a),a}(r,n,t.v,t.t));case"s":case"str":return void JT(e,4,function(e,t,r){var n=zw(8+2*r.length);return e_(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}(r,n,(t.v||"").slice(0,255)))}var s,i,o,l;JT(e,1,e_(null,r,n))}function r_(e,t){for(var r=t||{},n=Ww(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(0==a&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return JT(n,4==r.biff?1033:3==r.biff?521:9,hS(0,16,r)),function(e,t,r,n){var a,s=Array.isArray(t),i=aj(t["!ref"]||"A1"),o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),a=nj(i)}for(var c=i.s.r;c<=i.e.r;++c){o=Xw(c);for(var d=i.s.c;d<=i.e.c;++d){c===i.s.r&&(l[d]=Jw(d)),a=l[d]+o;var u=s?(t[c]||[])[d]:t[a];u&&t_(e,u,c,d)}}}(n,e.Sheets[e.SheetNames[a]],0,r),JT(n,10),n.end()}function n_(e,t,r){JT(e,49,function(e,t){var r=e.name||"Arial",n=t&&5==t.biff,a=zw(n?15+r.length:16+2*r.length);return a.write_shift(2,20*e.sz),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}({sz:12,name:"Arial"},r))}function a_(e,t){if(t){var r=0;t.forEach(function(t,n){++r<=256&&t&&JT(e,125,function(e,t){var r=zw(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,256*e.width),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}(dE(n,t),n))})}}function s_(e,t,r,n,a){var s=16+hE(a.cellXfs,t,a);if(null!=t.v||t.bf)if(t.bf)JT(e,6,QC(t,r,n,0,s));else switch(t.t){case"d":case"n":JT(e,515,function(e,t,r,n){var a=zw(14);return tS(e,t,n,a),Oj(r,a),a}(r,n,"d"==t.t?Tv(Mv(t.v)):t.v,s));break;case"b":case"e":JT(e,517,function(e,t,r,n,a,s){var i=zw(8);return tS(e,t,n,i),BN(r,s,i),i}(r,n,t.v,s,0,t.t));break;case"s":case"str":if(a.bookSST)JT(e,253,function(e,t,r,n){var a=zw(10);return tS(e,t,n,a),a.write_shift(4,r),a}(r,n,cE(a.Strings,t.v,a.revStrings),s));else JT(e,516,function(e,t,r,n,a){var s=!a||8==a.biff,i=zw(+s+8+(1+s)*r.length);return tS(e,t,n,i),i.write_shift(2,r.length),s&&i.write_shift(1,1),i.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),i}(r,n,(t.v||"").slice(0,255),s,a));break;default:JT(e,513,tS(r,n,s))}else JT(e,513,tS(r,n,s))}function i_(e,t,r){var n,a,s=Ww(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=(r||{}).Workbook||{},c=(l.Sheets||[])[e]||{},d=Array.isArray(o),u=8==t.biff,h="",m=[],f=aj(o["!ref"]||"A1"),p=u?65536:16384;if(f.e.c>255||f.e.r>=p){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,p-1)}JT(s,2057,hS(0,16,t)),JT(s,13,FN(1)),JT(s,12,FN(100)),JT(s,15,RN(!0)),JT(s,17,RN(!1)),JT(s,16,Oj(.001)),JT(s,95,RN(!0)),JT(s,42,RN(!1)),JT(s,43,RN(!1)),JT(s,130,FN(1)),JT(s,128,((a=zw(8)).write_shift(4,0),a.write_shift(2,0),a.write_shift(2,0),a)),JT(s,131,RN(!1)),JT(s,132,RN(!1)),u&&a_(s,o["!cols"]),JT(s,512,function(e,t){var r=8!=t.biff&&t.biff?2:4,n=zw(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}(f,t)),u&&(o["!links"]=[]);for(var g=f.s.r;g<=f.e.r;++g){h=Xw(g);for(var x=f.s.c;x<=f.e.c;++x){g===f.s.r&&(m[x]=Jw(x)),n=m[x]+h;var b=d?(o[g]||[])[x]:o[n];b&&(s_(s,b,g,x,t),u&&b.l&&o["!links"].push([n,b.l]))}}var v=c.CodeName||c.name||i;return u&&JT(s,574,function(e){var t=zw(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((l.Views||[])[0])),u&&(o["!merges"]||[]).length&&JT(s,229,function(e){var t=zw(2+8*e.length);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)sS(e[r],t);return t}(o["!merges"])),u&&function(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];JT(e,440,ES(n)),n[1].Tooltip&&JT(e,2048,TS(n))}delete t["!links"]}(s,o),JT(s,442,QN(v)),u&&function(e,t){var r=zw(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),JT(e,2151,r),(r=zw(39)).write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),sS(aj(t["!ref"]||"A1"),r),r.write_shift(4,4),JT(e,2152,r)}(s,o),JT(s,10),s.end()}function o_(e,t,r){var n,a=Ww(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},l=8==r.biff,c=5==r.biff;(JT(a,2057,hS(0,5,r)),"xla"==r.bookType&&JT(a,135),JT(a,225,l?FN(1200):null),JT(a,193,function(e,t){t||(t=zw(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}(2)),c&&JT(a,191),c&&JT(a,192),JT(a,226),JT(a,92,function(e,t){var r=!t||8==t.biff,n=zw(r?112:54);for(n.write_shift(8==t.biff?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}(0,r)),JT(a,66,FN(l?1200:1252)),l&&JT(a,353,FN(0)),l&&JT(a,448),JT(a,317,function(e){for(var t=zw(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}(e.SheetNames.length)),l&&e.vbaraw&&JT(a,211),l&&e.vbaraw)&&JT(a,442,QN(o.CodeName||"ThisWorkbook"));JT(a,156,FN(17)),JT(a,25,RN(!1)),JT(a,18,RN(!1)),JT(a,19,FN(0)),l&&JT(a,431,RN(!1)),l&&JT(a,444,FN(0)),JT(a,61,((n=zw(18)).write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n)),JT(a,64,RN(!1)),JT(a,141,FN(0)),JT(a,34,RN("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&yy(e.Workbook.WBProps.date1904)?"true":"false"}(e))),JT(a,14,RN(!0)),l&&JT(a,439,RN(!1)),JT(a,218,FN(0)),n_(a,0,r),function(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)null!=t[a]&&JT(e,1054,pS(a,t[a],r))})}(a,e.SSF,r),function(e,t){for(var r=0;r<16;++r)JT(e,224,bS({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){JT(e,224,bS(r,0,t))})}(a,r),l&&JT(a,352,RN(!1));var d=a.end(),u=Ww();l&&JT(u,140,function(e){return e||(e=zw(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),l&&r.Strings&&function(e,t,r){var n=(r||[]).length||0;if(n<=8224)return JT(e,t,r,n);var a=t;if(!isNaN(a)){for(var s=r.parts||[],i=0,o=0,l=0;l+(s[i]||8224)<=8224;)l+=s[i]||8224,i++;var c=e.next(4);for(c.write_shift(2,a),c.write_shift(2,l),e.push(r.slice(o,o+l)),o+=l;o<n;){for((c=e.next(4)).write_shift(2,60),l=0;l+(s[i]||8224)<=8224;)l+=s[i]||8224,i++;c.write_shift(2,l),e.push(r.slice(o,o+l)),o+=l}}}(u,252,function(e){var t=zw(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var r=[],n=0;n<e.length;++n)r[n]=VN(e[n]);var a=Nb([t].concat(r));return a.parts=[t.length].concat(r.map(function(e){return e.length})),a}(r.Strings)),JT(u,10);var h=u.end(),m=Ww(),f=0,p=0;for(p=0;p<e.SheetNames.length;++p)f+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var g=d.length+f+h.length;for(p=0;p<e.SheetNames.length;++p){JT(m,133,mS({pos:g,hs:(i[p]||{}).Hidden||0,dt:0,name:e.SheetNames[p]},r)),g+=t[p].length}var x=m.end();if(f!=x.length)throw new Error("BS8 "+f+" != "+x.length);var b=[];return d.length&&b.push(d),x.length&&b.push(x),h.length&&b.push(h),Nb(b)}function l_(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(n&&n["!ref"])rj(n["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}var a=t||{};switch(a.biff||2){case 8:case 5:return function(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=$v(Lb)),e&&e.SSF&&(gv(),pv(e.SSF),r.revssf=Cv(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Z_(r),r.cellXfs=[],hE(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=i_(a,r,e);return n.unshift(o_(e,n,r)),Nb(n)}(e,t);case 4:case 3:case 2:return r_(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function c_(e,t){var r=t||{},n=r.dense?[]:{},a=(e=e.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,l=Wv(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,u=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},f=[];for(i=0;i<l.length;++i){var p=l[i].trim(),g=p.slice(0,3).toLowerCase();if("<tr"!=g){if("<td"==g||"<th"==g){var x=p.split(/<\/t[dh]>/i);for(o=0;o<x.length;++o){var b=x[o].trim();if(b.match(/<t[dh]/i)){for(var v=b,y=0;"<"==v.charAt(0)&&(y=v.indexOf(">"))>-1;)v=v.slice(y+1);for(var w=0;w<f.length;++w){var j=f[w];j.s.c==d&&j.s.r<c&&c<=j.e.r&&(d=j.e.c+1,w=-1)}var N=ly(b.slice(0,b.indexOf(">")));h=N.colspan?+N.colspan:1,((u=+N.rowspan)>1||h>1)&&f.push({s:{r:c,c:d},e:{r:c+(u||1)-1,c:d+h-1}});var S=N.t||N["data-t"]||"";if(v.length)if(v=Ty(v),m.s.r>c&&(m.s.r=c),m.e.r<c&&(m.e.r=c),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),v.length){var k={t:"s",v:v};r.raw||!v.trim().length||"s"==S||("TRUE"===v?k={t:"b",v:!0}:"FALSE"===v?k={t:"b",v:!1}:isNaN(Uv(v))?isNaN(Vv(v).getDate())||(k={t:"d",v:Mv(v)},r.cellDates||(k={t:"n",v:Tv(k.v)}),k.z=r.dateNF||Lb[14]):k={t:"n",v:Uv(v)}),r.dense?(n[c]||(n[c]=[]),n[c][d]=k):n[tj({r:c,c:d})]=k,d+=h}else d+=h;else d+=h}}}}else{if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}d=0}}return n["!ref"]=nj(m),f.length&&(n["!merges"]=f),n}function d_(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>i||a[c].e.r<r||a[c].e.c<i)){if(a[c].s.r<r||a[c].s.c<i){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var d=tj({r:r,c:i}),u=n.dense?(e[r]||[])[i]:e[d],h=u&&null!=u.v&&(u.h||by(u.w||(ij(u),u.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":u&&(m["data-t"]=u&&u.t||"z",null!=u.v&&(m["data-v"]=u.v),null!=u.z&&(m["data-z"]=u.z),u.l&&"#"!=(u.l.Target||"#").charAt(0)&&(h='<a href="'+u.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(Ry("td",h,m))}}return"<tr>"+s.join("")+"</tr>"}function u_(e,t){var r=t||{},n=null!=r.header?r.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',a=null!=r.footer?r.footer:"</body></html>",s=[n],i=rj(e["!ref"]);r.dense=Array.isArray(e),s.push(function(e,t,r){return[].join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}(0,0,r));for(var o=i.s.r;o<=i.e.r;++o)s.push(d_(e,i,o,r));return s.push("</table>"+a),s.join("")}function h_(e,t,r){var n=r||{},a=0,s=0;if(null!=n.origin)if("number"==typeof n.origin)a=n.origin;else{var i="string"==typeof n.origin?ej(n.origin):n.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=rj(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),-1==a&&(c.e.r=a=d.e.r+1)}var u=[],h=0,m=e["!rows"]||(e["!rows"]=[]),f=0,p=0,g=0,x=0,b=0,v=0;for(e["!cols"]||(e["!cols"]=[]);f<o.length&&p<l;++f){var y=o[f];if(f_(y)){if(n.display)continue;m[p]={hidden:!0}}var w=y.children;for(g=x=0;g<w.length;++g){var j=w[g];if(!n.display||!f_(j)){var N=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):Ty(j.innerHTML),S=j.getAttribute("data-z")||j.getAttribute("z");for(h=0;h<u.length;++h){var k=u[h];k.s.c==x+s&&k.s.r<p+a&&p+a<=k.e.r&&(x=k.e.c+1-s,h=-1)}v=+j.getAttribute("colspan")||1,((b=+j.getAttribute("rowspan")||1)>1||v>1)&&u.push({s:{r:p+a,c:x+s},e:{r:p+a+(b||1)-1,c:x+s+(v||1)-1}});var C={t:"s",v:N},E=j.getAttribute("data-t")||j.getAttribute("t")||"";null!=N&&(0==N.length?C.t=E||"z":n.raw||0==N.trim().length||"s"==E||("TRUE"===N?C={t:"b",v:!0}:"FALSE"===N?C={t:"b",v:!1}:isNaN(Uv(N))?isNaN(Vv(N).getDate())||(C={t:"d",v:Mv(N)},n.cellDates||(C={t:"n",v:Tv(C.v)}),C.z=n.dateNF||Lb[14]):C={t:"n",v:Uv(N)})),void 0===C.z&&null!=S&&(C.z=S);var T="",_=j.getElementsByTagName("A");if(_&&_.length)for(var A=0;A<_.length&&(!_[A].hasAttribute("href")||"#"==(T=_[A].getAttribute("href")).charAt(0));++A);T&&"#"!=T.charAt(0)&&(C.l={Target:T}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][x+s]=C):e[tj({c:x+s,r:p+a})]=C,c.e.c<x+s&&(c.e.c=x+s),x+=v}}++p}return u.length&&(e["!merges"]=(e["!merges"]||[]).concat(u)),c.e.r=Math.max(c.e.r,p-1+a),e["!ref"]=nj(c),p>=l&&(e["!fullref"]=nj((c.e.r=o.length-f+p-1+a,c))),e}function m_(e,t){return h_((t||{}).dense?[]:{},e,t)}function f_(e){var t="",r=function(e){return e.ownerDocument.defaultView&&"function"==typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}function p_(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(e,t){return Array(parseInt(t,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");return[hy(t.replace(/<[^>]*>/g,""))]}var g_={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function x_(e,t){var r,n,a,s,i,o,l=t||{},c=Fy(e),d=[],u={name:""},h="",m=0,f={},p=[],g=l.dense?[]:{},x={value:""},b="",v=0,y=[],w=-1,j=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},S=0,k={},C=[],E={},T=[],_=1,A=1,I=[],P={Names:[]},D={},O=["",""],L=[],R={},M="",F=0,$=!1,B=!1,U=0;for($y.lastIndex=0,c=c.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");i=$y.exec(c);)switch(i[3]=i[3].replace(/_.*$/,"")){case"table":case"":"/"===i[1]?(N.e.c>=N.s.c&&N.e.r>=N.s.r?g["!ref"]=nj(N):g["!ref"]="A1:A1",l.sheetRows>0&&l.sheetRows<=N.e.r&&(g["!fullref"]=g["!ref"],N.e.r=l.sheetRows-1,g["!ref"]=nj(N)),C.length&&(g["!merges"]=C),T.length&&(g["!rows"]=T),a.name=a[""]||a.name,"undefined"!=typeof JSON&&JSON.stringify(a),p.push(a.name),f[a.name]=g,B=!1):"/"!==i[0].charAt(i[0].length-2)&&(a=ly(i[0],!1),w=j=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,g=l.dense?[]:{},C=[],T=[],B=!0);break;case"table-row-group":"/"===i[1]?--S:++S;break;case"table-row":case"":if("/"===i[1]){w+=_,_=1;break}if((s=ly(i[0],!1))[""]?w=s[""]-1:-1==w&&(w=0),(_=+s["number-rows-repeated"]||1)<10)for(U=0;U<_;++U)S>0&&(T[w+U]={level:S});j=-1;break;case"covered-table-cell":"/"!==i[1]&&++j,l.sheetStubs&&(l.dense?(g[w]||(g[w]=[]),g[w][j]={t:"z"}):g[tj({r:w,c:j})]={t:"z"}),b="",y=[];break;case"table-cell":case"":if("/"===i[0].charAt(i[0].length-2))++j,x=ly(i[0],!1),A=parseInt(x["number-columns-repeated"]||"1",10),o={t:"z",v:null},x.formula&&0!=l.cellFormula&&(o.f=rE(hy(x.formula))),"string"==(x[""]||x["value-type"])&&(o.t="s",o.v=hy(x["string-value"]||""),l.dense?(g[w]||(g[w]=[]),g[w][j]=o):g[tj({r:w,c:j})]=o),j+=A-1;else if("/"!==i[1]){b="",v=0,y=[],A=1;var z=_?w+_-1:w;if(++j>N.e.c&&(N.e.c=j),j<N.s.c&&(N.s.c=j),w<N.s.r&&(N.s.r=w),z>N.e.r&&(N.e.r=z),L=[],R={},o={t:(x=ly(i[0],!1))[""]||x["value-type"],v:null},l.cellFormula)if(x.formula&&(x.formula=hy(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(E={s:{r:w,c:j},e:{r:w+(parseInt(x["number-matrix-rows-spanned"],10)||0)-1,c:j+(parseInt(x["number-matrix-columns-spanned"],10)||0)-1}},o.F=nj(E),I.push([E,o.F])),x.formula)o.f=rE(x.formula);else for(U=0;U<I.length;++U)w>=I[U][0].s.r&&w<=I[U][0].e.r&&j>=I[U][0].s.c&&j<=I[U][0].e.c&&(o.F=I[U][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(E={s:{r:w,c:j},e:{r:w+(parseInt(x["number-rows-spanned"],10)||0)-1,c:j+(parseInt(x["number-columns-spanned"],10)||0)-1}},C.push(E)),x["number-columns-repeated"]&&(A=parseInt(x["number-columns-repeated"],10)),o.t){case"boolean":o.t="b",o.v=yy(x["boolean-value"]);break;case"float":case"percentage":case"currency":o.t="n",o.v=parseFloat(x.value);break;case"date":o.t="d",o.v=Mv(x["date-value"]),l.cellDates||(o.t="n",o.v=Tv(o.v)),o.z="m/d/yy";break;case"time":o.t="n",o.v=Dv(x["time-value"])/86400,l.cellDates&&(o.t="d",o.v=Pv(o.v)),o.z="HH:MM:SS";break;case"number":o.t="n",o.v=parseFloat(x[""]);break;default:if("string"!==o.t&&"text"!==o.t&&o.t)throw new Error("Unsupported value type "+o.t);o.t="s",null!=x["string-value"]&&(b=hy(x["string-value"]),y=[])}}else{if($=!1,"s"===o.t&&(o.v=b||"",y.length&&(o.R=y),$=0==v),D.Target&&(o.l=D),L.length>0&&(o.c=L,L=[]),b&&!1!==l.cellText&&(o.w=b),$&&(o.t="z",delete o.v),(!$||l.sheetStubs)&&!(l.sheetRows&&l.sheetRows<=w))for(var V=0;V<_;++V){if(A=parseInt(x["number-columns-repeated"]||"1",10),l.dense)for(g[w+V]||(g[w+V]=[]),g[w+V][j]=0==V?o:$v(o);--A>0;)g[w+V][j+A]=$v(o);else for(g[tj({r:w+V,c:j})]=o;--A>0;)g[tj({r:w+V,c:j+A})]=$v(o);N.e.c<=j&&(N.e.c=j)}j+=(A=parseInt(x["number-columns-repeated"]||"1",10))-1,A=0,o={},b="",y=[]}D={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===i[1]){if((r=d.pop())[0]!==i[3])throw"Bad state: "+r}else"/"!==i[0].charAt(i[0].length-2)&&d.push([i[3],!0]);break;case"annotation":if("/"===i[1]){if((r=d.pop())[0]!==i[3])throw"Bad state: "+r;R.t=b,y.length&&(R.R=y),R.a=M,L.push(R)}else"/"!==i[0].charAt(i[0].length-2)&&d.push([i[3],!1]);M="",F=0,b="",v=0,y=[];break;case"creator":"/"===i[1]?M=c.slice(F,i.index):F=i.index+i[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===i[1]){if((r=d.pop())[0]!==i[3])throw"Bad state: "+r}else"/"!==i[0].charAt(i[0].length-2)&&d.push([i[3],!1]);b="",v=0,y=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===i[1]){if(k[u.name]=h,(r=d.pop())[0]!==i[3])throw"Bad state: "+r}else"/"!==i[0].charAt(i[0].length-2)&&(h="",u=ly(i[0],!1),d.push([i[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(d[d.length-1][0]){case"time-style":case"date-style":n=ly(i[0],!1),h+=g_[i[3]]["long"===n.style?1:0]}break;case"text":if("/>"===i[0].slice(-2))break;if("/"===i[1])switch(d[d.length-1][0]){case"number-style":case"date-style":case"time-style":h+=c.slice(m,i.index)}else m=i.index+i[0].length;break;case"named-range":O=aE((n=ly(i[0],!1))["cell-range-address"]);var W={Name:n.name,Ref:O[0]+"!"+O[1]};B&&(W.Sheet=p.length),P.Names.push(W);break;case"p":case"":if(["master-styles"].indexOf(d[d.length-1][0])>-1)break;if("/"!==i[1]||x&&x["string-value"])ly(i[0],!1),v=i.index+i[0].length;else{var q=p_(c.slice(v,i.index));b=(b.length>0?b+"\n":"")+q[0]}break;case"database-range":if("/"===i[1])break;try{f[(O=aE(ly(i[0])["target-range-address"]))[0]]["!autofilter"]={ref:O[1]}}catch(xJ){}break;case"a":if("/"!==i[1]){if(!(D=ly(i[0],!1)).href)break;D.Target=hy(D.href),delete D.href,"#"==D.Target.charAt(0)&&D.Target.indexOf(".")>-1?(O=aE(D.Target.slice(1)),D.Target="#"+O[0]+"!"+O[1]):D.Target.match(/^\.\.[\\\/]/)&&(D.Target=D.Target.slice(3))}break;default:switch(i[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(l.WTF)throw new Error(i)}}var H={Sheets:f,SheetNames:p,Workbook:P};return l.bookSheets&&delete H.Sheets,H}function b_(e,t){t=t||{},Qv(e,"META-INF/manifest.xml")&&function(e,t){for(var r,n,a=Fy(e);r=$y.exec(a);)switch(r[3]){case"manifest":break;case"file-entry":if("/"==(n=ly(r[0],!1)).path&&"application/vnd.oasis.opendocument.spreadsheet"!==n.type)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}(Yv(e,"META-INF/manifest.xml"),t);var r=Kv(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=x_(ky(r),t);return Qv(e,"meta.xml")&&(n.Props=iN(Yv(e,"meta.xml"))),n}function v_(e,t){return x_(e,t)}var y_=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Ly({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return ry+t}}(),w_=function(){var e=function(e){return py(e).replace(/  +/g,function(e){return'<text:s text:c="'+e.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",r=function(r,n,a){var s=[];s.push('      <table:table table:name="'+py(n.SheetNames[a])+'" table:style-name="ta1">\n');var i=0,o=0,l=rj(r["!ref"]||"A1"),c=r["!merges"]||[],d=0,u=Array.isArray(r);if(r["!cols"])for(o=0;o<=l.e.c;++o)s.push("        <table:table-column"+(r["!cols"][o]?' table:style-name="co'+r["!cols"][o].ods+'"':"")+"></table:table-column>\n");var h="",m=r["!rows"]||[];for(i=0;i<l.s.r;++i)h=m[i]?' table:style-name="ro'+m[i].ods+'"':"",s.push("        <table:table-row"+h+"></table:table-row>\n");for(;i<=l.e.r;++i){for(h=m[i]?' table:style-name="ro'+m[i].ods+'"':"",s.push("        <table:table-row"+h+">\n"),o=0;o<l.s.c;++o)s.push(t);for(;o<=l.e.c;++o){var f=!1,p={},g="";for(d=0;d!=c.length;++d)if(!(c[d].s.c>o||c[d].s.r>i||c[d].e.c<o||c[d].e.r<i)){c[d].s.c==o&&c[d].s.r==i||(f=!0),p["table:number-columns-spanned"]=c[d].e.c-c[d].s.c+1,p["table:number-rows-spanned"]=c[d].e.r-c[d].s.r+1;break}if(f)s.push("          <table:covered-table-cell/>\n");else{var x=tj({r:i,c:o}),b=u?(r[i]||[])[o]:r[x];if(b&&b.f&&(p["table:formula"]=py(nE(b.f)),b.F&&b.F.slice(0,x.length)==x)){var v=rj(b.F);p["table:number-matrix-columns-spanned"]=v.e.c-v.s.c+1,p["table:number-matrix-rows-spanned"]=v.e.r-v.s.r+1}if(b){switch(b.t){case"b":g=b.v?"TRUE":"FALSE",p["office:value-type"]="boolean",p["office:boolean-value"]=b.v?"true":"false";break;case"n":g=b.w||String(b.v||0),p["office:value-type"]="float",p["office:value"]=b.v||0;break;case"s":case"str":g=null==b.v?"":b.v,p["office:value-type"]="string";break;case"d":g=b.w||Mv(b.v).toISOString(),p["office:value-type"]="date",p["office:date-value"]=Mv(b.v).toISOString(),p["table:style-name"]="ce1";break;default:s.push(t);continue}var y=e(g);if(b.l&&b.l.Target){var w=b.l.Target;"#"==(w="#"==w.charAt(0)?"#"+sE(w.slice(1)):w).charAt(0)||w.match(/^\w+:/)||(w="../"+w),y=Ry("text:a",y,{"xlink:href":w.replace(/&/g,"&amp;")})}s.push("          "+Ry("table:table-cell",Ry("text:p",y,{}),p)+"\n")}else s.push(t)}}s.push("        </table:table-row>\n")}return s.push("      </table:table>\n"),s.join("")};return function(e,t){var n=[ry],a=Ly({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),s=Ly({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?(n.push("<office:document"+a+s+">\n"),n.push(nN().replace(/office:document-meta/g,"office:meta"))):n.push("<office:document-content"+a+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var r=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!cols"])for(var n=0;n<t["!cols"].length;++n)if(t["!cols"][n]){var a=t["!cols"][n];if(null==a.width&&null==a.wpx&&null==a.wch)continue;wk(a),a.ods=r;var s=t["!cols"][n].wpx+"px";e.push('  <style:style style:name="co'+r+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+s+'"/>\n'),e.push("  </style:style>\n"),++r}});var n=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!rows"])for(var r=0;r<t["!rows"].length;++r)if(t["!rows"][r]){t["!rows"][r].ods=n;var a=t["!rows"][r].hpx+"px";e.push('  <style:style style:name="ro'+n+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+a+'"/>\n'),e.push("  </style:style>\n"),++n}}),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(n,e),n.push("  <office:body>\n"),n.push("    <office:spreadsheet>\n");for(var i=0;i!=e.SheetNames.length;++i)n.push(r(e.Sheets[e.SheetNames[i]],e,i));return n.push("    </office:spreadsheet>\n"),n.push("  </office:body>\n"),"fods"==t.bookType?n.push("</office:document>"):n.push("</office:document-content>"),n.join("")}}();function j_(e,t){if("fods"==t.bookType)return w_(e,t);var r=Jv(),n="",a=[],s=[];return Zv(r,n="mimetype","application/vnd.oasis.opendocument.spreadsheet"),Zv(r,n="content.xml",w_(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),Zv(r,n="styles.xml",y_(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),Zv(r,n="meta.xml",ry+nN()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),Zv(r,n="manifest.rdf",function(e){var t=[ry];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var r=0;r!=e.length;++r)t.push(tN(e[r][0],e[r][1])),t.push(rN("",e[r][0]));return t.push(tN("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(s)),a.push([n,"application/rdf+xml"]),Zv(r,n="META-INF/manifest.xml",function(e){var t=[ry];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(a)),r}
/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function N_(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function S_(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):ky(wb(e))}function k_(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):vb(Cy(e))}function C_(e){var t=e.reduce(function(e,t){return e+t.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(e){r.set(e,n),n+=e.length}),r}function E_(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>>24}function T_(e,t){var r=t?t[0]:0,n=127&e[r];e:if(e[r++]>=128){if(n|=(127&e[r])<<7,e[r++]<128)break e;if(n|=(127&e[r])<<14,e[r++]<128)break e;if(n|=(127&e[r])<<21,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,28),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,35),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,42),++r,e[r++]<128)break e}return t&&(t[0]=r),n}function __(e){var t=new Uint8Array(7);t[0]=127&e;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383)break e;if(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)break e;if(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)break e;if(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)break e;if(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103)break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function A_(e){var t=0,r=127&e[t];e:if(e[t++]>=128){if(r|=(127&e[t])<<7,e[t++]<128)break e;if(r|=(127&e[t])<<14,e[t++]<128)break e;if(r|=(127&e[t])<<21,e[t++]<128)break e;r|=(127&e[t])<<28}return r}function I_(e){for(var t=[],r=[0];r[0]<e.length;){var n,a=r[0],s=T_(e,r),i=7&s,o=0;if(0==(s=Math.floor(s/8)))break;switch(i){case 0:for(var l=r[0];e[r[0]++]>=128;);n=e.slice(l,r[0]);break;case 5:o=4,n=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,n=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=T_(e,r),n=e.slice(r[0],r[0]+o),r[0]+=o;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var c={data:n,type:i};null==t[s]?t[s]=[c]:t[s].push(c)}return t}function P_(e){var t=[];return e.forEach(function(e,r){e.forEach(function(e){e.data&&(t.push(__(8*r+e.type)),2==e.type&&t.push(__(e.data.length)),t.push(e.data))})}),C_(t)}function D_(e,t){return(null==e?void 0:e.map(function(e){return t(e.data)}))||[]}function O_(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=T_(e,n),s=I_(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:A_(s[1][0].data),messages:[]};s[2].forEach(function(t){var r=I_(t.data),a=A_(r[3][0].data);i.messages.push({meta:r,data:e.slice(n[0],n[0]+a)}),n[0]+=a}),(null==(t=s[3])?void 0:t[0])&&(i.merge=A_(s[3][0].data)>>>0>0),r.push(i)}return r}function L_(e){var t=[];return e.forEach(function(e){var r=[];r[1]=[{data:__(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:__(+!!e.merge),type:0}]);var n=[];e.messages.forEach(function(e){n.push(e.data),e.meta[3]=[{type:0,data:__(e.data.length)}],r[2].push({data:P_(e.meta),type:2})});var a=P_(r);t.push(__(a.length)),t.push(a),n.forEach(function(e){return t.push(e)})}),C_(t)}function R_(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=T_(t,r),a=[];r[0]<t.length;){var s=3&t[r[0]];if(0!=s){var i=0,o=0;if(1==s?(o=4+(t[r[0]]>>2&7),i=(224&t[r[0]++])<<3,i|=t[r[0]++]):(o=1+(t[r[0]++]>>2),2==s?(i=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(i=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[C_(a)],0==i)throw new Error("Invalid offset 0");if(i>a[0].length)throw new Error("Invalid offset beyond length");if(o>=i)for(a.push(a[0].slice(-i)),o-=i;o>=a[a.length-1].length;)a.push(a[a.length-1]),o-=a[a.length-1].length;a.push(a[0].slice(-i,-i+o))}else{var l=t[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[r[0]],c>1&&(l|=t[r[0]+1]<<8),c>2&&(l|=t[r[0]+2]<<16),c>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}a.push(t.slice(r[0],r[0]+l)),r[0]+=l}}var d=C_(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function M_(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(R_(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return C_(t)}function F_(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=__(n),i=s.length;t.push(s),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,a[0]=0,a[1]=255&i,a[2]=i>>8&255,a[3]=i>>16&255,r+=n}return C_(t)}function $_(e,t,r){var n,a=N_(e),s=a.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);switch(1&s&&(c=function(e,t){for(var r=(127&e[t+15])<<7|e[t+14]>>1,n=1&e[t+14],a=t+13;a>=t;--a)n=256*n+e[a];return(128&e[t+15]?-n:n)*Math.pow(10,r-6176)}(e,i),i+=16),2&s&&(d=a.getFloat64(i,!0),i+=8),4&s&&(u.setTime(u.getTime()+1e3*a.getFloat64(i,!0)),i+=8),8&s&&(l=a.getUint32(i,!0),i+=4),16&s&&(o=a.getUint32(i,!0),i+=4),e[1]){case 0:break;case 2:case 10:n={t:"n",v:c};break;case 3:n={t:"s",v:t[l]};break;case 5:n={t:"d",v:u};break;case 6:n={t:"b",v:d>0};break;case 7:n={t:"n",v:d/86400};break;case 8:n={t:"e",v:0};break;case 9:if(!(o>-1))throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&s," : ").concat(e.slice(0,4)));n={t:"s",v:r[o]};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&s," : ").concat(e.slice(0,4)))}return n}function B_(e,t){var r=new Uint8Array(32),n=N_(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,function(e,t,r){var n=Math.floor(0==r?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(127&n)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=255&a;e[t+15]|=r>=0?0:128}(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function U_(e,t){var r=new Uint8Array(32),n=N_(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function z_(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return function(e,t,r,n){var a,s=N_(e),i=s.getUint32(4,!0),o=(n>1?12:8)+4*E_(i&(n>1?3470:398)),l=-1,c=-1,d=NaN,u=new Date(2001,0,1);switch(512&i&&(l=s.getUint32(o,!0),o+=4),o+=4*E_(i&(n>1?12288:4096)),16&i&&(c=s.getUint32(o,!0),o+=4),32&i&&(d=s.getFloat64(o,!0),o+=8),64&i&&(u.setTime(u.getTime()+1e3*s.getFloat64(o,!0)),o+=8),e[2]){case 0:break;case 2:a={t:"n",v:d};break;case 3:a={t:"s",v:t[c]};break;case 5:a={t:"d",v:u};break;case 6:a={t:"b",v:d>0};break;case 7:a={t:"n",v:d/86400};break;case 8:a={t:"e",v:0};break;case 9:if(l>-1)a={t:"s",v:r[l]};else if(c>-1)a={t:"s",v:t[c]};else{if(isNaN(d))throw new Error("Unsupported cell type ".concat(e.slice(0,4)));a={t:"n",v:d}}break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return a}(e,t,r,e[0]);case 5:return $_(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function V_(e){return T_(I_(e)[1][0].data)}function W_(e,t){var r=I_(t.data),n=A_(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(t){var r=I_(t.data),a=A_(r[1][0].data)>>>0;switch(n){case 1:s[a]=S_(r[3][0].data);break;case 8:var i=I_(e[V_(r[9][0].data)][0].data),o=e[V_(i[1][0].data)][0],l=A_(o.meta[1][0].data);if(2001!=l)throw new Error("2000 unexpected reference to ".concat(l));var c=I_(o.data);s[a]=c[3].map(function(e){return S_(e.data)}).join("")}}),s}function q_(e,t){var r,n=I_(t.data),a=(null==(r=null==n?void 0:n[7])?void 0:r[0])?A_(n[7][0].data)>>>0>0?1:0:-1,s=D_(n[5],function(e){return function(e,t){var r,n,a,s,i,o,l,c,d,u,h,m,f,p,g,x,b=I_(e),v=A_(b[1][0].data)>>>0,y=A_(b[2][0].data)>>>0,w=(null==(n=null==(r=b[8])?void 0:r[0])?void 0:n.data)&&A_(b[8][0].data)>0||!1;if((null==(s=null==(a=b[7])?void 0:a[0])?void 0:s.data)&&0!=t)g=null==(o=null==(i=b[7])?void 0:i[0])?void 0:o.data,x=null==(c=null==(l=b[6])?void 0:l[0])?void 0:c.data;else{if(!(null==(u=null==(d=b[4])?void 0:d[0])?void 0:u.data)||1==t)throw"NUMBERS Tile missing ".concat(t," cell storage");g=null==(m=null==(h=b[4])?void 0:h[0])?void 0:m.data,x=null==(p=null==(f=b[3])?void 0:f[0])?void 0:p.data}for(var j=w?4:1,N=N_(g),S=[],k=0;k<g.length/2;++k){var C=N.getUint16(2*k,!0);C<65535&&S.push([k,C])}if(S.length!=y)throw"Expected ".concat(y," cells, found ").concat(S.length);var E=[];for(k=0;k<S.length-1;++k)E[S[k][0]]=x.subarray(S[k][1]*j,S[k+1][1]*j);return S.length>=1&&(E[S[S.length-1][0]]=x.subarray(S[S.length-1][1]*j)),{R:v,cells:E}}(e,a)});return{nrows:A_(n[4][0].data)>>>0,data:s.reduce(function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach(function(r,n){if(e[t.R][n])throw new Error("Duplicate cell r=".concat(t.R," c=").concat(n));e[t.R][n]=r}),e},[])}}function H_(e,t){var r={"!ref":"A1"},n=e[V_(I_(t.data)[2][0].data)],a=A_(n[0].meta[1][0].data);if(6001!=a)throw new Error("6000 unexpected reference to ".concat(a));return function(e,t,r){var n,a=I_(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(A_(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(A_(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=nj(s);var i=I_(a[4][0].data),o=W_(e,e[V_(i[4][0].data)][0]),l=(null==(n=i[17])?void 0:n[0])?W_(e,e[V_(i[17][0].data)][0]):[],c=I_(i[3][0].data),d=0;c[1].forEach(function(t){var n=I_(t.data),a=e[V_(n[2][0].data)][0],s=A_(a.meta[1][0].data);if(6002!=s)throw new Error("6001 unexpected reference to ".concat(s));var i=q_(0,a);i.data.forEach(function(e,t){e.forEach(function(e,n){var a=tj({r:d+t,c:n}),s=z_(e,o,l);s&&(r[a]=s)})}),d+=i.nrows})}(e,n[0],r),r}function Q_(e,t){var r={SheetNames:[],Sheets:{}};if(D_(I_(t.data)[1],V_).forEach(function(t){e[t].forEach(function(t){if(2==A_(t.meta[1][0].data)){var n=function(e,t){var r,n=I_(t.data),a={name:(null==(r=n[1])?void 0:r[0])?S_(n[1][0].data):"",sheets:[]};return D_(n[2],V_).forEach(function(t){e[t].forEach(function(t){6e3==A_(t.meta[1][0].data)&&a.sheets.push(H_(e,t))})}),a}(e,t);n.sheets.forEach(function(e,t){NA(r,e,0==t?n.name:n.name+"_"+t,!0)})}})}),0==r.SheetNames.length)throw new Error("Empty NUMBERS file");return r}function G_(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(e){if(e.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(e){if(e.name.match(/\.iwa$/)){var t,r;try{t=M_(e.content)}catch(xJ){return console.log("?? "+e.content.length+" "+(xJ.message||xJ))}try{r=O_(t)}catch(xJ){return console.log("## "+(xJ.message||xJ))}r.forEach(function(e){s[e.id]=e.messages,i.push(e.id)})}}),!i.length)throw new Error("File has no messages");var o=(null==(a=null==(n=null==(r=null==(t=null==s?void 0:s[1])?void 0:t[0])?void 0:r.meta)?void 0:n[1])?void 0:a[0].data)&&1==A_(s[1][0].meta[1][0].data)&&s[1][0];if(o||i.forEach(function(e){s[e].forEach(function(e){if(1==A_(e.meta[1][0].data)>>>0){if(o)throw new Error("Document has multiple roots");o=e}})}),!o)throw new Error("Cannot find Document root");return Q_(s,o)}function Y_(e,t,r){var n,a,s,i;if(!(null==(n=e[6])?void 0:n[0])||!(null==(a=e[7])?void 0:a[0]))throw"Mutation only works on post-BNC storages!";if((null==(i=null==(s=e[8])?void 0:s[0])?void 0:i.data)&&A_(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var o=0,l=N_(e[7][0].data),c=0,d=[],u=N_(e[4][0].data),h=0,m=[],f=0;f<t.length;++f)if(null!=t[f]){var p,g;switch(l.setUint16(2*f,c,!0),u.setUint16(2*f,h,!0),typeof t[f]){case"string":p=B_({t:"s",v:t[f]},r),g=U_({t:"s",v:t[f]},r);break;case"number":p=B_({t:"n",v:t[f]},r),g=U_({t:"n",v:t[f]},r);break;case"boolean":p=B_({t:"b",v:t[f]},r),g=U_({t:"b",v:t[f]},r);break;default:throw new Error("Unsupported value "+t[f])}d.push(p),c+=p.length,m.push(g),h+=g.length,++o}else l.setUint16(2*f,65535,!0),u.setUint16(2*f,65535);for(e[2][0].data=__(o);f<e[7][0].data.length/2;++f)l.setUint16(2*f,65535,!0),u.setUint16(2*f,65535,!0);return e[6][0].data=C_(d),e[3][0].data=C_(m),o}function K_(e){return function(t){for(var r=0;r!=e.length;++r){var n=e[r];void 0===t[n[0]]&&(t[n[0]]=n[1]),"n"===n[2]&&(t[n[0]]=Number(t[n[0]]))}}}function X_(e){K_([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Z_(e){K_([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function J_(e,t,r,n,a,s,i,o,l,c,d,u){try{s[n]=Zj(Kv(e,r,!0),t);var h,m=Yv(e,t);switch(o){case"sheet":h=hT(m,t,a,l,s[n],c,d,u);break;case"chart":if(!(h=mT(m,t,a,l,s[n],c))||!h["!drawel"])break;var f=ty(h["!drawel"].Target,t),p=Xj(f),g=function(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}(Kv(e,f,!0),Zj(Kv(e,p,!0),f)),x=ty(g,f),b=Xj(x);h=GE(Kv(e,x,!0),0,0,Zj(Kv(e,b,!0),x),0,h);break;case"macro":y=t,s[n],y.slice(-4),h={"!type":"macro"};break;case"dialog":h=function(e,t){return t.slice(-4),{"!type":"dialog"}}(0,t,0,0,s[n]);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=h;var v=[];s&&s[n]&&Nv(s[n]).forEach(function(r){var a="";if(s[n][r].Type==Kj.CMNT){a=ty(s[n][r].Target,t);var i=gT(Yv(e,a,!0),a,l);if(!i||!i.length)return;iC(h,i,!1)}s[n][r].Type==Kj.TCMNT&&(a=ty(s[n][r].Target,t),v=v.concat(function(e,t){var r=[],n=!1,a={},s=0;return e.replace(sy,function(i,o){var l=ly(i);switch(cy(l[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":a={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":null!=a.t&&r.push(a);break;case"<text>":case"<text":s=o+i.length;break;case"</text>":a.t=e.slice(s,o).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":n=!0;break;case"</mentions>":case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),r}(Yv(e,a,!0),l)))}),v&&v.length&&iC(h,v,!0,l.people||[])}catch(xJ){if(l.WTF)throw xJ}var y}function eA(e){return"/"==e.charAt(0)?e.slice(1):e}function tA(e,t){if(gv(),X_(t=t||{}),Qv(e,"META-INF/manifest.xml"))return b_(e,t);if(Qv(e,"objectdata.xml"))return b_(e,t);if(Qv(e,"Index/Document.iwa")){if("undefined"==typeof Uint8Array)throw new Error("NUMBERS file parsing requires Uint8Array support");if(void 0!==G_){if(e.FileIndex)return G_(e);var r=yv.utils.cfb_new();return Xv(e).forEach(function(t){Zv(r,t,function(e,t){return Hv(Gv(e,t))}(e,t))}),G_(r)}throw new Error("Unsupported NUMBERS file")}if(!Qv(e,"[Content_Types].xml")){if(Qv(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(Qv(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var n,a,s=Xv(e),i=function(e){var t={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!e||!e.match)return t;var r={};if((e.match(sy)||[]).forEach(function(e){var n=ly(e);switch(n[0].replace(iy,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":void 0!==t[Qj[n.ContentType]]&&t[Qj[n.ContentType]].push(n.PartName)}}),t.xmlns!==Vy)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}(Kv(e,"[Content_Types].xml")),o=!1;if(0===i.workbooks.length&&Yv(e,a="xl/workbook.xml",!0)&&i.workbooks.push(a),0===i.workbooks.length){if(!Yv(e,a="xl/workbook.bin",!0))throw new Error("Could not find workbook");i.workbooks.push(a),o=!0}"bin"==i.workbooks[0].slice(-3)&&(o=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(iE=[],i.sst)try{iE=pT(Yv(e,eA(i.sst)),i.sst,t)}catch(xJ){if(t.WTF)throw xJ}t.cellStyles&&i.themes.length&&(l=function(e,t,r){return Xk(e,r)}(Kv(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(c=fT(Yv(e,eA(i.style)),i.style,l,t))}i.links.map(function(r){try{Zj(Kv(e,Xj(eA(r))),r);return bT(Yv(e,eA(r)),0,r,t)}catch(xJ){}});var d=uT(Yv(e,eA(i.workbooks[0])),i.workbooks[0],t),u={},h="";i.coreprops.length&&((h=Yv(e,eA(i.coreprops[0]),!0))&&(u=iN(h)),0!==i.extprops.length&&(h=Yv(e,eA(i.extprops[0]),!0))&&function(e,t,r){var n={};t||(t={}),e=ky(e),cN.forEach(function(r){var a=(e.match(Ey(r[0]))||[])[1];switch(r[2]){case"string":a&&(t[r[1]]=hy(a));break;case"bool":t[r[1]]="true"===a;break;case"raw":var s=e.match(new RegExp("<"+r[0]+"[^>]*>([\\s\\S]*?)</"+r[0]+">"));s&&s.length>0&&(n[r[1]]=s[1])}}),n.HeadingPairs&&n.TitlesOfParts&&uN(n.HeadingPairs,n.TitlesOfParts,t,r)}(h,u,t));var m={};t.bookSheets&&!t.bookProps||0!==i.custprops.length&&(h=Kv(e,eA(i.custprops[0]),!0))&&(m=function(e,t){var r={},n="",a=e.match(mN);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=ly(i);switch(o[0]){case"<?xml":case"<Properties":break;case"<property":n=hy(o.name);break;case"</property>":n=null;break;default:if(0===i.indexOf("<vt:")){var l=i.split(">"),c=l[0].slice(4),d=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":r[n]=hy(d);break;case"bool":r[n]=yy(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Mv(d);break;default:if("/"==c.slice(-1))break;t.WTF&&"undefined"!=typeof console&&console.warn("Unexpected",i,c,l)}}else if("</"===i.slice(0,2));else if(t.WTF)throw new Error(i)}}return r}(h,t));var f={};if((t.bookSheets||t.bookProps)&&(d.Sheets?n=d.Sheets.map(function(e){return e.name}):u.Worksheets&&u.SheetNames.length>0&&(n=u.SheetNames),t.bookProps&&(f.Props=u,f.Custprops=m),t.bookSheets&&void 0!==n&&(f.SheetNames=n),t.bookSheets?f.SheetNames:t.bookProps))return f;n={};var p={};t.bookDeps&&i.calcchain&&(p=xT(Yv(e,eA(i.calcchain)),i.calcchain));var g,x,b=0,v={},y=d.Sheets;u.Worksheets=y.length,u.SheetNames=[];for(var w=0;w!=y.length;++w)u.SheetNames[w]=y[w].name;var j=o?"bin":"xml",N=i.workbooks[0].lastIndexOf("/"),S=(i.workbooks[0].slice(0,N+1)+"_rels/"+i.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");Qv(e,S)||(S="xl/_rels/workbook."+j+".rels");var k=Zj(Kv(e,S,!0),S.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=vT(Yv(e,eA(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=function(e,t){var r=[],n=!1;return e.replace(sy,function(e){var a=ly(e);switch(cy(a[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":r.push({name:a.displayname,id:a.id});break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return e}),r}(Yv(e,eA(i.people[0])),t)),k&&(k=function(e,t){if(!e)return 0;try{e=t.map(function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,(r=e["!id"][t.id].Type,Kj.WS.indexOf(r)>-1?"sheet":r==Kj.CS?"chart":r==Kj.DS?"dialog":r==Kj.MS?"macro":r&&r.length?r:"sheet")];var r})}catch(xJ){return null}return e&&0!==e.length?e:null}(k,d.Sheets));var C=Yv(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=u.Worksheets;++b){var E="sheet";if(k&&k[b]?(g="xl/"+k[b][1].replace(/[\/]?xl\//,""),Qv(e,g)||(g=k[b][1]),Qv(e,g)||(g=S.replace(/_rels\/.*$/,"")+k[b][1]),E=k[b][2]):g=(g="xl/worksheets/sheet"+(b+1-C)+"."+j).replace(/sheet0\./,"sheet."),x=g.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(u.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,_=0;_!=t.sheets.length;++_)"number"==typeof t.sheets[_]&&t.sheets[_]==b&&(T=1),"string"==typeof t.sheets[_]&&t.sheets[_].toLowerCase()==u.SheetNames[b].toLowerCase()&&(T=1);if(!T)continue e}}J_(e,g,x,u.SheetNames[b],b,v,n,E,t,d,l,c)}return f={Directory:i,Workbook:d,Props:u,Custprops:m,Deps:p,Sheets:n,SheetNames:u.SheetNames,Strings:iE,Styles:c,Themes:l,SSF:$v(Lb)},t&&t.bookFiles&&(e.files?(f.keys=s,f.files=e.files):(f.keys=[],f.files={},e.FullPaths.forEach(function(t,r){t=t.replace(/^Root Entry[\/]/,""),f.keys.push(t),f.files[t]=e.FileIndex[r]}))),t&&t.bookVBA&&(i.vba.length>0?f.vbaraw=Yv(e,eA(i.vba[0]),!0):i.defaults&&"application/vnd.ms-office.vbaProject"===i.defaults.bin&&(f.vbaraw=Yv(e,"xl/vbaProject.bin",!0))),f}function rA(e,t){var r,n,a=t||{},s="Workbook",i=yv.find(e,s);try{if(s="/!DataSpaces/Version",!(i=yv.find(e,s))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(r=i.content,(n={}).id=r.read_shift(0,"lpp4"),n.R=ek(r,4),n.U=ek(r,4),n.W=ek(r,4),s="/!DataSpaces/DataSpaceMap",!(i=yv.find(e,s))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+s);var o=function(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(tk(e));return t}(i.content);if(1!==o.length||1!==o[0].comps.length||0!==o[0].comps[0].t||"StrongEncryptionDataSpace"!==o[0].name||"EncryptedPackage"!==o[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(i=yv.find(e,s))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+s);var l=function(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}(i.content);if(1!=l.length||"StrongEncryptionTransform"!=l[0])throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(i=yv.find(e,s))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+s);rk(i.content)}catch(xJ){}if(s="/EncryptionInfo",!(i=yv.find(e,s))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+s);var c=function(e){var t=ek(e);switch(t.Minor){case 2:return[t.Minor,sk(e)];case 3:return[t.Minor,ik()];case 4:return[t.Minor,ok(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}(i.content);if(s="/EncryptedPackage",!(i=yv.find(e,s))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(4==c[0]&&"undefined"!=typeof decrypt_agile)return decrypt_agile(c[1],i.content,a.password||"",a);if(2==c[0]&&"undefined"!=typeof decrypt_std76)return decrypt_std76(c[1],i.content,a.password||"",a);throw new Error("File is password-protected")}function nA(e,t){return"ods"==t.bookType?j_(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=rj(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(nj(n)));var s=pA(r,{range:n,header:1}),i=["~Sh33tJ5~"];s.forEach(function(e){return e.forEach(function(e){"string"==typeof e&&i.push(e)})});var o={},l=[],c=yv.read(t.numbers,{type:"base64"});c.FileIndex.map(function(e,t){return[e,c.FullPaths[t]]}).forEach(function(e){var t=e[0],r=e[1];2==t.type&&t.name.match(/\.iwa/)&&O_(M_(t.content)).forEach(function(e){l.push(e.id),o[e.id]={deps:[],location:r,type:A_(e.messages[0].meta[1][0].data)}})}),l.sort(function(e,t){return e-t});var d=l.filter(function(e){return e>1}).map(function(e){return[e,__(e)]});c.FileIndex.map(function(e,t){return[e,c.FullPaths[t]]}).forEach(function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&O_(M_(t.content)).forEach(function(e){e.messages.forEach(function(t){d.forEach(function(t){e.messages.some(function(e){return 11006!=A_(e.meta[1][0].data)&&function(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}(e.data,t[1])})&&o[t[0]].deps.push(e.id)})})})});for(var u,h=yv.find(c,o[1].location),m=O_(M_(h.content)),f=0;f<m.length;++f){var p=m[f];1==p.id&&(u=p)}var g=V_(I_(u.messages[0].data)[1][0].data);for(m=O_(M_((h=yv.find(c,o[g].location)).content)),f=0;f<m.length;++f)(p=m[f]).id==g&&(u=p);for(g=V_(I_(u.messages[0].data)[2][0].data),m=O_(M_((h=yv.find(c,o[g].location)).content)),f=0;f<m.length;++f)(p=m[f]).id==g&&(u=p);for(g=V_(I_(u.messages[0].data)[2][0].data),m=O_(M_((h=yv.find(c,o[g].location)).content)),f=0;f<m.length;++f)(p=m[f]).id==g&&(u=p);var x=I_(u.messages[0].data);x[6][0].data=__(n.e.r+1),x[7][0].data=__(n.e.c+1);for(var b=V_(x[46][0].data),v=yv.find(c,o[b].location),y=O_(M_(v.content)),w=0;w<y.length&&y[w].id!=b;++w);if(y[w].id!=b)throw"Bad ColumnRowUIDMapArchive";var j=I_(y[w].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var N=0;N<=n.e.c;++N){var S=[];S[1]=S[2]=[{type:0,data:__(N+420690)}],j[1].push({type:2,data:P_(S)}),j[2].push({type:0,data:__(N)}),j[3].push({type:0,data:__(N)})}j[4]=[],j[5]=[],j[6]=[];for(var k=0;k<=n.e.r;++k)(S=[])[1]=S[2]=[{type:0,data:__(k+726270)}],j[4].push({type:2,data:P_(S)}),j[5].push({type:0,data:__(k)}),j[6].push({type:0,data:__(k)});y[w].messages[0].data=P_(j),v.content=F_(L_(y)),v.size=v.content.length,delete x[46];var C=I_(x[4][0].data);C[7][0].data=__(n.e.r+1);var E=V_(I_(C[1][0].data)[2][0].data);if((y=O_(M_((v=yv.find(c,o[E].location)).content)))[0].id!=E)throw"Bad HeaderStorageBucket";var T=I_(y[0].messages[0].data);for(k=0;k<s.length;++k){var _=I_(T[2][0].data);_[1][0].data=__(k),_[4][0].data=__(s[k].length),T[2][k]={type:T[2][0].type,data:P_(_)}}y[0].messages[0].data=P_(T),v.content=F_(L_(y)),v.size=v.content.length;var A=V_(C[2][0].data);if((y=O_(M_((v=yv.find(c,o[A].location)).content)))[0].id!=A)throw"Bad HeaderStorageBucket";for(T=I_(y[0].messages[0].data),N=0;N<=n.e.c;++N)(_=I_(T[2][0].data))[1][0].data=__(N),_[4][0].data=__(n.e.r+1),T[2][N]={type:T[2][0].type,data:P_(_)};y[0].messages[0].data=P_(T),v.content=F_(L_(y)),v.size=v.content.length;var I=V_(C[4][0].data);!function(){for(var e,t=yv.find(c,o[I].location),r=O_(M_(t.content)),n=0;n<r.length;++n){var a=r[n];a.id==I&&(e=a)}var s=I_(e.messages[0].data);s[3]=[];var l=[];i.forEach(function(e,t){l[1]=[{type:0,data:__(t)}],l[2]=[{type:0,data:__(1)}],l[3]=[{type:2,data:k_(e)}],s[3].push({type:2,data:P_(l)})}),e.messages[0].data=P_(s);var d=F_(L_(r));t.content=d,t.size=t.content.length}();var P=I_(C[3][0].data),D=P[1][0];delete P[2];var O=I_(D.data),L=V_(O[2][0].data);!function(){for(var e,t=yv.find(c,o[L].location),r=O_(M_(t.content)),a=0;a<r.length;++a){var l=r[a];l.id==L&&(e=l)}var d=I_(e.messages[0].data);delete d[6],delete P[7];var u=new Uint8Array(d[5][0].data);d[5]=[];for(var h=0,m=0;m<=n.e.r;++m){var f=I_(u);h+=Y_(f,s[m],i),f[1][0].data=__(m),d[5].push({data:P_(f),type:2})}d[1]=[{type:0,data:__(n.e.c+1)}],d[2]=[{type:0,data:__(n.e.r+1)}],d[3]=[{type:0,data:__(h)}],d[4]=[{type:0,data:__(n.e.r+1)}],e.messages[0].data=P_(d);var p=F_(L_(r));t.content=p,t.size=t.content.length}(),D.data=P_(O),C[3][0].data=P_(P),x[4][0].data=P_(C),u.messages[0].data=P_(x);var R=F_(L_(m));return h.content=R,h.size=h.content.length,c}(e,t):"xlsb"==t.bookType?function(e,t){aC=1024,e&&!e.SSF&&(e.SSF=$v(Lb));e&&e.SSF&&(gv(),pv(e.SSF),t.revssf=Cv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,lE?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xlsb"==t.bookType?"bin":"xml",n=uC.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};Z_(t=t||{});var s=Jv(),i="",o=0;t.cellXfs=[],hE(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(Zv(s,i="docProps/core.xml",lN(e.Props,t)),a.coreprops.push(i),eN(t.rels,2,i,Kj.CORE_PROPS),i="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Zv(s,i,hN(e.Props)),a.extprops.push(i),eN(t.rels,3,i,Kj.EXT_PROPS),e.Custprops!==e.Props&&Nv(e.Custprops||{}).length>0&&(Zv(s,i="docProps/custom.xml",fN(e.Custprops)),a.custprops.push(i),eN(t.rels,4,i,Kj.CUST_PROPS));for(o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},u=e.Sheets[e.SheetNames[o-1]];(u||{})["!type"];if(Zv(s,i="xl/worksheets/sheet"+o+"."+r,yT(o-1,i,t,e,d)),a.sheets.push(i),eN(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Kj.WS[0]),u){var h=u["!comments"],m=!1,f="";h&&h.length>0&&(Zv(s,f="xl/comments"+o+"."+r,wT(h,f)),a.comments.push(f),eN(d,-1,"../comments"+o+"."+r,Kj.CMNT),m=!0),u["!legacy"]&&m&&Zv(s,"xl/drawings/vmlDrawing"+o+".vml",sC(o,u["!comments"])),delete u["!comments"],delete u["!legacy"]}d["!id"].rId1&&Zv(s,Xj(i),Jj(d))}null!=t.Strings&&t.Strings.length>0&&(Zv(s,i="xl/sharedStrings."+r,function(e,t,r){return(".bin"===t.slice(-4)?ZS:KS)(e,r)}(t.Strings,i,t)),a.strs.push(i),eN(t.wbrels,-1,"sharedStrings."+r,Kj.SST));Zv(s,i="xl/workbook."+r,function(e,t){return(".bin"===t.slice(-4)?dT:iT)(e)}(e,i)),a.workbooks.push(i),eN(t.rels,1,i,Kj.WB),Zv(s,i="xl/theme/theme1.xml",Zk(e.Themes,t)),a.themes.push(i),eN(t.wbrels,-1,"theme/theme1.xml",Kj.THEME),Zv(s,i="xl/styles."+r,function(e,t,r){return(".bin"===t.slice(-4)?zk:_k)(e,r)}(e,i,t)),a.styles.push(i),eN(t.wbrels,-1,"styles."+r,Kj.STY),e.vbaraw&&n&&(Zv(s,i="xl/vbaProject.bin",e.vbaraw),a.vba.push(i),eN(t.wbrels,-1,"vbaProject.bin",Kj.VBA));return Zv(s,i="xl/metadata."+r,function(e){return(".bin"===e.slice(-4)?rC:nC)()}(i)),a.metadata.push(i),eN(t.wbrels,-1,"metadata."+r,Kj.XLMETA),Zv(s,"[Content_Types].xml",Yj(a,t)),Zv(s,"_rels/.rels",Jj(t.rels)),Zv(s,"xl/_rels/workbook."+r+".rels",Jj(t.wbrels)),delete t.revssf,delete t.ssf,s}(e,t):function(e,t){aC=1024,e&&!e.SSF&&(e.SSF=$v(Lb));e&&e.SSF&&(gv(),pv(e.SSF),t.revssf=Cv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,lE?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=uC.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};Z_(t=t||{});var s=Jv(),i="",o=0;t.cellXfs=[],hE(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(Zv(s,i="docProps/core.xml",lN(e.Props,t)),a.coreprops.push(i),eN(t.rels,2,i,Kj.CORE_PROPS),i="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Zv(s,i,hN(e.Props)),a.extprops.push(i),eN(t.rels,3,i,Kj.EXT_PROPS),e.Custprops!==e.Props&&Nv(e.Custprops||{}).length>0&&(Zv(s,i="docProps/custom.xml",fN(e.Custprops)),a.custprops.push(i),eN(t.rels,4,i,Kj.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},h=e.Sheets[e.SheetNames[o-1]];(h||{})["!type"];if(Zv(s,i="xl/worksheets/sheet"+o+"."+r,PE(o-1,t,e,u)),a.sheets.push(i),eN(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Kj.WS[0]),h){var m=h["!comments"],f=!1,p="";if(m&&m.length>0){var g=!1;m.forEach(function(e){e[1].forEach(function(e){1==e.T&&(g=!0)})}),g&&(Zv(s,p="xl/threadedComments/threadedComment"+o+"."+r,lC(m,d,t)),a.threadedcomments.push(p),eN(u,-1,"../threadedComments/threadedComment"+o+"."+r,Kj.TCMNT)),Zv(s,p="xl/comments"+o+"."+r,oC(m)),a.comments.push(p),eN(u,-1,"../comments"+o+"."+r,Kj.CMNT),f=!0}h["!legacy"]&&f&&Zv(s,"xl/drawings/vmlDrawing"+o+".vml",sC(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&Zv(s,Xj(i),Jj(u))}null!=t.Strings&&t.Strings.length>0&&(Zv(s,i="xl/sharedStrings."+r,KS(t.Strings,t)),a.strs.push(i),eN(t.wbrels,-1,"sharedStrings."+r,Kj.SST));Zv(s,i="xl/workbook."+r,iT(e)),a.workbooks.push(i),eN(t.rels,1,i,Kj.WB),Zv(s,i="xl/theme/theme1.xml",Zk(e.Themes,t)),a.themes.push(i),eN(t.wbrels,-1,"theme/theme1.xml",Kj.THEME),Zv(s,i="xl/styles."+r,_k(e,t)),a.styles.push(i),eN(t.wbrels,-1,"styles."+r,Kj.STY),e.vbaraw&&n&&(Zv(s,i="xl/vbaProject.bin",e.vbaraw),a.vba.push(i),eN(t.wbrels,-1,"vbaProject.bin",Kj.VBA));Zv(s,i="xl/metadata."+r,nC()),a.metadata.push(i),eN(t.wbrels,-1,"metadata."+r,Kj.XLMETA),d.length>1&&(Zv(s,i="xl/persons/person.xml",function(e){var t=[ry,Ry("personList",null,{xmlns:qy,"xmlns:x":Jy[0]}).replace(/[\/]>/,">")];return e.forEach(function(e,r){t.push(Ry("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}(d)),a.people.push(i),eN(t.wbrels,-1,"persons/person.xml",Kj.PEOPLE));return Zv(s,"[Content_Types].xml",Yj(a,t)),Zv(s,"_rels/.rels",Jj(t.rels)),Zv(s,"xl/_rels/workbook."+r+".rels",Jj(t.wbrels)),delete t.revssf,delete t.ssf,s}(e,t)}function aA(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=fb(e.slice(0,12));break;case"binary":r=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function sA(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return DT(e.slice(r),t);default:break e}return FS.to_workbook(e,t)}function iA(e,t,r,n){return n?(r.type="string",FS.to_workbook(e,r)):FS.to_workbook(t,r)}function oA(e,t){sb();var r=t||{};if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer)return oA(new Uint8Array(e),((r=$v(r)).type="array",r));"undefined"!=typeof Uint8Array&&e instanceof Uint8Array&&!r.type&&(r.type="undefined"!=typeof Deno?"buffer":"array");var n,a=e,s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),oE={},r.dateNF&&(oE.dateNF=r.dateNF),r.type||(r.type=pb&&Buffer.isBuffer(e)?"buffer":"base64"),"file"==r.type&&(r.type=pb?"buffer":"binary",a=function(e){if("undefined"!=typeof Deno)return Deno.readFileSync(e);if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(xJ){if(!xJ.message||!xJ.message.match(/onstruct/))throw xJ}throw new Error("Cannot access file "+e)}(e),"undefined"==typeof Uint8Array||pb||(r.type="array")),"string"==r.type&&(s=!0,r.type="binary",r.codepage=65001,a=function(e){return e.match(/[^\x00-\x7F]/)?Cy(e):e}(e)),"array"==r.type&&"undefined"!=typeof Uint8Array&&e instanceof Uint8Array&&"undefined"!=typeof ArrayBuffer){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return(r=$v(r)).type="array",oA(jb(a),r)}switch((n=aA(a,r))[0]){case 208:if(207===n[1]&&17===n[2]&&224===n[3]&&161===n[4]&&177===n[5]&&26===n[6]&&225===n[7])return function(e,t){return yv.find(e,"EncryptedPackage")?rA(e,t):YT(e,t)}(yv.read(a,r),r);break;case 9:if(n[1]<=8)return YT(a,r);break;case 60:return DT(a,r);case 73:if(73===n[1]&&42===n[2]&&0===n[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===n[1])return function(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=LS.to_workbook(e,r);return r.WTF=n,a}catch(xJ){if(r.WTF=n,!xJ.message.match(/SYLK bad record ID/)&&n)throw xJ;return FS.to_workbook(e,t)}}(a,r);break;case 84:if(65===n[1]&&66===n[2]&&76===n[3])return RS.to_workbook(a,r);break;case 80:return 75===n[1]&&n[2]<9&&n[3]<9?function(e,t){var r=e,n=t||{};return n.type||(n.type=pb&&Buffer.isBuffer(e)?"buffer":"base64"),tA(ey(r,n),n)}(a,r):iA(e,a,r,s);case 239:return 60===n[3]?DT(a,r):iA(e,a,r,s);case 255:if(254===n[1])return function(e,t){var r=e;return"base64"==t.type&&(r=fb(r)),r=lb.utils.decode(1200,r.slice(2),"str"),t.type="binary",sA(r,t)}(a,r);if(0===n[1]&&2===n[2]&&0===n[3])return $S.to_workbook(a,r);break;case 0:if(0===n[1]){if(n[2]>=2&&0===n[3])return $S.to_workbook(a,r);if(0===n[2]&&(8===n[3]||9===n[3]))return $S.to_workbook(a,r)}break;case 3:case 131:case 139:case 140:return OS.to_workbook(a,r);case 123:if(92===n[1]&&114===n[2]&&116===n[3])return hk.to_workbook(a,r);break;case 10:case 13:case 32:return function(e,t){var r="",n=aA(e,t);switch(t.type){case"base64":r=fb(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Fv(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==n[0]&&187==n[1]&&191==n[2]&&(r=ky(r)),t.type="binary",sA(r,t)}(a,r);case 137:if(80===n[1]&&78===n[2]&&71===n[3])throw new Error("PNG Image File is not a spreadsheet")}return DS.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?OS.to_workbook(a,r):iA(e,a,r,s)}function lA(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return jv(t.file,yv.write(e,{type:pb?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return yv.write(e,t)}function cA(e,t){var r=$v(t||{});return function(e,t){var r={},n=pb?"nodebuffer":"undefined"!=typeof Uint8Array?"array":"string";t.compression&&(r.compression="DEFLATE");if(t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?yv.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if("undefined"!=typeof Deno&&"string"==typeof a){if("binary"==t.type||"base64"==t.type)return a;a=new Uint8Array(yb(a))}return t.password&&"undefined"!=typeof encrypt_agile?lA(encrypt_agile(a,t.password),t):"file"===t.type?jv(t.file,a):"string"==t.type?ky(a):a}(nA(e,r),r)}function dA(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return mb(Cy(n));case"binary":return Cy(n);case"string":return e;case"file":return jv(t.file,n,"utf8");case"buffer":return pb?gb(n,"utf8"):"undefined"!=typeof TextEncoder?(new TextEncoder).encode(n):dA(n,{type:"binary"}).split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function uA(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return"base64"==t.type?mb(r):"string"==t.type?ky(r):r;case"file":return jv(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function hA(e,t){sb(),aT(e);var r=$v(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),"array"==r.type){r.type="binary";var n=hA(e,r);return r.type="array",yb(n)}var a=0;if(r.sheet&&(a="number"==typeof r.sheet?r.sheet:e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return dA($T(e,r),r);case"slk":case"sylk":return dA(LS.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return dA(u_(e.Sheets[e.SheetNames[a]],r),r);case"txt":return function(e,t){switch(t.type){case"base64":return mb(e);case"binary":case"string":return e;case"file":return jv(t.file,e,"binary");case"buffer":return pb?gb(e,"binary"):e.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(vA(e.Sheets[e.SheetNames[a]],r),r);case"csv":return dA(bA(e.Sheets[e.SheetNames[a]],r),r,"\ufeff");case"dif":return dA(RS.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return uA(OS.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return dA(FS.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return dA(hk.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return dA(MS.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return dA(j_(e,r),r);case"wk1":return uA($S.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return uA($S.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),uA(l_(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),function(e,t){var r=t||{};return lA(KT(e,r),r)}(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return cA(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function mA(e,t,r){var n={type:"file"};return n.file=t,function(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}(n),hA(e,n)}function fA(e,t,r,n,a,s,i,o){var l=Xw(r),c=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),u=!0,h=1===a?[]:{};if(1!==a)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch(xJ){h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var m=t.s.c;m<=t.e.c;++m){var f=i?e[r][m]:e[n[m]+l];if(void 0!==f&&void 0!==f.t){var p=f.v;switch(f.t){case"z":if(null==p)break;continue;case"e":p=0==p?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+f.t)}if(null!=s[m]){if(null==p)if("e"==f.t&&null===p)h[s[m]]=null;else if(void 0!==c)h[s[m]]=c;else{if(!d||null!==p)continue;h[s[m]]=null}else h[s[m]]=d&&("n"!==f.t||"n"===f.t&&!1!==o.rawNumbers)?p:ij(f,p,o);null!=p&&(u=!1)}}else{if(void 0===c)continue;null!=s[m]&&(h[s[m]]=c)}}return{row:h,isempty:u}}function pA(e,t){if(null==e||null==e["!ref"])return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=null!=c.range?c.range:e["!ref"];switch(1===c.header?n=1:"A"===c.header?n=2:Array.isArray(c.header)?n=3:null==c.header&&(n=0),typeof d){case"string":l=aj(d);break;case"number":(l=aj(e["!ref"])).s.r=d;break;default:l=d}n>0&&(a=0);var u=Xw(l.s.r),h=[],m=[],f=0,p=0,g=Array.isArray(e),x=l.s.r,b=0,v={};g&&!e[x]&&(e[x]=[]);var y=c.skipHidden&&e["!cols"]||[],w=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(y[b]||{}).hidden)switch(h[b]=Jw(b),r=g?e[x][b]:e[h[b]+u],n){case 1:s[b]=b-l.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=c.header[b-l.s.c];break;default:if(null==r&&(r={w:"__EMPTY",t:"s"}),o=i=ij(r,null,c),p=v[i]||0){do{o=i+"_"+p++}while(v[o]);v[i]=p,v[o]=1}else v[i]=1;s[b]=o}for(x=l.s.r+a;x<=l.e.r;++x)if(!(w[x]||{}).hidden){var j=fA(e,l,x,h,n,s,g,c);(!1===j.isempty||(1===n?!1!==c.blankrows:c.blankrows))&&(m[f++]=j.row)}return m.length=f,m}var gA=/"/g;function xA(e,t,r,n,a,s,i,o){for(var l=!0,c=[],d="",u=Xw(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=o.dense?(e[r]||[])[h]:e[n[h]+u];if(null==m)d="";else if(null!=m.v){l=!1,d=""+(o.rawNumbers&&"n"==m.t?m.v:ij(m,null,o));for(var f=0,p=0;f!==d.length;++f)if((p=d.charCodeAt(f))===a||p===s||34===p||o.forceQuotes){d='"'+d.replace(gA,'""')+'"';break}"ID"==d&&(d='"ID"')}else null==m.f||m.F?d="":(l=!1,(d="="+m.f).indexOf(",")>=0&&(d='"'+d.replace(gA,'""')+'"'));c.push(d)}return!1===o.blankrows&&l?null:c.join(i)}function bA(e,t){var r=[],n=null==t?{}:t;if(null==e||null==e["!ref"])return"";var a=aj(e["!ref"]),s=void 0!==n.FS?n.FS:",",i=s.charCodeAt(0),o=void 0!==n.RS?n.RS:"\n",l=o.charCodeAt(0),c=new RegExp(("|"==s?"\\|":s)+"+$"),d="",u=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],f=a.s.c;f<=a.e.c;++f)(h[f]||{}).hidden||(u[f]=Jw(f));for(var p=0,g=a.s.r;g<=a.e.r;++g)(m[g]||{}).hidden||null!=(d=xA(e,a,g,u,i,l,s,n))&&(n.strip&&(d=d.replace(c,"")),(d||!1!==n.blankrows)&&r.push((p++?o:"")+d));return delete n.dense,r.join("")}function vA(e,t){return t||(t={}),t.FS="\t",t.RS="\n",bA(e,t)}function yA(e,t,r){var n,a=r||{},s=+!a.skipHeader,i=e||{},o=0,l=0;if(i&&null!=a.origin)if("number"==typeof a.origin)o=a.origin;else{var c="string"==typeof a.origin?ej(a.origin):a.origin;o=c.r,l=c.c}var d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(i["!ref"]){var u=aj(i["!ref"]);d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),-1==o&&(o=u.e.r+1,d.e.r=o+t.length-1+s)}else-1==o&&(o=0,d.e.r=t.length-1+s);var h=a.header||[],m=0;t.forEach(function(e,t){Nv(e).forEach(function(r){-1==(m=h.indexOf(r))&&(h[m=h.length]=r);var c=e[r],d="z",u="",f=tj({c:l+m,r:o+t+s});n=wA(i,f),!c||"object"!=typeof c||c instanceof Date?("number"==typeof c?d="n":"boolean"==typeof c?d="b":"string"==typeof c?d="s":c instanceof Date?(d="d",a.cellDates||(d="n",c=Tv(c)),u=a.dateNF||Lb[14]):null===c&&a.nullError&&(d="e",c=0),n?(n.t=d,n.v=c,delete n.w,delete n.R,u&&(n.z=u)):i[f]=n={t:d,v:c},u&&(n.z=u)):i[f]=c})}),d.e.c=Math.max(d.e.c,l+h.length-1);var f=Xw(o);if(s)for(m=0;m<h.length;++m)i[Jw(m+l)+f]={t:"s",v:h[m]};return i["!ref"]=nj(d),i}function wA(e,t,r){if("string"==typeof t){if(Array.isArray(e)){var n=ej(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return wA(e,tj("number"!=typeof t?t:{r:t,c:r||0}))}function jA(){return{SheetNames:[],Sheets:{}}}function NA(e,t,r,n){var a=1;if(!r)for(;a<=65535&&-1!=e.SheetNames.indexOf(r="Sheet"+a);++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&-1!=e.SheetNames.indexOf(r=i+a);++a);}if(nT(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function SA(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}var kA={encode_col:Jw,encode_row:Xw,encode_cell:tj,encode_range:nj,decode_col:Zw,decode_row:Kw,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:ej,decode_range:rj,format_cell:ij,sheet_add_aoa:lj,sheet_add_json:yA,sheet_add_dom:h_,aoa_to_sheet:cj,json_to_sheet:function(e,t){return yA(null,e,t)},table_to_sheet:m_,table_to_book:function(e,t){return oj(m_(e,t),t)},sheet_to_csv:bA,sheet_to_txt:vA,sheet_to_json:pA,sheet_to_html:u_,sheet_to_formulae:function(e){var t,r="",n="";if(null==e||null==e["!ref"])return[];var a,s=aj(e["!ref"]),i="",o=[],l=[],c=Array.isArray(e);for(a=s.s.c;a<=s.e.c;++a)o[a]=Jw(a);for(var d=s.s.r;d<=s.e.r;++d)for(i=Xw(d),a=s.s.c;a<=s.e.c;++a)if(r=o[a]+i,n="",void 0!==(t=c?(e[d]||[])[a]:e[r])){if(null!=t.F){if(r=t.F,!t.f)continue;n=t.f,-1==r.indexOf(":")&&(r=r+":"+r)}if(null!=t.f)n=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)n=""+t.v;else if("b"==t.t)n=t.v?"TRUE":"FALSE";else if(void 0!==t.w)n="'"+t.w;else{if(void 0===t.v)continue;n="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=r+"="+n}return l},sheet_to_row_object_array:pA,sheet_get_cell:wA,book_new:jA,book_append_sheet:NA,book_set_sheet_visibility:function(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:SA,cell_set_internal_link:function(e,t,r){return SA(e,"#"+t,r)},cell_add_comment:function(e,t,r){e.c||(e.c=[]),e.c.push({t:t,a:r||"SheetJS"})},sheet_set_array_formula:function(e,t,r,n){for(var a="string"!=typeof t?t:aj(t),s="string"==typeof t?t:nj(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var l=wA(e,i,o);l.t="n",l.F=s,delete l.v,i==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function CA(e,t){const{filename:r,sheetName:n="Sheet1",columns:a,autoWidth:s=!0}=t;let i;i=a&&a.length>0?e.map(e=>{const t={};return a.forEach(r=>{const n=e[r.key];t[r.header]=r.formatter?r.formatter(n):n}),t}):e;const o=kA.json_to_sheet(i);if(s){const e=function(e,t){if(!e||0===e.length)return[];const r=t?t.map(e=>e.header):Object.keys(e[0]);return r.map((r,n)=>{var a;let s=r.length;return e.forEach(e=>{const a=t?e[r]:e[Object.keys(e)[n]],i=(null==a?void 0:a.toString())||"";s=Math.max(s,i.length)}),t&&(null==(a=t[n])?void 0:a.width)?{wch:t[n].width}:{wch:Math.min(s+2,50)}})}(i,a);o["!cols"]=e}const l=kA.book_new();kA.book_append_sheet(l,o,n),mA(l,`${r}.xlsx`)}const EA={date:e=>{if(!e)return"";return("string"==typeof e?new Date(e):e).toISOString().split("T")[0]},datetime:e=>{if(!e)return"";return("string"==typeof e?new Date(e):e).toISOString().replace("T"," ").split(".")[0]},decimal:e=>null==e?"":e.toFixed(2),percentage:e=>null==e?"":`${(100*e).toFixed(2)}%`,boolean:e=>null==e?"":e?"Yes":"No",currency:e=>null==e?"":`$${e.toFixed(2)}`,truncate:e=>t=>t?t.length>e?`${t.substring(0,e)}...`:t:""};function TA(e="0",t){const r=parseFloat(e);if(isNaN(r))return"0";return(void 0!==t?r.toFixed(t):e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function _A(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=_A(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function AA(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=_A(e))&&(n&&(n+=" "),n+=t);return n}var IA,PA={},DA={};IA=DA,Object.defineProperty(IA,Symbol.toStringTag,{value:"Module"}),IA.isUnsafeProperty=function(e){return"__proto__"===e};var OA={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}}(OA);var LA={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toKey=function(e){var t;return"string"==typeof e||"symbol"==typeof e?e:Object.is(null==(t=null==e?void 0:e.valueOf)?void 0:t.call(e),-0)?"-0":String(e)}}(LA);var RA={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toPath=function(e){const t=[],r=e.length;if(0===r)return t;let n=0,a="",s="",i=!1;for(46===e.charCodeAt(0)&&(t.push(""),n++);n<r;){const o=e[n];s?"\\"===o&&n+1<r?(n++,a+=e[n]):o===s?s="":a+=o:i?'"'===o||"'"===o?s=o:"]"===o?(i=!1,t.push(a),a=""):a+=o:"["===o?(i=!0,a&&(t.push(a),a="")):"."===o?a&&(t.push(a),a=""):a+=o,n++}return a&&t.push(a),t}}(RA),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DA,r=OA,n=LA,a=RA;e.get=function e(s,i,o){if(null==s)return o;switch(typeof i){case"string":{if(t.isUnsafeProperty(i))return o;const n=s[i];return void 0===n?r.isDeepKey(i)?e(s,a.toPath(i),o):o:n}case"number":case"symbol":{"number"==typeof i&&(i=n.toKey(i));const e=s[i];return void 0===e?o:e}default:{if(Array.isArray(i))return function(e,r,n){if(0===r.length)return n;let a=e;for(let s=0;s<r.length;s++){if(null==a)return n;if(t.isUnsafeProperty(r[s]))return n;a=a[r[s]]}if(void 0===a)return n;return a}(s,i,o);if(i=Object.is(null==i?void 0:i.valueOf(),-0)?"-0":String(i),t.isUnsafeProperty(i))return o;const e=s[i];return void 0===e?o:e}}}}(PA);const MA=f(PA.get);var FA={exports:{}},$A={},BA=Symbol.for("react.transitional.element"),UA=Symbol.for("react.portal"),zA=Symbol.for("react.fragment"),VA=Symbol.for("react.strict_mode"),WA=Symbol.for("react.profiler"),qA=Symbol.for("react.consumer"),HA=Symbol.for("react.context"),QA=Symbol.for("react.forward_ref"),GA=Symbol.for("react.suspense"),YA=Symbol.for("react.suspense_list"),KA=Symbol.for("react.memo"),XA=Symbol.for("react.lazy"),ZA=Symbol.for("react.view_transition"),JA=Symbol.for("react.client.reference");function eI(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case BA:switch(e=e.type){case zA:case WA:case VA:case GA:case YA:case ZA:return e;default:switch(e=e&&e.$$typeof){case HA:case QA:case XA:case KA:case qA:return e;default:return t}}case UA:return t}}}$A.ContextConsumer=qA,$A.ContextProvider=HA,$A.Element=BA,$A.ForwardRef=QA,$A.Fragment=zA,$A.Lazy=XA,$A.Memo=KA,$A.Portal=UA,$A.Profiler=WA,$A.StrictMode=VA,$A.Suspense=GA,$A.SuspenseList=YA,$A.isContextConsumer=function(e){return eI(e)===qA},$A.isContextProvider=function(e){return eI(e)===HA},$A.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===BA},$A.isForwardRef=function(e){return eI(e)===QA},$A.isFragment=function(e){return eI(e)===zA},$A.isLazy=function(e){return eI(e)===XA},$A.isMemo=function(e){return eI(e)===KA},$A.isPortal=function(e){return eI(e)===UA},$A.isProfiler=function(e){return eI(e)===WA},$A.isStrictMode=function(e){return eI(e)===VA},$A.isSuspense=function(e){return eI(e)===GA},$A.isSuspenseList=function(e){return eI(e)===YA},$A.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===zA||e===WA||e===VA||e===GA||e===YA||"object"==typeof e&&null!==e&&(e.$$typeof===XA||e.$$typeof===KA||e.$$typeof===HA||e.$$typeof===qA||e.$$typeof===QA||e.$$typeof===JA||void 0!==e.getModuleId)},$A.typeOf=eI,FA.exports=$A;var tI=FA.exports,rI=e=>0===e?0:e>0?1:-1,nI=e=>"number"==typeof e&&e!=+e,aI=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,sI=e=>("number"==typeof e||e instanceof Number)&&!nI(e),iI=e=>sI(e)||"string"==typeof e,oI=0,lI=e=>{var t=++oI;return"".concat(e||"").concat(t)},cI=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!sI(e)&&"string"!=typeof e)return n;if(aI(e)){if(null==t)return n;var s=e.indexOf("%");r=t*parseFloat(e.slice(0,s))/100}else r=+e;return nI(r)&&(r=n),a&&null!=t&&r>t&&(r=t),r},dI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1};function uI(e,t,r){return sI(e)&&sI(t)?e+r*(t-e):t}function hI(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):MA(e,t))===r)}var mI=e=>null==e,fI=e=>mI(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),pI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gI(e){return"string"==typeof e&&pI.includes(e)}var xI=["points","pathLength"],bI={svg:["viewBox","children"],polygon:xI,polyline:xI},vI=(e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(ee.isValidElement(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var n={};return Object.keys(r).forEach(e=>{gI(e)&&(n[e]=t=>r[e](r,t))}),n},yI=(e,t,r)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];gI(a)&&"function"==typeof s&&(n||(n={}),n[a]=((e,t,r)=>n=>(e(t,r,n),null))(s,t,r))}),n},wI=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function jI(e){return"string"==typeof e&&wI.includes(e)}function NI(e){var t=Object.entries(e).filter(e=>{var[t]=e;return jI(t)});return Object.fromEntries(t)}var SI=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",kI=null,CI=null,EI=e=>{if(e===kI&&Array.isArray(CI))return CI;var t=[];return ee.Children.forEach(e,e=>{mI(e)||(tI.isFragment(e)?t=t.concat(EI(e.props.children)):t.push(e))}),CI=t,kI=e,t};var TI=e=>!e||"object"!=typeof e||!("clipDot"in e)||Boolean(e.clipDot),_I=(e,t,r)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(ee.isValidElement(e)&&(n=e.props),"object"!=typeof n&&"function"!=typeof n)return null;var a={};return Object.keys(n).forEach(e=>{var s;((e,t,r,n)=>{var a;if("symbol"==typeof t||"number"==typeof t)return!0;var s=null!==(a=n&&(null==bI?void 0:bI[n]))&&void 0!==a?a:[],i=t.startsWith("data-"),o="function"!=typeof e&&(Boolean(n)&&s.includes(t)||jI(t)),l=Boolean(r)&&gI(t);return i||o||l})(null===(s=n)||void 0===s?void 0:s[e],e,t,r)&&(a[e]=n[e])}),a},AI=["children","width","height","viewBox","className","style","title","desc"];function II(){return II=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},II.apply(null,arguments)}var PI=ee.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:o,title:l,desc:c}=e,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,AI),u=s||{width:n,height:a,x:0,y:0},h=AA("recharts-surface",i);return ee.createElement("svg",II({},_I(d,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),ref:t}),ee.createElement("title",null,l),ee.createElement("desc",null,c),r)}),DI=["children","className"];function OI(){return OI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OI.apply(null,arguments)}var LI=ee.forwardRef((e,t)=>{var{children:r,className:n}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,DI),s=AA("recharts-layer",n);return ee.createElement("g",OI({className:s},_I(a,!0),{ref:t}),r)}),RI=ee.createContext(null);function MI(e){return function(){return e}}const FI=Math.cos,$I=Math.sin,BI=Math.sqrt,UI=Math.PI,zI=2*UI,VI=Math.PI,WI=2*VI,qI=1e-6,HI=WI-qI;function QI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class GI{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?QI:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return QI;const r=i(10,t);return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,s){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+s}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let s=this._x1,i=this._y1,o=r-e,l=n-t,c=s-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>qI)if(Math.abs(d*o-l*c)>qI&&a){let h=r-s,m=n-i,f=o*o+l*l,p=h*h+m*m,g=Math.sqrt(f),x=Math.sqrt(u),b=a*Math.tan((VI-Math.acos((f+u-p)/(2*g*x)))/2),v=b/x,y=b/g;Math.abs(v-1)>qI&&this._append`L${e+v*c},${t+v*d}`,this._append`A${a},${a},0,0,${+(d*h>c*m)},${this._x1=e+y*o},${this._y1=t+y*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,s){if(e=+e,t=+t,s=!!s,(r=+r)<0)throw new Error(`negative radius: ${r}`);let i=r*Math.cos(n),o=r*Math.sin(n),l=e+i,c=t+o,d=1^s,u=s?n-a:a-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>qI||Math.abs(this._y1-c)>qI)&&this._append`L${l},${c}`,r&&(u<0&&(u=u%WI+WI),u>HI?this._append`A${r},${r},0,1,${d},${e-i},${t-o}A${r},${r},0,1,${d},${this._x1=l},${this._y1=c}`:u>qI&&this._append`A${r},${r},0,${+(u>=VI)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function YI(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new GI(t)}function KI(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function XI(e){this._context=e}function ZI(e){return new XI(e)}function JI(e){return e[0]}function eP(e){return e[1]}function tP(e,t){var r=MI(!0),n=null,a=ZI,s=null,i=YI(o);function o(o){var l,c,d,u=(o=KI(o)).length,h=!1;for(null==n&&(s=a(d=i())),l=0;l<=u;++l)!(l<u&&r(c=o[l],l,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(c,l,o),+t(c,l,o));if(d)return s=null,d+""||null}return e="function"==typeof e?e:void 0===e?JI:MI(e),t="function"==typeof t?t:void 0===t?eP:MI(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:MI(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:MI(+e),o):t},o.defined=function(e){return arguments.length?(r="function"==typeof e?e:MI(!!e),o):r},o.curve=function(e){return arguments.length?(a=e,null!=n&&(s=a(n)),o):a},o.context=function(e){return arguments.length?(null==e?n=s=null:s=a(n=e),o):n},o}function rP(e,t,r){var n=null,a=MI(!0),s=null,i=ZI,o=null,l=YI(c);function c(c){var d,u,h,m,f,p=(c=KI(c)).length,g=!1,x=new Array(p),b=new Array(p);for(null==s&&(o=i(f=l())),d=0;d<=p;++d){if(!(d<p&&a(m=c[d],d,c))===g)if(g=!g)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=d-1;h>=u;--h)o.point(x[h],b[h]);o.lineEnd(),o.areaEnd()}g&&(x[d]=+e(m,d,c),b[d]=+t(m,d,c),o.point(n?+n(m,d,c):x[d],r?+r(m,d,c):b[d]))}if(f)return o=null,f+""||null}function d(){return tP().defined(a).curve(i).context(s)}return e="function"==typeof e?e:void 0===e?JI:MI(+e),t="function"==typeof t?t:MI(void 0===t?0:+t),r="function"==typeof r?r:void 0===r?eP:MI(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:MI(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:MI(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:MI(+e),c):n},c.y=function(e){return arguments.length?(t="function"==typeof e?e:MI(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:MI(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:MI(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:MI(!!e),c):a},c.curve=function(e){return arguments.length?(i=e,null!=s&&(o=i(s)),c):i},c.context=function(e){return arguments.length?(null==e?s=o=null:o=i(s=e),c):s},c}XI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class nP{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const aP={draw(e,t){const r=BI(t/UI);e.moveTo(r,0),e.arc(0,0,r,0,zI)}},sP={draw(e,t){const r=BI(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},iP=BI(1/3),oP=2*iP,lP={draw(e,t){const r=BI(t/oP),n=r*iP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},cP={draw(e,t){const r=BI(t),n=-r/2;e.rect(n,n,r,r)}},dP=$I(UI/10)/$I(7*UI/10),uP=$I(zI/10)*dP,hP=-FI(zI/10)*dP,mP={draw(e,t){const r=BI(.8908130915292852*t),n=uP*r,a=hP*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const t=zI*s/5,i=FI(t),o=$I(t);e.lineTo(o*r,-i*r),e.lineTo(i*n-o*a,o*n+i*a)}e.closePath()}},fP=BI(3),pP={draw(e,t){const r=-BI(t/(3*fP));e.moveTo(0,2*r),e.lineTo(-fP*r,-r),e.lineTo(fP*r,-r),e.closePath()}},gP=-.5,xP=BI(3)/2,bP=1/BI(12),vP=3*(bP/2+1),yP={draw(e,t){const r=BI(t/vP),n=r/2,a=r*bP,s=n,i=r*bP+r,o=-s,l=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(gP*n-xP*a,xP*n+gP*a),e.lineTo(gP*s-xP*i,xP*s+gP*i),e.lineTo(gP*o-xP*l,xP*o+gP*l),e.lineTo(gP*n+xP*a,gP*a-xP*n),e.lineTo(gP*s+xP*i,gP*i-xP*s),e.lineTo(gP*o+xP*l,gP*l-xP*o),e.closePath()}};function wP(){}function jP(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function NP(e){this._context=e}function SP(e){this._context=e}function kP(e){this._context=e}function CP(e){this._context=e}function EP(e){return e<0?-1:1}function TP(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),o=(s*a+i*n)/(n+a);return(EP(s)+EP(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function _P(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function AP(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,i-o*r,s,i)}function IP(e){this._context=e}function PP(e){this._context=new DP(e)}function DP(e){this._context=e}function OP(e){this._context=e}function LP(e){var t,r,n=e.length-1,a=new Array(n),s=new Array(n),i=new Array(n);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,i[t]-=r*i[t-1];for(a[n-1]=i[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function RP(e,t){this._context=e,this._t=t}function MP(e,t){if((a=e.length)>1)for(var r,n,a,s=1,i=e[t[0]],o=i.length;s<a;++s)for(n=i,i=e[t[s]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function FP(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function $P(e,t){return e[t]}function BP(e){const t=[];return t.key=e,t}NP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},SP.prototype={areaStart:wP,areaEnd:wP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},kP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},CP.prototype={areaStart:wP,areaEnd:wP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},IP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:AP(this,this._t0,_P(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,AP(this,_P(this,r=TP(this,e,t)),r);break;default:AP(this,this._t0,r=TP(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(PP.prototype=Object.create(IP.prototype)).point=function(e,t){IP.prototype.point.call(this,t,e)},DP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}},OP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=LP(e),a=LP(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},RP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var UP=["type","size","sizeType"];function zP(){return zP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zP.apply(null,arguments)}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function WP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(t){qP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var HP={symbolCircle:aP,symbolCross:sP,symbolDiamond:lP,symbolSquare:cP,symbolStar:mP,symbolTriangle:pP,symbolWye:yP},QP=Math.PI/180,GP=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=WP(WP({},function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,UP)),{},{type:t,size:r,sizeType:n}),s="circle";"string"==typeof t&&(s=t);var o,l,{className:c,cx:d,cy:u}=a,h=_I(a,!0);return d===+d&&u===+u&&r===+r?ee.createElement("path",zP({},h,{className:AA("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:(o=(e=>{var t="symbol".concat(fI(e));return HP[t]||aP})(s),l=function(e,t){let r=null,n=YI(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"==typeof e?e:MI(e||aP),t="function"==typeof t?t:MI(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:MI(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:MI(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(o).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*QP;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*i(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,n,s)),l())})):null};function YP(){return YP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YP.apply(null,arguments)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function XP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}GP.registerSymbol=(e,t)=>{HP["symbol".concat(fI(e))]=t};var ZP=32;class JP extends ee.PureComponent{renderIcon(e,t){var{inactiveColor:r}=this.props,n=16,a=ZP/6,s=ZP/3,i=e.inactive?r:e.color,o=null!=t?t:e.type;if("none"===o)return null;if("plainline"===o)return ee.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:ZP,y2:n,className:"recharts-legend-icon"});if("line"===o)return ee.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(n,"h").concat(s,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(n,"\n            H").concat(ZP,"M").concat(2*s,",").concat(n,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(n),className:"recharts-legend-icon"});if("rect"===o)return ee.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(ZP,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(ee.isValidElement(e.legendIcon)){var l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(t){XP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete l.legendIcon,ee.cloneElement(e.legendIcon,l)}return ee.createElement(GP,{fill:i,cx:n,cy:n,size:ZP,sizeType:"diameter",type:o})}renderItems(){var{payload:e,iconSize:t,layout:r,formatter:n,inactiveColor:a,iconType:s}=this.props,i={x:0,y:0,width:ZP,height:ZP},o={display:"horizontal"===r?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var c=e.formatter||n,d=AA({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var u=e.inactive?a:e.color,h=c?c(e.value,e,r):e.value;return ee.createElement("li",YP({className:d,style:o,key:"legend-item-".concat(r)},yI(this.props,e,r)),ee.createElement(PI,{width:t,height:t,viewBox:i,style:l,"aria-label":"".concat(h," legend icon")},this.renderIcon(e,s)),ee.createElement("span",{className:"recharts-legend-item-text",style:{color:u}},h))})}render(){var{payload:e,layout:t,align:r}=this.props;if(!e||!e.length)return null;var n={padding:0,margin:0,textAlign:"horizontal"===t?r:"left"};return ee.createElement("ul",{className:"recharts-default-legend",style:n},this.renderItems())}}XP(JP,"displayName","Legend"),XP(JP,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var eD={},tD={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.uniqBy=function(e,t){const r=new Map;for(let n=0;n<e.length;n++){const a=e[n],s=t(a);r.has(s)||r.set(s,a)}return Array.from(r.values())}}(tD);var rD={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.identity=function(e){return e}}(rD);var nD={},aD={},sD={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}}(sD),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sD;e.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&t.isLength(e.length)}}(aD);var iD={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObjectLike=function(e){return"object"==typeof e&&null!==e}}(iD),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aD,r=iD;e.isArrayLikeObject=function(e){return r.isObjectLike(e)&&t.isArrayLike(e)}}(nD);var oD={},lD={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PA;e.property=function(e){return function(r){return t.get(r,e)}}}(lD);var cD={},dD={},uD={},hD={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}}(hD);var mD={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}}(mD);var fD,pD,gD={};function xD(){return fD||(fD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bD(),r=hD,n=mD,a=gD;function s(e,t,c,d){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,a){if(null==t)return!0;if(Array.isArray(t))return i(e,t,r,a);if(t instanceof Map)return function(e,t,r,n){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,s]of t.entries()){if(!1===r(e.get(a),s,a,e,t,n))return!1}return!0}(e,t,r,a);if(t instanceof Set)return o(e,t,r,a);const s=Object.keys(t);if(null==e)return 0===s.length;if(0===s.length)return!0;if(a&&a.has(t))return a.get(t)===e;a&&a.set(t,e);try{for(let i=0;i<s.length;i++){const o=s[i];if(!n.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!r(e[o],t[o],o,e,t,a))return!1}return!0}finally{a&&a.delete(t)}}(e,t,c,d);case"function":return Object.keys(t).length>0?s(e,l({},t),c,d):a.eq(e,t);default:return r.isObject(e)?"string"!=typeof t||""===t:a.eq(e,t)}}function i(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let s=0;s<t.length;s++){const i=t[s];let o=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(r(e[l],i,s,e,t,n)&&(c=!0),c){a.add(l),o=!0;break}}if(!o)return!1}return!0}function o(e,t,r,n){return 0===t.size||e instanceof Set&&i([...e],[...t],r,n)}e.isMatchWith=function(e,r,n){return"function"!=typeof n?t.isMatch(e,r):s(e,r,function e(t,r,a,i,o,l){const c=n(t,r,a,i,o,l);return void 0!==c?Boolean(c):s(t,r,e,l)},new Map)},e.isSetMatch=o}(uD)),uD}function bD(){return pD||(pD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xD();e.isMatch=function(e,r){return t.isMatchWith(e,r,()=>{})}}(dD)),dD}!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}(gD);var vD={},yD={},wD={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}}(wD);var jD={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}}(jD);var ND={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.argumentsTag="[object Arguments]",e.arrayBufferTag="[object ArrayBuffer]",e.arrayTag="[object Array]",e.bigInt64ArrayTag="[object BigInt64Array]",e.bigUint64ArrayTag="[object BigUint64Array]",e.booleanTag="[object Boolean]",e.dataViewTag="[object DataView]",e.dateTag="[object Date]",e.errorTag="[object Error]",e.float32ArrayTag="[object Float32Array]",e.float64ArrayTag="[object Float64Array]",e.functionTag="[object Function]",e.int16ArrayTag="[object Int16Array]",e.int32ArrayTag="[object Int32Array]",e.int8ArrayTag="[object Int8Array]",e.mapTag="[object Map]",e.numberTag="[object Number]",e.objectTag="[object Object]",e.regexpTag="[object RegExp]",e.setTag="[object Set]",e.stringTag="[object String]",e.symbolTag="[object Symbol]",e.uint16ArrayTag="[object Uint16Array]",e.uint32ArrayTag="[object Uint32Array]",e.uint8ArrayTag="[object Uint8Array]",e.uint8ClampedArrayTag="[object Uint8ClampedArray]"}(ND);var SD={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}}(SD),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wD,r=jD,n=ND,a=mD,s=SD;function i(e,t,l,c=new Map,d=void 0){const u=null==d?void 0:d(e,t,l,c);if(void 0!==u)return u;if(a.isPrimitive(e))return e;if(c.has(e))return c.get(e);if(Array.isArray(e)){const t=new Array(e.length);c.set(e,t);for(let r=0;r<e.length;r++)t[r]=i(e[r],r,l,c,d);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;c.set(e,t);for(const[r,n]of e)t.set(r,i(n,r,l,c,d));return t}if(e instanceof Set){const t=new Set;c.set(e,t);for(const r of e)t.add(i(r,void 0,l,c,d));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);c.set(e,t);for(let r=0;r<e.length;r++)t[r]=i(e[r],r,l,c,d);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return c.set(e,t),o(t,e,l,c,d),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return c.set(e,t),o(t,e,l,c,d),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return c.set(e,t),o(t,e,l,c,d),t}if(e instanceof Error){const t=new e.constructor;return c.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,o(t,e,l,c,d),t}if("object"==typeof e&&function(e){switch(r.getTag(e)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return c.set(e,t),o(t,e,l,c,d),t}return e}function o(e,r,n=e,a,s){const o=[...Object.keys(r),...t.getSymbols(r)];for(let t=0;t<o.length;t++){const l=o[t],c=Object.getOwnPropertyDescriptor(e,l);(null==c||c.writable)&&(e[l]=i(r[l],l,n,a,s))}}e.cloneDeepWith=function(e,t){return i(e,void 0,e,new Map,t)},e.cloneDeepWithImpl=i,e.copyProperties=o}(yD),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yD;e.cloneDeep=function(e){return t.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}}(vD),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bD(),r=vD;e.matches=function(e){return e=r.cloneDeep(e),r=>t.isMatch(r,e)}}(cD);var kD={},CD={},ED={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yD,r=ND;e.cloneDeepWith=function(e,n){return t.cloneDeepWith(e,(a,s,i,o)=>{const l=null==n?void 0:n(a,s,i,o);if(void 0!==l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case r.numberTag:case r.stringTag:case r.booleanTag:{const r=new e.constructor(null==e?void 0:e.valueOf());return t.copyProperties(r,e),r}case r.argumentsTag:{const r={};return t.copyProperties(r,e),r.length=e.length,r[Symbol.iterator]=e[Symbol.iterator],r}default:return}})}}(ED),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ED;e.cloneDeep=function(e){return t.cloneDeepWith(e)}}(CD);var TD={},_D={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;e.isIndex=function(e,r=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<r;case"symbol":return!1;case"string":return t.test(e)}}}(_D);var AD={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jD;e.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===t.getTag(e)}}(AD),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OA,r=_D,n=AD,a=RA;e.has=function(e,s){let i;if(i=Array.isArray(s)?s:"string"==typeof s&&t.isDeepKey(s)&&null==(null==e?void 0:e[s])?a.toPath(s):[s],0===i.length)return!1;let o=e;for(let t=0;t<i.length;t++){const e=i[t];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||n.isArguments(o))&&r.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}}(TD),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bD(),r=LA,n=CD,a=PA,s=TD;e.matchesProperty=function(e,i){switch(typeof e){case"object":Object.is(null==e?void 0:e.valueOf(),-0)&&(e="-0");break;case"number":e=r.toKey(e)}return i=n.cloneDeep(i),function(r){const n=a.get(r,e);return void 0===n?s.has(r,e):void 0===i?void 0===n:t.isMatch(n,i)}}}(kD),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rD,r=lD,n=cD,a=kD;e.iteratee=function(e){if(null==e)return t.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?a.matchesProperty(e[0],e[1]):n.matches(e);case"string":case"symbol":case"number":return r.property(e)}}}(oD),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tD,r=rD,n=nD,a=oD;e.uniqBy=function(e,s=r.identity){return n.isArrayLikeObject(e)?t.uniqBy(Array.from(e),a.iteratee(s)):[]}}(eD);const ID=f(eD.uniqBy);function PD(e,t,r){return!0===t?ID(e,r):"function"==typeof t?ID(e,t):e}var DD={exports:{}},OD={},LD={exports:{}},RD={},MD=ee;var FD="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},$D=MD.useState,BD=MD.useEffect,UD=MD.useLayoutEffect,zD=MD.useDebugValue;function VD(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!FD(e,r)}catch(n){return!0}}var WD="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=$D({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return UD(function(){a.value=r,a.getSnapshot=t,VD(a)&&s({inst:a})},[e,r,t]),BD(function(){return VD(a)&&s({inst:a}),e(function(){VD(a)&&s({inst:a})})},[e]),zD(r),r};RD.useSyncExternalStore=void 0!==MD.useSyncExternalStore?MD.useSyncExternalStore:WD,LD.exports=RD;var qD=LD.exports,HD=ee,QD=qD;
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GD="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},YD=QD.useSyncExternalStore,KD=HD.useRef,XD=HD.useEffect,ZD=HD.useMemo,JD=HD.useDebugValue;OD.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=KD(null);if(null===s.current){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=ZD(function(){function e(e){if(!l){if(l=!0,s=e,e=n(e),void 0!==a&&i.hasValue){var t=i.value;if(a(t,e))return o=t}return o=e}if(t=o,GD(s,e))return t;var r=n(e);return void 0!==a&&a(t,r)?(s=e,t):(s=e,o=r)}var s,o,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,a]);var o=YD(e,s[0],s[1]);return XD(function(){i.hasValue=!0,i.value=o},[o]),JD(o),o},DD.exports=OD;var eO=DD.exports,tO=ee.createContext(null),rO=e=>e,nO=()=>{var e=ee.useContext(tO);return e?e.store.dispatch:rO},aO=()=>{},sO=()=>aO,iO=(e,t)=>e===t;function oO(e){var t=ee.useContext(tO);return eO.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:sO,t?t.store.getState:aO,t?t.store.getState:aO,t?e:aO,iO)}var lO=e=>Array.isArray(e)?e:[e];function cO(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const r=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var dO="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function uO(){return{s:0,v:void 0,o:null,p:null}}function hO(e,t={}){let r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let a,s=0;function i(){var t,i;let o=r;const{length:l}=arguments;for(let e=0,r=l;e<r;e++){const t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=o.o;null===e&&(o.o=e=new WeakMap);const r=e.get(t);void 0===r?(o=uO(),e.set(t,o)):o=r}else{let e=o.p;null===e&&(o.p=e=new Map);const r=e.get(t);void 0===r?(o=uO(),e.set(t,o)):o=r}}const c=o;let d;if(1===o.s)d=o.v;else if(d=e.apply(null,arguments),s++,n){const e=null!=(i=null==(t=null==a?void 0:a.deref)?void 0:t.call(a))?i:a;null!=e&&n(e,d)&&(d=e,0!==s&&s--);a="object"==typeof d&&null!==d||"function"==typeof d?new dO(d):d}return c.s=1,c.v=d,d}return i.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function mO(e,...t){const r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,n=(...e)=>{let t,n=0,a=0,s={},i=e.pop();"object"==typeof i&&(s=i,i=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(i,`createSelector expects an output function after the inputs, but received: [${typeof i}]`);const o=l(l({},r),s),{memoize:c,memoizeOptions:d=[],argsMemoize:u=hO,argsMemoizeOptions:h=[]}=o,m=lO(d),f=lO(h),p=cO(e),g=c(function(){return n++,i.apply(null,arguments)},...m),x=u(function(){a++;const e=function(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}(p,arguments);return t=g.apply(null,e),t},...f);return Object.assign(x,{resultFunc:i,memoizedResultFunc:g,dependencies:p,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>t,recomputations:()=>n,resetRecomputations:()=>{n=0},memoize:c,argsMemoize:u})};return Object.assign(n,{withTypes:()=>n}),n}var fO=mO(hO),pO=Object.assign((e,t=fO)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const r=Object.keys(e);return t(r.map(t=>e[t]),(...e)=>e.reduce((e,t,n)=>(e[r[n]]=t,e),{}))},{withTypes:()=>pO}),gO={},xO={},bO={};!function(e){function t(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.compareValues=(e,r,n)=>{if(e!==r){const a=t(e),s=t(r);if(a===s&&0===a){if(e<r)return"desc"===n?1:-1;if(e>r)return"desc"===n?-1:1}return"desc"===n?s-a:a-s}return 0}}(bO);var vO={},yO={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}}(yO),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yO,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;e.isKey=function(e,a){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!t.isSymbol(e))||("string"==typeof e&&(n.test(e)||!r.test(e))||null!=a&&Object.hasOwn(a,e)))}}(vO),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bO,r=vO,n=RA;e.orderBy=function(e,a,s,i){if(null==e)return[];s=i?void 0:s,Array.isArray(e)||(e=Object.values(e)),Array.isArray(a)||(a=null==a?[null]:[a]),0===a.length&&(a=[null]),Array.isArray(s)||(s=null==s?[]:[s]),s=s.map(e=>String(e));const o=(e,t)=>{let r=e;for(let n=0;n<t.length&&null!=r;++n)r=r[t[n]];return r},l=a.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||r.isKey(e)?e:{key:e,path:n.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?o(t,e):"object"==typeof t?t[e]:t)(t,e))})).slice().sort((e,r)=>{for(let n=0;n<l.length;n++){const a=t.compareValues(e.criteria[n],r.criteria[n],s[n]);if(0!==a)return a}return 0}).map(e=>e.original)}}(xO);var wO={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.flatten=function(e,t=1){const r=[],n=Math.floor(t),a=(e,t)=>{for(let s=0;s<e.length;s++){const i=e[s];Array.isArray(i)&&t<n?a(i,t+1):r.push(i)}};return a(e,0),r}}(wO);var jO={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_D,r=aD,n=hD,a=gD;e.isIterateeCall=function(e,s,i){return!!n.isObject(i)&&(!!("number"==typeof s&&r.isArrayLike(i)&&t.isIndex(s)&&s<i.length||"string"==typeof s&&s in i)&&a.eq(i[s],e))}}(jO),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xO,r=wO,n=jO;e.sortBy=function(e,...a){const s=a.length;return s>1&&n.isIterateeCall(e,a[0],a[1])?a=[]:s>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(e,r.flatten(a),["asc"])}}(gO);const NO=f(gO.sortBy);var SO=e=>e.legend.settings,kO=fO([e=>e.legend.payload,SO],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?NO(n,r):n});function CO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,r]=ee.useState({height:0,left:0,top:0,width:0}),n=ee.useCallback(e=>{if(null!=e){var n=e.getBoundingClientRect(),a={height:n.height,left:n.left,top:n.top,width:n.width};(Math.abs(a.height-t.height)>1||Math.abs(a.left-t.left)>1||Math.abs(a.top-t.top)>1||Math.abs(a.width-t.width)>1)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function EO(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TO=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),_O=()=>Math.random().toString(36).substring(7).split("").join("."),AO={INIT:`@@redux/INIT${_O()}`,REPLACE:`@@redux/REPLACE${_O()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_O()}`};function IO(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function PO(e,t,r){if("function"!=typeof e)throw new Error(EO(2));if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(EO(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(EO(1));return r(PO)(e,t)}let n=e,a=t,s=new Map,i=s,o=0,l=!1;function c(){i===s&&(i=new Map,s.forEach((e,t)=>{i.set(t,e)}))}function d(){if(l)throw new Error(EO(3));return a}function u(e){if("function"!=typeof e)throw new Error(EO(4));if(l)throw new Error(EO(5));let t=!0;c();const r=o++;return i.set(r,e),function(){if(t){if(l)throw new Error(EO(6));t=!1,c(),i.delete(r),s=null}}}function h(e){if(!IO(e))throw new Error(EO(7));if(void 0===e.type)throw new Error(EO(8));if("string"!=typeof e.type)throw new Error(EO(17));if(l)throw new Error(EO(9));try{l=!0,a=n(a,e)}finally{l=!1}return(s=i).forEach(e=>{e()}),e}h({type:AO.INIT});return{dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(EO(10));n=e,h({type:AO.REPLACE})},[TO]:function(){const e=u;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(EO(11));function r(){const e=t;e.next&&e.next(d())}r();return{unsubscribe:e(r)}},[TO](){return this}}}}}function DO(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const n=t[s];"function"==typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let a;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if(void 0===r(void 0,{type:AO.INIT}))throw new Error(EO(12));if(void 0===r(void 0,{type:AO.PROBE_UNKNOWN_ACTION()}))throw new Error(EO(13))})}(r)}catch(xJ){a=xJ}return function(e={},t){if(a)throw a;let s=!1;const i={};for(let a=0;a<n.length;a++){const o=n[a],l=r[o],c=e[o],d=l(c,t);if(void 0===d)throw t&&t.type,new Error(EO(14));i[o]=d,s=s||d!==c}return s=s||n.length!==Object.keys(e).length,s?i:e}}function OO(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function LO(e){return IO(e)&&"type"in e&&"string"==typeof e.type}var RO=Symbol.for("immer-nothing"),MO=Symbol.for("immer-draftable"),FO=Symbol.for("immer-state");function $O(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var BO=Object.getPrototypeOf;function UO(e){return!!e&&!!e[FO]}function zO(e){var t;return!!e&&(WO(e)||Array.isArray(e)||!!e[MO]||!!(null==(t=e.constructor)?void 0:t[MO])||YO(e)||KO(e))}var VO=Object.prototype.constructor.toString();function WO(e){if(!e||"object"!=typeof e)return!1;const t=BO(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===VO}function qO(e,t){0===HO(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function HO(e){const t=e[FO];return t?t.type_:Array.isArray(e)?1:YO(e)?2:KO(e)?3:0}function QO(e,t){return 2===HO(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function GO(e,t,r){const n=HO(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function YO(e){return e instanceof Map}function KO(e){return e instanceof Set}function XO(e){return e.copy_||e.base_}function ZO(e,t){if(YO(e))return new Map(e);if(KO(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=WO(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[FO];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const a=r[n],s=t[a];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(BO(e),t)}{const t=BO(e);if(null!==t&&r)return l({},e);const n=Object.create(t);return Object.assign(n,e)}}function JO(e,t=!1){return tL(e)||UO(e)||!zO(e)||(HO(e)>1&&Object.defineProperties(e,{set:{value:eL},add:{value:eL},clear:{value:eL},delete:{value:eL}}),Object.freeze(e),t&&Object.values(e).forEach(e=>JO(e,!0))),e}function eL(){$O(2)}function tL(e){return Object.isFrozen(e)}var rL,nL={};function aL(e){const t=nL[e];return t||$O(0),t}function sL(){return rL}function iL(e,t){t&&(aL("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function oL(e){lL(e),e.drafts_.forEach(dL),e.drafts_=null}function lL(e){e===rL&&(rL=e.parent_)}function cL(e){return rL={drafts_:[],parent_:rL,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function dL(e){const t=e[FO];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function uL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[FO].modified_&&(oL(t),$O(4)),zO(e)&&(e=hL(t,e),t.parent_||fL(t,e)),t.patches_&&aL("Patches").generateReplacementPatches_(r[FO].base_,e,t.patches_,t.inversePatches_)):e=hL(t,r,[]),oL(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RO?e:void 0}function hL(e,t,r){if(tL(t))return t;const n=t[FO];if(!n)return qO(t,(a,s)=>mL(e,n,t,a,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return fL(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let a=t,s=!1;3===n.type_&&(a=new Set(t),t.clear(),s=!0),qO(a,(a,i)=>mL(e,n,t,a,i,r,s)),fL(e,t,!1),r&&e.patches_&&aL("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function mL(e,t,r,n,a,s,i){if(UO(a)){const i=hL(e,a,s&&t&&3!==t.type_&&!QO(t.assigned_,n)?s.concat(n):void 0);if(GO(r,n,i),!UO(i))return;e.canAutoFreeze_=!1}else i&&r.add(a);if(zO(a)&&!tL(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;hL(e,a),t&&t.scope_.parent_||"symbol"==typeof n||!(YO(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))||fL(e,a)}}function fL(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&JO(t,r)}var pL={get(e,t){if(t===FO)return e;const r=XO(e);if(!QO(r,t))return function(e,t,r){var n;const a=bL(t,r);return a?"value"in a?a.value:null==(n=a.get)?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!zO(n)?n:n===xL(e.base_,t)?(yL(e),e.copy_[t]=wL(n,e)):n},has:(e,t)=>t in XO(e),ownKeys:e=>Reflect.ownKeys(XO(e)),set(e,t,r){const n=bL(XO(e),t);if(null==n?void 0:n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=xL(XO(e),t),i=null==n?void 0:n[FO];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((a=r)===(s=n)?0!==a||1/a==1/s:a!=a&&s!=s)&&(void 0!==r||QO(e.base_,t)))return!0;yL(e),vL(e)}var a,s;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==xL(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,yL(e),vL(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=XO(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){$O(11)},getPrototypeOf:e=>BO(e.base_),setPrototypeOf(){$O(12)}},gL={};function xL(e,t){const r=e[FO];return(r?XO(r):e)[t]}function bL(e,t){if(!(t in e))return;let r=BO(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=BO(r)}}function vL(e){e.modified_||(e.modified_=!0,e.parent_&&vL(e.parent_))}function yL(e){e.copy_||(e.copy_=ZO(e.base_,e.scope_.immer_.useStrictShallowCopy_))}qO(pL,(e,t)=>{gL[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),gL.deleteProperty=function(e,t){return gL.set.call(this,e,t,void 0)},gL.set=function(e,t,r){return pL.set.call(this,e[0],t,r,e[0])};function wL(e,t){const r=YO(e)?aL("MapSet").proxyMap_(e,t):KO(e)?aL("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:sL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=pL;r&&(a=[n],s=gL);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}(e,t);return(t?t.scope_:sL()).drafts_.push(r),r}function jL(e){return UO(e)||$O(10),NL(e)}function NL(e){if(!zO(e)||tL(e))return e;const t=e[FO];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ZO(e,t.scope_.immer_.useStrictShallowCopy_)}else r=ZO(e,!0);return qO(r,(e,t)=>{GO(r,e,NL(t))}),t&&(t.finalized_=!1),r}var SL=(new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){const r=t;t=e;const n=this;return function(e=r,...a){return n.produce(e,e=>t.call(this,e,...a))}}let n;if("function"!=typeof t&&$O(6),void 0!==r&&"function"!=typeof r&&$O(7),zO(e)){const a=cL(this),s=wL(e,void 0);let i=!0;try{n=t(s),i=!1}finally{i?oL(a):lL(a)}return iL(a,r),uL(n,a)}if(!e||"object"!=typeof e){if(n=t(e),void 0===n&&(n=e),n===RO&&(n=void 0),this.autoFreeze_&&JO(n,!0),r){const t=[],a=[];aL("Patches").generateReplacementPatches_(e,n,t,a),r(t,a)}return n}$O(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,t=>e(t,...r));let r,n;return[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){zO(e)||$O(8),UO(e)&&(e=jL(e));const t=cL(this),r=wL(e,void 0);return r[FO].isManual_=!0,lL(t),r}finishDraft(e,t){const r=e&&e[FO];r&&r.isManual_||$O(9);const{scope_:n}=r;return iL(n,t),uL(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=aL("Patches").applyPatches_;return UO(e)?n(e,t):this.produce(e,e=>n(e,t))}}).produce;function kL(e){return({dispatch:t,getState:r})=>n=>a=>"function"==typeof a?a(t,r,e):n(a)}var CL=kL(),EL=kL,TL="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?OO:OO.apply(null,arguments)};function _L(e,t){function r(...r){if(t){let n=t(...r);if(!n)throw new Error(jR(0));return l(l({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:r[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>LO(t)&&t.type===e,r}var AL=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function IL(e){return zO(e)?SL(e,()=>{}):e}function PL(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var DL=e=>t=>{setTimeout(t,e)},OL=e=>function(t){const{autoBatch:r=!0}=null!=t?t:{};let n=new AL(e);return r&&n.push(((e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const o=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:DL(10):"callback"===e.type?e.queueNotification:DL(e.timeout),c=()=>{i=!1,s&&(s=!1,o.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>a&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){var t;try{return a=!(null==(t=null==e?void 0:e.meta)?void 0:t.RTK_autoBatch),s=!a,s&&(i||(i=!0,l(c))),n.dispatch(e)}finally{a=!0}}})})("object"==typeof r?r:void 0)),n};function LL(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:a=!0}=null!=e?e:{};let s=new AL;return t&&("boolean"==typeof t?s.push(CL):s.push(EL(t.extraArgument))),s},{reducer:r,middleware:n,devTools:a=!0,preloadedState:s,enhancers:i}=e||{};let o,d;if("function"==typeof r)o=r;else{if(!IO(r))throw new Error(jR(1));o=DO(r)}d="function"==typeof n?n(t):t();let u=OO;a&&(u=TL(l({trace:!1},"object"==typeof a&&a)));const h=function(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(EO(15))};const i={getState:a.getState,dispatch:(e,...t)=>s(e,...t)},o=e.map(e=>e(i));return s=OO(...o)(a.dispatch),c(l({},a),{dispatch:s})}}(...d),m=OL(h);return PO(o,s,u(..."function"==typeof i?i(m):m()))}function RL(e){const t={},r=[];let n;const a={addCase(e,r){const n="string"==typeof e?e:e.type;if(!n)throw new Error(jR(28));if(n in t)throw new Error(jR(29));return t[n]=r,a},addAsyncThunk:(e,n)=>(n.pending&&(t[e.pending.type]=n.pending),n.rejected&&(t[e.rejected.type]=n.rejected),n.fulfilled&&(t[e.fulfilled.type]=n.fulfilled),n.settled&&r.push({matcher:e.settled,reducer:n.settled}),a),addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(n=e,a)};return e(a),[t,r,n]}var ML=(e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},FL=Symbol.for("rtk-slice-createasyncthunk");function $L(e,t){return`${e}/${t}`}function BL({creators:e}={}){var t;const r=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[FL];return function(e){const{name:t,reducerPath:n=t}=e;if(!t)throw new Error(jR(11));const a=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return l({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(a),i={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const r="string"==typeof e?e:e.type;if(!r)throw new Error(jR(12));if(r in i.sliceCaseReducersByType)throw new Error(jR(13));return i.sliceCaseReducersByType[r]=t,o},addMatcher:(e,t)=>(i.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(i.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(i.sliceCaseReducersByName[e]=t,o)};function u(){const[t={},r=[],n]="function"==typeof e.extraReducers?RL(e.extraReducers):[e.extraReducers],a=l(l({},t),i.sliceCaseReducersByType);return function(e,t){let r,[n,a,s]=RL(t);if("function"==typeof e)r=()=>IL(e());else{const t=IL(e);r=()=>t}function i(e=r(),t){let i=[n[t.type],...a.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===i.filter(e=>!!e).length&&(i=[s]),i.reduce((e,r)=>{if(r){if(UO(e)){const n=r(e,t);return void 0===n?e:n}if(zO(e))return SL(e,e=>r(e,t));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return i.getInitialState=r,i}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of i.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}s.forEach(n=>{const s=a[n],i={reducerName:n,type:$L(t,n),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(n))throw new Error(jR(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?_L(e,i):_L(e))}(i,s,o):function({type:e,reducerName:t},r,n,a){if(!a)throw new Error(jR(18));const{payloadCreator:s,fulfilled:i,pending:o,rejected:l,settled:c,options:d}=r,u=a(e,s,d);n.exposeAction(t,u),i&&n.addCase(u.fulfilled,i);o&&n.addCase(u.pending,o);l&&n.addCase(u.rejected,l);c&&n.addMatcher(u.settled,c);n.exposeCaseReducer(t,{fulfilled:i||VL,pending:o||VL,rejected:l||VL,settled:c||VL})}(i,s,o,r)});const h=e=>e,m=new Map,f=new WeakMap;let p;function g(e,t){return p||(p=u()),p(e,t)}function x(){return p||(p=u()),p.getInitialState()}function b(t,r=!1){function n(e){let a=e[t];return void 0===a&&r&&(a=PL(f,n,x)),a}function a(t=h){const n=PL(m,r,()=>new WeakMap);return PL(n,t,()=>{var n;const a={};for(const[s,i]of Object.entries(null!=(n=e.selectors)?n:{}))a[s]=UL(i,t,()=>PL(f,t,x),r);return a})}return{reducerPath:t,getSelectors:a,get selectors(){return a(n)},selectSlice:n}}const v=c(l({name:t,reducer:g,actions:i.actionCreators,caseReducers:i.sliceCaseReducersByName,getInitialState:x},b(n)),{injectInto(e,t={}){var r=t,{reducerPath:a}=r,s=d(r,["reducerPath"]);const i=null!=a?a:n;return e.inject({reducerPath:i,reducer:g},s),l(l({},v),b(i,!0))}});return v}}function UL(e,t,r,n){function a(a,...s){let i=t(a);return void 0===i&&n&&(i=r()),e(i,...s)}return a.unwrapped=e,a}var zL=BL();function VL(){}var WL="listener",qL="completed",HL="cancelled",QL=`task-${HL}`,GL=`task-${qL}`,YL=`${WL}-${HL}`,KL=`${WL}-${qL}`,XL=class{constructor(e){u(this,"name","TaskAbortError"),u(this,"message"),this.code=e,this.message=`task ${HL} (reason: ${e})`}},ZL=(e,t)=>{if("function"!=typeof e)throw new TypeError(jR(32))},JL=()=>{},eR=(e,t=JL)=>(e.catch(t),e),tR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),rR=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},nR=e=>{if(e.aborted){const{reason:t}=e;throw new XL(t)}};function aR(e,t){let r=JL;return new Promise((n,a)=>{const s=()=>a(new XL(e.reason));e.aborted?s():(r=tR(e,s),t.finally(()=>r()).then(n,a))}).finally(()=>{r=JL})}var sR=e=>t=>eR(aR(e,t).then(t=>(nR(e),t))),iR=e=>{const t=sR(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:oR}=Object,lR={},cR="listenerMiddleware",dR=(e,t)=>(r,n)=>{ZL(r);const a=new AbortController;var s;s=a,tR(e,()=>rR(s,e.reason));const i=(o=()=>h(void 0,null,function*(){nR(e),nR(a.signal);const t=yield r({pause:sR(a.signal),delay:iR(a.signal),signal:a.signal});return nR(a.signal),t}),l=()=>rR(a,GL),h(void 0,null,function*(){try{return yield Promise.resolve(),{status:"ok",value:yield o()}}catch(e){return{status:e instanceof XL?"cancelled":"rejected",error:e}}finally{null==l||l()}}));var o,l;return(null==n?void 0:n.autoJoin)&&t.push(i.catch(JL)),{result:sR(e)(i),cancel(){rR(a,QL)}}},uR=(e,t)=>(r,n)=>eR(((r,n)=>h(void 0,null,function*(){nR(t);let a=()=>{};const s=[new Promise((t,n)=>{let s=e({predicate:r,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});a=()=>{s(),n()}})];null!=n&&s.push(new Promise(e=>setTimeout(e,n,null)));try{const e=yield aR(t,Promise.race(s));return nR(t),e}finally{a()}}))(r,n)),hR=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=_L(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(jR(21));return ZL(s),{predicate:a,type:t,effect:s}},mR=oR(e=>{const{type:t,predicate:r,effect:n}=hR(e);return{id:ML(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(jR(22))}}},{withTypes:()=>mR}),fR=(e,t)=>{const{type:r,effect:n,predicate:a}=hR(t);return Array.from(e.values()).find(e=>("string"==typeof r?e.type===r:e.predicate===a)&&e.effect===n)},pR=e=>{e.pending.forEach(e=>{rR(e,YL)})},gR=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},xR=oR(_L(`${cR}/add`),{withTypes:()=>xR}),bR=_L(`${cR}/removeAll`),vR=oR(_L(`${cR}/remove`),{withTypes:()=>vR}),yR=(...e)=>{console.error(`${cR}/error`,...e)},wR=(e={})=>{const t=new Map,{extra:r,onError:n=yR}=e;ZL(n);const a=e=>{var r;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),(null==t?void 0:t.cancelActive)&&pR(e)}))(null!=(r=fR(t,e))?r:mR(e))};oR(a,{withTypes:()=>a});const s=e=>{const r=fR(t,e);return r&&(r.unsubscribe(),e.cancelActive&&pR(r)),!!r};oR(s,{withTypes:()=>s});const i=(e,s,i,o)=>h(void 0,null,function*(){const l=new AbortController,c=uR(a,l.signal),d=[];try{e.pending.add(l),yield Promise.resolve(e.effect(s,oR({},i,{getOriginalState:o,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:iR(l.signal),pause:sR(l.signal),extra:r,signal:l.signal,fork:dR(l.signal,d),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==l&&(rR(e,YL),r.delete(e))})},cancel:()=>{rR(l,YL),e.pending.delete(l)},throwIfCancelled:()=>{nR(l.signal)}})))}catch(u){u instanceof XL||gR(n,u,{raisedBy:"effect"})}finally{yield Promise.all(d),rR(l,KL),e.pending.delete(l)}}),o=(e=>()=>{e.forEach(pR),e.clear()})(t);return{middleware:e=>r=>l=>{if(!LO(l))return r(l);if(xR.match(l))return a(l.payload);if(bR.match(l))return void o();if(vR.match(l))return s(l.payload);let c=e.getState();const d=()=>{if(c===lR)throw new Error(jR(23));return c};let u;try{if(u=r(l),t.size>0){const r=e.getState(),a=Array.from(t.values());for(const t of a){let a=!1;try{a=t.predicate(l,r,c)}catch(h){a=!1,gR(n,h,{raisedBy:"predicate"})}a&&i(t,l,e,d)}}}finally{c=lR}return u},startListening:a,stopListening:s,clearListeners:o}};function jR(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var NR=zL({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=null!==(r=t.payload.top)&&void 0!==r?r:0,e.margin.right=null!==(n=t.payload.right)&&void 0!==n?n:0,e.margin.bottom=null!==(a=t.payload.bottom)&&void 0!==a?a:0,e.margin.left=null!==(s=t.payload.left)&&void 0!==s?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:SR,setLayout:kR,setChartSize:CR,setScale:ER}=NR.actions,TR=NR.reducer;function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function AR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(t){IR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function IR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var PR=Math.PI/180,DR=e=>180*e/Math.PI,OR=(e,t,r,n)=>({x:e+Math.cos(-PR*n)*r,y:t+Math.sin(-PR*n)*r}),LR=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,o=((e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt(i(r-a,2)+i(n-s,2))})({x:r,y:n},{x:a,y:s});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:o,angle:DR(c),angleInRadian:c}},RR=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360);return e+360*Math.min(a,s)},MR=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:s}=LR({x:r,y:n},t),{innerRadius:i,outerRadius:o}=t;if(a<i||a>o)return null;if(0===a)return null;var l,{startAngle:c,endAngle:d}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-360*s,endAngle:r-360*s}})(t),u=s;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;l=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;l=u>=d&&u<=c}return l?AR(AR({},t),{},{radius:a,angle:RR(u,t)}):null};function FR(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(t){UR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function UR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zR(e,t,r){return mI(e)||mI(t)?r:iI(t)?MA(e,t,r):"function"==typeof t?t(e):r}var VR=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,WR=(e,t,r,n)=>{if(n)return e.map(e=>e.coordinate);var a,s,i=e.map(e=>(e.coordinate===t&&(a=!0),e.coordinate===r&&(s=!0),e.coordinate));return a||i.push(t),s||i.push(r),i},qR=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:u,niceTicks:h,axisType:m}=e;if(!i)return null;var f="scaleBand"===o&&i.bandwidth?i.bandwidth()/2:2,p="category"===a&&i.bandwidth?i.bandwidth()/f:0;return p="angleAxis"===m&&s&&s.length>=2?2*rI(s[0]-s[1])*p:p,u||h?(u||h||[]).map((e,t)=>{var r=n?n.indexOf(e):e;return{coordinate:i(r)+p,value:e,offset:p,index:t}}).filter(e=>!nI(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:i(e)+p,value:e,index:t,offset:p})):i.ticks&&null!=d?i.ticks(d).map((e,t)=>({coordinate:i(e)+p,value:e,offset:p,index:t})):i.domain().map((e,t)=>({coordinate:i(e)+p,value:n?n[e]:e,index:t,offset:p}))},HR=1e-4,QR={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var o=nI(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,s=0,i=e[0].length;s<i;++s){for(a=r=0;r<n;++r)a+=e[r][s][1]||0;if(a)for(r=0;r<n;++r)e[r][s][1]/=a}MP(e,t)}},none:MP,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],s=a.length;n<s;++n){for(var i=0,o=0;i<r;++i)o+=e[i][n][1]||0;a[n][1]+=a[n][0]=-o/2}MP(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,s=0,i=1;i<n;++i){for(var o=0,l=0,c=0;o<a;++o){for(var d=e[t[o]],u=d[i][1]||0,h=(u-(d[i-1][1]||0))/2,m=0;m<o;++m){var f=e[t[m]];h+=(f[i][1]||0)-(f[i-1][1]||0)}l+=u,c+=h*u}r[i-1][1]+=r[i-1][0]=s,l&&(s-=c/l)}r[i-1][1]+=r[i-1][0]=s,MP(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=nI(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}}},GR=(e,t,r)=>{var n=QR[r],a=function(){var e=MI([]),t=FP,r=MP,n=$P;function a(a){var s,i,o=Array.from(e.apply(this,arguments),BP),l=o.length,c=-1;for(const e of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(e,o[s].key,c,a)]).data=e;for(s=0,i=KI(t(o));s<l;++s)o[i[s]].index=s;return r(o,i),o}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:MI(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"==typeof e?e:MI(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?FP:"function"==typeof e?e:MI(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?MP:e,a):r},a}().keys(t).value((e,t)=>+zR(e,t,0)).order(FP).offset(n);return a(e)};function YR(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:i}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!mI(a[t.dataKey])){var o=hI(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=zR(a,mI(i)?t.dataKey:i);return mI(l)?null:t.scale(l)}var KR=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if("category"===t.type)return r[i]?r[i].coordinate+n:null;var o=zR(s,t.dataKey,t.scale.domain()[i]);return mI(o)?null:t.scale(o)-a/2+n},XR=(e,t,r)=>{var n;if(null!=e)return[(n=Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:i}=s,o=i.reduce((e,n)=>{var a,s=FR(n,t,r),i=(a=s.flat(2).filter(sI),[Math.min(...a),Math.max(...a)]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]},ZR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eM=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=NO(t,e=>e.coordinate),s=1/0,i=1,o=a.length;i<o;i++){var l=a[i],c=a[i-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function tM(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return BR(BR({},t),{},{dataKey:r,payload:n,value:a,name:s})}function rM(e,t){return e?String(e):"string"==typeof t?t:void 0}var nM=e=>e.layout.width,aM=e=>e.layout.height,sM=e=>e.layout.scale,iM=e=>e.layout.margin,oM=fO(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),lM=fO(e=>e.cartesianAxis.yAxis,e=>Object.values(e));function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(t){uM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hM=fO([nM,aM,iM,e=>e.brush.height,function(e){return lM(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return lM(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return oM(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return oM(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},SO,e=>e.legend.size],(e,t,r,n,a,s,i,o,l,c)=>{var d={left:(r.left||0)+a,right:(r.right||0)+s},u=dM(dM({},{top:(r.top||0)+i,bottom:(r.bottom||0)+o}),d),h=u.bottom;u.bottom+=n,u=((e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===i)&&"center"!==s&&sI(e[s]))return BR(BR({},e),{},{[s]:e[s]+(n||0)});if(("horizontal"===o||"vertical"===o&&"center"===s)&&"middle"!==i&&sI(e[i]))return BR(BR({},e),{},{[i]:e[i]+(a||0)})}return e})(u,l,c);var m=e-u.left-u.right,f=t-u.top-u.bottom;return dM(dM({brushBottom:h},u),{},{width:Math.max(m,0),height:Math.max(f,0)})}),mM=fO(hM,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),fM=fO(nM,aM,(e,t)=>({x:0,y:0,width:e,height:t})),pM=ee.createContext(null),gM=()=>null!=ee.useContext(pM),xM=e=>e.brush,bM=fO([xM,hM,iM],(e,t,r)=>({height:e.height,x:sI(e.x)?e.x:t.left,y:sI(e.y)?e.y:t.top+t.height+t.brushBottom-((null==r?void 0:r.bottom)||0),width:sI(e.width)?e.width:t.width})),vM=()=>{var e,t=gM(),r=oO(mM),n=oO(bM),a=null===(e=oO(xM))||void 0===e?void 0:e.padding;return t&&n&&a?{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}:r},yM={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wM=()=>{var e;return null!==(e=oO(hM))&&void 0!==e?e:yM},jM=()=>oO(nM),NM=()=>oO(aM),SM=e=>e.layout.layoutType,kM=()=>oO(SM),CM=zL({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=jL(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:EM,setLegendSettings:TM,addLegendPayload:_M,removeLegendPayload:AM}=CM.actions,IM=CM.reducer,PM=["contextPayload"];function DM(){return DM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DM.apply(null,arguments)}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function LM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(t){RM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function RM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MM(e){return e.value}function FM(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,PM),n=PD(t,e.payloadUniqBy,MM),a=LM(LM({},r),{},{payload:n});return ee.isValidElement(e.content)?ee.cloneElement(e.content,a):"function"==typeof e.content?ee.createElement(e.content,a):ee.createElement(JP,a)}function $M(e){var t=nO();return ee.useEffect(()=>{t(TM(e))},[t,e]),null}function BM(e){var t=nO();return ee.useEffect(()=>(t(EM(e)),()=>{t(EM({width:0,height:0}))}),[t,e]),null}function UM(e){var t=oO(kO),r=ee.useContext(RI),n=oO(e=>e.layout.margin),{width:a,height:s,wrapperStyle:i,portal:o}=e,[l,c]=CO([t]),d=jM(),u=NM();if(null==d||null==u)return null;var h=d-(n.left||0)-(n.right||0),m=zM.getWidthOrHeight(e.layout,s,a,h),f=o?i:LM(LM({position:"absolute",width:(null==m?void 0:m.width)||a||"auto",height:(null==m?void 0:m.height)||s||"auto"},function(e,t,r,n,a,s){var i,o,{layout:l,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(i="center"===c&&"vertical"===l?{left:((n||0)-s.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===d?{top:((a||0)-s.height)/2}:"bottom"===d?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),LM(LM({},i),o)}(i,e,n,d,u,l)),i),p=null!=o?o:r;if(null==p)return null;var g=ee.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:c},ee.createElement($M,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),ee.createElement(BM,{width:l.width,height:l.height}),ee.createElement(FM,DM({},e,m,{margin:n,chartWidth:d,chartHeight:u,contextPayload:t})));return bu.createPortal(g,p)}class zM extends ee.PureComponent{static getWidthOrHeight(e,t,r,n){return"vertical"===e&&sI(t)?{height:t}:"horizontal"===e?{width:r||n}:null}render(){return ee.createElement(UM,this.props)}}function VM(){return VM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VM.apply(null,arguments)}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(t){HM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QM(e){return Array.isArray(e)&&iI(e[0])&&iI(e[1])?e.join(" ~ "):e}RM(zM,"displayName","Legend"),RM(zM,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var GM=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:u,accessibilityLayer:h=!1}=e,m=qM({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),f=qM({margin:0},a),p=!mI(d),g=p?d:"",x=AA("recharts-default-tooltip",l),b=AA("recharts-tooltip-label",c);p&&u&&null!=s&&(g=u(d,s));var v=h?{role:"status","aria-live":"assertive"}:{};return ee.createElement("div",VM({className:x,style:m},v),ee.createElement("p",{className:b,style:f},ee.isValidElement(g)?g:"".concat(g)),(()=>{if(s&&s.length){var e=(o?NO(s,o):s).map((e,r)=>{if("none"===e.type)return null;var a=e.formatter||i||QM,{value:o,name:l}=e,c=o,d=l;if(a){var u=a(o,l,e,r,s);if(Array.isArray(u))[c,d]=u;else{if(null==u)return null;c=u}}var h=qM({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},n);return ee.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:h},iI(d)?ee.createElement("span",{className:"recharts-tooltip-item-name"},d):null,iI(d)?ee.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,ee.createElement("span",{className:"recharts-tooltip-item-value"},c),ee.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return ee.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},YM="recharts-tooltip-wrapper",KM={visibility:"hidden"};function XM(e){var{coordinate:t,translateX:r,translateY:n}=e;return AA(YM,{["".concat(YM,"-right")]:sI(r)&&t&&sI(t.x)&&r>=t.x,["".concat(YM,"-left")]:sI(r)&&t&&sI(t.x)&&r<t.x,["".concat(YM,"-bottom")]:sI(n)&&t&&sI(t.y)&&n>=t.y,["".concat(YM,"-top")]:sI(n)&&t&&sI(t.y)&&n<t.y})}function ZM(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(s&&sI(s[n]))return s[n];var d=r[n]-o-(a>0?a:0),u=r[n]+a;if(t[n])return i[n]?d:u;var h=l[n];return null==h?0:i[n]?d<h?Math.max(u,h):Math.max(d,h):null==c?0:u+o>h+c?Math.max(d,h):Math.max(u,h)}function JM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JM(Object(r),!0).forEach(function(t){tF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class rF extends ee.PureComponent{constructor(){super(...arguments),tF(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),tF(this,"handleKeyDown",e=>{var t,r,n,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(r=this.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==t?t:0,y:null!==(n=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==n?n:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:n,children:a,coordinate:s,hasPayload:i,isAnimationActive:o,offset:l,position:c,reverseDirection:d,useTranslate3d:u,viewBox:h,wrapperStyle:m,lastBoundingBox:f,innerRef:p,hasPortalFromProps:g}=this.props,{cssClasses:x,cssProperties:b}=function(e){var t,r,n,{allowEscapeViewBox:a,coordinate:s,offsetTopLeft:i,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:u}=e;return t=c.height>0&&c.width>0&&s?function(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=ZM({allowEscapeViewBox:a,coordinate:s,key:"x",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=ZM({allowEscapeViewBox:a,coordinate:s,key:"y",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:d}):KM,{cssProperties:t,cssClasses:XM({translateX:r,translateY:n,coordinate:s})}}({allowEscapeViewBox:t,coordinate:s,offsetTopLeft:l,position:c,reverseDirection:d,tooltipBox:{height:f.height,width:f.width},useTranslate3d:u,viewBox:h}),v=g?{}:eF(eF({transition:o&&e?"transform ".concat(r,"ms ").concat(n):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&i?"visible":"hidden",position:"absolute",top:0,left:0}),y=eF(eF({},v),{},{visibility:!this.state.dismissed&&e&&i?"visible":"hidden"},m);return ee.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:y,ref:p},a)}}var nF=!("undefined"!=typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),aF=()=>oO(e=>e.rootProps.accessibilityLayer);function sF(e){return Number.isFinite(e)}function iF(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function oF(){return oF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oF.apply(null,arguments)}function lF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lF(Object(r),!0).forEach(function(t){dF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uF={curveBasisClosed:function(e){return new SP(e)},curveBasisOpen:function(e){return new kP(e)},curveBasis:function(e){return new NP(e)},curveBumpX:function(e){return new nP(e,!0)},curveBumpY:function(e){return new nP(e,!1)},curveLinearClosed:function(e){return new CP(e)},curveLinear:ZI,curveMonotoneX:function(e){return new IP(e)},curveMonotoneY:function(e){return new PP(e)},curveNatural:function(e){return new OP(e)},curveStep:function(e){return new RP(e,.5)},curveStepAfter:function(e){return new RP(e,1)},curveStepBefore:function(e){return new RP(e,0)}},hF=e=>sF(e.x)&&sF(e.y),mF=e=>e.x,fF=e=>e.y,pF=e=>{var t,{type:r="linear",points:n=[],baseLine:a,layout:s,connectNulls:i=!1}=e,o=((e,t)=>{if("function"==typeof e)return e;var r="curve".concat(fI(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?uF[r]||ZI:uF["".concat(r).concat("vertical"===t?"Y":"X")]})(r,s),l=i?n.filter(hF):n;if(Array.isArray(a)){var c=i?a.filter(e=>hF(e)):a,d=l.map((e,t)=>cF(cF({},e),{},{base:c[t]}));return(t="vertical"===s?rP().y(fF).x1(mF).x0(e=>e.base.x):rP().x(mF).y1(fF).y0(e=>e.base.y)).defined(hF).curve(o),t(d)}return(t="vertical"===s&&sI(a)?rP().y(fF).x1(mF).x0(a):sI(a)?rP().x(mF).y1(fF).y0(a):tP().x(mF).y(fF)).defined(hF).curve(o),t(l)},gF=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if(!(r&&r.length||n))return null;var s=r&&r.length?pF(e):n;return ee.createElement("path",oF({},NI(e),vI(e),{className:AA("recharts-curve",t),d:null===s?void 0:s,ref:a}))},xF=["x","y","top","left","width","height","className"];function bF(){return bF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bF.apply(null,arguments)}function vF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wF=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),jF=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:o}=e,l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vF(Object(r),!0).forEach(function(t){yF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:t,y:r,top:n,left:a,width:s,height:i},function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,xF));return sI(t)&&sI(r)&&sI(s)&&sI(i)&&sI(n)&&sI(a)?ee.createElement("path",bF({},_I(l,!0),{className:AA("recharts-cross",o),d:wF(t,r,s,i,n,a)})):null};function NF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function SF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NF(Object(r),!0).forEach(function(t){SF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),n=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==n[t]&&(e[t]=n[t]),e),r)}function CF(){}function EF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function TF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EF(Object(r),!0).forEach(function(t){_F(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _F(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var AF=(e,t,r)=>e.map(e=>{return"".concat((n=e,n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(r);var n}).join(","),IF=(e,t)=>Object.keys(t).reduce((r,n)=>TF(TF({},r),{},{[n]:e(n,t[n])}),{});function PF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function DF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PF(Object(r),!0).forEach(function(t){OF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var LF=(e,t,r)=>e+(t-e)*r,RF=e=>{var{from:t,to:r}=e;return t!==r},MF=(e,t,r)=>{var n=IF((t,r)=>{if(RF(r)){var[n,a]=e(r.from,r.to,r.velocity);return DF(DF({},r),{},{from:n,velocity:a})}return r},t);return r<1?IF((e,t)=>RF(t)?DF(DF({},t),{},{velocity:LF(t.velocity,n[e].velocity,r),from:LF(t.from,n[e].from,r)}):t,t):MF(e,n,r-1)};function FF(e,t,r,n,a,s){var i,o=n.reduce((r,n)=>DF(DF({},r),{},{[n]:{from:e[n],velocity:0,to:t[n]}}),{}),l=null,c=n=>{i||(i=n);var d=(n-i)/r.dt;o=MF(r,o,d),a(DF(DF(DF({},e),t),IF((e,t)=>t.from,o))),i=n,Object.values(o).filter(RF).length&&(l=s.setTimeout(c))};return()=>(l=s.setTimeout(c),()=>{l()})}const $F=(e,t,r,n,a,s)=>{var i,o,l=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===r.isStepper?FF(e,t,r,l,a,s):function(e,t,r,n,a,s,i){var o,l=null,c=a.reduce((r,n)=>DF(DF({},r),{},{[n]:[e[n],t[n]]}),{}),d=a=>{o||(o=a);var u=(a-o)/n,h=IF((e,t)=>LF(...t,r(u)),c);if(s(DF(DF(DF({},e),t),h)),u<1)l=i.setTimeout(d);else{var m=IF((e,t)=>LF(...t,r(1)),c);s(DF(DF(DF({},e),t),m))}};return()=>(l=i.setTimeout(d),()=>{l()})}(e,t,r,n,l,a,s)};var BF=1e-4,UF=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],zF=(e,t)=>e.map((e,r)=>e*i(t,r)).reduce((e,t)=>e+t),VF=(e,t)=>r=>{var n=UF(e,t);return zF(n,r)},WF=function(){for(var e,t,r,n,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];if(1===s.length)switch(s[0]){case"linear":[e,r,t,n]=[0,0,1,1];break;case"ease":[e,r,t,n]=[.25,.1,.25,1];break;case"ease-in":[e,r,t,n]=[.42,0,1,1];break;case"ease-out":[e,r,t,n]=[.42,0,.58,1];break;case"ease-in-out":[e,r,t,n]=[0,0,.58,1];break;default:var o=s[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,r,t,n]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===s.length&&([e,r,t,n]=s);var l,c,d=VF(e,t),u=VF(r,n),h=(l=e,c=t,e=>{var t=[...UF(l,c).map((e,t)=>e*t).slice(1),0];return zF(t,e)}),m=e=>e>1?1:e<0?0:e,f=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=d(r)-t,s=h(r);if(Math.abs(a-t)<BF||s<BF)return u(r);r=m(r-a/s)}return u(r)};return f.isStepper=!1,f},qF=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WF(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,a=(e,a,s)=>{var i=s+(-(e-a)*t-s*r)*n/1e3,o=s*n/1e3+e;return Math.abs(o-a)<BF&&Math.abs(i)<BF?[a,0]:[o,i]};return a.isStepper=!0,a.dt=n,a}();default:if("cubic-bezier"===e.split("(")[0])return WF(e)}return"function"==typeof e?e:null};class HF{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,a=s=>{s-r>=t?e(s):"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(a))};return n=requestAnimationFrame(a),()=>{cancelAnimationFrame(n)}}}function QF(){return e=new HF,t=()=>null,r=!1,n=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,[o,...l]=i;return"number"==typeof o?void(n=e.setTimeout(a.bind(null,l),o)):(a(o),void(n=e.setTimeout(a.bind(null,l))))}"string"==typeof s&&t(s),"object"==typeof s&&t(s),"function"==typeof s&&s()}},{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e};var e,t,r,n,a}var GF=ee.createContext(QF);var YF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},KF={t:0},XF={t:1};function ZF(e){var t,r,n,a=kF(e,YF),{isActive:s,canBegin:i,duration:o,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:u,children:h}=a,m=(t=a.animationId,r=a.animationManager,n=ee.useContext(GF),ee.useMemo(()=>null!=r?r:n(t),[t,r,n])),[f,p]=ee.useState(s?KF:XF),g=ee.useRef(null);return ee.useEffect(()=>{s||p(XF)},[s]),ee.useEffect(()=>{if(!s||!i)return CF;var e=$F(KF,XF,qF(l),o,p,m.getTimeoutController());return m.start([u,c,()=>{g.current=e()},o,d]),()=>{m.stop(),g.current&&g.current(),d()}},[s,i,o,l,c,u,d,m]),h(f.t)}function JF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=ee.useRef(lI(t)),n=ee.useRef(e);return n.current!==e&&(r.current=lI(t),n.current=e),r.current}function e$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e$(Object(r),!0).forEach(function(t){r$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function r$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n$(){return n$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n$.apply(null,arguments)}var a$=(e,t,r,n,a)=>{var s,i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=a[u]>i?i:a[u];s="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(s+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),s+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(s+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*d[1])),s+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(s+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+r-l*d[2],",").concat(t+n)),s+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(s+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-o*d[3])),s+="Z"}else if(i>0&&a===+a&&a>0){var h=Math.min(i,a);s="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,"\n            L ").concat(e+r,",").concat(t+n-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else s="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return s},s$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i$=e=>{var t=kF(e,s$),r=ee.useRef(null),[n,a]=ee.useState(-1);ee.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:s,y:i,width:o,height:l,radius:c,className:d}=t,{animationEasing:u,animationDuration:h,animationBegin:m,isAnimationActive:f,isUpdateAnimationActive:p}=t,g=ee.useRef(o),x=ee.useRef(l),b=ee.useRef(s),v=ee.useRef(i),y=JF(ee.useMemo(()=>({x:s,y:i,width:o,height:l,radius:c}),[s,i,o,l,c]),"rectangle-");if(s!==+s||i!==+i||o!==+o||l!==+l||0===o||0===l)return null;var w=AA("recharts-rectangle",d);if(!p)return ee.createElement("path",n$({},_I(t,!0),{className:w,d:a$(s,i,o,l,c)}));var j=g.current,N=x.current,S=b.current,k=v.current,C="0px ".concat(-1===n?1:n,"px"),E="".concat(n,"px 0px"),T=AF(["strokeDasharray"],h,"string"==typeof u?u:void 0);return ee.createElement(ZF,{animationId:y,key:y,canBegin:n>0,duration:h,easing:u,isActive:p,begin:m},e=>{var n,a=uI(j,o,e),d=uI(N,l,e),u=uI(S,s,e),h=uI(k,i,e);return r.current&&(g.current=a,x.current=d,b.current=u,v.current=h),n=f?e>0?{transition:T,strokeDasharray:E}:{strokeDasharray:C}:{strokeDasharray:E},ee.createElement("path",n$({},_I(t,!0),{className:w,d:a$(u,h,a,d,c),ref:r,style:t$(t$({},n),t.style)}))})};function o$(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e;return{points:[OR(t,r,n,a),OR(t,r,n,s)],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function l$(){return l$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l$.apply(null,arguments)}var c$=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:o,cornerIsExternal:l}=e,c=o*(i?1:-1)+n,d=Math.asin(o/c)/PR,u=l?a:a+s*d,h=l?a-s*d:a;return{center:OR(t,r,c,u),circleTangency:OR(t,r,n,u),lineTangency:OR(t,r,c*Math.cos(d*PR),h),theta:d}},d$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,o=((e,t)=>rI(t-e)*Math.min(Math.abs(t-e),359.999))(s,i),l=s+o,c=OR(t,r,a,s),d=OR(t,r,a,l),u="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(s>l),",\n    ").concat(d.x,",").concat(d.y,"\n  ");if(n>0){var h=OR(t,r,n,s),m=OR(t,r,n,l);u+="L ".concat(m.x,",").concat(m.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(s<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},u$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},h$=e=>{var t=kF(e,u$),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:u}=t;if(s<a||c===d)return null;var h,m=AA("recharts-sector",u),f=s-a,p=cI(i,f,0,!0);return h=p>0&&Math.abs(c-d)<360?(e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=rI(c-l),{circleTangency:u,lineTangency:h,theta:m}=c$({cx:t,cy:r,radius:a,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:f,lineTangency:p,theta:g}=c$({cx:t,cy:r,radius:a,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-m-g;if(x<0)return i?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):d$({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(h.x,",").concat(h.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(u.x,",").concat(u.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,"\n  ");if(n>0){var{circleTangency:v,lineTangency:y,theta:w}=c$({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:j,lineTangency:N,theta:S}=c$({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-c):Math.abs(l-c)-w-S;if(k<0&&0===s)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(N.x,",").concat(N.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(v.x,",").concat(v.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b})({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,f/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):d$({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}),ee.createElement("path",l$({},_I(t,!0),{className:m,d:h}))};function m$(e,t,r){var n,a,s,i;if("horizontal"===e)s=n=t.x,a=r.top,i=r.top+r.height;else if("vertical"===e)i=a=t.y,n=r.left,s=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return o$(t);var{cx:o,cy:l,innerRadius:c,outerRadius:d,angle:u}=t,h=OR(o,l,c,u),m=OR(o,l,d,u);n=h.x,a=h.y,s=m.x,i=m.y}return[{x:n,y:a},{x:s,y:i}]}var f$={},p$={},g$={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yO;e.toNumber=function(e){return t.isSymbol(e)?NaN:Number(e)}}(g$),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g$;e.toFinite=function(e){if(!e)return 0===e?e:0;if((e=t.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e==e?e:0}}(p$),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jO,r=p$;e.range=function(e,n,a){a&&"number"!=typeof a&&t.isIterateeCall(e,n,a)&&(n=a=void 0),e=r.toFinite(e),void 0===n?(n=e,e=0):n=r.toFinite(n),a=void 0===a?e<n?1:-1:r.toFinite(a);const s=Math.max(Math.ceil((n-e)/(a||1)),0),i=new Array(s);for(let t=0;t<s;t++)i[t]=e,e+=a;return i}}(f$);const x$=f(f$.range);function b$(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function v$(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function y$(e){let t,r,n;function a(e,n,a=0,s=e.length){if(a<s){if(0!==t(n,n))return s;do{const t=a+s>>>1;r(e[t],n)<0?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=b$,r=(t,r)=>b$(e(t),r),n=(t,r)=>e(t)-r):(t=e===b$||e===v$?e:w$,r=e,n=e),{left:a,center:function(e,t,r=0,s=e.length){const i=a(e,t,r,s-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n,a=0,s=e.length){if(a<s){if(0!==t(n,n))return s;do{const t=a+s>>>1;r(e[t],n)<=0?a=t+1:s=t}while(a<s)}return a}}}function w$(){return 0}function j$(e){return null===e?NaN:+e}const N$=y$(b$).right;y$(j$).center;class S$ extends Map{constructor(e,t=C$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(k$(this,e))}has(e){return super.has(k$(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){const n=t(r);e.has(n)&&(r=e.get(n),e.delete(n));return r}(this,e))}}function k$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function C$(e){return null!==e&&"object"==typeof e?e.valueOf():e}function E$(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const T$=Math.sqrt(50),_$=Math.sqrt(10),A$=Math.sqrt(2);function I$(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=T$?10:s>=_$?5:s>=A$?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?I$(e,t,2*r):[o,l,c]}function P$(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,s,i]=n?I$(t,e,r):I$(e,t,r);if(!(s>=a))return[];const o=s-a+1,l=new Array(o);if(n)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(a+c)/-i;else for(let c=0;c<o;++c)l[c]=(a+c)*i;return l}function D$(e,t,r){return I$(e=+e,t=+t,r=+r)[2]}function O$(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?D$(t,e,r):D$(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function L$(e,t){let r;for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);return r}function R$(e,t){let r;for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);return r}function M$(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?E$:function(e=b$){if(e===b$)return E$;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}(a);n>r;){if(n-r>600){const s=n-r+1,i=t-r+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(i-s/2<0?-1:1);M$(e,t,Math.max(r,Math.floor(t-i*l/s+c)),Math.min(n,Math.floor(t+(s-i)*l/s+c)),a)}const s=e[t];let i=r,o=n;for(F$(e,r,t),a(e[n],s)>0&&F$(e,r,n);i<o;){for(F$(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}0===a(e[r],s)?F$(e,r,o):(++o,F$(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function F$(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $$(e,t,r=j$){if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e);return i+(+r(e[s+1],s+1,e)-i)*(a-s)}}function B$(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function U$(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const z$=Symbol("implicit");function V$(){var e=new S$,t=[],r=[],n=z$;function a(a){let s=e.get(a);if(void 0===s){if(n!==z$)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new S$;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return V$(t,r).unknown(n)},B$.apply(a,arguments),a}function W$(){var e,t,r=V$().unknown(void 0),n=r.domain,a=r.range,s=0,i=1,o=!1,l=0,c=0,d=.5;function u(){var r=n().length,u=i<s,h=u?i:s,m=u?s:i;e=(m-h)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),h+=(m-h-e*(r-l))*d,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var f=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),s=new Array(a);++n<a;)s[n]=e+n*r;return s}(r).map(function(t){return h+e*t});return a(u?f.reverse():f)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),u()):n()},r.range=function(e){return arguments.length?([s,i]=e,s=+s,i=+i,u()):[s,i]},r.rangeRound=function(e){return[s,i]=e,s=+s,i=+i,o=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,u()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return W$(n(),[s,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},B$.apply(u(),arguments)}function q$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return q$(t())},e}function H$(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Q$(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function G$(){}var Y$=.7,K$=1/Y$,X$="\\s*([+-]?\\d+)\\s*",Z$="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",J$="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eB=/^#([0-9a-f]{3,8})$/,tB=new RegExp(`^rgb\\(${X$},${X$},${X$}\\)$`),rB=new RegExp(`^rgb\\(${J$},${J$},${J$}\\)$`),nB=new RegExp(`^rgba\\(${X$},${X$},${X$},${Z$}\\)$`),aB=new RegExp(`^rgba\\(${J$},${J$},${J$},${Z$}\\)$`),sB=new RegExp(`^hsl\\(${Z$},${J$},${J$}\\)$`),iB=new RegExp(`^hsla\\(${Z$},${J$},${J$},${Z$}\\)$`),oB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function lB(){return this.rgb().formatHex()}function cB(){return this.rgb().formatRgb()}function dB(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=eB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?uB(t):3===r?new fB(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?hB(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?hB(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=tB.exec(e))?new fB(t[1],t[2],t[3],1):(t=rB.exec(e))?new fB(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=nB.exec(e))?hB(t[1],t[2],t[3],t[4]):(t=aB.exec(e))?hB(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=sB.exec(e))?yB(t[1],t[2]/100,t[3]/100,1):(t=iB.exec(e))?yB(t[1],t[2]/100,t[3]/100,t[4]):oB.hasOwnProperty(e)?uB(oB[e]):"transparent"===e?new fB(NaN,NaN,NaN,0):null}function uB(e){return new fB(e>>16&255,e>>8&255,255&e,1)}function hB(e,t,r,n){return n<=0&&(e=t=r=NaN),new fB(e,t,r,n)}function mB(e,t,r,n){return 1===arguments.length?((a=e)instanceof G$||(a=dB(a)),a?new fB((a=a.rgb()).r,a.g,a.b,a.opacity):new fB):new fB(e,t,r,null==n?1:n);var a}function fB(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function pB(){return`#${vB(this.r)}${vB(this.g)}${vB(this.b)}`}function gB(){const e=xB(this.opacity);return`${1===e?"rgb(":"rgba("}${bB(this.r)}, ${bB(this.g)}, ${bB(this.b)}${1===e?")":`, ${e})`}`}function xB(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bB(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vB(e){return((e=bB(e))<16?"0":"")+e.toString(16)}function yB(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new jB(e,t,r,n)}function wB(e){if(e instanceof jB)return new jB(e.h,e.s,e.l,e.opacity);if(e instanceof G$||(e=dB(e)),!e)return new jB;if(e instanceof jB)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,l=(s+a)/2;return o?(i=t===s?(r-n)/o+6*(r<n):r===s?(n-t)/o+2:(t-r)/o+4,o/=l<.5?s+a:2-s-a,i*=60):o=l>0&&l<1?0:i,new jB(i,o,l,e.opacity)}function jB(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function NB(e){return(e=(e||0)%360)<0?e+360:e}function SB(e){return Math.max(0,Math.min(1,e||0))}function kB(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}H$(G$,dB,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lB,formatHex:lB,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return wB(this).formatHsl()},formatRgb:cB,toString:cB}),H$(fB,mB,Q$(G$,{brighter(e){return e=null==e?K$:Math.pow(K$,e),new fB(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Y$:Math.pow(Y$,e),new fB(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fB(bB(this.r),bB(this.g),bB(this.b),xB(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pB,formatHex:pB,formatHex8:function(){return`#${vB(this.r)}${vB(this.g)}${vB(this.b)}${vB(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:gB,toString:gB})),H$(jB,function(e,t,r,n){return 1===arguments.length?wB(e):new jB(e,t,r,null==n?1:n)},Q$(G$,{brighter(e){return e=null==e?K$:Math.pow(K$,e),new jB(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Y$:Math.pow(Y$,e),new jB(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new fB(kB(e>=240?e-240:e+120,a,n),kB(e,a,n),kB(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new jB(NB(this.h),SB(this.s),SB(this.l),xB(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xB(this.opacity);return`${1===e?"hsl(":"hsla("}${NB(this.h)}, ${100*SB(this.s)}%, ${100*SB(this.l)}%${1===e?")":`, ${e})`}`}}));const CB=e=>()=>e;function EB(e){return 1===(e=+e)?TB:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):CB(isNaN(t)?r:t)}}function TB(e,t){var r=t-e;return r?function(e,t){return function(r){return e+r*t}}(e,r):CB(isNaN(e)?t:e)}const _B=function e(t){var r=EB(t);function n(e,t){var n=r((e=mB(e)).r,(t=mB(t)).r),a=r(e.g,t.g),s=r(e.b,t.b),i=TB(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=s(t),e.opacity=i(t),e+""}}return n.gamma=e,n}(1);function AB(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(r=0;r<n;++r)a[r]=e[r]*(1-s)+t[r]*s;return a}}function IB(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),i=new Array(n);for(r=0;r<a;++r)s[r]=FB(e[r],t[r]);for(;r<n;++r)i[r]=t[r];return function(e){for(r=0;r<a;++r)i[r]=s[r](e);return i}}function PB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function DB(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function OB(e,t){var r,n={},a={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=FB(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var LB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,RB=new RegExp(LB.source,"g");function MB(e,t){var r,n,a,s=LB.lastIndex=RB.lastIndex=0,i=-1,o=[],l=[];for(e+="",t+="";(r=LB.exec(e))&&(n=RB.exec(t));)(a=n.index)>s&&(a=t.slice(s,a),o[i]?o[i]+=a:o[++i]=a),(r=r[0])===(n=n[0])?o[i]?o[i]+=n:o[++i]=n:(o[++i]=null,l.push({i:i,x:DB(r,n)})),s=RB.lastIndex;return s<t.length&&(a=t.slice(s),o[i]?o[i]+=a:o[++i]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)o[(r=l[n]).i]=r.x(e);return o.join("")})}function FB(e,t){var r,n,a=typeof t;return null==t||"boolean"===a?CB(t):("number"===a?DB:"string"===a?(r=dB(t))?(t=r,_B):MB:t instanceof dB?_B:t instanceof Date?PB:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?IB:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?OB:DB:AB))(e,t)}function $B(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function BB(e){return+e}var UB=[0,1];function zB(e){return e}function VB(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function WB(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=VB(a,n),s=r(i,s)):(n=VB(n,a),s=r(s,i)),function(e){return s(n(e))}}function qB(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=VB(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(t){var r=N$(e,t,1,n)-1;return s[r](a[r](t))}}function HB(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function QB(){var e,t,r,n,a,s,i=UB,o=UB,l=FB,c=zB;function d(){var e=Math.min(i.length,o.length);return c!==zB&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(i[0],i[e-1])),n=e>2?qB:WB,a=s=null,u}function u(t){return null==t||isNaN(t=+t)?r:(a||(a=n(i.map(e),o,l)))(e(c(t)))}return u.invert=function(r){return c(t((s||(s=n(o,i.map(e),DB)))(r)))},u.domain=function(e){return arguments.length?(i=Array.from(e,BB),d()):i.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=$B,d()},u.clamp=function(e){return arguments.length?(c=!!e||zB,d()):c!==zB},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,n){return e=r,t=n,d()}}function GB(){return QB()(zB,zB)}function YB(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function KB(e){return(e=YB(Math.abs(e)))?e[1]:NaN}var XB,ZB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function JB(e){if(!(t=ZB.exec(e)))throw new Error("invalid format: "+e);var t;return new eU({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function eU(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function tU(e,t){var r=YB(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}JB.prototype=eU.prototype,eU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const rU={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tU(100*e,t),r:tU,s:function(e,t){var r=YB(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(XB=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+YB(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nU(e){return e}var aU,sU,iU,oU=Array.prototype.map,lU=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cU(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?nU:(t=oU.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,s=[],i=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(e.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[i=(i+1)%t.length];return s.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?nU:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(oU.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=JB(e)).fill,r=e.align,u=e.sign,h=e.symbol,m=e.zero,f=e.width,p=e.comma,g=e.precision,x=e.trim,b=e.type;"n"===b?(p=!0,b="g"):rU[b]||(void 0===g&&(g=12),x=!0,b="g"),(m||"0"===t&&"="===r)&&(m=!0,t="0",r="=");var v="$"===h?a:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",y="$"===h?s:/[%p]/.test(b)?l:"",w=rU[b],j=/[defgprs%]/.test(b);function N(e){var a,s,l,h=v,N=y;if("c"===b)N=w(e)+N,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),g),x&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==u&&(S=!1),h=(S?"("===u?u:c:"-"===u||"("===u?"":u)+h,N=("s"===b?lU[8+XB/3]:"")+N+(S&&"("===u?")":""),j)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?i+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}p&&!m&&(e=n(e,1/0));var k=h.length+e.length+N.length,C=k<f?new Array(f-k+1).join(t):"";switch(p&&m&&(e=n(C+e,C.length?f-N.length:1/0),C=""),r){case"<":e=h+e+N+C;break;case"=":e=h+C+e+N;break;case"^":e=C.slice(0,k=C.length>>1)+h+e+N+C.slice(k);break;default:e=C+h+e+N}return o(e)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var r=u(((e=JB(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(KB(t)/3))),a=Math.pow(10,-n),s=lU[8+n/3];return function(e){return r(a*e)+s}}}}function dU(e,t,r,n){var a,s=O$(e,t,r);switch((n=JB(null==n?",f":n)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(KB(t)/3)))-KB(Math.abs(e)))}(s,i))||(n.precision=a),iU(n,i);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,KB(t)-KB(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-KB(Math.abs(e)))}(s))||(n.precision=a-2*("%"===n.type))}return sU(n)}function uU(e){var t=e.domain;return e.ticks=function(e){var r=t();return P$(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return dU(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,s=t(),i=0,o=s.length-1,l=s[i],c=s[o],d=10;for(c<l&&(a=l,l=c,c=a,a=i,i=o,o=a);d-- >0;){if((a=D$(l,c,r))===n)return s[i]=l,s[o]=c,t(s);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function hU(e,t){var r,n=0,a=(e=e.slice()).length-1,s=e[n],i=e[a];return i<s&&(r=n,n=a,a=r,r=s,s=i,i=r),e[n]=t.floor(s),e[a]=t.ceil(i),e}function mU(e){return Math.log(e)}function fU(e){return Math.exp(e)}function pU(e){return-Math.log(-e)}function gU(e){return-Math.exp(-e)}function xU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bU(e){return(t,r)=>-e(-t,r)}function vU(e){const t=e(mU,fU),r=t.domain;let n,a,s=10;function i(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),a=function(e){return 10===e?xU:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),r()[0]<0?(n=bU(n),a=bU(a),e(pU,gU)):e(mU,fU),t}return t.base=function(e){return arguments.length?(s=+e,i()):s},t.domain=function(e){return arguments.length?(r(e),i()):r()},t.ticks=e=>{const t=r();let i=t[0],o=t[t.length-1];const l=o<i;l&&([i,o]=[o,i]);let c,d,u=n(i),h=n(o);const m=null==e?10:+e;let f=[];if(!(s%1)&&h-u<m){if(u=Math.floor(u),h=Math.ceil(h),i>0){for(;u<=h;++u)for(c=1;c<s;++c)if(d=u<0?c/a(-u):c*a(u),!(d<i)){if(d>o)break;f.push(d)}}else for(;u<=h;++u)for(c=s-1;c>=1;--c)if(d=u>0?c/a(-u):c*a(u),!(d<i)){if(d>o)break;f.push(d)}2*f.length<m&&(f=P$(i,o,m))}else f=P$(u,h,Math.min(h-u,m)).map(a);return l?f.reverse():f},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===s?"s":","),"function"!=typeof r&&(s%1||null!=(r=JB(r)).precision||(r.trim=!0),r=sU(r)),e===1/0)return r;const i=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*s<s-.5&&(t*=s),t<=i?r(e):""}},t.nice=()=>r(hU(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function yU(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wU(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jU(e){var t=1,r=e(yU(t),wU(t));return r.constant=function(r){return arguments.length?e(yU(t=+r),wU(t)):t},uU(r)}function NU(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function SU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function kU(e){return e<0?-e*e:e*e}function CU(e){var t=e(zB,zB),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(zB,zB):.5===r?e(SU,kU):e(NU(r),NU(1/r)):r},uU(t)}function EU(){var e=CU(QB());return e.copy=function(){return HB(e,EU()).exponent(e.exponent())},B$.apply(e,arguments),e}function TU(e){return Math.sign(e)*e*e}aU=cU({thousands:",",grouping:[3],currency:["$",""]}),sU=aU.format,iU=aU.formatPrefix;const _U=new Date,AU=new Date;function IU(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,s)=>{const i=[];if(r=a.ceil(r),s=null==s?1:Math.floor(s),!(r<n&&s>0))return i;let o;do{i.push(o=new Date(+r)),t(r,s),e(r)}while(o<r&&r<n);return i},a.filter=r=>IU(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(_U.setTime(+t),AU.setTime(+n),e(_U),e(AU),Math.floor(r(_U,AU))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const PU=IU(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);PU.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?IU(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):PU:null),PU.range;const DU=1e3,OU=6e4,LU=36e5,RU=864e5,MU=6048e5,FU=2592e6,$U=31536e6,BU=IU(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*DU)},(e,t)=>(t-e)/DU,e=>e.getUTCSeconds());BU.range;const UU=IU(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*DU)},(e,t)=>{e.setTime(+e+t*OU)},(e,t)=>(t-e)/OU,e=>e.getMinutes());UU.range;const zU=IU(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*OU)},(e,t)=>(t-e)/OU,e=>e.getUTCMinutes());zU.range;const VU=IU(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*DU-e.getMinutes()*OU)},(e,t)=>{e.setTime(+e+t*LU)},(e,t)=>(t-e)/LU,e=>e.getHours());VU.range;const WU=IU(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*LU)},(e,t)=>(t-e)/LU,e=>e.getUTCHours());WU.range;const qU=IU(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*OU)/RU,e=>e.getDate()-1);qU.range;const HU=IU(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/RU,e=>e.getUTCDate()-1);HU.range;const QU=IU(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/RU,e=>Math.floor(e/RU));function GU(e){return IU(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*OU)/MU)}QU.range;const YU=GU(0),KU=GU(1),XU=GU(2),ZU=GU(3),JU=GU(4),ez=GU(5),tz=GU(6);function rz(e){return IU(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/MU)}YU.range,KU.range,XU.range,ZU.range,JU.range,ez.range,tz.range;const nz=rz(0),az=rz(1),sz=rz(2),iz=rz(3),oz=rz(4),lz=rz(5),cz=rz(6);nz.range,az.range,sz.range,iz.range,oz.range,lz.range,cz.range;const dz=IU(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());dz.range;const uz=IU(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());uz.range;const hz=IU(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hz.every=e=>isFinite(e=Math.floor(e))&&e>0?IU(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,hz.range;const mz=IU(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function fz(e,t,r,n,a,s){const i=[[BU,1,DU],[BU,5,5e3],[BU,15,15e3],[BU,30,3e4],[s,1,OU],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,LU],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,RU],[n,2,1728e5],[r,1,MU],[t,1,FU],[t,3,7776e6],[e,1,$U]];function o(t,r,n){const a=Math.abs(r-t)/n,s=y$(([,,e])=>e).right(i,a);if(s===i.length)return e.every(O$(t/$U,r/$U,n));if(0===s)return PU.every(Math.max(O$(t,r,n),1));const[o,l]=i[a/i[s-1][2]<i[s][2]/a?s-1:s];return o.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"==typeof r.range?r:o(e,t,r),s=a?a.range(e,+t+1):[];return n?s.reverse():s},o]}mz.every=e=>isFinite(e=Math.floor(e))&&e>0?IU(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,mz.range;const[pz,gz]=fz(mz,uz,nz,QU,WU,zU),[xz,bz]=fz(hz,dz,YU,qU,VU,UU);function vz(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yz(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wz(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var jz,Nz,Sz,kz={"-":"",_:" ",0:"0"},Cz=/^\s*\d+/,Ez=/^%/,Tz=/[\\^$*+?|[\]().{}]/g;function _z(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Az(e){return e.replace(Tz,"\\$&")}function Iz(e){return new RegExp("^(?:"+e.map(Az).join("|")+")","i")}function Pz(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Dz(e,t,r){var n=Cz.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Oz(e,t,r){var n=Cz.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Lz(e,t,r){var n=Cz.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Rz(e,t,r){var n=Cz.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Mz(e,t,r){var n=Cz.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Fz(e,t,r){var n=Cz.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function $z(e,t,r){var n=Cz.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Bz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Uz(e,t,r){var n=Cz.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function zz(e,t,r){var n=Cz.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Vz(e,t,r){var n=Cz.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Wz(e,t,r){var n=Cz.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function qz(e,t,r){var n=Cz.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Hz(e,t,r){var n=Cz.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Qz(e,t,r){var n=Cz.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Gz(e,t,r){var n=Cz.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Yz(e,t,r){var n=Cz.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Kz(e,t,r){var n=Ez.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Xz(e,t,r){var n=Cz.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Zz(e,t,r){var n=Cz.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Jz(e,t){return _z(e.getDate(),t,2)}function eV(e,t){return _z(e.getHours(),t,2)}function tV(e,t){return _z(e.getHours()%12||12,t,2)}function rV(e,t){return _z(1+qU.count(hz(e),e),t,3)}function nV(e,t){return _z(e.getMilliseconds(),t,3)}function aV(e,t){return nV(e,t)+"000"}function sV(e,t){return _z(e.getMonth()+1,t,2)}function iV(e,t){return _z(e.getMinutes(),t,2)}function oV(e,t){return _z(e.getSeconds(),t,2)}function lV(e){var t=e.getDay();return 0===t?7:t}function cV(e,t){return _z(YU.count(hz(e)-1,e),t,2)}function dV(e){var t=e.getDay();return t>=4||0===t?JU(e):JU.ceil(e)}function uV(e,t){return e=dV(e),_z(JU.count(hz(e),e)+(4===hz(e).getDay()),t,2)}function hV(e){return e.getDay()}function mV(e,t){return _z(KU.count(hz(e)-1,e),t,2)}function fV(e,t){return _z(e.getFullYear()%100,t,2)}function pV(e,t){return _z((e=dV(e)).getFullYear()%100,t,2)}function gV(e,t){return _z(e.getFullYear()%1e4,t,4)}function xV(e,t){var r=e.getDay();return _z((e=r>=4||0===r?JU(e):JU.ceil(e)).getFullYear()%1e4,t,4)}function bV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_z(t/60|0,"0",2)+_z(t%60,"0",2)}function vV(e,t){return _z(e.getUTCDate(),t,2)}function yV(e,t){return _z(e.getUTCHours(),t,2)}function wV(e,t){return _z(e.getUTCHours()%12||12,t,2)}function jV(e,t){return _z(1+HU.count(mz(e),e),t,3)}function NV(e,t){return _z(e.getUTCMilliseconds(),t,3)}function SV(e,t){return NV(e,t)+"000"}function kV(e,t){return _z(e.getUTCMonth()+1,t,2)}function CV(e,t){return _z(e.getUTCMinutes(),t,2)}function EV(e,t){return _z(e.getUTCSeconds(),t,2)}function TV(e){var t=e.getUTCDay();return 0===t?7:t}function _V(e,t){return _z(nz.count(mz(e)-1,e),t,2)}function AV(e){var t=e.getUTCDay();return t>=4||0===t?oz(e):oz.ceil(e)}function IV(e,t){return e=AV(e),_z(oz.count(mz(e),e)+(4===mz(e).getUTCDay()),t,2)}function PV(e){return e.getUTCDay()}function DV(e,t){return _z(az.count(mz(e)-1,e),t,2)}function OV(e,t){return _z(e.getUTCFullYear()%100,t,2)}function LV(e,t){return _z((e=AV(e)).getUTCFullYear()%100,t,2)}function RV(e,t){return _z(e.getUTCFullYear()%1e4,t,4)}function MV(e,t){var r=e.getUTCDay();return _z((e=r>=4||0===r?oz(e):oz.ceil(e)).getUTCFullYear()%1e4,t,4)}function FV(){return"+0000"}function $V(){return"%"}function BV(e){return+e}function UV(e){return Math.floor(+e/1e3)}function zV(e){return new Date(e)}function VV(e){return e instanceof Date?+e:+new Date(+e)}function WV(e,t,r,n,a,s,i,o,l,c){var d=GB(),u=d.invert,h=d.domain,m=c(".%L"),f=c(":%S"),p=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),b=c("%b %d"),v=c("%B"),y=c("%Y");function w(e){return(l(e)<e?m:o(e)<e?f:i(e)<e?p:s(e)<e?g:n(e)<e?a(e)<e?x:b:r(e)<e?v:y)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?h(Array.from(e,VV)):h().map(zV)},d.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?w:c(t)},d.nice=function(e){var r=h();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(hU(r,e)):d},d.copy=function(){return HB(d,WV(e,t,r,n,a,s,i,o,l,c))},d}function qV(){var e,t,r,n,a,s=0,i=1,o=zB,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,n;return arguments.length?([r,n]=t,o=e(r,n),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([s,i]=a,e=n(s=+s),t=n(i=+i),r=e===t?0:1/(t-e),c):[s,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(FB),c.rangeRound=d($B),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(s),t=a(i),r=e===t?0:1/(t-e),c}}function HV(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function QV(){var e=CU(qV());return e.copy=function(){return HV(e,QV()).exponent(e.exponent())},U$.apply(e,arguments)}function GV(){var e,t,r,n,a,s,i,o=0,l=.5,c=1,d=1,u=zB,h=!1;function m(e){return isNaN(e=+e)?i:(e=.5+((e=+s(e))-t)*(d*e<d*t?n:a),u(h?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,u=function(e,t){void 0===t&&(t=e,e=FB);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return s[t](e-t)}}(e,[r,n,a]),m):[u(0),u(.5),u(1)]}}return m.domain=function(i){return arguments.length?([o,l,c]=i,e=s(o=+o),t=s(l=+l),r=s(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,m):[o,l,c]},m.clamp=function(e){return arguments.length?(h=!!e,m):h},m.interpolator=function(e){return arguments.length?(u=e,m):u},m.range=f(FB),m.rangeRound=f($B),m.unknown=function(e){return arguments.length?(i=e,m):i},function(i){return s=i,e=i(o),t=i(l),r=i(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,m}}function YV(){var e=CU(GV());return e.copy=function(){return HV(e,YV()).exponent(e.exponent())},U$.apply(e,arguments)}!function(e){jz=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=Iz(a),d=Pz(a),u=Iz(s),h=Pz(s),m=Iz(i),f=Pz(i),p=Iz(o),g=Pz(o),x=Iz(l),b=Pz(l),v={a:function(e){return i[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:Jz,e:Jz,f:aV,g:pV,G:xV,H:eV,I:tV,j:rV,L:nV,m:sV,M:iV,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:BV,s:UV,S:oV,u:lV,U:cV,V:uV,w:hV,W:mV,x:null,X:null,y:fV,Y:gV,Z:bV,"%":$V},y={a:function(e){return i[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:vV,e:vV,f:SV,g:LV,G:MV,H:yV,I:wV,j:jV,L:NV,m:kV,M:CV,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:BV,s:UV,S:EV,u:TV,U:_V,V:IV,w:PV,W:DV,x:null,X:null,y:OV,Y:RV,Z:FV,"%":$V},w={a:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.w=f.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=x.exec(t.slice(r));return n?(e.m=b.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=p.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return S(e,t,r,n)},d:Vz,e:Vz,f:Yz,g:$z,G:Fz,H:qz,I:qz,j:Wz,L:Gz,m:zz,M:Hz,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=d.get(n[0].toLowerCase()),r+n[0].length):-1},q:Uz,Q:Xz,s:Zz,S:Qz,u:Oz,U:Lz,V:Rz,w:Dz,W:Mz,x:function(e,t,n){return S(e,r,t,n)},X:function(e,t,r){return S(e,n,t,r)},y:$z,Y:Fz,Z:Bz,"%":Kz};function j(e,t){return function(r){var n,a,s,i=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(a=kz[n=e.charAt(++o)])?n=e.charAt(++o):a="e"===n?" ":"0",(s=t[n])&&(n=s(r,a)),i.push(n),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function N(e,t){return function(r){var n,a,s=wz(1900,void 0,1);if(S(s,e,r+="",0)!=r.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(n=yz(wz(s.y,0,1))).getUTCDay(),n=a>4||0===a?az.ceil(n):az(n),n=HU.offset(n,7*(s.V-1)),s.y=n.getUTCFullYear(),s.m=n.getUTCMonth(),s.d=n.getUTCDate()+(s.w+6)%7):(a=(n=vz(wz(s.y,0,1))).getDay(),n=a>4||0===a?KU.ceil(n):KU(n),n=qU.offset(n,7*(s.V-1)),s.y=n.getFullYear(),s.m=n.getMonth(),s.d=n.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?yz(wz(s.y,0,1)).getUTCDay():vz(wz(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,yz(s)):vz(s)}}function S(e,t,r,n){for(var a,s,i=0,o=t.length,l=r.length;i<o;){if(n>=l)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(s=w[a in kz?t.charAt(i++):a])||(n=s(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return v.x=j(r,v),v.X=j(n,v),v.c=j(t,v),y.x=j(r,y),y.X=j(n,y),y.c=j(t,y),{format:function(e){var t=j(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),Nz=jz.format,jz.parse,Sz=jz.utcFormat,jz.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const KV=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:W$,scaleDiverging:function e(){var t=uU(GV()(zB));return t.copy=function(){return HV(t,e())},U$.apply(t,arguments)},scaleDivergingLog:function e(){var t=vU(GV()).domain([.1,1,10]);return t.copy=function(){return HV(t,e()).base(t.base())},U$.apply(t,arguments)},scaleDivergingPow:YV,scaleDivergingSqrt:function(){return YV.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=jU(GV());return t.copy=function(){return HV(t,e()).constant(t.constant())},U$.apply(t,arguments)},scaleIdentity:function e(t){var r;function n(e){return null==e||isNaN(e=+e)?r:e}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,BB),n):t.slice()},n.unknown=function(e){return arguments.length?(r=e,n):r},n.copy=function(){return e(t).unknown(r)},t=arguments.length?Array.from(t,BB):[0,1],uU(n)},scaleImplicit:z$,scaleLinear:function e(){var t=GB();return t.copy=function(){return HB(t,e())},B$.apply(t,arguments),uU(t)},scaleLog:function e(){const t=vU(QB()).domain([1,10]);return t.copy=()=>HB(t,e()).base(t.base()),B$.apply(t,arguments),t},scaleOrdinal:V$,scalePoint:function(){return q$(W$.apply(null,arguments).paddingInner(1))},scalePow:EU,scaleQuantile:function e(){var t,r=[],n=[],a=[];function s(){var e=0,t=Math.max(1,n.length);for(a=new Array(t-1);++e<t;)a[e-1]=$$(r,e/t);return i}function i(e){return null==e||isNaN(e=+e)?t:n[N$(a,e)]}return i.invertExtent=function(e){var t=n.indexOf(e);return t<0?[NaN,NaN]:[t>0?a[t-1]:r[0],t<a.length?a[t]:r[r.length-1]]},i.domain=function(e){if(!arguments.length)return r.slice();r=[];for(let t of e)null==t||isNaN(t=+t)||r.push(t);return r.sort(b$),s()},i.range=function(e){return arguments.length?(n=Array.from(e),s()):n.slice()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.quantiles=function(){return a.slice()},i.copy=function(){return e().domain(r).range(n).unknown(t)},B$.apply(i,arguments)},scaleQuantize:function e(){var t,r=0,n=1,a=1,s=[.5],i=[0,1];function o(e){return null!=e&&e<=e?i[N$(s,e,0,a)]:t}function l(){var e=-1;for(s=new Array(a);++e<a;)s[e]=((e+1)*n-(e-a)*r)/(a+1);return o}return o.domain=function(e){return arguments.length?([r,n]=e,r=+r,n=+n,l()):[r,n]},o.range=function(e){return arguments.length?(a=(i=Array.from(e)).length-1,l()):i.slice()},o.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,s[0]]:t>=a?[s[a-1],n]:[s[t-1],s[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return s.slice()},o.copy=function(){return e().domain([r,n]).range(i).unknown(t)},B$.apply(uU(o),arguments)},scaleRadial:function e(){var t,r=GB(),n=[0,1],a=!1;function s(e){var n=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(r(e));return isNaN(n)?t:a?Math.round(n):n}return s.invert=function(e){return r.invert(TU(e))},s.domain=function(e){return arguments.length?(r.domain(e),s):r.domain()},s.range=function(e){return arguments.length?(r.range((n=Array.from(e,BB)).map(TU)),s):n.slice()},s.rangeRound=function(e){return s.range(e).round(!0)},s.round=function(e){return arguments.length?(a=!!e,s):a},s.clamp=function(e){return arguments.length?(r.clamp(e),s):r.clamp()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return e(r.domain(),n).round(a).clamp(r.clamp()).unknown(t)},B$.apply(s,arguments),uU(s)},scaleSequential:function e(){var t=uU(qV()(zB));return t.copy=function(){return HV(t,e())},U$.apply(t,arguments)},scaleSequentialLog:function e(){var t=vU(qV()).domain([1,10]);return t.copy=function(){return HV(t,e()).base(t.base())},U$.apply(t,arguments)},scaleSequentialPow:QV,scaleSequentialQuantile:function e(){var t=[],r=zB;function n(e){if(null!=e&&!isNaN(e=+e))return r((N$(t,e,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(b$),n},n.interpolator=function(e){return arguments.length?(r=e,n):r},n.range=function(){return t.map((e,n)=>r(n/(t.length-1)))},n.quantiles=function(e){return Array.from({length:e+1},(r,n)=>function(e,t){if((r=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return R$(e);if(t>=1)return L$(e);var r,n=(r-1)*t,a=Math.floor(n),s=L$(M$(e,a).subarray(0,a+1));return s+(R$(e.subarray(a+1))-s)*(n-a)}}(t,n/e))},n.copy=function(){return e(r).domain(t)},U$.apply(n,arguments)},scaleSequentialSqrt:function(){return QV.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=jU(qV());return t.copy=function(){return HV(t,e()).constant(t.constant())},U$.apply(t,arguments)},scaleSqrt:function(){return EU.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=jU(QB());return t.copy=function(){return HB(t,e()).constant(t.constant())},B$.apply(t,arguments)},scaleThreshold:function e(){var t,r=[.5],n=[0,1],a=1;function s(e){return null!=e&&e<=e?n[N$(r,e,0,a)]:t}return s.domain=function(e){return arguments.length?(r=Array.from(e),a=Math.min(r.length,n.length-1),s):r.slice()},s.range=function(e){return arguments.length?(n=Array.from(e),a=Math.min(r.length,n.length-1),s):n.slice()},s.invertExtent=function(e){var t=n.indexOf(e);return[r[t-1],r[t]]},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return e().domain(r).range(n).unknown(t)},B$.apply(s,arguments)},scaleTime:function(){return B$.apply(WV(xz,bz,hz,dz,YU,qU,VU,UU,BU,Nz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return B$.apply(WV(pz,gz,mz,uz,nz,HU,WU,zU,BU,Sz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:dU},Symbol.toStringTag,{value:"Module"}));var XV=e=>e.chartData,ZV=fO([XV],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),JV=(e,t,r,n)=>n?ZV(e):XV(e);function eW(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(sF(t)&&sF(r))return!0}return!1}function tW(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var rW,nW=1e9,aW=!0,sW="[DecimalError] ",iW=sW+"Invalid argument: ",oW=sW+"Exponent out of range: ",lW=Math.floor,cW=Math.pow,dW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,uW=1e7,hW=9007199254740991,mW=lW(1286742750677284.5),fW={};function pW(e,t){var r,n,a,s,i,o,l,c,d=e.constructor,u=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),aW?kW(t,u):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),s=i-a){for(s<0?(n=l,s=-s,o=c.length):(n=c,a=i,o=l.length),s>(o=(i=Math.ceil(u/7))>o?i+1:o+1)&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for((o=l.length)-(s=c.length)<0&&(s=o,n=c,c=l,l=n),r=0;s;)r=(l[--s]=l[s]+c[s]+r)/uW|0,l[s]%=uW;for(r&&(l.unshift(r),++a),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=a,aW?kW(t,u):t}function gW(e,t,r){if(e!==~~e||e<t||e>r)throw Error(iW+e)}function xW(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(s+=jW(r)),s+=n;(r=7-(n=(i=e[t])+"").length)&&(s+=jW(r))}else if(0===i)return"0";for(;i%10==0;)i/=10;return s+i}fW.absoluteValue=fW.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},fW.comparedTo=fW.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,r=(n=s.d.length)<(a=e.d.length)?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1},fW.decimalPlaces=fW.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},fW.dividedBy=fW.div=function(e){return bW(this,new this.constructor(e))},fW.dividedToIntegerBy=fW.idiv=function(e){var t=this.constructor;return kW(bW(this,new t(e),0,1),t.precision)},fW.equals=fW.eq=function(e){return!this.cmp(e)},fW.exponent=function(){return yW(this)},fW.greaterThan=fW.gt=function(e){return this.cmp(e)>0},fW.greaterThanOrEqualTo=fW.gte=function(e){return this.cmp(e)>=0},fW.isInteger=fW.isint=function(){return this.e>this.d.length-2},fW.isNegative=fW.isneg=function(){return this.s<0},fW.isPositive=fW.ispos=function(){return this.s>0},fW.isZero=function(){return 0===this.s},fW.lessThan=fW.lt=function(e){return this.cmp(e)<0},fW.lessThanOrEqualTo=fW.lte=function(e){return this.cmp(e)<1},fW.logarithm=fW.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(rW))throw Error(sW+"NaN");if(r.s<1)throw Error(sW+(r.s?"NaN":"-Infinity"));return r.eq(rW)?new n(0):(aW=!1,t=bW(NW(r,s),NW(e,s),s),aW=!0,kW(t,a))},fW.minus=fW.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CW(t,e):pW(t,(e.s=-e.s,e))},fW.modulo=fW.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(sW+"NaN");return r.s?(aW=!1,t=bW(r,e,0,1).times(e),aW=!0,r.minus(t)):kW(new n(r),a)},fW.naturalExponential=fW.exp=function(){return vW(this)},fW.naturalLogarithm=fW.ln=function(){return NW(this)},fW.negated=fW.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},fW.plus=fW.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pW(t,e):CW(t,(e.s=-e.s,e))},fW.precision=fW.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(iW+e);if(t=yW(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},fW.squareRoot=fW.sqrt=function(){var e,t,r,n,a,s,i,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(sW+"NaN")}for(e=yW(o),aW=!1,0==(a=Math.sqrt(+o))||a==1/0?(((t=xW(o.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=lW((e+1)/2)-(e<0||e%2),n=new l(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new l(a.toString()),a=i=(r=l.precision)+3;;)if(n=(s=n).plus(bW(o,s,i+2)).times(.5),xW(s.d).slice(0,i)===(t=xW(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(kW(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if("9999"!=t)break;i+=4}return aW=!0,kW(n,r)},fW.times=fW.mul=function(e){var t,r,n,a,s,i,o,l,c,d=this,u=d.constructor,h=d.d,m=(e=new u(e)).d;if(!d.s||!e.s)return new u(0);for(e.s*=d.s,r=d.e+e.e,(l=h.length)<(c=m.length)&&(s=h,h=m,m=s,i=l,l=c,c=i),s=[],n=i=l+c;n--;)s.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=s[a]+m[n]*h[a-n-1]+t,s[a--]=o%uW|0,t=o/uW|0;s[a]=(s[a]+t)%uW|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,aW?kW(e,u.precision):e},fW.toDecimalPlaces=fW.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(gW(e,0,nW),void 0===t?t=n.rounding:gW(t,0,8),kW(r,e+yW(r)+1,t))},fW.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=EW(n,!0):(gW(e,0,nW),void 0===t?t=a.rounding:gW(t,0,8),r=EW(n=kW(new a(n),e+1,t),!0,e+1)),r},fW.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return void 0===e?EW(a):(gW(e,0,nW),void 0===t?t=s.rounding:gW(t,0,8),r=EW((n=kW(new s(a),e+yW(a)+1,t)).abs(),!1,e+yW(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},fW.toInteger=fW.toint=function(){var e=this,t=e.constructor;return kW(new t(e),yW(e)+1,t.rounding)},fW.toNumber=function(){return+this},fW.toPower=fW.pow=function(e){var t,r,n,a,s,i,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(rW);if(!(o=new l(o)).s){if(e.s<1)throw Error(sW+"Infinity");return o}if(o.eq(rW))return o;if(n=l.precision,e.eq(rW))return kW(o,n);if(i=(t=e.e)>=(r=e.d.length-1),s=o.s,i){if((r=c<0?-c:c)<=hW){for(a=new l(rW),t=Math.ceil(n/7+4),aW=!1;r%2&&TW((a=a.times(o)).d,t),0!==(r=lW(r/2));)TW((o=o.times(o)).d,t);return aW=!0,e.s<0?new l(rW).div(a):kW(a,n)}}else if(s<0)throw Error(sW+"NaN");return s=s<0&&1&e.d[Math.max(t,r)]?-1:1,o.s=1,aW=!1,a=e.times(NW(o,n+12)),aW=!0,(a=vW(a)).s=s,a},fW.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return void 0===e?n=EW(a,(r=yW(a))<=s.toExpNeg||r>=s.toExpPos):(gW(e,1,nW),void 0===t?t=s.rounding:gW(t,0,8),n=EW(a=kW(new s(a),e,t),e<=(r=yW(a))||r<=s.toExpNeg,e)),n},fW.toSignificantDigits=fW.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(gW(e,1,nW),void 0===t?t=r.rounding:gW(t,0,8)),kW(new r(this),e,t)},fW.toString=fW.valueOf=fW.val=fW.toJSON=fW[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=yW(e),r=e.constructor;return EW(e,t<=r.toExpNeg||t>=r.toExpPos)};var bW=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%uW|0,n=r/uW|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,s;if(r!=n)s=r>n?1:-1;else for(a=s=0;a<r;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*uW+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,s,i){var o,l,c,d,u,h,m,f,p,g,x,b,v,y,w,j,N,S,k=n.constructor,C=n.s==a.s?1:-1,E=n.d,T=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(sW+"Division by zero");for(l=n.e-a.e,N=T.length,w=E.length,f=(m=new k(C)).d=[],c=0;T[c]==(E[c]||0);)++c;if(T[c]>(E[c]||0)&&--l,(b=null==s?s=k.precision:i?s+(yW(n)-yW(a))+1:s)<0)return new k(0);if(b=b/7+2|0,c=0,1==N)for(d=0,T=T[0],b++;(c<w||d)&&b--;c++)v=d*uW+(E[c]||0),f[c]=v/T|0,d=v%T|0;else{for((d=uW/(T[0]+1)|0)>1&&(T=e(T,d),E=e(E,d),N=T.length,w=E.length),y=N,g=(p=E.slice(0,N)).length;g<N;)p[g++]=0;(S=T.slice()).unshift(0),j=T[0],T[1]>=uW/2&&++j;do{d=0,(o=t(T,p,N,g))<0?(x=p[0],N!=g&&(x=x*uW+(p[1]||0)),(d=x/j|0)>1?(d>=uW&&(d=uW-1),1==(o=t(u=e(T,d),p,h=u.length,g=p.length))&&(d--,r(u,N<h?S:T,h))):(0==d&&(o=d=1),u=T.slice()),(h=u.length)<g&&u.unshift(0),r(p,u,g),-1==o&&(o=t(T,p,N,g=p.length))<1&&(d++,r(p,N<g?S:T,g)),g=p.length):0===o&&(d++,p=[0]),f[c++]=d,o&&p[0]?p[g++]=E[y]||0:(p=[E[y]],g=1)}while((y++<w||void 0!==p[0])&&b--)}return f[0]||f.shift(),m.e=l,kW(m,i?s+yW(m)+1:s)}}();function vW(e,t){var r,n,a,s,i,o=0,l=0,c=e.constructor,d=c.precision;if(yW(e)>16)throw Error(oW+yW(e));if(!e.s)return new c(rW);for(aW=!1,i=d,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),l+=5;for(i+=Math.log(cW(2,l))/Math.LN10*2+5|0,r=n=a=new c(rW),c.precision=i;;){if(n=kW(n.times(e),i),r=r.times(++o),xW((s=a.plus(bW(n,r,i))).d).slice(0,i)===xW(a.d).slice(0,i)){for(;l--;)a=kW(a.times(a),i);return c.precision=d,null==t?(aW=!0,kW(a,d)):a}a=s}}function yW(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function wW(e,t,r){if(t>e.LN10.sd())throw aW=!0,r&&(e.precision=r),Error(sW+"LN10 precision limit exceeded");return kW(new e(e.LN10),t)}function jW(e){for(var t="";e--;)t+="0";return t}function NW(e,t){var r,n,a,s,i,o,l,c,d,u=1,h=e,m=h.d,f=h.constructor,p=f.precision;if(h.s<1)throw Error(sW+(h.s?"NaN":"-Infinity"));if(h.eq(rW))return new f(0);if(null==t?(aW=!1,c=p):c=t,h.eq(10))return null==t&&(aW=!0),wW(f,c);if(c+=10,f.precision=c,n=(r=xW(m)).charAt(0),s=yW(h),!(Math.abs(s)<15e14))return l=wW(f,c+2,p).times(s+""),h=NW(new f(n+"."+r.slice(1)),c-10).plus(l),f.precision=p,null==t?(aW=!0,kW(h,p)):h;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=xW((h=h.times(e)).d)).charAt(0),u++;for(s=yW(h),n>1?(h=new f("0."+r),s++):h=new f(n+"."+r.slice(1)),o=i=h=bW(h.minus(rW),h.plus(rW),c),d=kW(h.times(h),c),a=3;;){if(i=kW(i.times(d),c),xW((l=o.plus(bW(i,new f(a),c))).d).slice(0,c)===xW(o.d).slice(0,c))return o=o.times(2),0!==s&&(o=o.plus(wW(f,c+2,p).times(s+""))),o=bW(o,new f(u),c),f.precision=p,null==t?(aW=!0,kW(o,p)):o;o=l,a+=2}}function SW(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=lW(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),aW&&(e.e>mW||e.e<-mW))throw Error(oW+r)}else e.s=0,e.e=0,e.d=[0];return e}function kW(e,t,r){var n,a,s,i,o,l,c,d,u=e.d;for(i=1,s=u[0];s>=10;s/=10)i++;if((n=t-i)<0)n+=7,a=t,c=u[d=0];else{if((d=Math.ceil((n+1)/7))>=(s=u.length))return e;for(c=s=u[d],i=1;s>=10;s/=10)i++;a=(n%=7)-7+i}if(void 0!==r&&(o=c/(s=cW(10,i-a-1))%10|0,l=t<0||void 0!==u[d+1]||c%s,l=r<4?(o||l)&&(0==r||r==(e.s<0?3:2)):o>5||5==o&&(4==r||l||6==r&&(n>0?a>0?c/cW(10,i-a):0:u[d-1])%10&1||r==(e.s<0?8:7))),t<1||!u[0])return l?(s=yW(e),u.length=1,t=t-s-1,u[0]=cW(10,(7-t%7)%7),e.e=lW(-t/7)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(0==n?(u.length=d,s=1,d--):(u.length=d+1,s=cW(10,7-n),u[d]=a>0?(c/cW(10,i-a)%cW(10,a)|0)*s:0),l)for(;;){if(0==d){(u[0]+=s)==uW&&(u[0]=1,++e.e);break}if(u[d]+=s,u[d]!=uW)break;u[d--]=0,s=1}for(n=u.length;0===u[--n];)u.pop();if(aW&&(e.e>mW||e.e<-mW))throw Error(oW+yW(e));return e}function CW(e,t){var r,n,a,s,i,o,l,c,d,u,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),aW?kW(t,m):t;if(l=e.d,u=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n){for((d=i<0)?(r=l,i=-i,o=u.length):(r=u,n=c,o=l.length),i>(a=Math.max(Math.ceil(m/7),o)+2)&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for((d=(a=l.length)<(o=u.length))&&(o=a),a=0;a<o;a++)if(l[a]!=u[a]){d=l[a]<u[a];break}i=0}for(d&&(r=l,l=u,u=r,t.s=-t.s),o=l.length,a=u.length-o;a>0;--a)l[o++]=0;for(a=u.length;a>i;){if(l[--a]<u[a]){for(s=a;s&&0===l[--s];)l[s]=uW-1;--l[s],l[a]+=uW}l[a]-=u[a]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,aW?kW(t,m):t):new h(0)}function EW(e,t,r){var n,a=yW(e),s=xW(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+jW(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+jW(-a-1)+s,r&&(n=r-i)>0&&(s+=jW(n))):a>=i?(s+=jW(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+jW(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=jW(n))),e.s<0?"-"+s:s}function TW(e,t){if(e.length>t)return e.length=t,!0}function _W(e){if(!e||"object"!=typeof e)throw Error(sW+"Object expected");var t,r,n,a=["precision",1,nW,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(lW(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(iW+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(iW+r+": "+n);this[r]=new this(n)}return this}var AW=function e(t){var r,n,a;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(iW+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):SW(t,e.toString())}if("string"!=typeof e)throw Error(iW+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!dW.test(e))throw Error(iW+e);SW(t,e)}if(s.prototype=fW,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=_W,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return s.config(t),s}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});rW=new AW(1);const IW=AW;var PW=e=>e,DW={},OW=e=>e===DW,LW=e=>function t(){return 0===arguments.length||1===arguments.length&&OW(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},RW=(e,t)=>1===e?t:LW(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(e=>e!==DW).length;return s>=e?t(...n):RW(e-s,LW(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var s=n.map(e=>OW(e)?r.shift():e);return t(...s,...r)}))}),MW=e=>RW(e.length,e),FW=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},$W=MW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),BW=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),UW=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t&&a.every((e,r)=>{var n;return e===(null===(n=t)||void 0===n?void 0:n[r])})?r:(t=a,r=e(...a))}};function zW(e){return 0===e?1:Math.floor(new IW(e).abs().log(10).toNumber())+1}function VW(e,t,r){for(var n=new IW(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}MW((e,t,r)=>{var n=+e;return n+r*(+t-n)}),MW((e,t,r)=>{var n=t-+e;return(r-e)/(n=n||1/0)}),MW((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var WW=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},qW=(e,t,r)=>{if(e.lte(0))return new IW(0);var n=zW(e.toNumber()),a=new IW(10).pow(n),s=e.div(a),i=1!==n?.05:.1,o=new IW(Math.ceil(s.div(i).toNumber())).add(r).mul(i).mul(a);return new IW(t?o.toNumber():Math.ceil(o.toNumber()))},HW=(e,t,r)=>{var n=new IW(1),a=new IW(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new IW(10).pow(zW(e)-1),a=new IW(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new IW(Math.floor(e)))}else 0===e?a=new IW(Math.floor((t-1)/2)):r||(a=new IW(Math.floor(e)));var i=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return PW;var n=t.reverse(),a=n[0],s=n.slice(1);return function(){return s.reduce((e,t)=>t(e),a(...arguments))}}($W(e=>a.add(new IW(e-i).mul(n)).toNumber()),FW)(0,t)},QW=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new IW(0),tickMin:new IW(0),tickMax:new IW(0)};var s,i=qW(new IW(t).sub(e).div(r-1),n,a);s=e<=0&&t>=0?new IW(0):(s=new IW(e).add(t).div(2)).sub(new IW(s).mod(i));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new IW(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?QW(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new IW(o).mul(i)),tickMax:s.add(new IW(l).mul(i))})};var GW=UW(function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(n,2),[i,o]=WW([t,r]);if(i===-1/0||o===1/0){var l=o===1/0?[i,...FW(0,n-1).map(()=>1/0)]:[...FW(0,n-1).map(()=>-1/0),o];return t>r?BW(l):l}if(i===o)return HW(i,n,a);var{step:c,tickMin:d,tickMax:u}=QW(i,o,s,a,0),h=VW(d,u.add(new IW(.1).mul(c)),c);return t>r?BW(h):h}),YW=UW(function(e,t){var[r,n]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[s,i]=WW([r,n]);if(s===-1/0||i===1/0)return[r,n];if(s===i)return[s];var o=Math.max(t,2),l=qW(new IW(i).sub(s).div(o-1),a,0),c=[...VW(new IW(s),new IW(i),l),i];return!1===a&&(c=c.map(e=>Math.round(e))),r>n?BW(c):c}),KW=e=>e.rootProps.maxBarSize,XW=e=>e.rootProps.barCategoryGap,ZW=e=>e.rootProps.stackOffset,JW=e=>e.options.chartName,eq=e=>e.rootProps.syncId,tq=e=>e.rootProps.syncMethod,rq=e=>e.options.eventEmitter,nq=0,aq="auto",sq=!0,iq=!1,oq=!0,lq=0,cq="auto",dq=!0,uq=5,hq=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},mq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:nq,includeHidden:!1,name:void 0,reversed:!1,scale:aq,tick:sq,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},fq={allowDataOverflow:iq,allowDecimals:!1,allowDuplicatedCategory:oq,dataKey:void 0,domain:void 0,id:lq,includeHidden:!1,name:void 0,reversed:!1,scale:cq,tick:dq,tickCount:uq,ticks:void 0,type:"number",unit:void 0},pq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:nq,includeHidden:!1,name:void 0,reversed:!1,scale:aq,tick:sq,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gq={allowDataOverflow:iq,allowDecimals:!1,allowDuplicatedCategory:oq,dataKey:void 0,domain:void 0,id:lq,includeHidden:!1,name:void 0,reversed:!1,scale:cq,tick:dq,tickCount:uq,ticks:void 0,type:"category",unit:void 0},xq=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?pq:mq,bq=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?gq:fq,vq=e=>e.polarOptions,yq=fO([nM,aM,hM],function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2}),wq=fO([vq,yq],(e,t)=>{if(null!=e)return cI(e.innerRadius,t,0)}),jq=fO([vq,yq],(e,t)=>{if(null!=e)return cI(e.outerRadius,t,.8*t)}),Nq=fO([vq],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]});fO([xq,Nq],hq);var Sq=fO([yq,wq,jq],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]});fO([bq,Sq],hq);var kq=fO([SM,vq,wq,jq,nM,aM],(e,t,r,n,a,s)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:i,cy:o,startAngle:l,endAngle:c}=t;return{cx:cI(i,a,a/2),cy:cI(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),Cq=(e,t)=>t,Eq=(e,t,r)=>r;function Tq(e){return null==e?void 0:e.id}var _q=e=>{var t=SM(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},Aq=e=>e.tooltip.settings.axisId,Iq=e=>{var t=_q(e),r=Aq(e);return Gq(e,t,r)},Pq=fO([Iq],e=>null==e?void 0:e.dataKey);function Dq(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,i=new Map;return e.forEach(e=>{var t,r=null!==(t=e.data)&&void 0!==t?t:n;if(null!=r&&0!==r.length){var o=Tq(e);r.forEach((t,r)=>{var n,l=null==s||a?r:String(zR(t,s,null)),c=zR(t,e.dataKey,0);n=i.has(l)?i.get(l):{},Object.assign(n,{[o]:c}),i.set(l,n)})}}),Array.from(i.values())}function Oq(e){return null!=e.stackId&&null!=e.dataKey}function Lq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lq(Object(r),!0).forEach(function(t){Mq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Mq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fq=[0,"auto"],$q={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Bq=(e,t)=>e.cartesianAxis.xAxis[t],Uq=(e,t)=>{var r=Bq(e,t);return null==r?$q:r},zq={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Fq,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},Vq=(e,t)=>e.cartesianAxis.yAxis[t],Wq=(e,t)=>{var r=Vq(e,t);return null==r?zq:r},qq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Hq=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?qq:r},Qq=(e,t,r)=>{switch(t){case"xAxis":return Uq(e,r);case"yAxis":return Wq(e,r);case"zAxis":return Hq(e,r);case"angleAxis":return xq(e,r);case"radiusAxis":return bq(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Gq=(e,t,r)=>{switch(t){case"xAxis":return Uq(e,r);case"yAxis":return Wq(e,r);case"angleAxis":return xq(e,r);case"radiusAxis":return bq(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Yq=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function Kq(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Xq=e=>e.graphicalItems.cartesianItems,Zq=fO([Cq,Eq],Kq),Jq=(e,t,r)=>e.filter(r).filter(e=>!0===(null==t?void 0:t.includeHidden)||!e.hide),eH=fO([Xq,Qq,Zq],Jq),tH=fO([eH],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(Oq)),rH=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),nH=fO([eH],rH),aH=e=>e.map(e=>e.data).filter(Boolean).flat(1),sH=fO([eH],aH),iH=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},oH=fO([sH,JV],iH),lH=(e,t,r)=>null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:zR(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:zR(e,t)}))):e.map(e=>({value:e})),cH=fO([oH,Qq,eH],lH);function dH(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function uH(e){return e.filter(e=>iI(e)||e instanceof Date).map(Number).filter(e=>!1===nI(e))}function hH(e,t,r){return!r||"number"!=typeof t||nI(t)?[]:r.length?uH(r.flatMap(r=>{var n,a,s=zR(e,r.dataKey);if(Array.isArray(s)?[n,a]=s:n=a=s,sF(n)&&sF(a))return[t-n,t+a]})):[]}var mH=fO([tH,JV,Iq],Dq),fH=(e,t,r)=>{var n=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(n).map(t=>{var[n,a]=t,s=a.map(Tq);return[n,{stackedData:GR(e,s,r),graphicalItems:a}]}))},pH=fO([mH,tH,ZW],fH),gH=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if("zAxis"!==r){var s=XR(e,n,a);if(null==s||0!==s[0]||0!==s[1])return s}},xH=fO([pH,XV,Cq],gH),bH=(e,t,r,n,a)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var s,i,o=null===(s=n[r.id])||void 0===s?void 0:s.filter(e=>dH(a,e)),l=zR(e,null!==(i=t.dataKey)&&void 0!==i?i:r.dataKey);return{value:l,errorDomain:hH(e,l,o)}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:zR(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),vH=e=>e.errorBars,yH=(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>dH(r,e));fO([nH,vH,Cq],yH);var wH=fO([oH,Qq,nH,vH,Cq],bH);function jH(e){var{value:t}=e;if(iI(t)||t instanceof Date)return t}var NH=e=>{var t=uH(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},SH=e=>{var t;if(null==e||!("domain"in e))return Fq;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=uH(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:Fq},kH=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var a=n.flat();return[Math.min(...a),Math.max(...a)]}},CH=e=>e.referenceElements.dots,EH=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),TH=fO([CH,Cq,Eq],EH),_H=e=>e.referenceElements.areas,AH=fO([_H,Cq,Eq],EH),IH=e=>e.referenceElements.lines,PH=fO([IH,Cq,Eq],EH),DH=(e,t)=>{var r=uH(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},OH=fO(TH,Cq,DH),LH=(e,t)=>{var r=uH(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},RH=fO([AH,Cq],LH),MH=(e,t)=>{var r=uH(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},FH=fO(PH,Cq,MH),$H=fO(OH,FH,RH,(e,t,r)=>kH(e,r,t)),BH=fO([Qq],SH),UH=(e,t,r,n,a,s,i)=>{var o=function(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var r,n,[a,s]=e;if(sF(a))r=a;else if("function"==typeof a)return;if(sF(s))n=s;else if("function"==typeof s)return;var i=[r,n];if(eW(i))return i}}(t,e.allowDataOverflow);return null!=o?o:function(e,t,r){if(r||null!=t){if("function"==typeof e&&null!=t)try{var n=e(t,r);if(eW(n))return tW(n,t,r)}catch(m){}if(Array.isArray(e)&&2===e.length){var a,s,[i,o]=e;if("auto"===i)null!=t&&(a=Math.min(...t));else if(sI(i))a=i;else if("function"==typeof i)try{null!=t&&(a=i(null==t?void 0:t[0]))}catch(f){}else if("string"==typeof i&&ZR.test(i)){var l=ZR.exec(i);if(null==l||null==t)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=null==t?void 0:t[0];if("auto"===o)null!=t&&(s=Math.max(...t));else if(sI(o))s=o;else if("function"==typeof o)try{null!=t&&(s=o(null==t?void 0:t[1]))}catch(p){}else if("string"==typeof o&&JR.test(o)){var d=JR.exec(o);if(null==d||null==t)s=void 0;else{var u=+d[1];s=t[1]+u}}else s=null==t?void 0:t[1];var h=[a,s];if(eW(h))return null==t?h:tW(h,t,r)}}}(t,"vertical"===s&&"xAxis"===i||"horizontal"===s&&"yAxis"===i?kH(r,a,NH(n)):kH(a,NH(n)),e.allowDataOverflow)},zH=fO([Qq,BH,xH,wH,$H,SM,Cq],UH),VH=[0,1],WH=(e,t,r,n,a,s,i)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==i){var{dataKey:o,type:l}=e,c=VR(t,s);return c&&null==o?x$(0,r.length):"category"===l?((e,t,r)=>{var n=e.map(jH).filter(e=>null!=e);return r&&(null==t.dataKey||t.allowDuplicatedCategory&&dI(n))?x$(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))})(n,e,c):"expand"===a?VH:i}},qH=fO([Qq,SM,oH,cH,ZW,Cq,zH],WH),HH=(e,t,r,n,a)=>{if(null!=e){var{scale:s,type:i}=e;if("auto"===s)return"radial"===t&&"radiusAxis"===a?"band":"radial"===t&&"angleAxis"===a?"linear":"category"===i&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":"category"===i?"band":"linear";if("string"==typeof s){var o="scale".concat(fI(s));return o in KV?o:"point"}}},QH=fO([Qq,SM,Yq,JW,Cq],HH);function GH(e,t,r,n){if(null!=r&&null!=n){if("function"==typeof e.scale)return e.scale.copy().domain(r).range(n);var a=function(e){if(null!=e){if(e in KV)return KV[e]();var t="scale".concat(fI(e));return t in KV?KV[t]():void 0}}(t);if(null!=a){var s=a.domain(r).range(n);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-HR,s=Math.max(n[0],n[1])+HR,i=e(t[0]),o=e(t[r-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}})(s),s}}}var YH=(e,t,r)=>{var n=SH(t);if("auto"===r||"linear"===r)return null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&eW(e)?GW(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&eW(e)?YW(e,t.tickCount,t.allowDecimals):void 0},KH=fO([qH,Gq,QH],YH),XH=(e,t,r,n)=>{if("angleAxis"!==n&&"number"===(null==e?void 0:e.type)&&eW(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],o=r[r.length-1];return[Math.min(a,s),Math.max(i,o)]}return t},ZH=fO([Qq,qH,KH,Cq],XH),JH=fO(cH,Qq,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(uH(e.map(e=>e.value))).sort((e,t)=>e-t);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(0===a)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];r=Math.min(r,i)}return r/a}}),eQ=fO(JH,SM,XW,hM,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!sF(e))return 0;var s="vertical"===t?n.height:n.width;if("gap"===a)return e*s/2;if("no-gap"===a){var i=cI(r,e*s),o=e*s/2;return o-i-(o-i)/s*i}return 0}),tQ=fO(Uq,(e,t)=>{var r=Uq(e,t);return null==r||"string"!=typeof r.padding?0:eQ(e,"xAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"==typeof a?{left:t,right:t}:{left:(null!==(r=a.left)&&void 0!==r?r:0)+t,right:(null!==(n=a.right)&&void 0!==n?n:0)+t}}),rQ=fO(Wq,(e,t)=>{var r=Wq(e,t);return null==r||"string"!=typeof r.padding?0:eQ(e,"yAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"==typeof a?{top:t,bottom:t}:{top:(null!==(r=a.top)&&void 0!==r?r:0)+t,bottom:(null!==(n=a.bottom)&&void 0!==n?n:0)+t}}),nQ=fO([hM,tQ,bM,xM,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),aQ=fO([hM,SM,rQ,bM,xM,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),sQ=(e,t,r,n)=>{var a;switch(t){case"xAxis":return nQ(e,r,n);case"yAxis":return aQ(e,r,n);case"zAxis":return null===(a=Hq(e,r))||void 0===a?void 0:a.range;case"angleAxis":return Nq(e);case"radiusAxis":return Sq(e,r);default:return}},iQ=fO([Qq,sQ],hq),oQ=fO([Qq,QH,ZH,iQ],GH);function lQ(e,t){return e.id<t.id?-1:e.id>t.id?1:0}fO([eH,vH,Cq],yH);var cQ=(e,t)=>t,dQ=(e,t,r)=>r,uQ=fO(oM,cQ,dQ,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(lQ)),hQ=fO(lM,cQ,dQ,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(lQ)),mQ=(e,t)=>({width:e.width,height:t.height}),fQ=fO(hM,Uq,mQ),pQ=fO(aM,hM,uQ,cQ,dQ,(e,t,r,n,a)=>{var s,i={};return r.forEach(r=>{var o=mQ(t,r);null==s&&(s=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var l="top"===n&&!a||"bottom"===n&&a;i[r.id]=s-Number(l)*o.height,s+=(l?-1:1)*o.height}),i}),gQ=fO(nM,hM,hQ,cQ,dQ,(e,t,r,n,a)=>{var s,i={};return r.forEach(r=>{var o=((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))(t,r);null==s&&(s=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var l="left"===n&&!a||"right"===n&&a;i[r.id]=s-Number(l)*o.width,s+=(l?-1:1)*o.width}),i}),xQ=fO(hM,Wq,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),bQ=(e,t,r)=>{switch(t){case"xAxis":return fQ(e,r).width;case"yAxis":return xQ(e,r).height;default:return}},vQ=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,o=VR(e,n),l=t.map(e=>e.value);return i&&o&&"category"===s&&a&&dI(l)?l:void 0}},yQ=fO([SM,cH,Qq,Cq],vQ),wQ=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:a,scale:s}=r;return!VR(e,n)||"number"!==a&&"auto"===s?void 0:t.map(e=>e.value)}},jQ=fO([SM,cH,Gq,Cq],wQ),NQ=fO([SM,(e,t,r)=>{switch(t){case"xAxis":return Uq(e,r);case"yAxis":return Wq(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},QH,oQ,yQ,jQ,sQ,KH,Cq],(e,t,r,n,a,s,i,o,l)=>{if(null==t)return null;var c=VR(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:a,isCategorical:c,niceTicks:o,range:i,realScaleType:r,scale:n}}),SQ=fO([SM,Gq,QH,oQ,KH,sQ,yQ,jQ,Cq],(e,t,r,n,a,s,i,o,l)=>{if(null!=t&&null!=n){var c=VR(e,l),{type:d,ticks:u,tickCount:h}=t,m="scaleBand"===r&&"function"==typeof n.bandwidth?n.bandwidth()/2:2,f="category"===d&&n.bandwidth?n.bandwidth()/m:0;f="angleAxis"===l&&null!=s&&s.length>=2?2*rI(s[0]-s[1])*f:f;var p=u||a;return p?p.map((e,t)=>{var r=i?i.indexOf(e):e;return{index:t,coordinate:n(r)+f,value:e,offset:f}}).filter(e=>!nI(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:n(e)+f,value:e,index:t,offset:f})):n.ticks?n.ticks(h).map(e=>({coordinate:n(e)+f,value:e,offset:f})):n.domain().map((e,t)=>({coordinate:n(e)+f,value:i?i[e]:e,index:t,offset:f}))}}),kQ=fO([SM,Gq,oQ,sQ,yQ,jQ,Cq],(e,t,r,n,a,s,i)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var o=VR(e,i),{tickCount:l}=t,c=0;return c="angleAxis"===i&&(null==n?void 0:n.length)>=2?2*rI(n[0]-n[1])*c:c,o&&s?s.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),CQ=fO(Qq,oQ,(e,t)=>{if(null!=e&&null!=t)return Rq(Rq({},e),{},{scale:t})}),EQ=fO([Qq,QH,qH,iQ],GH);fO((e,t,r)=>Hq(e,r),EQ,(e,t)=>{if(null!=e&&null!=t)return Rq(Rq({},e),{},{scale:t})});var TQ=fO([SM,oM,lM],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_Q=e=>e.options.defaultTooltipEventType,AQ=e=>e.options.validateTooltipEventTypes;function IQ(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function PQ(e,t){return IQ(t,_Q(e),AQ(e))}var DQ=(e,t)=>{var r,n=Number(t);if(!nI(n)&&null!=t)return n>=0?null==e||null===(r=e[n])||void 0===r?void 0:r.value:void 0},OQ={active:!1,index:null,dataKey:void 0,coordinate:void 0},LQ=zL({name:"tooltip",initialState:{itemInteraction:{click:OQ,hover:OQ},axisInteraction:{click:OQ,hover:OQ},keyboardInteraction:OQ,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=jL(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:RQ,removeTooltipEntrySettings:MQ,setTooltipSettingsState:FQ,setActiveMouseOverItemIndex:$Q,mouseLeaveItem:BQ,mouseLeaveChart:UQ,setActiveClickItemIndex:zQ,setMouseOverAxisIndex:VQ,setMouseClickAxisIndex:WQ,setSyncInteraction:qQ,setKeyboardInteraction:HQ}=LQ.actions,QQ=LQ.reducer;function GQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function YQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GQ(Object(r),!0).forEach(function(t){KQ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GQ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function KQ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XQ=(e,t,r,n)=>{if(null==t)return OQ;var a=function(e,t,r){return"axis"===t?"click"===r?e.axisInteraction.click:e.axisInteraction.hover:"click"===r?e.itemInteraction.click:e.itemInteraction.hover}(e,t,r);if(null==a)return OQ;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var s=!0===e.settings.active;if(null!=a.index){if(s)return YQ(YQ({},a),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return YQ(YQ({},OQ),{},{coordinate:a.coordinate})},ZQ=(e,t)=>{var r=null==e?void 0:e.index;if(null==r)return null;var n=Number(r);if(!sF(n))return r;var a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(0,Math.min(n,a)))},JQ=(e,t,r,n,a,s,i,o)=>{if(null!=s&&null!=o){var l=i[0],c=null==l?void 0:o(l.positions,s);if(null!=c)return c;var d=null==a?void 0:a[Number(s)];if(d)return"horizontal"===r?{x:d.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:d.coordinate}}},eG=(e,t,r,n)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(a="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=n?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===a});var a},tG=e=>e.options.tooltipPayloadSearcher,rG=e=>e.tooltip;function nG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function aG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nG(Object(r),!0).forEach(function(t){sG(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nG(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sG(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var iG=(e,t,r,n,a,s,i)=>{if(null!=t&&null!=s){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=r;return e.reduce((e,r)=>{var u,h,m,{dataDefinedOnItem:f,settings:p}=r,g=function(e,t){return null!=e?e:t}(f,o),x=Array.isArray(g)?FR(g,c,d):g,b=null!==(u=null==p?void 0:p.dataKey)&&void 0!==u?u:n,v=null==p?void 0:p.nameKey;(h=n&&Array.isArray(x)&&!Array.isArray(x[0])&&"axis"===i?hI(x,n,a):s(x,t,l,v),Array.isArray(h))?h.forEach(t=>{var r=aG(aG({},p),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(tM({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:zR(t.payload,t.dataKey),name:t.name}))}):e.push(tM({tooltipEntrySettings:p,dataKey:b,payload:h,value:zR(h,b),name:null!==(m=zR(h,v))&&void 0!==m?m:null==p?void 0:p.name}));return e},[])}},oG=fO([Iq,SM,Yq,JW,_q],HH),lG=fO([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),cG=fO([_q,Aq],Kq),dG=fO([lG,Iq,cG],Jq),uG=fO([dG],e=>e.filter(Oq)),hG=fO([dG],aH),mG=fO([hG,XV],iH),fG=fO([uG,XV,Iq],Dq),pG=fO([mG,Iq,dG],lH),gG=fO([Iq],SH),xG=fO([dG],e=>e.filter(Oq)),bG=fO([fG,xG,ZW],fH),vG=fO([bG,XV,_q],gH),yG=fO([dG],rH),wG=fO([mG,Iq,yG,vH,_q],bH),jG=fO([CH,_q,Aq],EH),NG=fO([jG,_q],DH),SG=fO([_H,_q,Aq],EH),kG=fO([SG,_q],LH),CG=fO([IH,_q,Aq],EH),EG=fO([CG,_q],MH),TG=fO([NG,EG,kG],kH),_G=fO([Iq,gG,vG,wG,TG,SM,_q],UH),AG=fO([Iq,SM,mG,pG,ZW,_q,_G],WH),IG=fO([AG,Iq,oG],YH),PG=fO([Iq,AG,IG,_q],XH),DG=e=>{var t=_q(e),r=Aq(e);return sQ(e,t,r,!1)},OG=fO([Iq,DG],hq),LG=fO([Iq,oG,PG,OG],GH),RG=fO([SM,pG,Iq,_q],vQ),MG=fO([SM,pG,Iq,_q],wQ),FG=fO([SM,Iq,oG,LG,DG,RG,MG,_q],(e,t,r,n,a,s,i,o)=>{if(t){var{type:l}=t,c=VR(e,o);if(n){var d="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,u="category"===l&&n.bandwidth?n.bandwidth()/d:0;return u="angleAxis"===o&&null!=a&&(null==a?void 0:a.length)>=2?2*rI(a[0]-a[1])*u:u,c&&i?i.map((e,t)=>({coordinate:n(e)+u,value:e,index:t,offset:u})):n.domain().map((e,t)=>({coordinate:n(e)+u,value:s?s[e]:e,index:t,offset:u}))}}}),$G=fO([_Q,AQ,e=>e.tooltip.settings],(e,t,r)=>IQ(r.shared,e,t)),BG=e=>e.tooltip.settings.trigger,UG=e=>e.tooltip.settings.defaultIndex,zG=fO([rG,$G,BG,UG],XQ),VG=fO([zG,mG],ZQ),WG=fO([FG,VG],DQ),qG=fO([zG],e=>{if(e)return e.dataKey}),HG=fO([rG,$G,BG,UG],eG),QG=fO([nM,aM,SM,hM,FG,UG,HG,tG],JQ),GG=fO([zG,QG],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),YG=fO([zG],e=>e.active),KG=fO([HG,VG,XV,Pq,WG,tG,$G],iG),XG=fO([KG],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function ZG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function JG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ZG(Object(r),!0).forEach(function(t){eY(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZG(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eY(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tY=()=>{var e=oO(Iq),t=oO(FG),r=oO(LG);return eM(JG(JG({},e),{},{scale:r}),t)},rY=(e,t)=>t,nY=(e,t,r)=>r,aY=(e,t,r,n)=>n,sY=fO(FG,e=>NO(e,e=>e.coordinate)),iY=fO([rG,rY,nY,aY],XQ),oY=fO([iY,mG],ZQ),lY=fO([rG,rY,nY,aY],eG),cY=fO([nM,aM,SM,hM,FG,aY,lY,tG],JQ),dY=fO([iY,cY],(e,t)=>{var r;return null!==(r=e.coordinate)&&void 0!==r?r:t}),uY=fO(FG,oY,DQ),hY=fO([lY,oY,XV,Pq,uY,tG,rY],iG),mY=fO([iY],e=>({isActive:e.active,activeIndex:e.index}));function fY(){return fY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fY.apply(null,arguments)}function pY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pY(Object(r),!0).forEach(function(t){xY(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xY(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bY(e){var t,r,{coordinate:n,payload:a,index:s,offset:i,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:d,chartName:u}=e,h=n,m=a,f=s;if(!c||!h||"ScatterChart"!==u&&"axis"!==d)return null;if("ScatterChart"===u)t=h,r=jF;else if("BarChart"===u)t=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(l,h,i,o),r=i$;else if("radial"===l){var{cx:p,cy:g,radius:x,startAngle:b,endAngle:v}=o$(h);t={cx:p,cy:g,startAngle:b,endAngle:v,innerRadius:x,outerRadius:x},r=h$}else t={points:m$(l,h,i)},r=gF;var y="object"==typeof c&&"className"in c?c.className:void 0,w=gY(gY(gY(gY({stroke:"#ccc",pointerEvents:"none"},i),t),_I(c,!1)),{},{payload:m,payloadIndex:f,className:AA("recharts-tooltip-cursor",y)});return ee.isValidElement(c)?ee.cloneElement(c,w):ee.createElement(r,w)}function vY(e){var t=tY(),r=wM(),n=kM(),a=oO(JW);return ee.createElement(bY,fY({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var yY=ee.createContext(null),wY={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new a(n,s||e,i),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,s=n.length,i=new Array(s);a<s;a++)i[a]=n[a].fn;return i},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,a,s,i){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,a),!0;case 5:return d.fn.call(d.context,t,n,a,s),!0;case 6:return d.fn.call(d.context,t,n,a,s,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,a);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,a){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||a&&!o.once||n&&o.context!==n||i(this,s);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||a&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:i(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(wY);var jY=new(f(wY.exports)),NY="recharts.syncEvent.tooltip",SY="recharts.syncEvent.brush";function kY(e,t){if(t){var r=Number.parseInt(t,10);if(!nI(r))return null==e?void 0:e[r]}}var CY=zL({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),EY=CY.reducer,{createEventEmitter:TY}=CY.actions;function _Y(e){return e.tooltip.syncInteraction}var AY=zL({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:IY,setDataStartEndIndexes:PY,setComputedData:DY}=AY.actions,OY=AY.reducer,LY=["x","y"];function RY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function MY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RY(Object(r),!0).forEach(function(t){FY(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FY(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $Y=()=>{};function BY(){var e=oO(eq),t=oO(rq),r=nO(),n=oO(tq),a=oO(FG),s=kM(),i=vM(),o=oO(e=>e.rootProps.className);ee.useEffect(()=>{if(null==e)return $Y;var o=(o,l,c)=>{var d;if(t!==c&&e===o)if("index"!==n){if(null!=a){var u;if("function"==typeof n){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},m=n(a,h);u=a[m]}else"value"===n&&(u=a.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=i){var{x:p,y:g}=f,x=Math.min(p,i.x+i.width),b=Math.min(g,i.y+i.height),v={x:"horizontal"===s?u.coordinate:x,y:"horizontal"===s?b:u.coordinate},y=qQ({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});r(y)}else r(qQ({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else if(i&&null!=l&&null!==(d=l.payload)&&void 0!==d&&d.coordinate){var w=l.payload.coordinate,{x:j,y:N}=w,S=MY(MY(MY({},function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(w,LY)),"number"==typeof j&&{x:Math.max(i.x,Math.min(j,i.x+i.width))}),"number"==typeof N&&{y:Math.max(i.y,Math.min(N,i.y+i.height))}),k=MY(MY({},l),{},{payload:MY(MY({},l.payload),{},{coordinate:S})});r(k)}else r(l)};return jY.on(NY,o),()=>{jY.off(NY,o)}},[o,r,t,e,n,a,s,i])}function UY(){var e=nO();ee.useEffect(()=>{e(TY())},[e]),BY(),function(){var e=oO(eq),t=oO(rq),r=nO();ee.useEffect(()=>{if(null==e)return $Y;var n=(n,a,s)=>{t!==s&&e===n&&r(PY(a))};return jY.on(SY,n),()=>{jY.off(SY,n)}},[r,t,e])}()}function zY(e,t,r,n,a,s){var i=oO(r=>((e,t,r)=>{if(null!=t){var n=rG(e);return"axis"===t?"hover"===r?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===r?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(r,e,t)),o=oO(rq),l=oO(eq),c=oO(tq),d=oO(_Y),u=null==d?void 0:d.active;ee.useEffect(()=>{if(!u&&null!=l&&null!=o){var e=qQ({active:s,coordinate:r,dataKey:i,index:a,label:"number"==typeof n?String(n):n});jY.emit(NY,l,e,o)}},[u,r,i,a,n,o,l,c,s])}function VY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function WY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VY(Object(r),!0).forEach(function(t){qY(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qY(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HY(e){return e.dataKey}var QY=[],GY={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!nF,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function YY(e){var t=kF(e,GY),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,content:i,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:d,position:u,reverseDirection:h,useTranslate3d:m,wrapperStyle:f,cursor:p,shared:g,trigger:x,defaultIndex:b,portal:v,axisId:y}=t,w=nO(),j="number"==typeof b?String(b):b;ee.useEffect(()=>{w(FQ({shared:g,trigger:x,axisId:y,active:r,defaultIndex:j}))},[w,g,x,y,r,j]);var N=vM(),S=aF(),k=function(e){return oO(t=>PQ(t,e))}(g),{activeIndex:C,isActive:E}=oO(e=>mY(e,k,x,j)),T=oO(e=>hY(e,k,x,j)),_=oO(e=>uY(e,k,x,j)),A=oO(e=>dY(e,k,x,j)),I=T,P=ee.useContext(yY),D=null!=r?r:E,[O,L]=CO([I,D]),R="axis"===k?_:void 0;zY(k,x,A,R,C,D);var M=null!=v?v:P;if(null==M)return null;var F=null!=I?I:QY;D||(F=QY),o&&F.length&&(F=PD(I.filter(e=>null!=e.value&&(!0!==e.hide||t.includeHidden)),d,HY));var $=F.length>0,B=ee.createElement(rF,{allowEscapeViewBox:n,animationDuration:a,animationEasing:s,isAnimationActive:l,active:D,coordinate:A,hasPayload:$,offset:c,position:u,reverseDirection:h,useTranslate3d:m,viewBox:N,wrapperStyle:f,lastBoundingBox:O,innerRef:L,hasPortalFromProps:Boolean(v)},function(e,t){return ee.isValidElement(e)?ee.cloneElement(e,t):"function"==typeof e?ee.createElement(e,t):ee.createElement(GM,t)}(i,WY(WY({},t),{},{payload:F,label:R,active:D,coordinate:A,accessibilityLayer:S})));return ee.createElement(ee.Fragment,null,bu.createPortal(B,M),D&&ee.createElement(vY,{cursor:p,tooltipEventType:k,coordinate:A,payload:I,index:C}))}var KY={},XY={},ZY={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.debounce=function(e,t,{signal:r,edges:n}={}){let a,s=null;const i=null!=n&&n.includes("leading"),o=null==n||n.includes("trailing"),l=()=>{null!==s&&(e.apply(a,s),a=void 0,s=null)};let c=null;const d=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),u()},t)},u=()=>{null!==c&&(clearTimeout(c),c=null),a=void 0,s=null},h=function(...e){if(null==r?void 0:r.aborted)return;a=this,s=e;const t=null==c;d(),i&&t&&l()};return h.schedule=d,h.cancel=u,h.flush=()=>{l()},null==r||r.addEventListener("abort",u,{once:!0}),h}}(ZY),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZY;e.debounce=function(e,r=0,n={}){"object"!=typeof n&&(n={});const{leading:a=!1,trailing:s=!0,maxWait:i}=n,o=Array(2);let l;a&&(o[0]="leading"),s&&(o[1]="trailing");let c=null;const d=t.debounce(function(...t){l=e.apply(this,t),c=null},r,{edges:o}),u=function(...t){return null!=i&&(null===c&&(c=Date.now()),Date.now()-c>=i)?(l=e.apply(this,t),c=Date.now(),d.cancel(),d.schedule(),l):(d.apply(this,t),l)};return u.cancel=d.cancel,u.flush=()=>(d.flush(),l),u}}(XY),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XY;e.throttle=function(e,r=0,n={}){const{leading:a=!0,trailing:s=!0}=n;return t.debounce(e,r,{leading:a,maxWait:r,trailing:s})}}(KY);const JY=f(KY.throttle);var eK=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};function tK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tK(Object(r),!0).forEach(function(t){nK(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aK=ee.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:i=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:u,className:h,onResize:m,style:f={}}=e,p=ee.useRef(null),g=ee.useRef();g.current=m,ee.useImperativeHandle(t,()=>p.current);var[x,b]=ee.useState({containerWidth:n.width,containerHeight:n.height}),v=ee.useCallback((e,t)=>{b(r=>{var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);ee.useEffect(()=>{var e=e=>{var t,{width:r,height:n}=e[0].contentRect;v(r,n),null===(t=g.current)||void 0===t||t.call(g,r,n)};d>0&&(e=JY(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=p.current.getBoundingClientRect();return v(r,n),t.observe(p.current),()=>{t.disconnect()}},[v,d]);var y=ee.useMemo(()=>{var{containerWidth:e,containerHeight:t}=x;if(e<0||t<0)return null;eK(aI(a)||aI(s),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,s),eK(!r||r>0,"The aspect(%s) must be greater than zero.",r);var n=aI(a)?e:a,d=aI(s)?t:s;return r&&r>0&&(n?d=n/r:d&&(n=d*r),l&&d>l&&(d=l)),eK(n>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,d,a,s,i,o,r),ee.Children.map(c,e=>ee.cloneElement(e,{width:n,height:d,style:rK({width:n,height:d},e.props.style)}))},[r,c,s,l,o,i,x,a]);return ee.createElement("div",{id:u?"".concat(u):void 0,className:AA("recharts-responsive-container",h),style:rK(rK({},f),{},{width:a,height:s,minWidth:i,minHeight:o,maxHeight:l}),ref:p},ee.createElement("div",{style:{width:0,height:0,overflow:"visible"}},y))}),sK=e=>null;function iK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}sK.displayName="Cell";function oK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cK=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oK(Object(r),!0).forEach(function(t){lK(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),dK=new class{constructor(e){iK(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(cK.cacheSize),uK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hK="recharts_measurement_span";var mK=(e,t)=>{try{var r=document.getElementById(hK);r||((r=document.createElement("span")).setAttribute("id",hK),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,uK,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch(a){return{width:0,height:0}}},fK=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||nF)return{width:0,height:0};if(!cK.enableCache)return mK(e,t);var r=function(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o)}(e,t),n=dK.get(r);if(n)return n;var a=mK(e,t);return dK.set(r,a),a},pK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},yK=Object.keys(vK),wK="NaN";class jK{static parse(e){var t,[,r,n]=null!==(t=bK.exec(e))&&void 0!==t?t:[];return new jK(parseFloat(r),null!=n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,nI(e)&&(this.unit=""),""===t||xK.test(t)||(this.num=NaN,this.unit=""),yK.includes(t)&&(this.num=function(e,t){return e*vK[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new jK(NaN,""):new jK(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new jK(NaN,""):new jK(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new jK(NaN,""):new jK(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new jK(NaN,""):new jK(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return nI(this.num)}}function NK(e){if(e.includes(wK))return wK;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=null!==(r=pK.exec(t))&&void 0!==r?r:[],i=jK.parse(null!=n?n:""),o=jK.parse(null!=s?s:""),l="*"===a?i.multiply(o):i.divide(o);if(l.isNaN())return wK;t=t.replace(pK,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,u,h]=null!==(c=gK.exec(t))&&void 0!==c?c:[],m=jK.parse(null!=d?d:""),f=jK.parse(null!=h?h:""),p="+"===u?m.add(f):m.subtract(f);if(p.isNaN())return wK;t=t.replace(gK,p.toString())}return t}var SK=/\(([^()]*)\)/;function kK(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,r=e;null!=(t=SK.exec(r));){var[,n]=t;r=r.replace(SK,NK(n))}return r}(t),t=NK(t)}function CK(e){var t=function(e){try{return kK(e)}catch(t){return wK}}(e.slice(5,-1));return t===wK?"":t}var EK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],TK=["dx","dy","angle","className","breakAll"];function _K(){return _K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_K.apply(null,arguments)}function AK(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var IK=/[ \f\n\r\t\v\u2028\u2029]+/,PK=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];return mI(t)||(a=r?t.toString().split(""):t.toString().split(IK)),{wordsWithComputedWidth:a.map(e=>({word:e,width:fK(e,n).width})),spaceWidth:r?0:fK("",n).width}}catch(s){return null}},DK=e=>[{words:mI(e)?[]:e.toString().split(IK)}],OK=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!nF){var o=PK({breakAll:s,children:n,style:a});if(!o)return DK(n);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,r,n,a)=>{var{maxLines:s,children:i,style:o,breakAll:l}=e,c=sI(s),d=i,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:s,width:i}=t,o=e[e.length-1];if(o&&(null==n||a||o.width+i+r<Number(n)))o.words.push(s),o.width+=i+r;else{var l={words:[s],width:i};e.push(l)}return e},[])},h=u(t),m=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||a)return h;if(!(h.length>s||m(h).width>Number(n)))return h;for(var f,p=e=>{var t=d.slice(0,e),r=PK({breakAll:l,style:o,children:t+""}).wordsWithComputedWidth,a=u(r);return[a.length>s||m(a).width>Number(n),a]},g=0,x=d.length-1,b=0;g<=x&&b<=d.length-1;){var v=Math.floor((g+x)/2),y=v-1,[w,j]=p(y),[N]=p(v);if(w||N||(g=v+1),w&&N&&(x=v-1),!w&&N){f=j;break}b++}return f||h})({breakAll:s,children:n,maxLines:i,style:a},l,c,t,r)}return DK(n)},LK="#808080",RK=ee.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:i=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=LK}=e,d=AK(e,EK),u=ee.useMemo(()=>OK({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:i,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,i,d.style,d.width]),{dx:h,dy:m,angle:f,className:p,breakAll:g}=d,x=AK(d,TK);if(!iI(r)||!iI(n)||0===u.length)return null;var b,v=r+(sI(h)?h:0),y=n+(sI(m)?m:0);switch(l){case"start":b=CK("calc(".concat(s,")"));break;case"middle":b=CK("calc(".concat((u.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:b=CK("calc(".concat(u.length-1," * -").concat(a,")"))}var w=[];if(i){var j=u[0].width,{width:N}=d;w.push("scale(".concat(sI(N)?N/j:1,")"))}return f&&w.push("rotate(".concat(f,", ").concat(v,", ").concat(y,")")),w.length&&(x.transform=w.join(" ")),ee.createElement("text",_K({},_I(x,!0),{ref:t,x:v,y:y,className:AA("recharts-text",p),textAnchor:o,fill:c.includes("url")?LK:c}),u.map((e,t)=>{var r=e.words.join(g?"":" ");return ee.createElement("tspan",{x:v,dy:0===t?b:a,key:"".concat(r,"-").concat(t)},r)}))});RK.displayName="Text";var MK=["labelRef"];function FK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FK(Object(r),!0).forEach(function(t){BK(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function BK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UK(){return UK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UK.apply(null,arguments)}var zK=ee.createContext(null),VK=e=>{var{x:t,y:r,width:n,height:a,children:s}=e,i=ee.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return ee.createElement(zK.Provider,{value:i},s)},WK=()=>{var e=ee.useContext(zK),t=vM();return e||t},qK=ee.createContext(null),HK=e=>null!=e&&"function"==typeof e,QK=(e,t,r,n,a)=>{var s,i,{offset:o,className:l}=e,{cx:c,cy:d,innerRadius:u,outerRadius:h,startAngle:m,endAngle:f,clockWise:p}=a,g=(u+h)/2,x=((e,t)=>rI(t-e)*Math.min(Math.abs(t-e),360))(m,f),b=x>=0?1:-1;switch(t){case"insideStart":s=m+b*o,i=p;break;case"insideEnd":s=f-b*o,i=!p;break;case"end":s=f+b*o,i=p;break;default:throw new Error("Unsupported position ".concat(t))}i=x<=0?i:!i;var v=OR(c,d,g,s),y=OR(c,d,g,s+359*(i?1:-1)),w="M".concat(v.x,",").concat(v.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(i?0:1,",\n    ").concat(y.x,",").concat(y.y),j=mI(e.id)?lI("recharts-radial-line-"):e.id;return ee.createElement("text",UK({},n,{dominantBaseline:"central",className:AA("recharts-radial-bar-label",l)}),ee.createElement("defs",null,ee.createElement("path",{id:j,d:w})),ee.createElement("textPath",{xlinkHref:"#".concat(j)},r))},GK=e=>"cx"in e&&sI(e.cx),YK={offset:5};function KK(e){var t,r,n=kF(e,YK),{viewBox:a,position:s,value:i,children:o,content:l,className:c="",textBreakAll:d,labelRef:u}=n,h=(t=ee.useContext(qK),r=oO(kq),t||r),m=WK(),f=a||("center"===s?m:null!=h?h:m);if(!f||mI(i)&&mI(o)&&!ee.isValidElement(l)&&"function"!=typeof l)return null;var p,g=$K($K({},n),{},{viewBox:f});if(ee.isValidElement(l)){var{labelRef:x}=g,b=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(g,MK);return ee.cloneElement(l,b)}if("function"==typeof l){if(p=ee.createElement(l,g),ee.isValidElement(p))return p}else p=(e=>{var{value:t,formatter:r}=e,n=mI(e.children)?t:e.children;return"function"==typeof r?r(n):n})(n);var v=GK(f),y=_I(n,!0);if(v&&("insideStart"===s||"insideEnd"===s||"end"===s))return QK(n,s,p,y,f);var w=v?((e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===r){var{x:d,y:u}=OR(n,a,i+t,c);return{x:d,y:u,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:m,y:f}=OR(n,a,h,c);return{x:m,y:f,textAnchor:"middle",verticalAnchor:"middle"}})(f,n.offset,n.position):((e,t)=>{var r,{parentViewBox:n,offset:a,position:s}=e;null==n||GK(n)||(r=n);var{x:i,y:o,width:l,height:c}=t,d=c>=0?1:-1,u=d*a,h=d>0?"end":"start",m=d>0?"start":"end",f=l>=0?1:-1,p=f*a,g=f>0?"end":"start",x=f>0?"start":"end";if("top"===s)return $K($K({},{x:i+l/2,y:o-d*a,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(o-r.y,0),width:l}:{});if("bottom"===s)return $K($K({},{x:i+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:m}),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{});if("left"===s){var b={x:i-p,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return $K($K({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if("right"===s){var v={x:i+l+p,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return $K($K({},v),r?{width:Math.max(r.x+r.width-v.x,0),height:c}:{})}var y=r?{width:l,height:c}:{};return"insideLeft"===s?$K({x:i+p,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},y):"insideRight"===s?$K({x:i+l-p,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},y):"insideTop"===s?$K({x:i+l/2,y:o+u,textAnchor:"middle",verticalAnchor:m},y):"insideBottom"===s?$K({x:i+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:h},y):"insideTopLeft"===s?$K({x:i+p,y:o+u,textAnchor:x,verticalAnchor:m},y):"insideTopRight"===s?$K({x:i+l-p,y:o+u,textAnchor:g,verticalAnchor:m},y):"insideBottomLeft"===s?$K({x:i+p,y:o+c-u,textAnchor:x,verticalAnchor:h},y):"insideBottomRight"===s?$K({x:i+l-p,y:o+c-u,textAnchor:g,verticalAnchor:h},y):s&&"object"==typeof s&&(sI(s.x)||aI(s.x))&&(sI(s.y)||aI(s.y))?$K({x:i+cI(s.x,l),y:o+cI(s.y,c),textAnchor:"end",verticalAnchor:"end"},y):$K({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},y)})(n,f);return ee.createElement(RK,UK({ref:u,className:AA("recharts-label",c)},y,w,{breakAll:d}),p)}KK.displayName="Label";function XK(e){var{label:t}=e;return((e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return!0===e?ee.createElement(KK,UK({key:"label-implicit"},n)):iI(e)?ee.createElement(KK,UK({key:"label-implicit",value:e},n)):ee.isValidElement(e)?e.type===KK?ee.cloneElement(e,$K({key:"label-implicit"},n)):ee.createElement(KK,UK({key:"label-implicit",content:e},n)):HK(e)?ee.createElement(KK,UK({key:"label-implicit",content:e},n)):e&&"object"==typeof e?ee.createElement(KK,UK({},e,{key:"label-implicit"},n)):null})(t,WK())||null}var ZK={},JK={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.last=function(e){return e[e.length-1]}}(JK);var eX={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}}(eX),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JK,r=eX,n=aD;e.last=function(e){if(n.isArrayLike(e))return t.last(r.toArray(e))}}(ZK);const tX=f(ZK.last);var rX=["valueAccessor"],nX=["dataKey","clockWise","id","textBreakAll"];function aX(){return aX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aX.apply(null,arguments)}function sX(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var iX=e=>Array.isArray(e.value)?tX(e.value):e.value,oX=ee.createContext(void 0),lX=oX.Provider,cX=ee.createContext(void 0);function dX(e){var{valueAccessor:t=iX}=e,r=sX(e,rX),{dataKey:n,clockWise:a,id:s,textBreakAll:i}=r,o=sX(r,nX),l=ee.useContext(oX),c=ee.useContext(cX),d=l||c;return d&&d.length?ee.createElement(LI,{className:"recharts-label-list"},d.map((e,a)=>{var l,c=mI(n)?t(e,a):zR(e&&e.payload,n),d=mI(s)?{}:{id:"".concat(s,"-").concat(a)};return ee.createElement(KK,aX({},_I(e,!0),o,d,{fill:null!==(l=r.fill)&&void 0!==l?l:e.fill,parentViewBox:e.parentViewBox,value:c,textBreakAll:i,viewBox:e.viewBox,key:"label-".concat(a),index:a}))})):null}function uX(e){var{label:t}=e;return t?!0===t?ee.createElement(dX,{key:"labelList-implicit"}):ee.isValidElement(t)||HK(t)?ee.createElement(dX,{key:"labelList-implicit",content:t}):"object"==typeof t?ee.createElement(dX,aX({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function hX(){return hX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hX.apply(null,arguments)}cX.Provider,dX.displayName="LabelList";var mX=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=AA("recharts-dot",a);return t===+t&&r===+r&&n===+n?ee.createElement("circle",hX({},NI(e),vI(e),{className:s,cx:t,cy:r,r:n})):null},fX=zL({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:pX,removeRadiusAxis:gX,addAngleAxis:xX,removeAngleAxis:bX}=fX.actions,vX=fX.reducer,yX={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){var t;if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const r=e[Symbol.toStringTag];if(null==r)return!1;return!!(null==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))?void 0:t.writable)&&e.toString()===`[object ${r}]`}let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}}(yX);const wX=f(yX.isPlainObject);function jX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function NX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jX(Object(r),!0).forEach(function(t){SX(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jX(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function SX(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kX(){return kX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kX.apply(null,arguments)}var CX=(e,t,r,n,a)=>{var s,i=r-n;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z")},EX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TX=e=>{var t=kF(e,EX),{x:r,y:n,upperWidth:a,lowerWidth:s,height:i,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:u}=t,h=ee.useRef(),[m,f]=ee.useState(-1),p=ee.useRef(a),g=ee.useRef(s),x=ee.useRef(i),b=ee.useRef(r),v=ee.useRef(n),y=JF(e,"trapezoid-");if(ee.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var e=h.current.getTotalLength();e&&f(e)}catch(t){}},[]),r!==+r||n!==+n||a!==+a||s!==+s||i!==+i||0===a&&0===s||0===i)return null;var w=AA("recharts-trapezoid",o);if(!u)return ee.createElement("g",null,ee.createElement("path",kX({},_I(t,!0),{className:w,d:CX(r,n,a,s,i)})));var j=p.current,N=g.current,S=x.current,k=b.current,C=v.current,E="0px ".concat(-1===m?1:m,"px"),T="".concat(m,"px 0px"),_=AF(["strokeDasharray"],c,l);return ee.createElement(ZF,{animationId:y,key:y,canBegin:m>0,duration:c,easing:l,isActive:u,begin:d},e=>{var o=uI(j,a,e),l=uI(N,s,e),c=uI(S,i,e),d=uI(k,r,e),u=uI(C,n,e);h.current&&(p.current=o,g.current=l,x.current=c,b.current=d,v.current=u);var m=e>0?{transition:_,strokeDasharray:T}:{strokeDasharray:E};return ee.createElement("path",kX({},_I(t,!0),{className:w,d:CX(d,u,o,l,c),ref:h,style:NX(NX({},m),t.style)}))})},_X=["option","shapeType","propTransformer","activeClassName","isActive"];function AX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function IX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AX(Object(r),!0).forEach(function(t){PX(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AX(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function PX(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DX(e,t){return IX(IX({},t),e)}function OX(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return ee.createElement(i$,r);case"trapezoid":return ee.createElement(TX,r);case"sector":return ee.createElement(h$,r);case"symbols":if(function(e){return"symbols"===e}(t))return ee.createElement(GP,r);break;default:return null}}function LX(e){var t,{option:r,shapeType:n,propTransformer:a=DX,activeClassName:s="recharts-active-shape",isActive:i}=e,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,_X);if(ee.isValidElement(r))t=ee.cloneElement(r,IX(IX({},o),function(e){return ee.isValidElement(e)?e.props:e}(r)));else if("function"==typeof r)t=r(o);else if(wX(r)&&"boolean"!=typeof r){var l=a(r,o);t=ee.createElement(OX,{shapeType:n,elementProps:l})}else{var c=o;t=ee.createElement(OX,{shapeType:n,elementProps:c})}return i?ee.createElement(LI,{className:s},t):t}var RX=(e,t)=>{var r=nO();return(n,a)=>s=>{null==e||e(n,a,s),r($Q({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},MX=e=>{var t=nO();return(r,n)=>a=>{null==e||e(r,n,a),t(BQ())}},FX=(e,t)=>{var r=nO();return(n,a)=>s=>{null==e||e(n,a,s),r(zQ({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function $X(e){var{fn:t,args:r}=e,n=nO(),a=gM();return ee.useEffect(()=>{if(!a){var e=t(r);return n(RQ(e)),()=>{n(MQ(e))}}},[t,r,n,a]),null}var BX,UX=()=>{};function zX(e){var{legendPayload:t}=e,r=nO(),n=gM();return ee.useEffect(()=>n?UX:(r(_M(t)),()=>{r(AM(t))}),[r,n,t]),null}var VX=null!==(BX=re["useId".toString()])&&void 0!==BX?BX:()=>{var[e]=ee.useState(()=>lI("uid-"));return e};var WX=ee.createContext(void 0),qX=e=>{var t,r,n,{id:a,type:s,children:i}=e,o=(t="recharts-".concat(s),r=a,n=VX(),r||(t?"".concat(t,"-").concat(n):n));return ee.createElement(WX.Provider,{value:o},i(o))},HX=zL({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=jL(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=jL(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=jL(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:QX,replaceCartesianGraphicalItem:GX,removeCartesianGraphicalItem:YX,addPolarGraphicalItem:KX,removePolarGraphicalItem:XX}=HX.actions,ZX=HX.reducer;function JX(e){var t=nO(),r=ee.useRef(null);return ee.useEffect(()=>{null===r.current?t(QX(e)):r.current!==e&&t(GX({prev:r.current,next:e})),r.current=e},[t,e]),ee.useEffect(()=>()=>{r.current&&(t(YX(r.current)),r.current=null)},[t]),null}function eZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tZ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eZ(Object(r),!0).forEach(function(t){rZ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rZ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nZ=zL({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=tZ(tZ({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:aZ,removeXAxis:sZ,addYAxis:iZ,removeYAxis:oZ,addZAxis:lZ,removeZAxis:cZ,updateYAxisWidth:dZ}=nZ.actions,uZ=nZ.reducer,hZ=fO([hM],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),mZ=fO([hZ,nM,aM],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),fZ=()=>oO(mZ);function pZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gZ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pZ(Object(r),!0).forEach(function(t){xZ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xZ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bZ(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,s=oO(VG),i=oO(XG);if(null==t||null==i)return null;var o=t.find(e=>i.includes(e.payload));return mI(o)?null:(e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s}=e;if(!1===a||null==t.x||null==t.y)return null;var i,o=gZ(gZ({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:null!=n?n:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},_I(a,!1)),vI(a));return i=ee.isValidElement(a)?ee.cloneElement(a,o):"function"==typeof a?a(o):ee.createElement(mX,o),ee.createElement(LI,{className:"recharts-active-dot"},i)})({point:o,childIndex:Number(s),mainColor:r,dataKey:a,activeDot:n})}var vZ=["x","y"];function yZ(){return yZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yZ.apply(null,arguments)}function wZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jZ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wZ(Object(r),!0).forEach(function(t){NZ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function NZ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SZ(e,t){var{x:r,y:n}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,vZ),s="".concat(r),i=parseInt(s,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),d=parseInt(c,10),u="".concat(t.width||a.width),h=parseInt(u,10);return jZ(jZ(jZ(jZ(jZ({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function kZ(e){return ee.createElement(LX,yZ({shapeType:"rectangle",propTransformer:SZ,activeClassName:"recharts-active-bar"},e))}var CZ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,n)=>{if(sI(e))return e;var a=sI(r)||mI(r);return a?e(r,n):(a||function(){throw new Error("Invariant failed")}(),t)}},EZ=zL({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===n.dataKey&&e.direction===n.direction?a:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==n.dataKey||e.direction!==n.direction))}}}),{addErrorBar:TZ,replaceErrorBar:_Z,removeErrorBar:AZ}=EZ.actions,IZ=EZ.reducer,PZ=["children"];var DZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},OZ=ee.createContext(DZ);function LZ(e){var{children:t}=e,r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,PZ);return ee.createElement(OZ.Provider,{value:r},t)}function RZ(e,t){var r,n,a=oO(t=>Uq(t,e)),s=oO(e=>Wq(e,t)),i=null!==(r=null==a?void 0:a.allowDataOverflow)&&void 0!==r?r:$q.allowDataOverflow,o=null!==(n=null==s?void 0:s.allowDataOverflow)&&void 0!==n?n:zq.allowDataOverflow;return{needClip:i||o,needClipX:i,needClipY:o}}function MZ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=fZ(),{needClipX:s,needClipY:i,needClip:o}=RZ(t,r);if(!o)return null;var{x:l,y:c,width:d,height:u}=a;return ee.createElement("clipPath",{id:"clipPath-".concat(n)},ee.createElement("rect",{x:s?l:l-d/2,y:i?c:c-u/2,width:s?d:2*d,height:i?u:2*u}))}var FZ=["onMouseEnter","onMouseLeave","onClick"],$Z=["value","background","tooltipPosition"],BZ=["id"],UZ=["onMouseEnter","onClick","onMouseLeave"];function zZ(){return zZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zZ.apply(null,arguments)}function VZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function WZ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VZ(Object(r),!0).forEach(function(t){qZ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qZ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var QZ=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:rM(r,t),payload:e}]};function GZ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:rM(s,t),hide:i,type:e.tooltipType,color:e.fill,unit:o}}}function YZ(e){var t=oO(VG),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:o,onClick:l}=s,c=HZ(s,FZ),d=RX(i,n),u=MX(o),h=FX(l,n);if(!a||null==r)return null;var m=_I(a,!1);return ee.createElement(ee.Fragment,null,r.map((e,r)=>{var{value:s,background:i,tooltipPosition:o}=e,l=HZ(e,$Z);if(!i)return null;var f=d(e,r),p=u(e,r),g=h(e,r),x=WZ(WZ(WZ(WZ(WZ({option:a,isActive:String(r)===t},l),{},{fill:"#eee"},i),m),yI(c,e,r)),{},{onMouseEnter:f,onMouseLeave:p,onClick:g,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return ee.createElement(kZ,zZ({key:"background-bar-".concat(r)},x))}))}function KZ(e){var{showLabels:t,children:r,rects:n}=e,a=null==n?void 0:n.map(e=>{var t={x:e.x,y:e.y,width:e.width,height:e.height};return WZ(WZ({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return ee.createElement(lX,{value:t?a:void 0},r)}function XZ(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:i}=e,o=oO(VG),l=oO(qG),c=r&&String(s)===o&&(null==l||i===l),d=c?r:t;return ee.createElement(kZ,zZ({},n,a,{isActive:c,option:d,index:s,dataKey:i}))}function ZZ(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return ee.createElement(kZ,zZ({},r,n,{isActive:!1,option:t,index:a,dataKey:s}))}function JZ(e){var{data:t,props:r}=e,n=NI(r),{id:a}=n,s=HZ(n,BZ),{shape:i,dataKey:o,activeBar:l}=r,{onMouseEnter:c,onClick:d,onMouseLeave:u}=r,h=HZ(r,UZ),m=RX(c,o),f=MX(u),p=FX(d,o);return t?ee.createElement(ee.Fragment,null,t.map((e,t)=>ee.createElement(LI,zZ({className:"recharts-bar-rectangle"},yI(h,e,t),{onMouseEnter:m(e,t),onMouseLeave:f(e,t),onClick:p(e,t),key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(t)}),l?ee.createElement(XZ,{shape:i,activeBar:l,baseProps:s,entry:e,index:t,dataKey:o}):ee.createElement(ZZ,{shape:i,baseProps:s,entry:e,index:t,dataKey:o})))):null}function eJ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:d}=t,u=r.current,h=JF(t,"recharts-bar-"),[m,f]=ee.useState(!1),p=!m,g=ee.useCallback(()=>{"function"==typeof c&&c(),f(!1)},[c]),x=ee.useCallback(()=>{"function"==typeof d&&d(),f(!0)},[d]);return ee.createElement(KZ,{showLabels:p,rects:n},ee.createElement(ZF,{animationId:h,begin:i,duration:o,isActive:s,easing:l,onAnimationEnd:g,onAnimationStart:x,key:h},e=>{var s=1===e?n:null==n?void 0:n.map((t,r)=>{var n=u&&u[r];if(n)return WZ(WZ({},t),{},{x:uI(n.x,t.x,e),y:uI(n.y,t.y,e),width:uI(n.width,t.width,e),height:uI(n.height,t.height,e)});if("horizontal"===a){var s=uI(0,t.height,e);return WZ(WZ({},t),{},{y:t.y+t.height-s,height:s})}var i=uI(0,t.width,e);return WZ(WZ({},t),{},{width:i})});return e>0&&(r.current=null!=s?s:null),null==s?null:ee.createElement(LI,null,ee.createElement(JZ,{props:t,data:s}))}),ee.createElement(uX,{label:t.label}),t.children)}function tJ(e){var t=ee.useRef(null);return ee.createElement(eJ,{previousRectanglesRef:t,props:e})}var rJ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:zR(e,t)}};class nJ extends ee.PureComponent{render(){var{hide:e,data:t,dataKey:r,className:n,xAxisId:a,yAxisId:s,needClip:i,background:o,id:l}=this.props;if(e||null==t)return null;var c=AA("recharts-bar",n),d=l;return ee.createElement(LI,{className:c,id:l},i&&ee.createElement("defs",null,ee.createElement(MZ,{clipPathId:d,xAxisId:a,yAxisId:s})),ee.createElement(LI,{className:"recharts-bar-rectangles",clipPath:i?"url(#clipPath-".concat(d,")"):void 0},ee.createElement(YZ,{data:t,dataKey:r,background:o,allOtherBarProps:this.props}),ee.createElement(tJ,this.props)))}}var aJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!nF,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0};function sJ(e){var t,r,n,a,s,{xAxisId:i,yAxisId:o,hide:l,legendType:c,minPointSize:d,activeBar:u,animationBegin:h,animationDuration:m,animationEasing:f,isAnimationActive:p}=e,{needClip:g}=RZ(i,o),x=kM(),b=gM(),v=(t=e.children,r=sK,n=[],a=[],a=Array.isArray(r)?r.map(e=>SI(e)):[SI(r)],EI(t).forEach(e=>{var t=MA(e,"type.displayName")||MA(e,"type.name");-1!==a.indexOf(t)&&n.push(e)}),n),y=oO(t=>NJ(t,i,o,b,e.id,v));if("vertical"!==x&&"horizontal"!==x)return null;var w=null==y?void 0:y[0];return s=null==w||null==w.height||null==w.width?0:"vertical"===x?w.height/2:w.width/2,ee.createElement(LZ,{xAxisId:i,yAxisId:o,data:y,dataPointFormatter:rJ,errorBarOffset:s},ee.createElement(nJ,zZ({},e,{layout:x,needClip:g,data:y,xAxisId:i,yAxisId:o,hide:l,legendType:c,minPointSize:d,activeBar:u,animationBegin:h,animationDuration:m,animationEasing:f,isAnimationActive:p})))}function iJ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:d,displayedData:u,offset:h,cells:m,parentViewBox:f}=e,p="horizontal"===t?o:i,g=d?p.scale.domain():null,x=(e=>{var{numericAxis:t}=e,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]})({numericAxis:p});return u.map((e,u)=>{var p,b,v,y,w,j;d?p=((e,t)=>{if(!t||2!==t.length||!sI(t[0])||!sI(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!sI(e[0])||e[0]<r)&&(a[0]=r),(!sI(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a})(d[u],g):(p=zR(e,r),Array.isArray(p)||(p=[x,p]));var N=CZ(n,0)(p[1],u);if("horizontal"===t){var S,[k,C]=[o.scale(p[0]),o.scale(p[1])];b=KR({axis:i,ticks:l,bandSize:s,offset:a.offset,entry:e,index:u}),v=null!==(S=null!=C?C:k)&&void 0!==S?S:void 0,y=a.size;var E=k-C;if(w=nI(E)?0:E,j={x:b,y:h.top,width:y,height:h.height},Math.abs(N)>0&&Math.abs(w)<Math.abs(N)){var T=rI(w||N)*(Math.abs(N)-Math.abs(w));v-=T,w+=T}}else{var[_,A]=[i.scale(p[0]),i.scale(p[1])];if(b=_,v=KR({axis:o,ticks:c,bandSize:s,offset:a.offset,entry:e,index:u}),y=A-_,w=a.size,j={x:h.left,y:v,width:h.width,height:w},Math.abs(N)>0&&Math.abs(y)<Math.abs(N))y+=rI(y||N)*(Math.abs(N)-Math.abs(y))}return null==b||null==v||null==y||null==w?null:WZ(WZ({},e),{},{x:b,y:v,width:y,height:w,value:d?p:p[1],payload:e,background:j,tooltipPosition:{x:b+y/2,y:v+w/2},parentViewBox:f},m&&m[u]&&m[u].props)}).filter(Boolean)}function oJ(e){var t=kF(e,aJ),r=gM();return ee.createElement(qX,{id:t.id,type:"bar"},e=>{return ee.createElement(ee.Fragment,null,ee.createElement(zX,{legendPayload:QZ(t)}),ee.createElement($X,{fn:GZ,args:t}),ee.createElement(JX,{type:"bar",id:e,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:(n=t.stackId,null==n?void 0:String(n)),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),ee.createElement(sJ,zZ({},t,{id:e})));var n})}function lJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lJ(Object(r),!0).forEach(function(t){dJ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dJ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}oJ.displayName="Bar";var uJ=fO([Xq,(e,t,r,n,a)=>a],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),hJ=fO([uJ],e=>null==e?void 0:e.maxBarSize),mJ=(e,t,r)=>{var n=null!=r?r:e;if(!mI(n))return cI(n,t,0)},fJ=fO([SM,Xq,(e,t)=>t,(e,t,r)=>r,(e,t,r,n)=>n],(e,t,r,n,a)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===n).filter(e=>e.isPanorama===a).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),pJ=fO([fJ,e=>e.rootProps.barSize,(e,t,r)=>"horizontal"===SM(e)?bQ(e,"xAxis",t):bQ(e,"yAxis",r)],(e,t,r)=>{var n=e.filter(Oq),a=e.filter(e=>null==e.stackId),s=n.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{});return[...Object.entries(s).map(e=>{var[n,a]=e;return{stackId:n,dataKeys:a.map(e=>e.dataKey),barSize:mJ(t,r,a[0].barSize)}}),...a.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:mJ(t,r,e.barSize)}))]}),gJ=(e,t,r,n)=>{var a,s;return"horizontal"===SM(e)?(a=CQ(e,"xAxis",t,n),s=kQ(e,"xAxis",t,n)):(a=CQ(e,"yAxis",r,n),s=kQ(e,"yAxis",r,n)),eM(a,s)};var xJ,bJ,vJ,yJ=fO([pJ,KW,e=>e.rootProps.barGap,XW,(e,t,r,n,a)=>{var s,i,o=uJ(e,t,r,n,a);if(null!=o){var l,c,d=SM(e),u=KW(e),{maxBarSize:h}=o,m=mI(h)?u:h;return"horizontal"===d?(l=CQ(e,"xAxis",t,n),c=kQ(e,"xAxis",t,n)):(l=CQ(e,"yAxis",r,n),c=kQ(e,"yAxis",r,n)),null!==(s=null!==(i=eM(l,c,!0))&&void 0!==i?i:m)&&void 0!==s?s:0}},gJ,hJ],(e,t,r,n,a,s,i)=>{var o=mI(i)?t:i,l=function(e,t,r,n,a){var s=n.length;if(!(s<1)){var i,o=cI(e,r,0,!0),l=[];if(sF(n[0].barSize)){var c=!1,d=r/s,u=n.reduce((e,t)=>e+(t.barSize||0),0);(u+=(s-1)*o)>=r&&(u-=(s-1)*o,o=0),u>=r&&d>0&&(c=!0,u=s*(d*=.9));var h={offset:((r-u)/2|0)-o,size:0};i=n.reduce((e,t)=>{var r,n=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?d:null!==(r=t.barSize)&&void 0!==r?r:0}}];return h=n[n.length-1].position,n},l)}else{var m=cI(t,r,0,!0);r-2*m-(s-1)*o<=0&&(o=0);var f=(r-2*m-(s-1)*o)/s;f>1&&(f>>=0);var p=sF(a)?Math.min(f,a):f;i=n.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:m+(f+o)*r+(f-p)/2,size:p}}],l)}return i}}(r,n,a!==s?a:s,e,o);return a!==s&&null!=l&&(l=l.map(e=>cJ(cJ({},e),{},{position:cJ(cJ({},e.position),{},{offset:e.position.offset-a/2})}))),l}),wJ=fO([yJ,uJ],(e,t)=>{if(null!=e&&null!=t){var r=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),jJ=fO([(e,t,r,n)=>"horizontal"===SM(e)?pH(e,"yAxis",r,n):pH(e,"xAxis",t,n),uJ],(e,t)=>{var r=Tq(t);if(e&&null!=r&&null!=t){var{stackId:n}=t;if(null!=n){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(e=>e.key===r)}}}}),NJ=fO([hM,fM,(e,t,r,n)=>CQ(e,"xAxis",t,n),(e,t,r,n)=>CQ(e,"yAxis",r,n),(e,t,r,n)=>kQ(e,"xAxis",t,n),(e,t,r,n)=>kQ(e,"yAxis",r,n),wJ,SM,JV,gJ,jJ,uJ,(e,t,r,n,a,s)=>s],(e,t,r,n,a,s,i,o,l,c,d,u,h)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:p}=l;if(null!=u&&null!=i&&null!=t&&("horizontal"===o||"vertical"===o)&&null!=r&&null!=n&&null!=a&&null!=s&&null!=c){var g,{data:x}=u;if(null!=(g=null!=x&&x.length>0?x:null==m?void 0:m.slice(f,p+1)))return iJ({layout:o,barSettings:u,pos:i,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:g,offset:e,cells:h})}}),SJ=e=>{var{chartData:t}=e,r=nO(),n=gM();return ee.useEffect(()=>n?()=>{}:(r(IY(t)),()=>{r(IY(void 0))}),[t,r,n]),null},kJ={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},CJ=zL({name:"brush",initialState:kJ,reducers:{setBrushSettings:(e,t)=>null==t.payload?kJ:t.payload}}),{setBrushSettings:EJ}=CJ.actions,TJ=CJ.reducer;class _J{static create(e){return new _J(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}xJ=_J,vJ=1e-4,(bJ=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(bJ="EPS"))in xJ?Object.defineProperty(xJ,bJ,{value:vJ,enumerable:!0,configurable:!0,writable:!0}):xJ[bJ]=vJ;var AJ=zL({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=jL(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=jL(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=jL(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:IJ,removeDot:PJ,addArea:DJ,removeArea:OJ,addLine:LJ,removeLine:RJ}=AJ.actions,MJ=AJ.reducer,FJ=ee.createContext(void 0),$J=e=>{var{children:t}=e,[r]=ee.useState("".concat(lI("recharts"),"-clip")),n=fZ();if(null==n)return null;var{x:a,y:s,width:i,height:o}=n;return ee.createElement(FJ.Provider,{value:r},ee.createElement("defs",null,ee.createElement("clipPath",{id:r},ee.createElement("rect",{x:a,y:s,height:o,width:i}))),t)};function BJ(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function UJ(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function zJ(e,t,r){return function(e){var{width:t,height:r}=e,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,s=Math.atan(r/t),i=a>s&&a<Math.PI-s?r/Math.sin(a):t/Math.cos(a);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},r)}function VJ(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function WJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WJ(Object(r),!0).forEach(function(t){HJ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HJ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QJ(e,t,r){var n,{tick:a,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:h}=e;if(!s||!s.length||!a)return[];if(sI(c)||nF)return null!==(n=function(e,t){return UJ(e,t+1)}(s,sI(c)?c:0))&&void 0!==n?n:[];var m=[],f="top"===l||"bottom"===l?"width":"height",p=u&&"width"===f?fK(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(e,n)=>{var a="function"==typeof d?d(e.value,n):e.value;return"width"===f?zJ(fK(a,{fontSize:t,letterSpacing:r}),p,h):fK(a,{fontSize:t,letterSpacing:r})[f]},x=s.length>=2?rI(s[1].coordinate-s[0].coordinate):1,b=function(e,t,r){var n="width"===r,{x:a,y:s,width:i,height:o}=e;return 1===t?{start:n?a:s,end:n?a+i:s+o}:{start:n?a+i:s+o,end:n?a:s}}(i,x,f);return"equidistantPreserveStart"===c?function(e,t,r,n,a){for(var s,i=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,h=function(){var t=null==n?void 0:n[c];if(void 0===t)return{v:UJ(n,d)};var s,i=c,h=()=>(void 0===s&&(s=r(t,i)),s),m=t.coordinate,f=0===c||VJ(e,m,h,u,l);f||(c=0,u=o,d+=1),f&&(u=m+e*(h()/2+a),c+=d)};d<=i.length;)if(s=h())return s.v;return[]}(x,b,g,s,o):(m="preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,n,a,s){var i=(n||[]).slice(),o=i.length,{start:l,end:c}=t;if(s){var d=n[o-1],u=r(d,o-1),h=e*(d.coordinate+e*u/2-c);i[o-1]=d=qJ(qJ({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),VJ(e,d.tickCoord,()=>u,l,c)&&(c=d.tickCoord-e*(u/2+a),i[o-1]=qJ(qJ({},d),{},{isShow:!0}))}for(var m=s?o-1:o,f=function(t){var n,s=i[t],o=()=>(void 0===n&&(n=r(s,t)),n);if(0===t){var d=e*(s.coordinate-e*o()/2-l);i[t]=s=qJ(qJ({},s),{},{tickCoord:d<0?s.coordinate-d*e:s.coordinate})}else i[t]=s=qJ(qJ({},s),{},{tickCoord:s.coordinate});VJ(e,s.tickCoord,o,l,c)&&(l=s.tickCoord+e*(o()/2+a),i[t]=qJ(qJ({},s),{},{isShow:!0}))},p=0;p<m;p++)f(p);return i}(x,b,g,s,o,"preserveStartEnd"===c):function(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:o}=t,{end:l}=t,c=function(t){var n,c=s[t],d=()=>(void 0===n&&(n=r(c,t)),n);if(t===i-1){var u=e*(c.coordinate+e*d()/2-l);s[t]=c=qJ(qJ({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else s[t]=c=qJ(qJ({},c),{},{tickCoord:c.coordinate});VJ(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+a),s[t]=qJ(qJ({},c),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return s}(x,b,g,s,o),m.filter(e=>e.isShow))}var GJ=["viewBox"],YJ=["viewBox"];function KJ(){return KJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KJ.apply(null,arguments)}function XJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ZJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XJ(Object(r),!0).forEach(function(t){e0(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function JJ(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function e0(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class t0 extends ee.Component{constructor(e){super(e),this.tickRefs=ee.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:r}=e,n=JJ(e,GJ),a=this.props,{viewBox:s}=a,i=JJ(a,YJ);return!BJ(r,s)||!BJ(n,i)||!BJ(t,this.state)}getTickLineCoord(e){var t,r,n,a,s,i,{x:o,y:l,width:c,height:d,orientation:u,tickSize:h,mirror:m,tickMargin:f}=this.props,p=m?-1:1,g=e.tickSize||h,x=sI(e.tickCoord)?e.tickCoord:e.coordinate;switch(u){case"top":t=r=e.coordinate,i=(n=(a=l+ +!m*d)-p*g)-p*f,s=x;break;case"left":n=a=e.coordinate,s=(t=(r=o+ +!m*c)-p*g)-p*f,i=x;break;case"right":n=a=e.coordinate,s=(t=(r=o+ +m*c)+p*g)+p*f,i=x;break;default:t=r=e.coordinate,i=(n=(a=l+ +m*d)+p*g)+p*f,s=x}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:s,y:i}}}getTickTextAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:t,width:r,height:n,orientation:a,mirror:s,axisLine:i}=this.props,o=ZJ(ZJ(ZJ({},_I(this.props,!1)),_I(i,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var l=+("top"===a&&!s||"bottom"===a&&s);o=ZJ(ZJ({},o),{},{x1:e,y1:t+l*n,x2:e+r,y2:t+l*n})}else{var c=+("left"===a&&!s||"right"===a&&s);o=ZJ(ZJ({},o),{},{x1:e+c*r,y1:t,x2:e+c*r,y2:t+n})}return ee.createElement("line",KJ({},o,{className:AA("recharts-cartesian-axis-line",MA(i,"className"))}))}static renderTickItem(e,t,r){var n,a=AA(t.className,"recharts-cartesian-axis-tick-value");if(ee.isValidElement(e))n=ee.cloneElement(e,ZJ(ZJ({},t),{},{className:a}));else if("function"==typeof e)n=e(ZJ(ZJ({},t),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";"boolean"!=typeof e&&(s=AA(s,e.className)),n=ee.createElement(RK,KJ({},t,{className:s}),r)}return n}renderTicks(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:n,stroke:a,tick:s,tickFormatter:i,unit:o,padding:l,tickTextProps:c}=this.props,d=QJ(ZJ(ZJ({},this.props),{},{ticks:r}),e,t),u=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=NI(this.props),f=_I(s,!1),p=ZJ(ZJ({},m),{},{fill:"none"},_I(n,!1)),g=d.map((e,t)=>{var{line:r,tick:g}=this.getTickLineCoord(e),x=ZJ(ZJ(ZJ(ZJ({textAnchor:u,verticalAnchor:h},m),{},{stroke:"none",fill:a},f),g),{},{index:t,payload:e,visibleTicksCount:d.length,tickFormatter:i,padding:l},c);return ee.createElement(LI,KJ({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},yI(this.props,e,t)),n&&ee.createElement("line",KJ({},p,r,{className:AA("recharts-cartesian-axis-tick-line",MA(n,"className"))})),s&&t0.renderTickItem(s,x,"".concat("function"==typeof i?i(e.value,t):e.value).concat(o||"")))});return g.length>0?ee.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:e,width:t,height:r,className:n,hide:a}=this.props;if(a)return null;var{ticks:s}=this.props;return null!=t&&t<=0||null!=r&&r<=0?null:ee.createElement(LI,{className:AA("recharts-cartesian-axis",n),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var r=t[0];if(r){var n=window.getComputedStyle(r).fontSize,a=window.getComputedStyle(r).letterSpacing;n===this.state.fontSize&&a===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(r).fontSize,letterSpacing:window.getComputedStyle(r).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),ee.createElement(VK,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},ee.createElement(XK,{label:this.props.label}),this.props.children))}}e0(t0,"displayName","CartesianAxis"),e0(t0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var r0=["x1","y1","x2","y2","key"],n0=["offset"],a0=["xAxisId","yAxisId"],s0=["xAxisId","yAxisId"];function i0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i0(Object(r),!0).forEach(function(t){l0(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i0(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l0(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c0.apply(null,arguments)}function d0(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var u0=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:o}=e;return ee.createElement("rect",{x:n,y:a,ry:o,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function h0(e,t){var r;if(ee.isValidElement(e))r=ee.cloneElement(e,t);else if("function"==typeof e)r=e(t);else{var{x1:n,y1:a,x2:s,y2:i,key:o}=t,l=NI(d0(t,r0)),{offset:c}=l,d=d0(l,n0);r=ee.createElement("line",c0({},d,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:o}))}return r}function m0(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=d0(e,a0),l=a.map((e,a)=>{var s=o0(o0({},o),{},{x1:t,y1:e,x2:t+r,y2:e,key:"line-".concat(a),index:a});return h0(n,s)});return ee.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function f0(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=d0(e,s0),l=a.map((e,a)=>{var s=o0(o0({},o),{},{x1:e,y1:t,x2:e,y2:t+r,key:"line-".concat(a),index:a});return h0(n,s)});return ee.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function p0(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=o.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==c[0]&&c.unshift(0);var d=c.map((e,o)=>{var l=!c[o+1]?a+i-e:c[o+1]-e;if(l<=0)return null;var d=o%t.length;return ee.createElement("rect",{key:"react-".concat(o),y:e,x:n,height:l,width:s,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function g0(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==c[0]&&c.unshift(0);var d=c.map((e,t)=>{var l=!c[t+1]?a+i-e:c[t+1]-e;if(l<=0)return null;var d=t%r.length;return ee.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:l,height:o,stroke:"none",fill:r[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var x0=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return WR(QJ(o0(o0(o0({},t0.defaultProps),r),{},{ticks:qR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},b0=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return WR(QJ(o0(o0(o0({},t0.defaultProps),r),{},{ticks:qR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},v0={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function y0(e){var t=jM(),r=NM(),n=wM(),a=o0(o0({},kF(e,v0)),{},{x:sI(e.x)?e.x:n.left,y:sI(e.y)?e.y:n.top,width:sI(e.width)?e.width:n.width,height:sI(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:o,y:l,width:c,height:d,syncWithTicks:u,horizontalValues:h,verticalValues:m}=a,f=gM(),p=oO(e=>NQ(e,"xAxis",s,f)),g=oO(e=>NQ(e,"yAxis",i,f));if(!sI(c)||c<=0||!sI(d)||d<=0||!sI(o)||o!==+o||!sI(l)||l!==+l)return null;var x=a.verticalCoordinatesGenerator||x0,b=a.horizontalCoordinatesGenerator||b0,{horizontalPoints:v,verticalPoints:y}=a;if(!(v&&v.length||"function"!=typeof b)){var w=h&&h.length,j=b({yAxis:g?o0(o0({},g),{},{ticks:w?h:g.ticks}):void 0,width:t,height:r,offset:n},!!w||u);eK(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(v=j)}if(!(y&&y.length||"function"!=typeof x)){var N=m&&m.length,S=x({xAxis:p?o0(o0({},p),{},{ticks:N?m:p.ticks}):void 0,width:t,height:r,offset:n},!!N||u);eK(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(y=S)}return ee.createElement("g",{className:"recharts-cartesian-grid"},ee.createElement(u0,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),ee.createElement(p0,c0({},a,{horizontalPoints:v})),ee.createElement(g0,c0({},a,{verticalPoints:y})),ee.createElement(m0,c0({},a,{offset:n,horizontalPoints:v,xAxis:p,yAxis:g})),ee.createElement(f0,c0({},a,{offset:n,verticalPoints:y,xAxis:p,yAxis:g})))}y0.displayName="CartesianGrid";var w0=(e,t,r,n)=>CQ(e,"xAxis",t,n),j0=(e,t,r,n)=>kQ(e,"xAxis",t,n),N0=(e,t,r,n)=>CQ(e,"yAxis",r,n),S0=(e,t,r,n)=>kQ(e,"yAxis",r,n),k0=fO([SM,w0,N0,j0,S0],(e,t,r,n,a)=>VR(e,"xAxis")?eM(t,n,!1):eM(r,a,!1));function C0(e){return"line"===e.type}var E0=fO([Xq,(e,t,r,n,a)=>a],(e,t)=>e.filter(C0).find(e=>e.id===t)),T0=fO([SM,w0,N0,j0,S0,E0,k0,JV],(e,t,r,n,a,s,i,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(null!=s&&null!=t&&null!=r&&null!=n&&null!=a&&0!==n.length&&0!==a.length&&null!=i){var u,{dataKey:h,data:m}=s;if(null!=(u=null!=m&&m.length>0?m:null==l?void 0:l.slice(c,d+1)))return function(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:i,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=zR(e,i);if("horizontal"===t)return{x:YR({axis:r,ticks:a,bandSize:o,entry:e,index:l}),y:mI(c)?null:n.scale(c),value:c,payload:e};var d=mI(c)?null:r.scale(c),u=YR({axis:n,ticks:s,bandSize:o,entry:e,index:l});return null==d||null==u?null:{x:d,y:u,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:h,bandSize:i,displayedData:u})}}),_0=["id"],A0=["type","layout","connectNulls","needClip"],I0=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function P0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P0(Object(r),!0).forEach(function(t){O0(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P0(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O0(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L0(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(null,arguments)}var M0=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:rM(r,t),payload:e}]};function F0(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:rM(i,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var $0=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function B0(e,t){for(var r=e.length%2!=0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}function U0(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:i}=n;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(r,a))return null;var{id:o}=n,l=L0(n,_0),c=TI(a),d=NI(l),u=_I(a,!0),h=r.map((e,t)=>{var n=D0(D0(D0({key:"dot-".concat(t),r:3},d),u),{},{index:t,cx:e.x,cy:e.y,dataKey:s,value:e.value,payload:e.payload,points:r});return function(e,t){var r;if(ee.isValidElement(e))r=ee.cloneElement(e,t);else if("function"==typeof e)r=e(t);else{var n=AA("recharts-line-dot","boolean"!=typeof e?e.className:"");r=ee.createElement(mX,R0({},t,{className:n}))}return r}(a,n)}),m={clipPath:i?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return ee.createElement(LI,R0({className:"recharts-line-dots",key:"dots"},m),h)}function z0(e){var{showLabels:t,children:r,points:n}=e,a=ee.useMemo(()=>null==n?void 0:n.map(e=>{var t={x:e.x,y:e.y,width:0,height:0};return D0(D0({},t),{},{value:e.value,payload:e.payload,viewBox:t,parentViewBox:void 0,fill:void 0})}),[n]);return ee.createElement(lX,{value:t?a:null},r)}function V0(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:i,layout:o,connectNulls:l,needClip:c}=s,d=L0(s,A0),u=D0(D0({},_I(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:i,layout:o,connectNulls:l,strokeDasharray:null!=a?a:s.strokeDasharray});return ee.createElement(ee.Fragment,null,(null==n?void 0:n.length)>1&&ee.createElement(gF,R0({},u,{pathRef:r})),ee.createElement(U0,{points:n,clipPathId:t,props:s}))}function W0(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:i,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:u,animateNewValues:h,width:m,height:f,onAnimationEnd:p,onAnimationStart:g}=r,x=a.current,b=JF(r,"recharts-line-"),[v,y]=ee.useState(!1),w=!v,j=ee.useCallback(()=>{"function"==typeof p&&p(),y(!1)},[p]),N=ee.useCallback(()=>{"function"==typeof g&&g(),y(!0)},[g]),S=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(n.current),k=s.current;return ee.createElement(z0,{points:i,showLabels:w},r.children,ee.createElement(ZF,{animationId:b,begin:c,duration:d,isActive:l,easing:u,onAnimationEnd:j,onAnimationStart:N,key:b},e=>{var c,d=uI(k,S+k,e),u=Math.min(d,S);if(l)if(o){var p="".concat(o).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,r)=>{var n=r.reduce((e,t)=>e+t);if(!n)return $0(t,e);for(var a=Math.floor(e/n),s=e%n,i=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>s){o=[...r.slice(0,l),s-c];break}var d=o.length%2==0?[0,i]:[i];return[...B0(r,a),...o,...d].map(e=>"".concat(e,"px")).join(", ")})(u,S,p)}else c=$0(S,u);else c=null==o?void 0:String(o);if(x){var g=x.length/i.length,b=1===e?i:i.map((t,r)=>{var n=Math.floor(r*g);if(x[n]){var a=x[n];return D0(D0({},t),{},{x:uI(a.x,t.x,e),y:uI(a.y,t.y,e)})}return D0(D0({},t),{},h?{x:uI(2*m,t.x,e),y:uI(f/2,t.y,e)}:{x:t.x,y:t.y})});return a.current=b,ee.createElement(V0,{props:r,points:b,clipPathId:t,pathRef:n,strokeDasharray:c})}return e>0&&S>0&&(a.current=i,s.current=u),ee.createElement(V0,{props:r,points:i,clipPathId:t,pathRef:n,strokeDasharray:c})}),ee.createElement(uX,{label:r.label}))}function q0(e){var{clipPathId:t,props:r}=e,n=ee.useRef(null),a=ee.useRef(0),s=ee.useRef(null);return ee.createElement(W0,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var H0=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:zR(e.payload,t)});class Q0 extends ee.Component{render(){var e,{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:i,top:o,left:l,width:c,height:d,id:u,needClip:h}=this.props;if(t)return null;var m=AA("recharts-line",a),f=u,{r:p=3,strokeWidth:g=2}=null!==(e=_I(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},x=TI(r),b=2*p+g;return ee.createElement(ee.Fragment,null,ee.createElement(LI,{className:m},h&&ee.createElement("defs",null,ee.createElement(MZ,{clipPathId:f,xAxisId:s,yAxisId:i}),!x&&ee.createElement("clipPath",{id:"clipPath-dots-".concat(f)},ee.createElement("rect",{x:l-b/2,y:o-b/2,width:c+b,height:d+b}))),ee.createElement(LZ,{xAxisId:s,yAxisId:i,data:n,dataPointFormatter:H0,errorBarOffset:0},ee.createElement(q0,{props:this.props,clipPathId:f}))),ee.createElement(bZ,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var G0={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!nF,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Y0(e){var t=kF(e,G0),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:u,legendType:h,xAxisId:m,yAxisId:f,id:p}=t,g=L0(t,I0),{needClip:x}=RZ(m,f),b=fZ(),v=kM(),y=gM(),w=oO(e=>T0(e,m,f,y,p));if("horizontal"!==v&&"vertical"!==v||null==w||null==b)return null;var{height:j,width:N,x:S,y:k}=b;return ee.createElement(Q0,R0({},g,{id:p,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,isAnimationActive:d,hide:c,label:u,legendType:h,xAxisId:m,yAxisId:f,points:w,layout:v,height:j,width:N,left:S,top:k,needClip:x}))}function K0(e){var t=kF(e,G0),r=gM();return ee.createElement(qX,{id:t.id,type:"line"},e=>ee.createElement(ee.Fragment,null,ee.createElement(zX,{legendPayload:M0(t)}),ee.createElement($X,{fn:F0,args:t}),ee.createElement(JX,{type:"line",id:e,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),ee.createElement(Y0,R0({},t,{id:e}))))}K0.displayName="Line";var X0=["children"],Z0=["dangerouslySetInnerHTML","ticks"],J0=["id"];function e1(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t1.apply(null,arguments)}function r1(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function n1(e){var t=nO(),r=ee.useMemo(()=>{var{children:t}=e;return r1(e,X0)},[e]);return ee.useEffect(()=>(t(aZ(r)),()=>{t(sZ(r))}),[r,t]),e.children}var a1=e=>{var{xAxisId:t,className:r}=e,n=oO(fM),a=gM(),s="xAxis",i=oO(e=>oQ(e,s,t,a)),o=oO(e=>SQ(e,s,t,a)),l=oO(e=>fQ(e,t)),c=oO(e=>((e,t)=>{var r=hM(e),n=Uq(e,t);if(null!=n){var a=pQ(e,n.orientation,n.mirror)[t];return null==a?{x:r.left,y:0}:{x:r.left,y:a}}})(e,t)),d=oO(e=>Bq(e,t));if(null==l||null==c||null==d)return null;var{dangerouslySetInnerHTML:u,ticks:h}=e,m=r1(e,Z0),{id:f}=d,p=r1(d,J0);return ee.createElement(t0,t1({},m,p,{scale:i,x:c.x,y:c.y,width:l.width,height:l.height,className:AA("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},s1=e=>{var t,r,n,a,s;return ee.createElement(n1,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(n=e.angle)&&void 0!==n?n:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(s=e.tick)||void 0===s||s,tickFormatter:e.tickFormatter},ee.createElement(a1,e))};class i1 extends ee.Component{render(){return ee.createElement(s1,this.props)}}e1(i1,"displayName","XAxis"),e1(i1,"defaultProps",{allowDataOverflow:$q.allowDataOverflow,allowDecimals:$q.allowDecimals,allowDuplicatedCategory:$q.allowDuplicatedCategory,height:$q.height,hide:!1,mirror:$q.mirror,orientation:$q.orientation,padding:$q.padding,reversed:$q.reversed,scale:$q.scale,tickCount:$q.tickCount,type:$q.type,xAxisId:0});var o1=["dangerouslySetInnerHTML","ticks"],l1=["id"];function c1(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d1.apply(null,arguments)}function u1(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function h1(e){var t=nO();return ee.useEffect(()=>(t(iZ(e)),()=>{t(oZ(e))}),[e,t]),null}var m1=e=>{var t,{yAxisId:r,className:n,width:a,label:s}=e,i=ee.useRef(null),o=ee.useRef(null),l=oO(fM),c=gM(),d=nO(),u="yAxis",h=oO(e=>oQ(e,u,r,c)),m=oO(e=>xQ(e,r)),f=oO(e=>((e,t)=>{var r=hM(e),n=Wq(e,t);if(null!=n){var a=gQ(e,n.orientation,n.mirror)[t];return null==a?{x:0,y:r.top}:{x:a,y:r.top}}})(e,r)),p=oO(e=>SQ(e,u,r,c)),g=oO(e=>Vq(e,r));if(ee.useLayoutEffect(()=>{var e;if("auto"===a&&m&&!HK(s)&&!ee.isValidElement(s)&&null!=g){var t=i.current,n=null==t||null===(e=t.tickRefs)||void 0===e?void 0:e.current,{tickSize:l,tickMargin:c}=t.props,u=(e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>i&&(i=t.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+(a+s)+o+(r?n:0);return Math.round(l)}return 0})({ticks:n,label:o.current,labelGapWithTick:5,tickSize:l,tickMargin:c});Math.round(m.width)!==Math.round(u)&&d(dZ({id:r,width:u}))}},[i,null==i||null===(t=i.current)||void 0===t||null===(t=t.tickRefs)||void 0===t?void 0:t.current,null==m?void 0:m.width,m,d,s,r,a]),null==m||null==f||null==g)return null;var{dangerouslySetInnerHTML:x,ticks:b}=e,v=u1(e,o1),{id:y}=g,w=u1(g,l1);return ee.createElement(t0,d1({},v,w,{ref:i,labelRef:o,scale:h,x:f.x,y:f.y,tickTextProps:"auto"===a?{width:void 0}:{width:a},width:m.width,height:m.height,className:AA("recharts-".concat(u," ").concat(u),n),viewBox:l,ticks:p}))},f1=e=>{var t,r,n,a,s;return ee.createElement(ee.Fragment,null,ee.createElement(h1,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(n=e.angle)&&void 0!==n?n:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(s=e.tick)||void 0===s||s,tickFormatter:e.tickFormatter}),ee.createElement(m1,e))},p1={allowDataOverflow:zq.allowDataOverflow,allowDecimals:zq.allowDecimals,allowDuplicatedCategory:zq.allowDuplicatedCategory,hide:!1,mirror:zq.mirror,orientation:zq.orientation,padding:zq.padding,reversed:zq.reversed,scale:zq.scale,tickCount:zq.tickCount,type:zq.type,width:zq.width,yAxisId:0};class g1 extends ee.Component{render(){return ee.createElement(f1,this.props)}}c1(g1,"displayName","YAxis"),c1(g1,"defaultProps",p1);var x1=ee;
/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"function"==typeof Object.is&&Object.is,x1.useSyncExternalStore,x1.useRef,x1.useEffect,x1.useMemo,x1.useDebugValue;var b1={notify(){},get:()=>[]};var v1=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),y1=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),w1=(()=>v1||y1?ee.useLayoutEffect:ee.useEffect)(),j1=Symbol.for("react-redux-context"),N1="undefined"!=typeof globalThis?globalThis:{};function S1(){var e;if(!ee.createContext)return{};const t=null!=(e=N1[j1])?e:N1[j1]=new Map;let r=t.get(ee.createContext);return r||(r=ee.createContext(null),t.set(ee.createContext,r)),r}var k1=S1();var C1=function(e){const{children:t,context:r,serverState:n,store:a}=e,s=ee.useMemo(()=>{const e=function(e){let t,r=b1,n=0,a=!1;function s(){l.onStateChange&&l.onStateChange()}function i(){n++,t||(t=e.subscribe(s),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){n&&null!==e&&(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function o(){n--,t&&0===n&&(t(),t=void 0,r.clear(),r=b1)}const l={addNestedSub:function(e){i();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),o())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,i())},tryUnsubscribe:function(){a&&(a=!1,o())},getListeners:()=>r};return l}(a);return{store:a,subscription:e,getServerState:n?()=>n:void 0}},[a,n]),i=ee.useMemo(()=>a.getState(),[a]);w1(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,i]);const o=r||k1;return ee.createElement(o.Provider,{value:s},t)},E1=fO([(e,t)=>t,SM,kq,_q,OG,FG,sY,hM],(e,t,r,n,a,s,i,o)=>{if(e&&t&&n&&a&&s){var l=function(e,t,r,n,a){return"horizontal"===r||"vertical"===r?e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height?{x:e,y:t}:null:n?MR({x:e,y:t},n):null}(e.chartX,e.chartY,t,r,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),d=((e,t,r,n,a)=>{var s,i=-1,o=null!==(s=null==t?void 0:t.length)&&void 0!==s?s:0;if(o<=1||null==e)return 0;if("angleAxis"===n&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,d=r[l].coordinate,u=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(rI(d-c)!==rI(u-d)){var m=[];if(rI(u-d)===rI(a[1]-a[0])){h=u;var f=d+a[1]-a[0];m[0]=Math.min(f,(f+c)/2),m[1]=Math.max(f,(f+c)/2)}else{h=c;var p=u+a[1]-a[0];m[0]=Math.min(d,(p+d)/2),m[1]=Math.max(d,(p+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){({index:i}=r[l]);break}}else{var x=Math.min(c,u),b=Math.max(c,u);if(e>(x+d)/2&&e<=(b+d)/2){({index:i}=r[l]);break}}}else if(t)for(var v=0;v<o;v++)if(0===v&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v>0&&v<o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v===o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2){({index:i}=t[v]);break}return i})(c,i,s,n,a),u=((e,t,r,n)=>{var a=t.find(e=>e&&e.index===r);if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var s=a.coordinate,{radius:i}=n;return BR(BR(BR({},n),OR(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,{angle:l}=n;return BR(BR(BR({},n),OR(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,s,d,l);return{activeIndex:String(d),activeCoordinate:u}}}}),T1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},_1=_L("mouseClick"),A1=wR();A1.startListening({actionCreator:_1,effect:(e,t)=>{var r=e.payload,n=E1(t.getState(),T1(r));null!=(null==n?void 0:n.activeIndex)&&t.dispatch(WQ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var I1=_L("mouseMove"),P1=wR();function D1(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}P1.startListening({actionCreator:I1,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=PQ(n,n.tooltip.settings.shared),s=E1(n,T1(r));"axis"===a&&(null!=(null==s?void 0:s.activeIndex)?t.dispatch(VQ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(UQ()))}});var O1={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},L1=zL({name:"rootProps",initialState:O1,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(r=t.payload.barGap)&&void 0!==r?r:O1.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),R1=L1.reducer,{updateOptions:M1}=L1.actions,F1=zL({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:$1}=F1.actions,B1=F1.reducer,U1=_L("keyDown"),z1=_L("focus"),V1=wR();V1.startListening({actionCreator:U1,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var s=Number(ZQ(n,mG(r))),i=FG(r);if("Enter"!==a){var o=s+("ArrowRight"===a?1:-1)*("left-to-right"===TQ(r)?1:-1);if(!(null==i||o>=i.length||o<0)){var l=cY(r,"axis","hover",String(o));t.dispatch(HQ({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=cY(r,"axis","hover",String(n.index));t.dispatch(HQ({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}))}}}}}),V1.startListening({actionCreator:z1,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var a=cY(r,"axis","hover",String("0"));t.dispatch(HQ({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var W1=_L("externalEvent"),q1=wR();q1.startListening({actionCreator:W1,effect:(e,t)=>{if(null!=e.payload.handler){var r=t.getState(),n={activeCoordinate:GG(r),activeDataKey:qG(r),activeIndex:VG(r),activeLabel:WG(r),activeTooltipIndex:VG(r),isTooltipActive:YG(r)};e.payload.handler(n,e.payload.reactEvent)}}});var H1=fO([rG],e=>e.tooltipItemPayloads),Q1=fO([H1,tG,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(e=>e.settings.dataKey===n);if(null!=a){var{positions:s}=a;if(null!=s)return t(s,r)}}),G1=_L("touchMove"),Y1=wR();Y1.startListening({actionCreator:G1,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=PQ(n,n.tooltip.settings.shared);if("axis"===a){var s=E1(n,T1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));null!=(null==s?void 0:s.activeIndex)&&t.dispatch(VQ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if("item"===a){var i,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute("data-recharts-item-index"),d=null!==(i=l.getAttribute("data-recharts-item-data-key"))&&void 0!==i?i:void 0,u=Q1(t.getState(),c,d);t.dispatch($Q({activeDataKey:d,activeIndex:c,activeCoordinate:u}))}}});var K1=DO({brush:TJ,cartesianAxis:uZ,chartData:OY,errorBars:IZ,graphicalItems:ZX,layout:TR,legend:IM,options:EY,polarAxis:vX,polarOptions:B1,referenceElements:MJ,rootProps:R1,tooltip:QQ});function X1(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=gM(),s=ee.useRef(null);if(a)return r;null==s.current&&(s.current=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return LL({reducer:K1,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([A1.middleware,P1.middleware,V1.middleware,q1.middleware,Y1.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:D1},name:"recharts-".concat(t)}})}(t,n));var i=tO;return ee.createElement(C1,{context:i,store:s.current},r)}function Z1(e){var{layout:t,width:r,height:n,margin:a}=e,s=nO(),i=gM();return ee.useEffect(()=>{i||(s(kR(t)),s(CR({width:r,height:n})),s(SR(a)))},[s,i,t,r,n,a]),null}function J1(e){var t=nO();return ee.useEffect(()=>{t(M1(e))},[t,e]),null}var e2=["children"];function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t2.apply(null,arguments)}var r2={width:"100%",height:"100%"},n2=ee.forwardRef((e,t)=>{var r=jM(),n=NM(),a=aF();if(!iF(r)||!iF(n))return null;var s,i,{children:o,otherAttributes:l,title:c,desc:d}=e;return s="number"==typeof l.tabIndex?l.tabIndex:a?0:void 0,i="string"==typeof l.role?l.role:a?"application":void 0,ee.createElement(PI,t2({},l,{title:c,desc:d,role:i,tabIndex:s,width:r,height:n,style:r2,ref:t}),o)}),a2=e=>{var{children:t}=e,r=oO(bM);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return ee.createElement(PI,{width:n,height:a,x:i,y:s},t)},s2=ee.forwardRef((e,t)=>{var{children:r}=e,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,e2);return gM()?ee.createElement(a2,null,r):ee.createElement(n2,t2({ref:t},n),r)});function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(t){l2(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l2(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c2=ee.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:u,onMouseUp:h,onTouchEnd:m,onTouchMove:f,onTouchStart:p,style:g,width:x}=e,b=nO(),[v,y]=ee.useState(null),[w,j]=ee.useState(null);UY();var N=function(){var e=nO(),[t,r]=ee.useState(null),n=oO(sM);return ee.useEffect(()=>{if(null!=t){var r=t.getBoundingClientRect().width/t.offsetWidth;sF(r)&&r!==n&&e(ER(r))}},[t,e,n]),r}(),S=ee.useCallback(e=>{N(e),"function"==typeof t&&t(e),y(e),j(e)},[N,t,y,j]),k=ee.useCallback(e=>{b(_1(e)),b(W1({handler:s,reactEvent:e}))},[b,s]),C=ee.useCallback(e=>{b(I1(e)),b(W1({handler:c,reactEvent:e}))},[b,c]),E=ee.useCallback(e=>{b(UQ()),b(W1({handler:d,reactEvent:e}))},[b,d]),T=ee.useCallback(e=>{b(I1(e)),b(W1({handler:u,reactEvent:e}))},[b,u]),_=ee.useCallback(()=>{b(z1())},[b]),A=ee.useCallback(e=>{b(U1(e.key))},[b]),I=ee.useCallback(e=>{b(W1({handler:i,reactEvent:e}))},[b,i]),P=ee.useCallback(e=>{b(W1({handler:o,reactEvent:e}))},[b,o]),D=ee.useCallback(e=>{b(W1({handler:l,reactEvent:e}))},[b,l]),O=ee.useCallback(e=>{b(W1({handler:h,reactEvent:e}))},[b,h]),L=ee.useCallback(e=>{b(W1({handler:p,reactEvent:e}))},[b,p]),R=ee.useCallback(e=>{b(G1(e)),b(W1({handler:f,reactEvent:e}))},[b,f]),M=ee.useCallback(e=>{b(W1({handler:m,reactEvent:e}))},[b,m]);return ee.createElement(yY.Provider,{value:v},ee.createElement(RI.Provider,{value:w},ee.createElement("div",{className:AA("recharts-wrapper",n),style:o2({position:"relative",cursor:"default",width:x,height:a},g),onClick:k,onContextMenu:I,onDoubleClick:P,onFocus:_,onKeyDown:A,onMouseDown:D,onMouseEnter:C,onMouseLeave:E,onMouseMove:T,onMouseUp:O,onTouchEnd:M,onTouchMove:R,onTouchStart:L,ref:S},r)))}),d2=["children","className","width","height","style","compact","title","desc"];var u2=ee.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:s,style:i,compact:o,title:l,desc:c}=e,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,d2),u=NI(d);return o?ee.createElement(s2,{otherAttributes:u,title:l,desc:c},r):ee.createElement(c2,{className:n,style:i,width:a,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},ee.createElement(s2,{otherAttributes:u,title:l,desc:c,ref:t},ee.createElement($J,null,r)))}),h2=["width","height"];function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m2.apply(null,arguments)}var f2={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p2=ee.forwardRef(function(e,t){var r,n=kF(e.categoricalChartProps,f2),{width:a,height:s}=n,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(n,h2);if(!iF(a)||!iF(s))return null;var{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:u}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return ee.createElement(X1,{preloadedState:{options:h},reduxStoreName:null!==(r=u.id)&&void 0!==r?r:o},ee.createElement(SJ,{chartData:u.data}),ee.createElement(Z1,{width:a,height:s,layout:n.layout,margin:n.margin}),ee.createElement(J1,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),ee.createElement(u2,m2({},i,{width:a,height:s,ref:t})))}),g2=["axis","item"],x2=ee.forwardRef((e,t)=>ee.createElement(p2,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:g2,tooltipPayloadSearcher:kY,categoricalChartProps:e,ref:t})),b2=["axis"],v2=ee.forwardRef((e,t)=>ee.createElement(p2,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:b2,tooltipPayloadSearcher:kY,categoricalChartProps:e,ref:t}));const y2=new class{constructor(){u(this,"baseUrl",Ef("defects"))}makeRequest(e){return h(this,arguments,function*(e,t={}){try{console.log(` Defect Service - Making request: ${t.method||"GET"} ${e}`);const r=yield fetch(e,l({headers:l({"Content-Type":"application/json"},t.headers),credentials:"include"},t));if(console.log(` Defect Service - Response status: ${r.status} ${r.statusText}`),!r.ok)return console.error(` Defect Service - HTTP Error: ${r.status} ${r.statusText}`),{success:!1,message:`HTTP ${r.status}: ${r.statusText}`};const n=yield r.json();return console.log(" Defect Service - Response data:",n),n}catch(r){return console.error(" Defect Service - Network error:",r),{success:!1,message:r instanceof Error?r.message:"Network error occurred"}}})}buildQueryString(e){const t=new URLSearchParams;return Object.entries(e).forEach(([e,r])=>{(null!=r&&""!==r||"boolean"==typeof r&&!1===r)&&t.append(e,String(r))}),t.append("_cacheBuster",Math.random().toString(36).substring(2)),t.append("_timestamp",Date.now().toString()),t.toString()}get(){return h(this,arguments,function*(e={}){console.log(" Defect Service - get called with params:",{params:e,isActiveValue:e.isActive,isActiveType:typeof e.isActive});const t=this.buildQueryString(e),r=t?`${this.baseUrl}?${t}`:this.baseUrl;return console.log(" Defect Service - built URL:",r),this.makeRequest(r)})}getByCode(e){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/${e}`)})}create(e){return h(this,null,function*(){return this.makeRequest(this.baseUrl,{method:"POST",body:JSON.stringify(e)})})}update(e,t){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/${e}`,{method:"PUT",body:JSON.stringify(t)})})}delete(e){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/${e}`,{method:"DELETE"})})}toggleStatus(e){return h(this,null,function*(){console.log(` Defect Service - Toggling status for ID: ${e}`);try{const t=yield this.makeRequest(`${this.baseUrl}/${e}/status`,{method:"PATCH"});return console.log(" Defect Service - Toggle response:",t),t}catch(t){throw console.error(" Defect Service - Toggle error:",t),t}})}getActive(){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/utils/active`)})}getStats(){return h(this,null,function*(){console.log(" Defect Service - Getting statistics");const e=yield this.makeRequest(`${this.baseUrl}/statistics`);if(console.log(" Defect Service - Stats response:",e),e.success&&e.data){let t;return console.log(" Defect Service - Raw API data:",e.data),t=e.data.totals?{total:e.data.totals.all||0,active:e.data.totals.active||0,inactive:e.data.totals.inactive||0}:e.data.overview?{total:e.data.overview.total||0,active:e.data.overview.active||0,inactive:e.data.overview.inactive||0}:{total:e.data.total||0,active:e.data.active||0,inactive:e.data.inactive||0},console.log(" Defect Service - Processed stats:",t),{success:!0,data:t,message:e.message||"Statistics retrieved successfully"}}return console.log(" Defect Service - Invalid response structure"),console.log("Expected: { data: { totals: { all, active, inactive } } }"),console.log("Received:",e),{success:!1,data:{total:0,active:0,inactive:0},message:e.message||"Failed to load statistics"}})}validateDefectName(e,t){return h(this,null,function*(){const r={name:e};t&&(r.excludeCode=t);const n=this.buildQueryString(r);return this.makeRequest(`${this.baseUrl}/validate/name?${n}`)})}getDropdown(){return h(this,null,function*(){try{const e=yield this.getActive();return e.success&&e.data?e.data.map(e=>({value:e.id,label:`${e.id} - ${e.name}`})):[]}catch(e){return[]}})}};const w2=new class{constructor(){u(this,"baseUrl",Ef("inf-checkin"))}getFVILineMapping(e,t,r){return h(this,null,function*(){try{console.log(" InfCheckinService - getFVILineMapping called:",{line:e,date:t,shift:r});const n=new URLSearchParams({line:e,date:t,shift:r}),a=yield fetch(`${this.baseUrl}/fvi-line-mapping?${n}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(console.log(" InfCheckinService - Response status:",a.status),!a.ok)return{success:!1,message:`HTTP ${a.status}: ${a.statusText}`};const s=yield a.json();return console.log(" InfCheckinService - Response data:",s),s}catch(n){return console.error(" InfCheckinService - Error:",n),{success:!1,message:n instanceof Error?n.message:"Network error occurred",errors:[n instanceof Error?n.message:"Unknown error"]}}})}getFVILinesByDate(e){return h(this,null,function*(){try{console.log(" InfCheckinService - getFVILinesByDate called:",{date:e});const t=new URLSearchParams({date:e}),r=yield fetch(`${this.baseUrl}/fvi-lines-by-date?${t}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(console.log(" InfCheckinService - Response status:",r.status),!r.ok)return{success:!1,message:`HTTP ${r.status}: ${r.statusText}`};const n=yield r.json();return console.log(" InfCheckinService - Response data:",n),n}catch(t){return console.error(" InfCheckinService - Error:",t),{success:!1,message:t instanceof Error?t.message:"Network error occurred",errors:[t instanceof Error?t.message:"Unknown error"]}}})}getOperators(e){return h(this,null,function*(){try{console.log(" InfCheckinService - getOperators called with gr_code:",e);let t=`${this.baseUrl}/operators`;if(e&&""!==e.trim()){t=`${t}?${new URLSearchParams({gr_code:e.trim()}).toString()}`}console.log(" InfCheckinService - Request URL:",t);const r=yield fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(console.log(" InfCheckinService - Response status:",r.status),!r.ok)return{success:!1,message:`HTTP ${r.status}: ${r.statusText}`};const n=yield r.json();return console.log(" InfCheckinService - Operators data:",n),n}catch(t){return console.error(" InfCheckinService - Error:",t),{success:!1,message:t instanceof Error?t.message:"Network error occurred",errors:[t instanceof Error?t.message:"Unknown error"]}}})}getStatistics(){return h(this,null,function*(){try{console.log(" Fetching check-in statistics...");const e=yield fetch(`${this.baseUrl}/statistics`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=yield e.json();return console.log(" Statistics Response:",t),e.ok?{success:t.success||!0,data:t.data,message:t.message}:{success:!1,error:t.message||`HTTP ${e.status}: Failed to fetch statistics`}}catch(e){return console.error(" Statistics fetch error:",e),{success:!1,error:`Statistics fetch error: ${e instanceof Error?e.message:"Unknown error"}`}}})}syncData(){return h(this,arguments,function*(e={}){try{console.log(" Starting check-in data sync with options:",e);const t=yield fetch(`${this.baseUrl}/sync`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),r=yield t.json();if(!t.ok)throw new Error(r.message||`HTTP ${t.status}: ${t.statusText}`);return console.log(" Sync completed:",r),r}catch(t){throw console.error(" Sync API error:",t),t}})}fetchImportedData(){return h(this,arguments,function*(e={}){var t;try{const r=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{null!=t&&""!==t&&r.append(e,t.toString())}),console.log(" Fetching imported data with filters:",e);const n=yield fetch(`${this.baseUrl}/imported?${r.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),a=yield n.json();if(!n.ok)throw new Error(a.message||`HTTP ${n.status}: ${n.statusText}`);return console.log(` Fetched ${(null==(t=a.data)?void 0:t.length)||0} imported records`),a}catch(r){throw console.error(" Fetch imported data API error:",r),r}})}fetchSyncStatistics(){return h(this,null,function*(){try{console.log(" Fetching sync statistics...");const e=yield fetch(`${this.baseUrl}/sync/statistics`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=yield e.json();if(!e.ok)throw new Error(t.message||`HTTP ${e.status}: ${e.statusText}`);return console.log(" Statistics fetched successfully:",t),t}catch(e){throw console.error(" Fetch statistics API error:",e),e}})}checkHealth(){return h(this,null,function*(){try{return(yield fetch(`${this.baseUrl}/health`,{method:"GET",cache:"no-cache",credentials:"include"})).ok}catch(xJ){return!1}})}testConnection(){return h(this,null,function*(){try{return(yield fetch(this.baseUrl,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).status}catch(e){return console.error("inf-checkin API test connection error:",e),0}})}testDebugConnection(){return h(this,null,function*(){try{return(yield fetch(`${this.baseUrl}-debug`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).status}catch(e){return console.error("inf-checkin debug API test connection error:",e),0}})}fetchData(e,t,r){return h(this,null,function*(){try{const n=new URLSearchParams({page:e.toString(),limit:t.toString()});r.createdOnFrom&&r.createdOnFrom.trim()&&n.append("createdOnFrom",r.createdOnFrom.trim()),r.createdOnTo&&r.createdOnTo.trim()&&n.append("createdOnTo",r.createdOnTo.trim()),console.log(" Fetching CheckIn data with params:",n.toString());const a=`${Ef("inf-checkin")}?${n.toString()}`;console.log(" Making request to:",a);const s=yield fetch(a,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(console.log(" Response status:",s.status),!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);const i=yield s.json();return i.success&&i.data?console.log(" CheckIn data fetched successfully:",i.data.length,"records"):console.error(" Failed to fetch CheckIn data:",i.message),i}catch(n){return console.error(" Fetch error:",n),{success:!1,message:n instanceof Error?n.message:"Failed to fetch CheckIn data",data:[]}}})}searchByUsername(e){return h(this,null,function*(){try{if(!e.trim())return{success:!1,message:"Please enter a username to search",data:[]};console.log(" Searching by username:",e);const t=`${Ef("inf-checkin")}/user/${encodeURIComponent(e)}`,r=yield fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),n=yield r.json();return n.success&&n.data&&n.data.length>0?console.log(" Username search successful:",n.data.length,"records"):console.log(" No records found for user:",e),n}catch(t){return console.error(" Username search error:",t),{success:!1,message:t instanceof Error?t.message:"Search failed",data:[]}}})}applyClientFilters(e,t){let r=[...e].filter(e=>e&&e.id&&"object"==typeof e);return t.usernameSearch.trim()&&(r=r.filter(e=>e&&e.username&&e.username.toLowerCase().includes(t.usernameSearch.toLowerCase()))),t.oprnameSearch.trim()&&(r=r.filter(e=>e&&e.oprname&&e.oprname.toLowerCase().includes(t.oprnameSearch.toLowerCase()))),t.lineNoSearch.trim()&&(r=r.filter(e=>e&&e.line_no_id&&e.line_no_id.toLowerCase().includes(t.lineNoSearch.toLowerCase()))),t.workStatus&&"all"!==t.workStatus&&("working"===t.workStatus?r=r.filter(e=>e&&!e.date_time_off_work):"checked_out"===t.workStatus&&(r=r.filter(e=>e&&e.date_time_off_work))),t.groupCode.trim()&&(r=r.filter(e=>e&&e.group_code&&e.group_code.toLowerCase().includes(t.groupCode.toLowerCase()))),t.team.trim()&&(r=r.filter(e=>e&&e.team&&e.team.toLowerCase().includes(t.team.toLowerCase()))),t.workShiftId.trim()&&(r=r.filter(e=>e&&e.work_shift_id&&e.work_shift_id.toLowerCase().includes(t.workShiftId.toLowerCase()))),console.log(` Applied client-side filters: ${r.length} of ${e.length} records match`),r}getTodayDate(){return(new Date).toISOString().split("T")[0]}formatDate(e){if(!e)return"-";try{return new Date(e).toLocaleDateString()}catch(xJ){return e}}formatTime(e){if(!e)return"-";try{return new Date(e).toLocaleTimeString()}catch(xJ){return e}}calculateWorkDuration(e,t){if(!e)return null;const r=new Date(e),n=(t?new Date(t):new Date).getTime()-r.getTime(),a=Math.floor(n/36e5),s=Math.floor(n%36e5/6e4);return a>0?`${a}h ${s}m`:`${s}m`}getSearchTerms(e){const t=[];return e.usernameSearch.trim()&&t.push(e.usernameSearch.trim()),e.oprnameSearch.trim()&&t.push(e.oprnameSearch.trim()),e.lineNoSearch.trim()&&t.push(e.lineNoSearch.trim()),e.groupCode.trim()&&t.push(e.groupCode.trim()),e.team.trim()&&t.push(e.team.trim()),e.workShiftId.trim()&&t.push(e.workShiftId.trim()),t}};const j2=new class{constructor(){u(this,"baseUrl",Ef("defectdata")),u(this,"baseImageUrl",Ef("defect-image"))}getAll(e){return h(this,null,function*(){try{const t=e?new URLSearchParams(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l({},e.page&&{page:e.page.toString()}),e.limit&&{limit:e.limit.toString()}),e.sort_by&&{sort_by:e.sort_by}),e.sort_order&&{sort_order:e.sort_order}),e.inspection_no&&{inspection_no:e.inspection_no}),e.qc_name&&{qc_name:e.qc_name}),e.qclead_name&&{qclead_name:e.qclead_name}),e.mbr_name&&{mbr_name:e.mbr_name}),e.linevi&&{linevi:e.linevi}),e.groupvi&&{groupvi:e.groupvi}),e.station&&{station:e.station}),e.inspector&&{inspector:e.inspector}),e.defect_id&&{defect_id:e.defect_id.toString()}),void 0!==e.ng_qty_min&&{ng_qty_min:e.ng_qty_min.toString()}),void 0!==e.ng_qty_max&&{ng_qty_max:e.ng_qty_max.toString()}),e.trayno&&{trayno:e.trayno}),e.tray_position&&{tray_position:e.tray_position}),e.color&&{color:e.color}),e.today&&{today:"true"}),e.yesterday&&{yesterday:"true"}),e.this_week&&{this_week:"true"}),e.this_month&&{this_month:"true"}),e.defect_date_from&&{defect_date_from:e.defect_date_from.toISOString()}),e.defect_date_to&&{defect_date_to:e.defect_date_to.toISOString()}),e.term&&{term:e.term}),e.fields&&{fields:e.fields.join(",")})).toString():"",r=t?`${this.baseUrl}?${t}`:this.baseUrl,n=yield fetch(r,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),a=yield n.json();return n.ok?{success:!0,data:a}:(console.error("Error fetching defect data:",a),{success:!1,errors:a.errors||[{field:"general",message:a.message||"Failed to fetch defect data"}]})}catch(t){return console.error("Network error fetching defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getById(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching defect data by ID:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch defect data"}]})}catch(t){return console.error("Network error fetching defect data by ID:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}create(e){return h(this,null,function*(){try{const t=yield fetch(this.baseUrl,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error creating defect data:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to create defect data"}]})}catch(t){return console.error("Network error creating defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}update(e,t){return h(this,null,function*(){try{const r=yield fetch(`${this.baseUrl}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),n=yield r.json();return r.ok?{success:!0,data:n.data,message:n.message}:(console.error("Error updating defect data:",n),{success:!1,errors:n.errors||[{field:"general",message:n.message||"Failed to update defect data"}]})}catch(r){return console.error("Network error updating defect data:",r),{success:!1,errors:[{field:"network",message:r instanceof Error?r.message:"Network error"}]}}})}delete(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,message:r.message}:(console.error("Error deleting defect data:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to delete defect data"}]})}catch(t){return console.error("Network error deleting defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getByInspectionNo(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/inspection/${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching defect data by inspection number:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch defect data"}]})}catch(t){return console.error("Network error fetching defect data by inspection number:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getDetailByInspectionNo(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/detail/${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching defect detail by inspection number:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch defect detail"}]})}catch(t){return console.error("Network error fetching defect detail by inspection number:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getByStationAndDateRange(e,t,r,n){return h(this,null,function*(){try{const a=new URLSearchParams(l({startDate:t.toISOString(),endDate:r.toISOString()},n&&{limit:n.toString()})),s=yield fetch(`${this.baseUrl}/station/${encodeURIComponent(e)}?${a}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),i=yield s.json();return s.ok?{success:!0,data:i.data,message:i.message}:(console.error("Error fetching defect data by station and date range:",i),{success:!1,errors:i.errors||[{field:"general",message:i.message||"Failed to fetch defect data"}]})}catch(a){return console.error("Network error fetching defect data by station and date range:",a),{success:!1,errors:[{field:"network",message:a instanceof Error?a.message:"Network error"}]}}})}getByInspector(e,t){return h(this,null,function*(){try{const r=t?`${this.baseUrl}/inspector/${encodeURIComponent(e)}?limit=${t}`:`${this.baseUrl}/inspector/${encodeURIComponent(e)}`,n=yield fetch(r,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),a=yield n.json();return n.ok?{success:!0,data:a.data,message:a.message}:(console.error("Error fetching defect data by inspector:",a),{success:!1,errors:a.errors||[{field:"general",message:a.message||"Failed to fetch defect data"}]})}catch(r){return console.error("Network error fetching defect data by inspector:",r),{success:!1,errors:[{field:"network",message:r instanceof Error?r.message:"Network error"}]}}})}getProfile(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/${e}/profile`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching defect data profile:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch defect data profile"}]})}catch(t){return console.error("Network error fetching defect data profile:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getTodayDefectData(e){return h(this,null,function*(){try{const t=e?`${this.baseUrl}/today?station=${encodeURIComponent(e)}`:`${this.baseUrl}/today`,r=yield fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),n=yield r.json();return r.ok?{success:!0,data:n.data,message:n.message}:(console.error("Error fetching today's defect data:",n),{success:!1,errors:n.errors||[{field:"general",message:n.message||"Failed to fetch today's defect data"}]})}catch(t){return console.error("Network error fetching today's defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}uploadSingle(e,t){return h(this,null,function*(){try{console.log(" Uploading single image for defect:",e);const r=new FormData;r.append("defect_id",e.toString()),r.append("image",t);const n=yield fetch(this.baseImageUrl,{method:"POST",body:r,credentials:"include"}),a=yield n.json();return console.log(" Upload response:",a),a}catch(r){return console.error(" Error uploading image:",r),{success:!1,message:r instanceof Error?r.message:"Network error occurred",errors:[r instanceof Error?r.message:"Unknown error"]}}})}uploadBulk(e,t){return h(this,null,function*(){try{console.log(" Uploading",t.length,"images for defect:",e);const r=new FormData;r.append("defect_id",e.toString()),t.forEach(e=>{r.append("images",e)});const n=yield fetch(`${this.baseImageUrl}/bulk`,{method:"POST",body:r,credentials:"include"}),a=yield n.json();return console.log(" Bulk upload response:",a),a}catch(r){return console.error(" Error uploading images:",r),{success:!1,message:r instanceof Error?r.message:"Network error occurred",errors:[r instanceof Error?r.message:"Unknown error"]}}})}getByDefectId(e){return h(this,null,function*(){try{console.log(" Fetching images for defect:",e);const t=yield fetch(`${this.baseImageUrl}/defect/${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return console.log(" Images retrieved:",r),r}catch(t){return console.error(" Error fetching images:",t),{success:!1,message:t instanceof Error?t.message:"Network error occurred",errors:[t instanceof Error?t.message:"Unknown error"]}}})}getImageUrl(e){return`${this.baseImageUrl}/${e}`}deleteImage(e){return h(this,null,function*(){try{console.log(" Deleting image:",e);const t=yield fetch(`${this.baseImageUrl}/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return console.log(" Delete response:",r),r}catch(t){return console.error(" Error deleting image:",t),{success:!1,message:t instanceof Error?t.message:"Network error occurred"}}})}deleteByDefectId(e){return h(this,null,function*(){try{console.log(" Deleting all images for defect:",e);const t=yield fetch(`${this.baseImageUrl}/defect/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return console.log(" Bulk delete response:",r),r}catch(t){return console.error(" Error deleting images:",t),{success:!1,message:t instanceof Error?t.message:"Network error occurred"}}})}validateImage(e){const t=["image/jpeg","image/jpg","image/png","image/gif","image/webp"];return e?t.includes(e.type)?e.size>5242880?{valid:!1,error:"File size exceeds 5MB limit"}:{valid:!0}:{valid:!1,error:`Invalid file type. Allowed types: ${t.join(", ")}`}:{valid:!1,error:"No file provided"}}validateImages(e){const t=[];return e&&0!==e.length?e.length>10?{valid:!1,errors:["Maximum 10 images allowed per upload"]}:(e.forEach((e,r)=>{const n=this.validateImage(e);n.valid||t.push(`Image ${r+1}: ${n.error}`)}),{valid:0===t.length,errors:t}):{valid:!1,errors:["No files provided"]}}getSummary(e,t){return h(this,null,function*(){try{const r=new URLSearchParams;e&&r.append("startDate",e.toISOString()),t&&r.append("endDate",t.toISOString());const n=r.toString()?`${this.baseUrl}/summary?${r}`:`${this.baseUrl}/summary`,a=yield fetch(n,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),s=yield a.json();return a.ok?{success:!0,data:s.data,message:s.message}:(console.error("Error fetching defect data summary:",s),{success:!1,errors:s.errors||[{field:"general",message:s.message||"Failed to fetch summary"}]})}catch(r){return console.error("Network error fetching defect data summary:",r),{success:!1,errors:[{field:"network",message:r instanceof Error?r.message:"Network error"}]}}})}getTrends(e=7){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/trends?days=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching defect data trends:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch trends"}]})}catch(t){return console.error("Network error fetching defect data trends:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getInspectorPerformance(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/inspector/${encodeURIComponent(e)}/performance`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching inspector performance:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch inspector performance"}]})}catch(t){return console.error("Network error fetching inspector performance:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}search(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/search`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),r=yield t.json();return t.ok?{success:!0,data:r}:(console.error("Error searching defect data:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to search defect data"}]})}catch(t){return console.error("Network error searching defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}bulkCreate(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({records:e})}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error bulk creating defect data:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to bulk create defect data"}]})}catch(t){return console.error("Network error bulk creating defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}validateDefectData(e){const t=[];return e.inspection_no&&""!==e.inspection_no.trim()||t.push("Inspection number is required"),e.qc_name&&""!==e.qc_name.trim()||t.push("QC name is required"),e.qclead_name&&""!==e.qclead_name.trim()||t.push("QC lead name is required"),e.mbr_name&&""!==e.mbr_name.trim()||t.push("MBR name is required"),e.linevi&&""!==e.linevi.trim()||t.push("Line VI is required"),e.groupvi&&""!==e.groupvi.trim()||t.push("Group VI is required"),e.station&&""!==e.station.trim()||t.push("Station is required"),e.inspector&&""!==e.inspector.trim()||t.push("Inspector is required"),void 0!==e.defect_id&&null!==e.defect_id||t.push("Defect ID is required"),e.inspection_no&&e.inspection_no.length>20&&t.push("Inspection number cannot exceed 20 characters"),e.qc_name&&e.qc_name.length>30&&t.push("QC name cannot exceed 30 characters"),e.qclead_name&&e.qclead_name.length>30&&t.push("QC lead name cannot exceed 30 characters"),e.mbr_name&&e.mbr_name.length>30&&t.push("MBR name cannot exceed 30 characters"),e.linevi&&e.linevi.length>5&&t.push("Line VI cannot exceed 5 characters"),e.groupvi&&e.groupvi.length>5&&t.push("Group VI cannot exceed 5 characters"),e.station&&e.station.length>5&&t.push("Station cannot exceed 5 characters"),e.inspector&&e.inspector.length>20&&t.push("Inspector name cannot exceed 20 characters"),void 0!==e.ng_qty&&(e.ng_qty<0||e.ng_qty>999999)&&t.push("NG quantity must be between 0 and 999,999"),e.trayno&&e.trayno.length>5&&t.push("Tray number cannot exceed 5 characters"),e.tray_position&&e.tray_position.length>5&&t.push("Tray position cannot exceed 5 characters"),e.color&&e.color.length>20&&t.push("Color cannot exceed 20 characters"),{valid:0===t.length,errors:t}}formatDefectData(e){var t;return{formattedDate:new Date(e.defect_date).toLocaleString(),formattedNgQty:(null==(t=e.ng_qty)?void 0:t.toLocaleString())||"0",stationDisplay:e.station||"Unknown",inspectorDisplay:e.inspector||"Unknown"}}getRecentDefectData(e=10){return h(this,null,function*(){try{const t={limit:e,sort_by:"defect_date",sort_order:"DESC"},r=yield this.getAll(t);return r.success&&r.data?{success:!0,data:r.data.data,message:`Retrieved ${r.data.data.length} recent defect records`}:{success:!1,errors:r.errors||[{field:"general",message:"Failed to fetch recent defect data"}]}}catch(t){return console.error("Error getting recent defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getDefectDataCounts(){return h(this,null,function*(){var e,t,r,n;try{const[a,s,i,o]=yield Promise.all([this.getAll({limit:1}),this.getAll({today:!0,limit:1e3}),this.getAll({this_week:!0,limit:1e3}),this.getAll({this_month:!0,limit:1e3})]);if(!(a.success&&s.success&&i.success&&o.success))return{success:!1,errors:[{field:"general",message:"Failed to fetch defect data counts"}]};const l=(null==(e=a.data)?void 0:e.pagination.total)||0,c=(null==(t=s.data)?void 0:t.data.length)||0,d=(null==(r=i.data)?void 0:r.data.length)||0,u=(null==(n=o.data)?void 0:n.data.length)||0,h=yield this.getSummary();return{success:!0,data:{total:l,today:c,this_week:d,this_month:u,total_ng_qty:h.success&&h.data?h.data.total_ng_qty:0}}}catch(a){return console.error("Error getting defect data counts:",a),{success:!1,errors:[{field:"network",message:a instanceof Error?a.message:"Network error"}]}}})}exportToCSV(e){return h(this,null,function*(){try{const t=yield this.getAll(c(l({},e),{limit:1e4}));if(!t.success||!t.data)return{success:!1,errors:t.errors||[{field:"general",message:"Failed to fetch data for export"}]};const r=t.data.data,n=["ID","Sampling No","Defect Date","QC Name","QC Lead Name","MBR Name","Line VI","Group VI","Station","Inspector","Defect ID","NG Qty","Tray No","Tray Position","Color","Created By","Updated By","Created At","Updated At"],a=r.map(e=>[e.id,e.inspection_no||"",new Date(e.defect_date).toISOString(),e.qc_name||"",e.qclead_name||"",e.mbr_name||"",e.linevi||"",e.groupvi||"",e.station||"",e.inspector||"",e.defect_id,e.ng_qty||0,e.trayno||"",e.tray_position||"",e.color||"",e.created_by,e.updated_by,e.created_at?new Date(e.created_at).toISOString():"",e.updated_at?new Date(e.updated_at).toISOString():""]);return{success:!0,data:[n.join(","),...a.map(e=>e.map(e=>`"${e}"`).join(","))].join("\n"),message:`Exported ${r.length} defect data records to CSV`}}catch(t){return console.error("Error exporting to CSV:",t),{success:!1,errors:[{field:"export",message:t instanceof Error?t.message:"Export failed"}]}}})}downloadCSV(e,t="defectdata.csv"){try{const r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");if(void 0!==n.download){const e=URL.createObjectURL(r);n.setAttribute("href",e),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(e)}}catch(r){console.error("Error downloading CSV:",r)}}resendEmail(e){return h(this,null,function*(){try{console.error(" Call defect Id:",e);const t=yield fetch(`${this.baseUrl}/${e}/resend-email`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,message:r.message||"Email sent successfully"}:(console.error("Error resending defect email:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to resend email"}]})}catch(t){return console.error("Network error resending defect email:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}healthCheck(){return h(this,null,function*(){try{const e=yield fetch(`${this.baseUrl}/health`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=yield e.json();return{healthy:e.ok&&t.success,message:e.ok?"DefectData service healthy":"DefectData service unhealthy",details:t.data}}catch(e){return{healthy:!1,message:`DefectData service error: ${e instanceof Error?e.message:"Unknown error"}`}}})}},N2={1:["a-gr-1","a-gr-2","a-gr-3","a-gr-4","a-gr-5","a-gr-6","a-gr-7","MRB"],2:["b-gr-1","b-gr-2","b-gr-3","b-gr-4","b-gr-5","b-gr-6","b-gr-7","QC"]},S2=({stations:e=[],onStationSelect:t,selectedStation:r,showHeader:n=!0,compactMode:a=!1,className:s="",shift:i=""})=>{const[o,l]=ee.useState(null),[c,d]=ee.useState(null),u=void 0!==r?r:o,h=e.reduce((e,t)=>(e[t.position]||(e[t.position]=[]),e[t.position].push(t),e),{}),m=(()=>{const t=[];let r=1;const n=e.length>0?e[0].line:"A";return N2[1].forEach((e,a)=>{const s=h[e]||[],i=s.length>0?s.map(e=>e.inspectorId).join(", "):"-",o=s.length>0?s.map(e=>e.oprname).filter(e=>e).join(", "):void 0;t.push({line:n,group:"1",id:r++,position:e,inspectorId:i,oprname:o})}),N2[2].forEach((e,a)=>{const s=h[e]||[],i=s.length>0?s.map(e=>e.inspectorId).join(", "):"-",o=s.length>0?s.map(e=>e.oprname).filter(e=>e).join(", "):void 0;t.push({line:n,group:"2",id:r++,position:e,inspectorId:i,oprname:o})}),t})().reduce((e,t)=>(e[t.line]||(e[t.line]=[]),e[t.line].push(t),e),{}),f=e=>c===e.inspectorId,p=e=>(null==u?void 0:u.line)===e.line&&(null==u?void 0:u.group)===e.group&&(null==u?void 0:u.id)===e.id;return de.jsxs("div",{className:s,children:[n&&de.jsxs("div",{className:"mb-6",children:[de.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"FVI Line Layout"}),de.jsx("p",{className:"text-gray-600",children:"Select an inspection station to view details"})]}),de.jsx("div",{className:"space-y-6",children:Object.entries(m).map(([e,n])=>de.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[!a&&de.jsxs("div",{className:"flex items-center justify-between mb-6",children:[de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx("div",{className:"w-12 h-12 bg-primary-500 text-white rounded-lg flex items-center justify-center text-xl font-bold",children:e}),de.jsxs("div",{children:[de.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Production Line ",e," ",i&&`- Shift ${i}`]}),de.jsxs("p",{className:"text-gray-600",children:[n.length," inspection stations  ",[...new Set(n.map(e=>e.group))].length," group(s)"]})]})]}),de.jsxs("div",{className:"text-right",children:[de.jsx("div",{className:"text-sm text-gray-500",children:"Unique Inspectors"}),de.jsx("div",{className:"text-lg font-semibold text-gray-800",children:[...new Set(n.map(e=>e.inspectorId))].length})]})]}),a&&de.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[de.jsx("div",{className:"w-8 h-8 bg-primary-500 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:e}),de.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["FVI Line ",e," ",i&&`Shift ${i}`]})]}),de.jsx("div",{className:"space-y-4",children:[...new Set(n.map(e=>e.group))].map(e=>{const s=n.filter(t=>t.group===e);return de.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("div",{className:"w-8 h-8 bg-gray-500 text-white rounded flex items-center justify-center text-sm font-bold",children:e}),de.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Group ",e]})]}),de.jsxs("span",{className:"text-xs text-gray-500 px-2 py-1 bg-gray-100 rounded",children:[s.length," stations"]})]}),de.jsx("div",{className:"grid gap-2 "+(a?"grid-cols-4 sm:grid-cols-6 md:grid-cols-8":"grid-cols-2 sm:grid-cols-4 md:grid-cols-8"),children:s.map(e=>de.jsxs("div",{onClick:()=>(e=>{"-"!==e.inspectorId&&(void 0===r&&l(e),d(e.inspectorId),null==t||t(e))})(e),className:`\n                              relative transition-all duration-200 p-3 rounded-lg border-2\n                              ${"-"===e.inspectorId?"border-gray-200 bg-gray-100 cursor-not-allowed opacity-60":f(e)?"border-primary-500 bg-primary-50 shadow-lg scale-105 cursor-pointer":"border-gray-300 bg-gray-50 hover:border-blue-400 hover:bg-blue-50 cursor-pointer"}\n                              ${p(e)?"ring-2 ring-primary-400 ring-offset-2":""}\n                            `,children:[de.jsx("div",{className:"absolute -top-2 -left-2 px-2 py-1 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:e.position}),de.jsxs("div",{className:"text-center mt-2",children:[de.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Inspector"}),de.jsx("div",{className:`\n                                text-sm font-bold\n                                ${"-"===e.inspectorId?"text-gray-400 italic":f(e)?"text-primary-700":"text-gray-800"}\n                              `,children:"-"===e.inspectorId?"Not Assigned":e.inspectorId})]}),de.jsx("div",{className:"absolute top-1 right-1",children:de.jsx("div",{className:`\n                                w-2 h-2 rounded-full\n                                ${f(e)?"bg-primary-400":"bg-green-400"}\n                              `})})]},`${e.line}-${e.group}-${e.id}`))})]},e)})})]},e))}),u&&de.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("p",{className:"text-sm text-gray-600",children:"Selected Station"}),de.jsxs("p",{className:"font-semibold text-gray-900",children:["Line ",u.line,"  Group ",u.group,"  Position ",u.position,"  Inspector ",u.inspectorId]})]}),de.jsx("button",{onClick:()=>{void 0===r&&l(null),d(null),null==t||t(null)},className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear"})]})})]})},k2=({message:e,type:t="info",duration:r=5e3,position:n="top-right",onClose:a,showIcon:s=!0,autoClose:i=!0,className:o=""})=>{const[l,c]=ee.useState(!0),[d,u]=ee.useState(!1);ee.useEffect(()=>{if(i&&r>0){const e=setTimeout(()=>{h()},r);return()=>clearTimeout(e)}},[i,r]);const h=()=>{u(!0),setTimeout(()=>{c(!1),null==a||a()},300)};if(!l)return null;const m={success:"\n      bg-success-50 border-success-200 text-success-800\n      shadow-lg shadow-success-100\n    ",error:"\n      bg-danger-50 border-danger-200 text-danger-800\n      shadow-lg shadow-danger-100\n    ",warning:"\n      bg-warning-50 border-warning-200 text-warning-800\n      shadow-lg shadow-warning-100\n    ",info:"\n      bg-primary-50 border-primary-200 text-primary-800\n      shadow-orange\n    "},f=()=>{if(!s)return null;switch(t){case"success":return de.jsx("svg",{className:"w-5 h-5 text-success-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"error":return de.jsx("svg",{className:"w-5 h-5 text-danger-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});case"warning":return de.jsx("svg",{className:"w-5 h-5 text-warning-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});default:return de.jsx("svg",{className:"w-5 h-5 text-primary-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}},p=d?"transform translate-x-full opacity-0":"transform translate-x-0 opacity-100";return de.jsx("div",{className:`\n      fixed z-50 min-w-80 max-w-md\n      ${{"top-right":"top-4 right-4","top-left":"top-4 left-4","bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4","top-center":"top-4 left-1/2 transform -translate-x-1/2"}[n]}\n      transition-all duration-300 ease-in-out\n      ${p}\n      ${o}\n    `,children:de.jsx("div",{className:`\n        p-4 rounded-card border backdrop-blur-sm\n        ${m[t]}\n        transition-all duration-200\n      `,children:de.jsxs("div",{className:"flex items-start",children:[f()&&de.jsx("div",{className:"mr-3 mt-0.5",children:f()}),de.jsx("div",{className:"flex-1 min-w-0",children:de.jsx("p",{className:"text-sm font-medium leading-5",children:e})}),de.jsx("div",{className:"ml-4 flex-shrink-0",children:de.jsx("button",{className:`\n                inline-flex rounded-md p-1.5 \n                ${"info"===t?"text-primary-500 hover:bg-primary-100":""}\n                ${"success"===t?"text-success-500 hover:bg-success-100":""}\n                ${"error"===t?"text-danger-500 hover:bg-danger-100":""}\n                ${"warning"===t?"text-warning-500 hover:bg-warning-100":""}\n                focus:outline-none focus:ring-2 focus:ring-offset-2\n                ${"info"===t?"focus:ring-primary-400":""}\n                ${"success"===t?"focus:ring-success-400":""}\n                ${"error"===t?"focus:ring-danger-400":""}\n                ${"warning"===t?"focus:ring-warning-400":""}\n                transition-colors duration-200\n              `,onClick:h,"aria-label":"Close notification",children:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})})})},C2=()=>{const[e,t]=ee.useState([]),r=(e,r="info",n=5e3)=>{const a=Date.now().toString(),s={id:a,message:e,type:r,duration:n};t(e=>[...e,s]),setTimeout(()=>{t(e=>e.filter(e=>e.id!==a))},n+300)};return{toasts:e,addToast:r,removeToast:e=>{t(t=>t.filter(t=>t.id!==e))},success:(e,t)=>r(e,"success",t),error:(e,t)=>r(e,"error",t),warning:(e,t)=>r(e,"warning",t),info:(e,t)=>r(e,"info",t)}},E2=({value:e,onChange:t,options:r,placeholder:n="Search...",className:a="",error:s=!1,disabled:i=!1,label:o,required:l=!1})=>{const[c,d]=ee.useState(!1),[u,h]=ee.useState([]),[m,f]=ee.useState(-1),p=ee.useRef(null),g=ee.useRef(null);ee.useEffect(()=>{if(""===e.trim())h(r.slice(0,10));else{const t=e.toLowerCase(),n=r.filter(e=>e.label.toLowerCase().includes(t)||e.value.toLowerCase().includes(t)||e.subtitle&&e.subtitle.toLowerCase().includes(t));h(n.slice(0,10))}f(-1)},[e,r]),ee.useEffect(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&p.current&&!p.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const x=e=>{var r;t(e.value),d(!1),null==(r=p.current)||r.blur()};return de.jsxs("div",{className:"relative",children:[o&&de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o," ",l&&de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("div",{className:"relative",children:[de.jsx("input",{ref:p,type:"text",value:e,onChange:e=>{t(e.target.value),d(!0)},onFocus:()=>d(!0),onKeyDown:e=>{if(c)switch(e.key){case"ArrowDown":e.preventDefault(),f(e=>e<u.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),f(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),m>=0&&m<u.length&&x(u[m]);break;case"Escape":d(!1)}else"ArrowDown"!==e.key&&"ArrowUp"!==e.key||d(!0)},placeholder:n,disabled:i,className:`w-full px-3 py-2 pl-10 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${s?"border-red-500":"border-gray-300"} ${i?"bg-gray-100 cursor-not-allowed":""} ${a}`}),de.jsx(dg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),c&&u.length>0&&!i&&de.jsx("div",{ref:g,className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:u.map((e,t)=>de.jsx("div",{onClick:()=>x(e),className:`px-3 py-1.5 cursor-pointer transition-colors ${t===m?"bg-primary-100 text-primary-900":"hover:bg-gray-100"} ${0===t?"rounded-t-lg":""} ${t===u.length-1?"rounded-b-lg":""}`,children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("div",{className:"font-medium text-gray-900 text-sm",children:e.label}),e.subtitle&&de.jsx("div",{className:"text-xs text-gray-500",children:e.subtitle})]}),de.jsx("div",{className:"text-xs text-gray-400",children:e.value})]})},`${e.value}-${t}`))}),c&&0===u.length&&""!==e.trim()&&!i&&de.jsx("div",{ref:g,className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg px-4 py-3",children:de.jsxs("div",{className:"text-center",children:[de.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:['No matches found for "',e,'"']}),de.jsx("div",{className:"inline-flex items-center px-3 py-1 bg-blue-50 border border-blue-200 rounded-lg",children:de.jsx("span",{className:"text-xs text-blue-700 font-medium",children:" Press Enter to use custom value"})})]})})]})},T2={success:{fileName:"success.mp3",volume:.5},error:{fileName:"error.mp3",volume:.6},warning:{fileName:"warning.mp3",volume:.5},info:{fileName:"info.mp3",volume:.4},delete:{fileName:"delete.mp3",volume:.5},save:{fileName:"save.mp3",volume:.5},select:{fileName:"select.mp3",volume:.4},important:{fileName:"important.mp3",volume:.6}};const _2=new class{constructor(){u(this,"audioCache",new Map),u(this,"masterVolume",.7),u(this,"isMuted",!1),u(this,"isEnabled",!0),this.loadSettings(),this.preloadSounds(["success","error","warning"])}loadSettings(){try{const e=localStorage.getItem("soundVolume"),t=localStorage.getItem("soundMuted"),r=localStorage.getItem("soundEnabled");e&&(this.masterVolume=parseFloat(e)),t&&(this.isMuted="true"===t),null!==r&&(this.isEnabled="true"===r)}catch(e){console.warn("Failed to load sound settings:",e)}}saveSettings(){try{localStorage.setItem("soundVolume",this.masterVolume.toString()),localStorage.setItem("soundMuted",this.isMuted.toString()),localStorage.setItem("soundEnabled",this.isEnabled.toString())}catch(e){console.warn("Failed to save sound settings:",e)}}preloadSounds(e){e.forEach(e=>{this.getAudioElement(e)})}getAudioElement(e){if(this.audioCache.has(e))return this.audioCache.get(e);const t=new Audio(`/sounds/${T2[e].fileName}`);return t.preload="auto",this.audioCache.set(e,t),t}play(e){if(this.isEnabled&&!this.isMuted)try{const t=this.getAudioElement(e),r=T2[e];t.currentTime=0,t.volume=(r.volume||.5)*this.masterVolume;const n=t.play();void 0!==n&&n.catch(t=>{console.warn(`Failed to play sound: ${e}`,t)})}catch(t){console.warn(`Error playing sound: ${e}`,t)}}stopAll(){this.audioCache.forEach(e=>{e.pause(),e.currentTime=0})}setVolume(e){this.masterVolume=Math.max(0,Math.min(1,e)),this.saveSettings()}getVolume(){return this.masterVolume}mute(){this.isMuted=!0,this.saveSettings()}unmute(){this.isMuted=!1,this.saveSettings()}toggleMute(){return this.isMuted=!this.isMuted,this.saveSettings(),this.isMuted}isSoundMuted(){return this.isMuted}enable(){this.isEnabled=!0,this.saveSettings()}disable(){this.isEnabled=!1,this.stopAll(),this.saveSettings()}toggleEnabled(){return this.isEnabled=!this.isEnabled,this.isEnabled||this.stopAll(),this.saveSettings(),this.isEnabled}isSoundEnabled(){return this.isEnabled}clearCache(){this.stopAll(),this.audioCache.clear()}},A2=e=>({success:(t,r=!0)=>{r&&_2.play("success"),e.success(t)},error:(t,r=!0)=>{r&&_2.play("error"),e.error(t)},warning:(t,r=!0)=>{r&&_2.play("warning"),e.warning(t)},info:(t,r=!0)=>{r&&_2.play("info"),e.info(t)}}),I2=()=>({playSuccess:()=>_2.play("success"),playError:()=>_2.play("error"),playWarning:()=>_2.play("warning"),playInfo:()=>_2.play("info"),playDelete:()=>_2.play("delete"),playSave:()=>_2.play("save"),playSelect:()=>_2.play("select"),playImportant:()=>_2.play("important"),play:e=>_2.play(e),stopAll:()=>_2.stopAll(),setVolume:e=>_2.setVolume(e),getVolume:()=>_2.getVolume(),mute:()=>_2.mute(),unmute:()=>_2.unmute(),toggleMute:()=>_2.toggleMute(),isMuted:()=>_2.isSoundMuted(),enable:()=>_2.enable(),disable:()=>_2.disable(),toggleEnabled:()=>_2.toggleEnabled(),isEnabled:()=>_2.isSoundEnabled()});const P2=new class{constructor(){u(this,"baseUrl",Ef("defectdata-customer")),u(this,"baseImageUrl",Ef("defect-customer-image"))}getAll(e){return h(this,null,function*(){try{const t=e?new URLSearchParams(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l({},e.page&&{page:e.page.toString()}),e.limit&&{limit:e.limit.toString()}),e.sort_by&&{sort_by:e.sort_by}),e.sort_order&&{sort_order:e.sort_order}),e.inspection_no&&{inspection_no:e.inspection_no}),e.qc_name&&{qc_name:e.qc_name}),e.qclead_name&&{qclead_name:e.qclead_name}),e.mbr_name&&{mbr_name:e.mbr_name}),e.linevi&&{linevi:e.linevi}),e.groupvi&&{groupvi:e.groupvi}),e.station&&{station:e.station}),e.inspector&&{inspector:e.inspector}),e.defect_id&&{defect_id:e.defect_id.toString()}),void 0!==e.ng_qty_min&&{ng_qty_min:e.ng_qty_min.toString()}),void 0!==e.ng_qty_max&&{ng_qty_max:e.ng_qty_max.toString()}),e.trayno&&{trayno:e.trayno}),e.tray_position&&{tray_position:e.tray_position}),e.color&&{color:e.color}),e.today&&{today:"true"}),e.yesterday&&{yesterday:"true"}),e.this_week&&{this_week:"true"}),e.this_month&&{this_month:"true"}),e.defect_date_from&&{defect_date_from:e.defect_date_from.toISOString()}),e.defect_date_to&&{defect_date_to:e.defect_date_to.toISOString()}),e.term&&{term:e.term}),e.fields&&{fields:e.fields.join(",")})).toString():"",r=t?`${this.baseUrl}?${t}`:this.baseUrl,n=yield fetch(r,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),a=yield n.json();return n.ok?{success:!0,data:a}:(console.error("Error fetching defect data:",a),{success:!1,errors:a.errors||[{field:"general",message:a.message||"Failed to fetch defect data"}]})}catch(t){return console.error("Network error fetching defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getById(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching defect data by ID:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch defect data"}]})}catch(t){return console.error("Network error fetching defect data by ID:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}create(e){return h(this,null,function*(){try{const t=yield fetch(this.baseUrl,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error creating defect data:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to create defect data"}]})}catch(t){return console.error("Network error creating defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}update(e,t){return h(this,null,function*(){try{const r=yield fetch(`${this.baseUrl}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),n=yield r.json();return r.ok?{success:!0,data:n.data,message:n.message}:(console.error("Error updating defect data:",n),{success:!1,errors:n.errors||[{field:"general",message:n.message||"Failed to update defect data"}]})}catch(r){return console.error("Network error updating defect data:",r),{success:!1,errors:[{field:"network",message:r instanceof Error?r.message:"Network error"}]}}})}delete(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,message:r.message}:(console.error("Error deleting defect data:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to delete defect data"}]})}catch(t){return console.error("Network error deleting defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}uploadSingle(e,t){return h(this,null,function*(){try{console.log(" Uploading single image for defect:",e);const r=new FormData;r.append("defect_id",e.toString()),r.append("image",t);const n=yield fetch(this.baseImageUrl,{method:"POST",body:r,credentials:"include"}),a=yield n.json();return console.log(" Upload response:",a),a}catch(r){return console.error(" Error uploading image:",r),{success:!1,message:r instanceof Error?r.message:"Network error occurred",errors:[r instanceof Error?r.message:"Unknown error"]}}})}uploadBulk(e,t){return h(this,null,function*(){try{console.log(" Uploading",t.length,"images for defect:",e);const r=new FormData;r.append("defect_id",e.toString()),t.forEach(e=>{r.append("images",e)});const n=yield fetch(`${this.baseImageUrl}/bulk`,{method:"POST",body:r,credentials:"include"}),a=yield n.json();return console.log(" Bulk upload response:",a),a}catch(r){return console.error(" Error uploading images:",r),{success:!1,message:r instanceof Error?r.message:"Network error occurred",errors:[r instanceof Error?r.message:"Unknown error"]}}})}getByDefectId(e){return h(this,null,function*(){try{console.log(" Fetching images for defect:",e);const t=yield fetch(`${this.baseImageUrl}/defect/${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return console.log(" Images retrieved:",r),r}catch(t){return console.error(" Error fetching images:",t),{success:!1,message:t instanceof Error?t.message:"Network error occurred",errors:[t instanceof Error?t.message:"Unknown error"]}}})}getImageUrl(e){return`${this.baseImageUrl}/${e}`}deleteImage(e){return h(this,null,function*(){try{console.log(" Deleting image:",e);const t=yield fetch(`${this.baseImageUrl}/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return console.log(" Delete response:",r),r}catch(t){return console.error(" Error deleting image:",t),{success:!1,message:t instanceof Error?t.message:"Network error occurred"}}})}deleteByDefectId(e){return h(this,null,function*(){try{console.log(" Deleting all images for defect:",e);const t=yield fetch(`${this.baseImageUrl}/defect/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return console.log(" Bulk delete response:",r),r}catch(t){return console.error(" Error deleting images:",t),{success:!1,message:t instanceof Error?t.message:"Network error occurred"}}})}validateImage(e){const t=["image/jpeg","image/jpg","image/png","image/gif","image/webp"];return e?t.includes(e.type)?e.size>5242880?{valid:!1,error:"File size exceeds 5MB limit"}:{valid:!0}:{valid:!1,error:`Invalid file type. Allowed types: ${t.join(", ")}`}:{valid:!1,error:"No file provided"}}validateImages(e){const t=[];return e&&0!==e.length?e.length>10?{valid:!1,errors:["Maximum 10 images allowed per upload"]}:(e.forEach((e,r)=>{const n=this.validateImage(e);n.valid||t.push(`Image ${r+1}: ${n.error}`)}),{valid:0===t.length,errors:t}):{valid:!1,errors:["No files provided"]}}getByInspectionNo(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/inspection/${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching defect data by inspection number:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch defect data"}]})}catch(t){return console.error("Network error fetching defect data by inspection number:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getDetailByInspectionNo(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/detail/${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching defect detail by inspection number:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch defect detail"}]})}catch(t){return console.error("Network error fetching defect detail by inspection number:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getByStationAndDateRange(e,t,r,n){return h(this,null,function*(){try{const a=new URLSearchParams(l({startDate:t.toISOString(),endDate:r.toISOString()},n&&{limit:n.toString()})),s=yield fetch(`${this.baseUrl}/station/${encodeURIComponent(e)}?${a}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),i=yield s.json();return s.ok?{success:!0,data:i.data,message:i.message}:(console.error("Error fetching defect data by station and date range:",i),{success:!1,errors:i.errors||[{field:"general",message:i.message||"Failed to fetch defect data"}]})}catch(a){return console.error("Network error fetching defect data by station and date range:",a),{success:!1,errors:[{field:"network",message:a instanceof Error?a.message:"Network error"}]}}})}getByInspector(e,t){return h(this,null,function*(){try{const r=t?`${this.baseUrl}/inspector/${encodeURIComponent(e)}?limit=${t}`:`${this.baseUrl}/inspector/${encodeURIComponent(e)}`,n=yield fetch(r,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),a=yield n.json();return n.ok?{success:!0,data:a.data,message:a.message}:(console.error("Error fetching defect data by inspector:",a),{success:!1,errors:a.errors||[{field:"general",message:a.message||"Failed to fetch defect data"}]})}catch(r){return console.error("Network error fetching defect data by inspector:",r),{success:!1,errors:[{field:"network",message:r instanceof Error?r.message:"Network error"}]}}})}getProfile(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/${e}/profile`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching defect data profile:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch defect data profile"}]})}catch(t){return console.error("Network error fetching defect data profile:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getTodayDefectCustomerData(e){return h(this,null,function*(){try{const t=e?`${this.baseUrl}/today?station=${encodeURIComponent(e)}`:`${this.baseUrl}/today`,r=yield fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),n=yield r.json();return r.ok?{success:!0,data:n.data,message:n.message}:(console.error("Error fetching today's defect data:",n),{success:!1,errors:n.errors||[{field:"general",message:n.message||"Failed to fetch today's defect data"}]})}catch(t){return console.error("Network error fetching today's defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getSummary(e,t){return h(this,null,function*(){try{const r=new URLSearchParams;e&&r.append("startDate",e.toISOString()),t&&r.append("endDate",t.toISOString());const n=r.toString()?`${this.baseUrl}/summary?${r}`:`${this.baseUrl}/summary`,a=yield fetch(n,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),s=yield a.json();return a.ok?{success:!0,data:s.data,message:s.message}:(console.error("Error fetching defect data summary:",s),{success:!1,errors:s.errors||[{field:"general",message:s.message||"Failed to fetch summary"}]})}catch(r){return console.error("Network error fetching defect data summary:",r),{success:!1,errors:[{field:"network",message:r instanceof Error?r.message:"Network error"}]}}})}getTrends(e=7){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/trends?days=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching defect data trends:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch trends"}]})}catch(t){return console.error("Network error fetching defect data trends:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getInspectorPerformance(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/inspector/${encodeURIComponent(e)}/performance`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching inspector performance:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch inspector performance"}]})}catch(t){return console.error("Network error fetching inspector performance:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}search(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/search`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),r=yield t.json();return t.ok?{success:!0,data:r}:(console.error("Error searching defect data:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to search defect data"}]})}catch(t){return console.error("Network error searching defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}bulkCreate(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({records:e})}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error bulk creating defect data:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to bulk create defect data"}]})}catch(t){return console.error("Network error bulk creating defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}validateDefectCustomerData(e){const t=[];return e.inspection_no&&""!==e.inspection_no.trim()||t.push("Inspection number is required"),e.qc_name&&""!==e.qc_name.trim()||t.push("QC name is required"),e.qclead_name&&""!==e.qclead_name.trim()||t.push("QC lead name is required"),e.mbr_name&&""!==e.mbr_name.trim()||t.push("MBR name is required"),e.linevi&&""!==e.linevi.trim()||t.push("Line VI is required"),e.groupvi&&""!==e.groupvi.trim()||t.push("Group VI is required"),e.station&&""!==e.station.trim()||t.push("Station is required"),e.inspector&&""!==e.inspector.trim()||t.push("Inspector is required"),void 0!==e.defect_id&&null!==e.defect_id||t.push("Defect ID is required"),e.inspection_no&&e.inspection_no.length>20&&t.push("Inspection number cannot exceed 20 characters"),e.qc_name&&e.qc_name.length>30&&t.push("QC name cannot exceed 30 characters"),e.qclead_name&&e.qclead_name.length>30&&t.push("QC lead name cannot exceed 30 characters"),e.mbr_name&&e.mbr_name.length>30&&t.push("MBR name cannot exceed 30 characters"),e.linevi&&e.linevi.length>5&&t.push("Line VI cannot exceed 5 characters"),e.groupvi&&e.groupvi.length>5&&t.push("Group VI cannot exceed 5 characters"),e.station&&e.station.length>5&&t.push("Station cannot exceed 5 characters"),e.inspector&&e.inspector.length>20&&t.push("Inspector name cannot exceed 20 characters"),void 0!==e.ng_qty&&(e.ng_qty<0||e.ng_qty>999999)&&t.push("NG quantity must be between 0 and 999,999"),e.trayno&&e.trayno.length>5&&t.push("Tray number cannot exceed 5 characters"),e.tray_position&&e.tray_position.length>5&&t.push("Tray position cannot exceed 5 characters"),e.color&&e.color.length>20&&t.push("Color cannot exceed 20 characters"),{valid:0===t.length,errors:t}}formatDefectCustomerData(e){var t;return{formattedDate:new Date(e.defect_date).toLocaleString(),formattedNgQty:(null==(t=e.ng_qty)?void 0:t.toLocaleString())||"0",stationDisplay:e.station||"Unknown",inspectorDisplay:e.inspector||"Unknown"}}getRecentDefectCustomerData(e=10){return h(this,null,function*(){try{const t={limit:e,sort_by:"defect_date",sort_order:"DESC"},r=yield this.getAll(t);return r.success&&r.data?{success:!0,data:r.data.data,message:`Retrieved ${r.data.data.length} recent defect records`}:{success:!1,errors:r.errors||[{field:"general",message:"Failed to fetch recent defect data"}]}}catch(t){return console.error("Error getting recent defect data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getDefectCustomerDataCounts(){return h(this,null,function*(){var e,t,r,n;try{const[a,s,i,o]=yield Promise.all([this.getAll({limit:1}),this.getAll({today:!0,limit:1e3}),this.getAll({this_week:!0,limit:1e3}),this.getAll({this_month:!0,limit:1e3})]);if(!(a.success&&s.success&&i.success&&o.success))return{success:!1,errors:[{field:"general",message:"Failed to fetch defect data counts"}]};const l=(null==(e=a.data)?void 0:e.pagination.total)||0,c=(null==(t=s.data)?void 0:t.data.length)||0,d=(null==(r=i.data)?void 0:r.data.length)||0,u=(null==(n=o.data)?void 0:n.data.length)||0,h=yield this.getSummary();return{success:!0,data:{total:l,today:c,this_week:d,this_month:u,total_ng_qty:h.success&&h.data?h.data.total_ng_qty:0}}}catch(a){return console.error("Error getting defect data counts:",a),{success:!1,errors:[{field:"network",message:a instanceof Error?a.message:"Network error"}]}}})}exportToCSV(e){return h(this,null,function*(){try{const t=yield this.getAll(c(l({},e),{limit:1e4}));if(!t.success||!t.data)return{success:!1,errors:t.errors||[{field:"general",message:"Failed to fetch data for export"}]};const r=t.data.data,n=["ID","Sampling No","Defect Date","QC Name","QC Lead Name","MBR Name","Line VI","Group VI","Station","Inspector","Defect ID","NG Qty","Tray No","Tray Position","Color","Created By","Updated By","Created At","Updated At"],a=r.map(e=>[e.id,e.inspection_no||"",new Date(e.defect_date).toISOString(),e.qc_name||"",e.qclead_name||"",e.mbr_name||"",e.linevi||"",e.groupvi||"",e.station||"",e.inspector||"",e.defect_id,e.ng_qty||0,e.trayno||"",e.tray_position||"",e.color||"",e.created_by,e.updated_by,e.created_at?new Date(e.created_at).toISOString():"",e.updated_at?new Date(e.updated_at).toISOString():""]);return{success:!0,data:[n.join(","),...a.map(e=>e.map(e=>`"${e}"`).join(","))].join("\n"),message:`Exported ${r.length} defect data records to CSV`}}catch(t){return console.error("Error exporting to CSV:",t),{success:!1,errors:[{field:"export",message:t instanceof Error?t.message:"Export failed"}]}}})}downloadCSV(e,t="defectdata.csv"){try{const r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");if(void 0!==n.download){const e=URL.createObjectURL(r);n.setAttribute("href",e),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(e)}}catch(r){console.error("Error downloading CSV:",r)}}resendEmail(e){return h(this,null,function*(){try{console.error(" Call defect Id:",e);const t=yield fetch(`${this.baseUrl}/${e}/resend-email`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,message:r.message||"Email sent successfully"}:(console.error("Error resending defect email:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to resend email"}]})}catch(t){return console.error("Network error resending defect email:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}healthCheck(){return h(this,null,function*(){try{const e=yield fetch(`${this.baseUrl}/health`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=yield e.json();return{healthy:e.ok&&t.success,message:e.ok?"DefectCustomerData service healthy":"DefectCustomerData service unhealthy",details:t.data}}catch(e){return{healthy:!1,message:`DefectCustomerData service error: ${e instanceof Error?e.message:"Unknown error"}`}}})}},D2=({defects:e,inspectionNo:t,showHeader:r=!0,showStatistics:n=!1,showDelete:a=!1,showResendEmail:s=!1,serviceType:i="defectdata",onDelete:o,onSuccess:d,onError:u,className:m=""})=>{const[f,p]=ee.useState([]),[g,x]=ee.useState(0),[b,v]=ee.useState(!1),[y,w]=ee.useState([]),[j,N]=ee.useState(!1),[S,k]=ee.useState(null),[C,E]=ee.useState(null),[T,_]=ee.useState(!1),[A,I]=ee.useState(!1),[P,D]=ee.useState(null),[O,L]=ee.useState(!1);ee.useEffect(()=>{h(void 0,null,function*(){if(t)try{N(!0),k(null),console.log(" Fetching defect details for inspection:",t,"using service:",i);const e="defectdata-customer"===i?P2:j2,r=yield e.getDetailByInspectionNo(t);if(r.success&&r.data){console.log(" Loaded defect details with images:",r.data);const e=r.data.map(e=>c(l({},e),{image_urls:e.image_urls||[]}));w(e),console.log(" Set defects with images:",e.length,"defects")}else k(r.message||"Failed to load defects"),console.error(" Failed to load defects:",r.message)}catch(e){k("Network error loading defects"),console.error(" Error fetching defects:",e)}finally{N(!1)}})},[t,i]);const R=e||y,M=R?R.reduce((e,t)=>e+t.ng_qty,0):0,F=()=>{v(!1),p([]),x(0)},$=()=>{x(e=>e>0?e-1:f.length-1)},B=()=>{x(e=>e<f.length-1?e+1:0)},U=()=>{_(!1),D(null)},z=()=>{I(!1),D(null)};return te.useEffect(()=>{if(!b)return;const e=e=>{"Escape"===e.key?F():"ArrowLeft"===e.key?$():"ArrowRight"===e.key&&B()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[b,f.length]),j?de.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[de.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 border-t-green-600"}),de.jsx("p",{className:"text-gray-600 text-sm mt-4",children:"Loading defect records..."})]}):S?de.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:de.jsxs("p",{className:"text-red-700 font-medium",children:["Error loading defects: ",S]})}):R&&0!==R.length?de.jsxs("div",{className:`bg-red-50 border-2 border-red-200 rounded-lg p-3 ${m}`,children:[r&&de.jsxs("h4",{className:"text-sm font-bold text-red-900 mb-3 flex items-center",children:[de.jsx(Wp,{className:"h-5 w-5 mr-2"}),"Defect Records (",R.length," defects, Total NG: ",M,")"]}),de.jsx("div",{className:"overflow-x-auto",children:de.jsxs("table",{className:"w-full text-xs border-collapse",children:[de.jsx("thead",{className:"bg-red-100 sticky top-0",children:de.jsxs("tr",{children:[de.jsx("th",{className:"border border-red-300 px-2 py-2 text-left font-semibold text-red-900",children:"#"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-left font-semibold text-red-900",children:"Date"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-left font-semibold text-red-900",children:"Inspector"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-left font-semibold text-red-900",children:"QC Name"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-left font-semibold text-red-900",children:"Leader"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-left font-semibold text-red-900",children:"MRB"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-left font-semibold text-red-900",children:"Line"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-left font-semibold text-red-900",children:"Group"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-left font-semibold text-red-900",children:"Station"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-left font-semibold text-red-900",children:"Tray"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-left font-semibold text-red-900",children:"Position"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-left font-semibold text-red-900",children:"Color"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-left font-semibold text-red-900",children:"Defect"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-center font-semibold text-red-900",children:"NG Qty"}),de.jsx("th",{className:"border border-red-300 px-2 py-2 text-center font-semibold text-red-900",children:"Photos"}),(a||s)&&de.jsx("th",{className:"border border-red-300 px-2 py-2 text-center font-semibold text-red-900",children:"Actions"})]})}),de.jsx("tbody",{className:"bg-white",children:R.map((e,t)=>{return de.jsxs("tr",{className:"hover:bg-red-50 transition-colors",children:[de.jsx("td",{className:"border border-red-300 px-2 py-2 text-gray-700",children:t+1}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-gray-700",children:(r=e.defect_date,r?new Date(r).toLocaleDateString():"N/A")}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-gray-700 font-medium",children:e.inspector}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-gray-700",children:e.qc_name}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-gray-700",children:e.qclead_name}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-gray-700",children:e.mbr_name||"-"}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-gray-700",children:e.linevi}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-gray-700",children:e.groupvi}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-gray-700",children:e.station}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-gray-700",children:e.trayno||"-"}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-gray-700",children:e.tray_position||"-"}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-gray-700",children:e.color||"-"}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-gray-700",children:e.defect_name&&de.jsx("div",{className:"text-xs text-gray-600",children:e.defect_name})}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-center",children:de.jsx("span",{className:"bg-red-600 text-white px-2 py-1 rounded-full font-bold",children:e.ng_qty})}),de.jsx("td",{className:"border border-red-300 px-2 py-2 text-center",children:e.image_urls&&e.image_urls.length>0?de.jsxs("button",{onClick:()=>{var t;(t=e.image_urls||[])&&t.length>0&&(p(t),x(0),v(!0))},className:"flex items-center justify-center cursor-pointer hover:bg-blue-100 px-2 py-1 rounded transition-colors w-full",title:"Click to view images",children:[de.jsx(bg,{className:"h-4 w-4 text-blue-600 mr-1"}),de.jsx("span",{className:"font-semibold text-blue-600",children:e.image_urls.length})]}):de.jsx("span",{className:"text-gray-400",children:"-"})}),(a||s)&&e.id&&de.jsx("td",{className:"border border-red-300 px-2 py-2 text-center",children:de.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s&&de.jsx("button",{onClick:()=>{return t=e.id,D(t),void I(!0);var t},disabled:C===e.id,className:"inline-flex items-center justify-center p-1 rounded transition-colors "+(C===e.id?"bg-gray-100 cursor-not-allowed":"hover:bg-green-100"),title:"Resend defect notification email",children:C===e.id?de.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-green-600 border-t-transparent"}):de.jsx(Bp,{className:"h-4 w-4 text-green-600"})}),a&&de.jsx("button",{onClick:()=>{return t=e.id,D(t),void _(!0);var t},className:"inline-flex items-center justify-center p-1 hover:bg-red-100 rounded transition-colors",title:"Delete defect record",children:de.jsx(Wg,{className:"h-4 w-4 text-red-600"})})]})})]},e.id||t);var r})})]})}),b&&f.length>0&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[9999]",onClick:F,children:de.jsxs("div",{className:"relative max-w-6xl max-h-[90vh] w-full h-full flex items-center justify-center p-4",onClick:e=>e.stopPropagation(),children:[de.jsx("button",{onClick:F,className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors z-10",title:"Close (ESC)",children:de.jsx(rx,{className:"h-8 w-8"})}),de.jsxs("div",{className:"absolute top-4 left-4 bg-black bg-opacity-60 text-white px-3 py-1 rounded-lg text-sm z-10",children:[g+1," / ",f.length]}),f.length>1&&de.jsx("button",{onClick:$,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black bg-opacity-60 hover:bg-opacity-80 text-white p-3 rounded-full transition-all z-10",title:"Previous ()",children:de.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),de.jsx("div",{className:"flex items-center justify-center w-full h-full",children:de.jsx("img",{src:f[g],alt:`Defect image ${g+1}`,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",onClick:e=>e.stopPropagation()})}),f.length>1&&de.jsx("button",{onClick:B,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black bg-opacity-60 hover:bg-opacity-80 text-white p-3 rounded-full transition-all z-10",title:"Next ()",children:de.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),f.length>1&&de.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black bg-opacity-60 text-white px-4 py-2 rounded-lg text-xs z-10",children:"Use   arrow keys to navigate"})]})}),T&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",onClick:U,children:de.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:e=>e.stopPropagation(),children:de.jsxs("div",{className:"p-6",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[de.jsx("div",{className:"flex-shrink-0 bg-red-100 rounded-full p-3",children:de.jsx(Wg,{className:"h-6 w-6 text-red-600"})}),de.jsx("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Delete Defect Record"})]}),de.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this defect record? This action cannot be undone."}),de.jsxs("div",{className:"flex gap-3 justify-end",children:[de.jsx("button",{onClick:U,disabled:O,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){if(P)try{L(!0),console.log(" Deleting defect:",P);const e="defectdata-customer"===i?P2:j2,r=yield e.delete(P);if(r.success)console.log(" Defect deleted successfully"),d&&d("Defect record deleted successfully"),o&&o(P),t&&w(e=>e.filter(e=>e.id!==P)),_(!1),D(null);else{let e="Unknown error";r.message?e=r.message:r.errors&&r.errors.length>0&&(e=r.errors[0].message),console.error(" Failed to delete defect:",e,r),u&&u("Failed to delete defect: "+e),_(!1),D(null)}}catch(e){console.error(" Error deleting defect:",e),u&&u("Error deleting defect. Please try again."),_(!1),D(null)}finally{L(!1)}}),disabled:O,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:O?de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),de.jsx("span",{children:"Deleting..."})]}):de.jsxs(de.Fragment,{children:[de.jsx(Wg,{className:"h-4 w-4"}),de.jsx("span",{children:"Delete"})]})})]})]})})}),A&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",onClick:z,children:de.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:e=>e.stopPropagation(),children:de.jsxs("div",{className:"p-6",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[de.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-full p-3",children:de.jsx(Bp,{className:"h-6 w-6 text-green-600"})}),de.jsx("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Resend Email Notification"})]}),de.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to resend the defect notification email?"}),de.jsxs("div",{className:"flex gap-3 justify-end",children:[de.jsx("button",{onClick:z,disabled:null!==C,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){if(P)try{E(P),console.log(" Resending defect email for defect:",P);const e="defectdata-customer"===i?P2:j2,t=yield e.resendEmail(P);if(t.success)console.log(" Email sent successfully"),d&&d("Email sent successfully!"),I(!1),D(null);else{let e="Unknown error";t.message?e=t.message:t.errors&&t.errors.length>0&&(e=t.errors[0].message),console.error(" Failed to send email:",e,t),u&&u("Failed to send email: "+e),I(!1),D(null)}}catch(e){console.error(" Error sending email:",e),u&&u("Error sending email. Please try again."),I(!1),D(null)}finally{E(null)}}),disabled:null!==C,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:null!==C?de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),de.jsx("span",{children:"Sending..."})]}):de.jsxs(de.Fragment,{children:[de.jsx(Bp,{className:"h-4 w-4"}),de.jsx("span",{children:"Send Email"})]})})]})]})})}),n&&R&&R.length>0&&de.jsx("div",{className:"mt-6 pt-6 border-t-2 border-gray-200",children:de.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[de.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:[de.jsx("div",{className:"text-3xl font-bold text-blue-700",children:R.length}),de.jsx("div",{className:"text-xs text-blue-600 font-semibold mt-1",children:"Total Records"})]}),de.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg border-2 border-red-200",children:[de.jsx("div",{className:"text-3xl font-bold text-red-700",children:R.reduce((e,t)=>e+t.ng_qty,0)}),de.jsx("div",{className:"text-xs text-red-600 font-semibold mt-1",children:"Total Defects"})]})]})})]}):t?de.jsxs("div",{className:"text-center py-12",children:[de.jsx(Wp,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),de.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No defect records yet"}),de.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Defect records will appear here once submitted"})]}):de.jsxs("div",{className:"text-center py-12",children:[de.jsx(Wp,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),de.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No inspection data available"}),de.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Please complete the inspection form above first"})]})},O2={},L2={search:"",partsite:"",model:"",lineno:"",dateFrom:"",dateTo:"",finishDateFrom:(new Date).toISOString().split("T")[0],finishDateTo:""},R2={input:"",isSearching:!1,error:null,results:[],showDropdown:!1},M2=e=>({id:e.id,lotno:e.LotNo||e.lotno||"",partsite:e.PartSite||e.partsite||"",lineno:e.LineNo||e.lineno||"",itemno:e.ItemNo||e.itemno||"",model:e.Model||e.model||"",version:e.Version||e.version||"",inputdate:e.InputDate||e.inputdate||(new Date).toISOString(),finish_on:e.FinishOn||e.finish_on||(new Date).toISOString()});const F2=new class{constructor(){u(this,"baseUrl",Ef("inf-lotinput"))}getRecentLots(e=50){return h(this,null,function*(){try{console.log(" Fetching recent lots from database...");const t=yield fetch(`${this.baseUrl}?limit=${Math.min(e,100)}`),r=yield t.json();console.log(" Raw API Response:",r);let n=r.data||r;if(!Array.isArray(n))return console.error(" Invalid response format:",typeof n),{success:!1,error:"Invalid response format: expected array of lots"};const a=n.map(M2);return console.log(" Transformed lots:",a.length,"records"),{success:!0,data:a}}catch(t){return console.error(" Network error:",t),{success:!1,error:`Network error: ${t instanceof Error?t.message:"Unknown error"}`}}})}getAllLots(e){return h(this,null,function*(){var t,r,n,a,s,i,o,l,c,d;try{console.log(" Searching lots with filters:",e);const u=new URLSearchParams;e&&((null==(t=e.search)?void 0:t.trim())&&u.append("globalSearch",e.search.trim()),(null==(r=e.partsite)?void 0:r.trim())&&u.append("partSite",e.partsite.trim()),(null==(n=e.model)?void 0:n.trim())&&u.append("model",e.model.trim()),(null==(a=e.lineno)?void 0:a.trim())&&u.append("lineNo",e.lineno.trim()),(null==(s=e.dateFrom)?void 0:s.trim())&&u.append("inputDateFrom",e.dateFrom.trim()),(null==(i=e.dateTo)?void 0:i.trim())&&u.append("inputDateTo",e.dateTo.trim()),(null==(o=e.finishDateFrom)?void 0:o.trim())&&u.append("finishOnFrom",e.finishDateFrom.trim()),(null==(l=e.finishDateTo)?void 0:l.trim())&&u.append("finishOnTo",e.finishDateTo.trim()),(null==(c=e.finishOnFrom)?void 0:c.trim())&&u.append("finishOnFrom",e.finishOnFrom.trim()),(null==(d=e.finishOnTo)?void 0:d.trim())&&u.append("finishOnTo",e.finishOnTo.trim())),u.append("limit","100"),u.append("sort","inputdate"),u.append("order","DESC");const h=u.toString(),m=h?`?${h}`:"";console.log(" API Request URL suffix:",m);const f=yield fetch(`${this.baseUrl}${m}`),p=yield f.json();console.log(" Search API Response:",p);let g=p.data||p;if(!Array.isArray(g))return console.error(" Invalid search response format:",typeof g),{success:!1,error:"Invalid search response format: expected array of lots"};const x=g.map(M2);return console.log(" Search completed:",x.length,"lots found"),{success:!0,data:x}}catch(u){return console.error(" Search network error:",u),{success:!1,error:`Search network error: ${u instanceof Error?u.message:"Unknown error"}`}}})}searchLot(e){return h(this,null,function*(){try{if(console.log(" Searching for specific lot:",e),!e.trim())return{success:!1,error:"Lot number is required"};const t=new URLSearchParams({lotNoSearch:e.trim(),limit:"10"}),r=yield fetch(`${this.baseUrl}?${t.toString()}`),n=yield r.json();console.log(" Lot Search Response:",n);let a=n.data||n;if(!Array.isArray(a))return console.error(" Invalid lot search response format:",typeof a),{success:!1,error:"Invalid lot search response format"};const s=a.map(M2);return console.log(" Lot search completed:",s.length,"lots found"),{success:!0,data:s}}catch(t){return console.error(" Lot search network error:",t),{success:!1,error:`Lot search network error: ${t instanceof Error?t.message:"Unknown error"}`}}})}getStatistics(){return h(this,null,function*(){try{console.log(" Fetching database statistics...");const e=yield fetch(`${this.baseUrl}/statistics`);if(!e.ok)return console.warn(" Statistics API not available:",e.status),{success:!1,error:"Statistics not available"};const t=yield e.json();return console.log(" Statistics Response:",t),{success:!0,data:t.data||t}}catch(e){return console.warn(" Statistics network error:",e),{success:!1,error:"Statistics network error"}}})}importTodayData(){return h(this,null,function*(){try{console.log(" Starting manual import of today's data...");const e=yield fetch(`${this.baseUrl}/import/today`,{method:"POST",headers:{"Content-Type":"application/json"}}),t=yield e.json();return console.log(" Import Response:",t),e.ok?{success:t.success||!0,data:t.data,message:t.message}:{success:!1,error:t.message||`HTTP ${e.status}: Import failed`}}catch(e){return console.error(" Import network error:",e),{success:!1,error:`Import network error: ${e instanceof Error?e.message:"Unknown error"}`}}})}syncData(){return h(this,null,function*(){try{console.log(" Starting data sync...",this.baseUrl);const e=yield fetch(`${this.baseUrl}/sync`,{method:"POST",headers:{"Content-Type":"application/json"}}),t=yield e.json();return console.log(" Sync Response:",t),e.ok?{success:t.success||!0,data:t.data,message:t.message}:{success:!1,error:t.message||`HTTP ${e.status}: Sync failed`}}catch(e){return console.error(" Sync network error:",e),{success:!1,error:`Sync network error: ${e instanceof Error?e.message:"Unknown error"}`}}})}fetchLotInputData(e){return h(this,null,function*(){var t,r,n,a;try{console.log(" Fetching lot input data with params:",e);const s=new URLSearchParams;e.page&&s.append("page",e.page.toString()),e.limit&&s.append("limit",e.limit.toString()),(null==(t=e.lotNoSearch)?void 0:t.trim())&&s.append("lotNoSearch",e.lotNoSearch.trim()),(null==(r=e.itemNoSearch)?void 0:r.trim())&&s.append("itemNoSearch",e.itemNoSearch.trim()),(null==(n=e.inputDateFrom)?void 0:n.trim())&&s.append("inputDateFrom",e.inputDateFrom.trim()),(null==(a=e.inputDateTo)?void 0:a.trim())&&s.append("inputDateTo",e.inputDateTo.trim());const i=yield fetch(`${this.baseUrl}?${s.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"}}),o=yield i.json();return console.log(" Fetch Response:",o),i.ok&&o.success?{success:!0,data:o.data,pagination:o.pagination}:{success:!1,error:o.message||"Failed to fetch data"}}catch(s){return console.error(" Fetch error:",s),{success:!1,error:`Fetch error: ${s instanceof Error?s.message:"Unknown error"}`}}})}searchByLotNumber(e){return h(this,null,function*(){try{if(!e.trim())return{success:!1,error:"Please enter a lot number to search"};console.log(" Searching by lot number:",e);const t=yield fetch(`${this.baseUrl}/lot/${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}}),r=yield t.json();return console.log(" Lot Search Response:",r),t.ok&&r.success&&r.data&&0!==r.data.length?{success:!0,data:r.data,message:`Found ${r.data.length} records for lot: ${e}`}:{success:!1,error:`No records found for lot: ${e}`}}catch(t){return console.error(" Lot search error:",t),{success:!1,error:`Search failed: ${t instanceof Error?t.message:"Unknown error"}`}}})}getLotsFinishingToday(){return h(this,null,function*(){const e=(new Date).toISOString().split("T")[0];return console.log(" Fetching lots finishing today:",e),this.getAllLots({finishOnFrom:e,finishOnTo:e})})}getLotsFinishingInRange(e,t){return h(this,null,function*(){return console.log(" Fetching lots finishing in range:",e,"to",t||"open"),this.getAllLots({finishOnFrom:e,finishOnTo:t})})}searchLotByNumber(e){return h(this,null,function*(){return this.searchLot(e)})}applyClientFilters(e,t){let r=[...e].filter(e=>e&&e.id&&e.LotNo&&e.InputDate&&"object"==typeof e);return t.lotNoSearch.trim()&&(r=r.filter(e=>e&&e.LotNo&&e.LotNo.toLowerCase().includes(t.lotNoSearch.toLowerCase()))),t.itemNoSearch.trim()&&(r=r.filter(e=>e&&e.ItemNo&&e.ItemNo.toLowerCase().includes(t.itemNoSearch.toLowerCase()))),console.log(` Applied client-side filters: ${r.length} of ${e.length} records match`),r}extractFilterOptions(e){const t=[...new Set(e.map(e=>e.PartSite).filter(Boolean))].sort(),r=[...new Set(e.map(e=>e.LineNo).filter(Boolean))].sort(),n=[...new Set(e.map(e=>e.Model).filter(Boolean))].sort(),a=[...new Set(e.map(e=>e.Version).filter(Boolean))].sort();return console.log(" Extracted filter options:",{partSites:t,lineNos:r,models:n,versions:a}),{partSites:t,lineNos:r,models:n,versions:a}}getTodayDate(){return(new Date).toISOString().split("T")[0]}formatDate(e){if(!e)return"-";try{return new Date(e).toLocaleDateString()}catch(xJ){return e}}formatTime(e){if(!e)return"-";try{return new Date(e).toLocaleTimeString()}catch(xJ){return e}}getSearchTerms(e){const t=[];return e.lotNoSearch.trim()&&t.push(e.lotNoSearch.trim()),e.itemNoSearch.trim()&&t.push(e.itemNoSearch.trim()),t}},$2=({selectedLot:e,onLotSelect:t,disabled:r=!1,placeholder:n="Enter lot number (min 3 characters)...",className:a=""})=>{const[s,i]=ee.useState(R2),o=ee.useRef(),d=ee.useRef(null),u=ee.useRef(!0);ee.useEffect(()=>{e&&s.input!==e.lotno&&i(t=>c(l({},t),{input:e.lotno}))},[e]),ee.useEffect(()=>{if(o.current&&clearTimeout(o.current),!u.current||!e||s.input!==e.lotno)return s.input.trim().length>=3?o.current=setTimeout(()=>{m(s.input.trim())},500):i(e=>c(l({},e),{results:[],showDropdown:!1,error:null})),()=>{o.current&&clearTimeout(o.current)};u.current=!1},[s.input]),ee.useEffect(()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&i(e=>c(l({},e),{showDropdown:!1}))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const m=e=>h(void 0,null,function*(){i(e=>c(l({},e),{isSearching:!0,error:null}));try{const t=yield F2.searchLot(e);t.success&&t.data?i(e=>c(l({},e),{results:t.data||[],showDropdown:!0,isSearching:!1})):i(e=>c(l({},e),{error:t.error||"Search failed",results:[],showDropdown:!1,isSearching:!1}))}catch(t){i(e=>c(l({},e),{error:"Search failed",results:[],showDropdown:!1,isSearching:!1}))}});return de.jsxs("div",{className:`relative ${a}`,children:[de.jsxs("div",{className:"relative",children:[de.jsx("input",{type:"text",value:s.input,onChange:e=>{const t=e.target.value;i(e=>c(l({},e),{input:t,error:null}))},onFocus:()=>{s.results.length>0&&i(e=>c(l({},e),{showDropdown:!0}))},disabled:r,placeholder:n,className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors"}),de.jsx(dg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.isSearching&&de.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:de.jsx(Wf,{className:"h-5 w-5 text-orange-500 animate-spin"})})]}),s.showDropdown&&s.results.length>0&&de.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-80 overflow-auto",children:s.results.map(e=>de.jsxs("button",{onClick:()=>(e=>{i(t=>c(l({},t),{input:e.lotno,results:[],showDropdown:!1,error:null})),t(e)})(e),className:"w-full p-4 text-left hover:bg-orange-50 border-b border-gray-100 last:border-b-0 transition-colors",children:[de.jsx("div",{className:"mb-3",children:de.jsx("div",{className:"font-bold text-lg text-gray-900",children:e.lotno})}),de.jsxs("div",{className:"space-y-2 grid grid-cols-2 text-sm",children:[de.jsxs("div",{children:[de.jsx("span",{className:"font-medium text-gray-600",children:"Item No:"}),de.jsx("div",{className:"text-gray-900 font-mono bg-gray-50 px-2 py-1 rounded mt-1",children:e.itemno})]}),de.jsxs("div",{children:[de.jsx("span",{className:"font-medium text-gray-600",children:"Model:"}),de.jsxs("div",{className:"text-gray-900 font-semibold mt-1 truncate",children:[e.model," -  ",e.version]})]})]})]},e.id))}),s.error&&de.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-red-600 text-sm",children:[de.jsx(Wp,{className:"h-4 w-4 flex-shrink-0"}),de.jsx("span",{children:s.error})]}),s.results.length>0&&s.showDropdown&&de.jsx("div",{className:"absolute z-10 w-full bg-gray-50 border-l border-r border-b border-gray-300 rounded-b-lg px-3 py-1",children:de.jsxs("div",{className:"text-xs text-gray-600",children:[s.results.length," lot",1!==s.results.length?"s":""," found"]})})]})},B2=({isOpen:e,onClose:t,onLotSelect:r,selectedLot:n})=>{const[a,s]=ee.useState({lots:[],loading:!1,error:null,filters:c(l({},L2),{finishDateFrom:"",finishDateTo:""})}),[i,o]=ee.useState(null);ee.useEffect(()=>{e&&(d(),u())},[e]);const d=()=>h(void 0,null,function*(){s(e=>c(l({},e),{loading:!0,error:null}));try{console.log(" Loading lots from inf_lotinput database...");const e=yield F2.getRecentLots(100);e.success&&e.data?(console.log(" Database loaded:",e.data.length,"lots found"),s(t=>c(l({},t),{lots:e.data,loading:!1,error:null}))):(console.error(" Database load failed:",e.error),s(t=>c(l({},t),{loading:!1,error:e.error||"Failed to load lots from database"})))}catch(e){console.error(" Database load exception:",e),s(e=>c(l({},e),{loading:!1,error:"Network error: Could not connect to database"}))}}),u=()=>h(void 0,null,function*(){try{console.log(" Loading database statistics...");const e=yield F2.getStatistics();e.success&&e.data&&(console.log(" Database statistics:",e.data),o(e.data))}catch(e){console.warn(" Could not load database statistics:",e)}}),m=(e,t)=>{s(r=>c(l({},r),{filters:c(l({},r.filters),{[e]:t})}))},f=()=>{console.log(" Manual database refresh requested"),d()},p=(e,t)=>{if(!t||!e)return de.jsx("span",{children:e});const r=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"),n=e.split(r);return de.jsx("span",{children:n.map((e,t)=>r.test(e)?de.jsx("mark",{className:"bg-yellow-200 text-yellow-900 font-semibold px-0.5 rounded",children:e},t):de.jsx("span",{children:e},t))})},g=ee.useMemo(()=>a.lots.length?a.lots.filter(e=>{const t=a.filters.search.toLowerCase(),r=a.filters.partsite.toLowerCase(),n=a.filters.model.toLowerCase(),s=a.filters.lineno.toLowerCase(),i=t&&(e.lotno.toLowerCase().includes(t)||e.itemno.toLowerCase().includes(t)||e.partsite.toLowerCase().includes(t)||e.model.toLowerCase().includes(t)||e.version.toLowerCase().includes(t)||e.lineno.toLowerCase().includes(t)),o=new Date(e.finish_on),l=a.filters.finishDateFrom?new Date(a.filters.finishDateFrom):null,c=a.filters.finishDateTo?new Date(a.filters.finishDateTo):null,d=!l||o>=l,u=!c||o<=c;return(!t||i)&&(!r||e.partsite.toLowerCase().includes(r))&&(!n||e.model.toLowerCase().includes(n))&&(!s||e.lineno.toLowerCase().includes(s))&&d&&u}):[],[a.lots,a.filters]),x=Object.values(a.filters).some(e=>""!==e.trim()),b=e=>{switch(e){case"active":return"border-green-300 bg-green-50";case"completed":return"border-blue-300 bg-blue-50";case"pending":return"border-yellow-300 bg-yellow-50";default:return"border-gray-300 bg-white"}};return e?de.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50",children:de.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:de.jsxs("div",{className:"relative w-full max-w-6xl bg-white rounded-lg shadow-xl max-h-[90vh] flex flex-col",children:[de.jsx("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50",children:de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx(Pg,{className:"h-5 w-5 text-green-500"}),de.jsx("span",{className:"text-sm font-medium text-green-700",children:"Live Database"})]}),de.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:de.jsx(rx,{className:"h-6 w-6"})})]})}),de.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:de.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:de.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Global Search",de.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Searches: Lot No, Item No, Part Site, Model, Version, Line No)"})]}),de.jsxs("div",{className:"relative",children:[de.jsx(dg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),de.jsx("input",{type:"text",value:a.filters.search,onChange:e=>m("search",e.target.value),placeholder:"Search across Lot No, Item No, Part Site, Model, Version, Line No...",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-lg"}),a.filters.search&&de.jsx("button",{onClick:()=>m("search",""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-6 w-6 text-gray-400 hover:text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center",title:"Clear search",children:de.jsx(rx,{className:"h-4 w-4"})})]}),a.filters.search&&de.jsx("div",{className:"mt-1 text-xs text-orange-600",children:"Searching in: Lot Number, Item Number, Part Site, Model, Version, Line Number"})]})})}),de.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.loading?de.jsxs("div",{className:"text-center py-12",children:[de.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),de.jsx("p",{className:"text-gray-600",children:"Loading lots from database..."})]}):a.error?de.jsxs("div",{className:"text-center py-12",children:[de.jsx(Wp,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),de.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Database Error"}),de.jsx("p",{className:"text-red-600 mb-4",children:a.error}),de.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Retry Database Connection"})]}):0===g.length?de.jsxs("div",{className:"text-center py-12",children:[de.jsx(Op,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),de.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Lots Found"}),de.jsx("p",{className:"text-gray-600 mb-4",children:x?"No lots match your search criteria. Try adjusting your filters.":"No production lots found in the database."}),x&&de.jsx("button",{onClick:()=>{s(e=>c(l({},e),{filters:c(l({},L2),{finishDateFrom:"",finishDateTo:""})})),d()},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Clear All Filters"})]}):de.jsxs("div",{children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx(hp,{className:"h-5 w-5 text-blue-500"}),de.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Production Lots"}),de.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-sm rounded-full",children:g.length}),a.filters.search&&de.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:['Search: "',a.filters.search,'"']})]}),de.jsxs("button",{onClick:f,disabled:a.loading,className:"flex items-center space-x-1 px-3 py-1 text-sm text-gray-600 hover:text-gray-700 disabled:opacity-50",children:[de.jsx(Wf,{className:"h-4 w-4"}),de.jsx("span",{children:"Refresh"})]})]}),de.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(e=>de.jsxs("button",{onClick:()=>(e=>{console.log(" Lot selected from database:",e.lotno,"-",e.model),r(e),t()})(e),className:`\n                        relative p-4 border-2 rounded-lg text-left transition-all duration-200 hover:shadow-md\n                        ${(null==n?void 0:n.id)===e.id?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":b(e.status)}\n                      `,children:[de.jsxs("div",{className:"flex items-center justify-between mb-3",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx(Op,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),de.jsx("span",{className:"font-bold text-gray-900 truncate text-lg",children:p(e.lotno,a.filters.search)})]}),(null==n?void 0:n.id)===e.id&&de.jsx(fp,{className:"h-5 w-5 text-blue-500 flex-shrink-0"})]}),de.jsxs("div",{className:"space-y-3 text-sm grid grid-cols-2 gap-2",children:[de.jsxs("div",{className:"p-2 bg-gray-50 rounded border",children:[de.jsx("div",{className:"text-xs font-medium text-gray-600 mb-1",children:"Item Number"}),de.jsx("div",{className:"font-mono font-semibold text-gray-900",children:p(e.itemno,a.filters.search)})]}),de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx(rp,{className:"h-4 w-4 flex-shrink-0 text-orange-500"}),de.jsxs("div",{className:"flex-1",children:[de.jsx("div",{className:"text-xs text-gray-600",children:"Part Site"}),de.jsx("div",{className:"font-semibold text-orange-700",children:p(e.partsite,a.filters.search)})]})]}),de.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[de.jsxs("div",{className:"flex items-center space-x-1",children:[de.jsx(Pp,{className:"h-4 w-4 flex-shrink-0 text-purple-500"}),de.jsxs("div",{className:"flex-1 min-w-0",children:[de.jsx("div",{className:"text-xs text-gray-600",children:"Model"}),de.jsx("div",{className:"font-semibold text-gray-900 truncate",children:p(e.model,a.filters.search)})]})]}),de.jsxs("div",{className:"flex items-center space-x-1",children:[de.jsx(Rg,{className:"h-4 w-4 flex-shrink-0 text-green-500"}),de.jsxs("div",{className:"flex-1 min-w-0",children:[de.jsx("div",{className:"text-xs text-gray-600",children:"Version"}),de.jsx("div",{className:"font-semibold text-gray-900 truncate",children:p(e.version,a.filters.search)})]})]})]}),de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx(Rg,{className:"h-4 w-4 flex-shrink-0 text-blue-500"}),de.jsxs("div",{className:"flex-1",children:[de.jsx("div",{className:"text-xs text-gray-600",children:"Line Number"}),de.jsx("div",{className:"font-medium text-gray-900",children:p(e.lineno,a.filters.search)})]})]})]})]},e.id))})]})}),de.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center",children:[de.jsx("div",{className:"text-sm text-gray-600",children:n?`Selected: ${n.lotno} (${n.model}) from database`:"No lot selected"}),de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsxs("button",{onClick:f,disabled:a.loading,className:"flex items-center space-x-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:bg-gray-200 transition-colors",children:[de.jsx(Wf,{className:"h-4 w-4"}),de.jsx("span",{children:"Refresh Database"})]}),de.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Close"})]})]})]})})}):null},U2=ee.memo(({selectedLot:e,onLotSelect:t,disabled:r=!1,className:n="",samplingRound:a=1})=>{const[s,i]=ee.useState(!1),o=ee.useCallback(e=>{t(e)},[t]),l=ee.useCallback(e=>{t(e),i(!1)},[t]),c=ee.useCallback(()=>{i(!0)},[]);return de.jsxs("div",{className:`space-y-4 ${n}`,children:[de.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[de.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[de.jsx(Op,{className:"h-5 w-5 mr-2 text-orange-500"}),"Lot Selection"]}),de.jsx("div",{className:"space-y-6",children:de.jsxs("div",{className:"flex gap-3",children:[de.jsx("div",{className:"flex-1",children:de.jsx($2,{selectedLot:e,onLotSelect:o,disabled:r,placeholder:"Enter lot number (min 3 characters)...",className:"w-full"})}),de.jsx("div",{className:"flex-shrink-0",children:de.jsxs("button",{onClick:c,disabled:r,className:"h-12 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-4 rounded-lg font-medium transition-colors flex items-center space-x-2 group whitespace-nowrap",children:[de.jsx(ig,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),de.jsx("span",{children:"Browse Lots"})]})})]})}),e&&de.jsxs("div",{className:"mt-6 p-6 bg-green-50 border border-green-200 rounded-lg",children:[de.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[de.jsx(fp,{className:"h-6 w-6 text-green-600"}),de.jsx("span",{className:"font-semibold text-green-800 text-lg",children:"Selected Lot Information"})]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-2",children:[de.jsxs("div",{className:"mb-2 p-3 bg-white  rounded-lg border border-green-200",children:[de.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Lot Number"}),de.jsx("div",{className:"text-2xl font-bold text-gray-900 font-mono tracking-wide",children:e.lotno})]}),de.jsxs("div",{className:"mb-2 p-3 bg-black rounded-lg border border-green-200",children:[de.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Sampling Round"}),de.jsx("div",{className:"text-2xl font-bold text-white font-mono",children:a})]}),de.jsxs("div",{className:"p-3 bg-white rounded-lg border border-green-200",children:[de.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Item Number"}),de.jsx("div",{className:"text-lg font-semibold text-gray-900 font-mono bg-gray-50 px-2 py-1 rounded",children:e.itemno})]}),de.jsxs("div",{className:"p-3 bg-white rounded-lg border border-green-200",children:[de.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Part Site"}),de.jsx("div",{className:"text-lg font-bold text-orange-700",children:e.partsite})]}),de.jsxs("div",{className:"p-3 bg-white rounded-lg border border-green-200",children:[de.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Model"}),de.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[e.model," (",e.version,")"]})]}),de.jsxs("div",{className:"p-3 bg-white rounded-lg border border-green-200",children:[de.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"MC Line No."}),de.jsx("div",{className:"text-lg font-semibold text-gray-900",children:e.lineno})]})]}),e.status&&de.jsx("div",{className:"mt-4 flex justify-end",children:de.jsxs("span",{className:"px-4 py-2 text-sm font-medium rounded-full "+("active"===e.status?"bg-green-100 text-green-800":"completed"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:["Status: ",e.status]})})]})]}),de.jsx(B2,{isOpen:s,onClose:()=>i(!1),onLotSelect:l,selectedLot:e})]})});U2.displayName="LotSelection";const z2={fviLotQty:2800,generalSamplingQty:140,crackSamplingQty:7,round:1},V2={fviLotQtyOptions:[],generalSamplingOptions:[],crackSamplingOptions:[]},W2={fviLotQty:{min:1,max:999999,step:1},generalSamplingQty:{min:0,max:99999,step:1},crackSamplingQty:{min:0,max:99999,step:1},round:{min:1,max:20,step:1}},q2=Array.from({length:20},(e,t)=>t+1),H2=e=>e&&""!==e.trim()?e.split(",").map(e=>e.trim()).filter(e=>""!==e).map(e=>parseInt(e,10)).filter(e=>!isNaN(e)).sort((e,t)=>e-t):[],Q2=(e,t,r)=>{const n=(e=>{var t,r,n,a,s,i;return e?{id:e.id,fviLotQtyOptions:H2(e.fvi_lot_qty),generalOQAOptions:H2(e.general_oqa_qty),crackOQAOptions:H2(e.crack_oqa_qty),generalSIVOptions:H2(e.general_siv_qty),crackSIVOptions:H2(e.crack_siv_qty),defectTypeOptions:(null==(t=e.defect_type)?void 0:t.split(",").map(e=>e.trim()).filter(e=>e))||[],shiftOptions:(null==(r=e.shift)?void 0:r.split(",").map(e=>e.trim()).filter(e=>e))||[],siteOptions:(null==(n=e.site)?void 0:n.split(",").map(e=>e.trim()).filter(e=>e))||[],tabsOptions:(null==(a=e.tabs)?void 0:a.split(",").map(e=>e.trim()).filter(e=>e))||[],productTypeOptions:(null==(s=e.product_type)?void 0:s.split(",").map(e=>e.trim()).filter(e=>e))||[],productFamiliesOptions:(null==(i=e.product_families)?void 0:i.split(",").map(e=>e.trim()).filter(e=>e))||[]}:null})(e);let a=[];switch(t){case"fviLotQty":a=(null==n?void 0:n.fviLotQtyOptions.length)?n.fviLotQtyOptions:V2.fviLotQtyOptions;break;case"generalSamplingQty":"SIV"===r?(a=(null==n?void 0:n.generalSIVOptions.length)?n.generalSIVOptions:V2.generalSamplingOptions,console.log(" getFieldOptions(generalSamplingQty, SIV):",a,"from generalSIVOptions:",null==n?void 0:n.generalSIVOptions)):(a=(null==n?void 0:n.generalOQAOptions.length)?n.generalOQAOptions:V2.generalSamplingOptions,console.log(` getFieldOptions(generalSamplingQty, ${r||"OQA"}):`,a,"from generalOQAOptions:",null==n?void 0:n.generalOQAOptions));break;case"crackSamplingQty":"SIV"===r?(a=(null==n?void 0:n.crackSIVOptions.length)?n.crackSIVOptions:V2.crackSamplingOptions,console.log(" getFieldOptions(crackSamplingQty, SIV):",a,"from crackSIVOptions:",null==n?void 0:n.crackSIVOptions)):(a=(null==n?void 0:n.crackOQAOptions.length)?n.crackOQAOptions:V2.crackSamplingOptions,console.log(` getFieldOptions(crackSamplingQty, ${r||"OQA"}):`,a,"from crackOQAOptions:",null==n?void 0:n.crackOQAOptions));break;case"round":a=q2;break;default:a=[]}return a},G2=e=>{const t=[],r=[];e.fviLotQty<W2.fviLotQty.min&&t.push({field:"fviLotQty",message:`FVI Lot Quantity must be at least ${W2.fviLotQty.min}`,type:"min"}),e.fviLotQty>W2.fviLotQty.max&&t.push({field:"fviLotQty",message:`FVI Lot Quantity cannot exceed ${W2.fviLotQty.max}`,type:"max"}),e.generalSamplingQty<W2.generalSamplingQty.min&&t.push({field:"generalSamplingQty",message:"General Sampling Quantity cannot be negative",type:"min"}),e.generalSamplingQty>W2.generalSamplingQty.max&&t.push({field:"generalSamplingQty",message:`General Sampling Quantity cannot exceed ${W2.generalSamplingQty.max}`,type:"max"}),e.crackSamplingQty<W2.crackSamplingQty.min&&t.push({field:"crackSamplingQty",message:"Crack Sampling Quantity cannot be negative",type:"min"}),e.crackSamplingQty>W2.crackSamplingQty.max&&t.push({field:"crackSamplingQty",message:`Crack Sampling Quantity cannot exceed ${W2.crackSamplingQty.max}`,type:"max"}),e.round<W2.round.min&&t.push({field:"round",message:`Round must be at least ${W2.round.min}`,type:"min"}),e.round>W2.round.max&&t.push({field:"round",message:`Round cannot exceed ${W2.round.max}`,type:"max"}),e.generalSamplingQty>e.fviLotQty&&r.push({field:"generalSamplingQty",message:"General sampling quantity is larger than FVI lot quantity",type:"unusual"}),e.crackSamplingQty>e.generalSamplingQty&&e.generalSamplingQty>0&&r.push({field:"crackSamplingQty",message:"Crack sampling quantity is larger than general sampling quantity",type:"unusual"});return(e.fviLotQty>0?e.generalSamplingQty/e.fviLotQty:0)>.2&&r.push({field:"generalSamplingQty",message:"Sampling ratio is quite high (>20%), consider reducing for efficiency",type:"inefficient"}),{isValid:0===t.length,errors:t,warnings:r}},Y2=({label:e,value:t,options:r,onChange:n,disabled:a=!1,showCustomInput:s=!0,min:i,max:o,step:l=1,placeholder:c,helperText:d,required:u=!1,fieldType:h,configContext:m})=>{const[f,p]=ee.useState(!1),g=(e=>{switch(e){case"fviLotQty":return Op;case"generalSamplingQty":return hp;case"crackSamplingQty":return Wp;case"round":return Wf;default:return ap}})(h),x=W2[h],b=null!=i?i:x.min,v=null!=o?o:x.max,y=null!=l?l:x.step,w=e=>{if("custom"===e)p(!0);else{const t=parseInt(e);isNaN(t)||(n(t),p(!1))}},j=(e=>{switch(e){case"fviLotQty":return{bg:"from-purple-50 to-pink-50",border:"border-purple-200",selectedBg:"bg-purple-600",selectedText:"text-white",unselectedBg:"bg-white",unselectedText:"text-purple-600",unselectedBorder:"border-purple-200",unselectedHover:"hover:bg-purple-50",icon:"text-purple-600",display:"text-purple-600"};case"generalSamplingQty":return{bg:"from-blue-50 to-indigo-50",border:"border-blue-200",selectedBg:"bg-blue-600",selectedText:"text-white",unselectedBg:"bg-white",unselectedText:"text-blue-600",unselectedBorder:"border-blue-200",unselectedHover:"hover:bg-blue-50",icon:"text-blue-600",display:"text-blue-600"};case"crackSamplingQty":return{bg:"from-teal-50 to-cyan-50",border:"border-teal-200",selectedBg:"bg-teal-600",selectedText:"text-white",unselectedBg:"bg-white",unselectedText:"text-teal-600",unselectedBorder:"border-teal-200",unselectedHover:"hover:bg-teal-50",icon:"text-teal-600",display:"text-teal-600"};default:return{bg:"from-gray-50 to-orange-50",border:"border-orange-200",selectedBg:"bg-orange-600",selectedText:"text-white",unselectedBg:"bg-white",unselectedText:"text-orange-600",unselectedBorder:"border-orange-200",unselectedHover:"hover:bg-orange-50",icon:"text-orange-600",display:"text-orange-600"}}})(h),N=()=>{if(!m)return null;switch(h){case"generalSamplingQty":if(m.fviLotQty>0){return`${(t/m.fviLotQty*100).toFixed(2)}% of FVI Lot`}break;case"crackSamplingQty":if(m.generalSamplingQty>0){return`${(t/m.generalSamplingQty*100).toFixed(2)}% of General`}}return null};return de.jsxs("div",{className:`bg-gradient-to-br ${j.bg} rounded-xl border ${j.border} p-6`,children:[e&&de.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[de.jsx(g,{className:`h-6 w-6 ${j.icon}`}),de.jsxs("h3",{className:`text-lg font-bold ${j.icon.replace("text-","text-").replace("-600","-800")}`,children:[e,u&&de.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[r.map(e=>de.jsx("button",{onClick:()=>w(e.toString()),disabled:a,className:`px-3 py-2 rounded-lg font-medium transition-all duration-200 text-sm ${t!==e||f?`${j.unselectedBg} ${j.unselectedText} border ${j.unselectedBorder} ${j.unselectedHover}`:`${j.selectedBg} ${j.selectedText} shadow-lg`} disabled:opacity-50 disabled:cursor-not-allowed`,children:(null!=e?e:0).toLocaleString()},e)),s&&de.jsx("button",{onClick:()=>w("custom"),disabled:a,className:`px-3 py-2 rounded-lg font-medium transition-all duration-200 text-sm ${f?`${j.selectedBg} ${j.selectedText} shadow-lg`:`${j.unselectedBg} ${j.unselectedText} border ${j.unselectedBorder} ${j.unselectedHover}`} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Custom"})]}),f&&s&&de.jsxs("div",{className:`bg-white rounded-lg p-3 border ${j.border}`,children:[de.jsx("label",{className:"block text-xs font-semibold text-gray-800 mb-2",children:"Custom Quantity"}),de.jsxs("div",{className:"flex space-x-2",children:[de.jsx("input",{type:"number",min:b,max:v,step:y,value:t,onChange:e=>{const t=parseInt(e.target.value);isNaN(t)||n(t)},placeholder:c||"Enter...",disabled:a,className:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"}),de.jsx("button",{onClick:()=>p(!1),disabled:a,className:`${j.selectedBg} hover:opacity-90 text-white px-3 py-1 rounded-md transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed`,children:"Set"})]})]}),de.jsx("div",{className:`bg-white rounded-lg p-3 border ${j.border}`,children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:"Selected:"}),de.jsxs("div",{className:"text-right",children:[de.jsx("span",{className:`text-xl font-bold ${j.display}`,children:(null!=t?t:0).toLocaleString()}),N()&&de.jsx("div",{className:"text-xs text-gray-600 mt-1",children:N()})]})]})})]})]})},K2=ee.memo(({config:e,sysConfig:t,onChange:r,disabled:n=!1,className:a="",layout:s="grid",showLabels:i=!0,showCustomInput:o=!0,allowRoundSelection:d=!0,maxRounds:u=10,station:m="OQA",disableFviLotQty:f=!1})=>{const[p,g]=ee.useState({config:e,sysConfig:t,loading:!t,error:null,showCustomInputs:{fviLotQty:!1,generalSamplingQty:!1,crackSamplingQty:!1},validation:G2(e)});ee.useEffect(()=>{p.sysConfig||p.loading||x()},[]),ee.useEffect(()=>{const t=G2(e);g(r=>c(l({},r),{config:e,validation:t}))},[e]);const x=()=>h(void 0,null,function*(){g(e=>c(l({},e),{loading:!0,error:null}));try{const e=yield cx.getSysconfig(),t={id:e.id,fvi_lot_qty:e.fvi_lot_qty,general_oqa_qty:e.general_oqa_qty,crack_oqa_qty:e.crack_oqa_qty,general_siv_qty:e.general_siv_qty,crack_siv_qty:e.crack_siv_qty,defect_type:e.defect_type,shift:e.shift,site:e.site,grps:e.grps,zones:e.zones,systemversion:e.systemversion,systemupdated:e.systemupdated,created_at:new Date,updated_at:new Date};g(e=>c(l({},e),{sysConfig:t,loading:!1}))}catch(e){console.error("Failed to load sysconfig:",e),g(t=>c(l({},t),{error:e instanceof Error?e.message:"Failed to load system configuration",loading:!1}))}}),b=ee.useCallback((t,n)=>{const a=c(l({},e),{[t]:n});r(a)},[e,r]),v=ee.useCallback(()=>{x()},[]),y=ee.useMemo(()=>"grid grid-cols-1 lg:grid-cols-3 gap-6",[s]);return ee.useMemo(()=>p.sysConfig?{fviLotQty:Q2(p.sysConfig,"fviLotQty"),generalSamplingQty:Q2(p.sysConfig,"generalSamplingQty",m),crackSamplingQty:Q2(p.sysConfig,"crackSamplingQty",m)}:null,[p.sysConfig,m]),p.loading?de.jsx("div",{className:`bg-white rounded-lg shadow-md p-6 ${a}`,children:de.jsx("div",{className:"flex items-center justify-center py-8",children:de.jsxs("div",{className:"text-center",children:[de.jsx(Wf,{className:"h-8 w-8 text-orange-500 animate-spin mx-auto mb-4"}),de.jsx("p",{className:"text-gray-600",children:"Loading configuration..."})]})})}):p.error&&!p.sysConfig?de.jsx("div",{className:`bg-white rounded-lg shadow-md p-6 ${a}`,children:de.jsxs("div",{className:"text-center py-8",children:[de.jsx(Wp,{className:"h-8 w-8 text-red-500 mx-auto mb-4"}),de.jsx("p",{className:"text-red-600 mb-4",children:p.error}),de.jsx("button",{onClick:v,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"Try Again"})]})}):de.jsx("div",{className:`space-y-6 ${a}`,children:de.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx(Ap,{className:"h-5 w-5 text-orange-500"}),de.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Sampling Configuration"})]}),de.jsxs("div",{className:"flex items-center space-x-3",children:[p.error&&de.jsxs("div",{className:"flex items-center space-x-2 text-amber-600",children:[de.jsx(Wp,{className:"h-4 w-4"}),de.jsx("span",{className:"text-sm",children:"Fallback mode"})]}),p.validation.isValid&&de.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[de.jsx(fp,{className:"h-4 w-4"}),de.jsx("span",{className:"text-sm",children:"Valid configuration"})]}),!p.validation.isValid&&de.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[de.jsx(Wp,{className:"h-4 w-4"}),de.jsx("span",{className:"text-sm",children:"Configuration errors"})]})]})]}),de.jsxs("div",{className:y,children:[de.jsx(Y2,{label:i?"FVI Lot Quantity":void 0,value:e.fviLotQty,options:Q2(p.sysConfig,"fviLotQty",m),onChange:e=>b("fviLotQty",e),disabled:n||f,showCustomInput:o,fieldType:"fviLotQty",min:1,max:1e4,placeholder:"Enter FVI lot quantity...",helperText:"Total quantity in the FVI lot",required:!0,configContext:e}),de.jsx(Y2,{label:i?"General Sampling Qty":void 0,value:e.generalSamplingQty,options:Q2(p.sysConfig,"generalSamplingQty",m),onChange:e=>b("generalSamplingQty",e),disabled:n,showCustomInput:o,fieldType:"generalSamplingQty",min:1,max:1e3,placeholder:"Enter general sampling quantity...",helperText:"Standard inspection sampling quantity",required:!0,configContext:e}),de.jsx(Y2,{label:i?"Crack Sampling Qty":void 0,value:e.crackSamplingQty,options:Q2(p.sysConfig,"crackSamplingQty",m),onChange:e=>b("crackSamplingQty",e),disabled:n,showCustomInput:o,fieldType:"crackSamplingQty",min:1,max:100,placeholder:"Enter crack sampling quantity...",helperText:"Crack inspection sampling quantity",required:!0,configContext:e})]}),p.validation.errors.length>0&&de.jsx("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:de.jsxs("div",{className:"flex items-start space-x-2",children:[de.jsx(Wp,{className:"h-5 w-5 text-red-500 mt-0.5"}),de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Configuration Errors"}),de.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:p.validation.errors.map((e,t)=>de.jsx("li",{children:e.message},t))})]})]})}),p.validation.warnings.length>0&&de.jsx("div",{className:"mt-4 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:de.jsxs("div",{className:"flex items-start space-x-2",children:[de.jsx(Wp,{className:"h-5 w-5 text-amber-500 mt-0.5"}),de.jsxs("div",{children:[de.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"Configuration Warnings"}),de.jsx("ul",{className:"mt-2 text-sm text-amber-700 list-disc list-inside",children:p.validation.warnings.map((e,t)=>de.jsx("li",{children:e.message},t))})]})]})})]})})});K2.displayName="SamplingConfiguration";const X2=new class{constructor(){u(this,"baseUrl",Ef("sampling-reasons"))}makeRequest(e){return h(this,arguments,function*(e,t={}){try{console.log(` SamplingReason Service - Making request: ${t.method||"GET"} ${e}`);const r=yield fetch(e,l({headers:l({"Content-Type":"application/json"},t.headers),credentials:"include",cache:"no-store"},t));if(console.log(` SamplingReason Service - Response status: ${r.status} ${r.statusText}`),304===r.status){console.warn(" SamplingReason Service - Got 304, making fresh request");const r=e+(e.includes("?")?"&":"?")+"_fresh="+Math.random().toString(36);return this.makeRequest(r,c(l({},t),{headers:c(l({},t.headers),{"If-None-Match":""})}))}if(!r.ok)return console.error(` SamplingReason Service - HTTP Error: ${r.status} ${r.statusText}`),{success:!1,message:`HTTP ${r.status}: ${r.statusText}`};const n=yield r.json();return console.log(" SamplingReason Service - Response data:",n),n}catch(r){return console.error(" SamplingReason Service - Network error:",r),{success:!1,message:r instanceof Error?r.message:"Network error occurred"}}})}buildQueryString(e){const t=new URLSearchParams;return Object.entries(e).forEach(([e,r])=>{(null!=r&&""!==r||"boolean"==typeof r&&!1===r)&&t.append(e,String(r))}),t.append("_cacheBuster",Math.random().toString(36).substring(2)),t.append("_timestamp",Date.now().toString()),t.toString()}get(){return h(this,arguments,function*(e={}){console.log(" SamplingReason Service - get called with params:",{params:e,isActiveValue:e.isActive,isActiveType:typeof e.isActive});const t=this.buildQueryString(e),r=t?`${this.baseUrl}?${t}`:this.baseUrl;return console.log(" SamplingReason Service - built URL:",r),this.makeRequest(r)})}getByCode(e){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/${e}`)})}create(e){return h(this,null,function*(){return this.makeRequest(this.baseUrl,{method:"POST",body:JSON.stringify(e)})})}update(e,t){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/${e}`,{method:"PUT",body:JSON.stringify(t)})})}delete(e){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/${e}`,{method:"DELETE"})})}toggleStatus(e){return h(this,null,function*(){console.log(` SamplingReason Service - Toggling status for ID: ${e}`);try{const t=yield this.makeRequest(`${this.baseUrl}/${e}/status`,{method:"PATCH"});return console.log(" SamplingReason Service - Toggle response:",t),t}catch(t){throw console.error(" SamplingReason Service - Toggle error:",t),t}})}getActive(){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/utils/active`)})}getStats(){return h(this,null,function*(){console.log(" SamplingReason Service - Getting statistics");const e=yield this.makeRequest(`${this.baseUrl}/statistics`);if(console.log(" SamplingReason Service - Stats response:",e),e.success&&e.data){let t;return console.log(" SamplingReason Service - Raw API data:",e.data),t=e.data.totals?{total:e.data.totals.all||0,active:e.data.totals.active||0,inactive:e.data.totals.inactive||0}:e.data.overview?{total:e.data.overview.total||0,active:e.data.overview.active||0,inactive:e.data.overview.inactive||0}:{total:e.data.total||0,active:e.data.active||0,inactive:e.data.inactive||0},console.log(" SamplingReason Service - Processed stats:",t),{success:!0,data:t,message:e.message||"Statistics retrieved successfully"}}return console.log(" SamplingReason Service - Invalid response structure"),console.log("Expected: { data: { totals: { all, active, inactive } } }"),console.log("Received:",e),{success:!1,data:{total:0,active:0,inactive:0},message:e.message||"Failed to load statistics"}})}validateSamplingReasonName(e,t){return h(this,null,function*(){const r={name:e};t&&(r.excludeCode=t);const n=this.buildQueryString(r);return this.makeRequest(`${this.baseUrl}/validate/name?${n}`)})}getDropdown(){return h(this,null,function*(){try{const e=yield this.getActive();return e.success&&e.data?e.data.map(e=>({value:e.id,label:`${e.id} - ${e.name}`})):[]}catch(e){return[]}})}};const Z2=new class{constructor(){u(this,"baseUrl",Ef("inspectiondata"))}getAll(e){return h(this,null,function*(){var t;try{const r=e?new URLSearchParams(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l({},e.page&&{page:e.page.toString()}),e.limit&&{limit:e.limit.toString()}),e.sort_by&&{sort_by:e.sort_by}),e.sort_order&&{sort_order:e.sort_order}),e.station&&{station:e.station}),e.ww&&{ww:e.ww.toString()}),e.emp_qc_id&&{emp_qc_id:e.emp_qc_id}),e.shift&&{shift:e.shift}),e.line_fvi_no&&{line_fvi_no:e.line_fvi_no}),e.sampling_reason_id&&{sampling_reason_id:e.sampling_reason_id.toString()}),e.lotno&&{lotno:e.lotno}),e.model&&{model:e.model}),void 0!==e.judgment&&{judgment:(null==(t=e.judgment)?void 0:t.toString())||"null"}),e.today&&{today:"true"}),e.yesterday&&{yesterday:"true"}),e.this_week&&{this_week:"true"}),e.this_month&&{this_month:"true"}),e.inspection_date_from&&{inspection_date_from:e.inspection_date_from.toISOString()}),e.inspection_date_to&&{inspection_date_to:e.inspection_date_to.toISOString()}),e.term&&{term:e.term}),e.fields&&{fields:e.fields.join(",")})).toString():"",n=r?`${this.baseUrl}?${r}`:this.baseUrl,a=yield fetch(n,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),s=yield a.json();return a.ok?{success:!0,data:s}:(console.error("Error fetching inspection data:",s),{success:!1,errors:s.errors||[{field:"general",message:s.message||"Failed to fetch inspection data"}]})}catch(r){return console.error("Network error fetching inspection data:",r),{success:!1,errors:[{field:"network",message:r instanceof Error?r.message:"Network error"}]}}})}getAllCustomerData(e){return h(this,null,function*(){var t;try{const r=e?new URLSearchParams(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l(l({},e.page&&{page:e.page.toString()}),e.limit&&{limit:e.limit.toString()}),e.sort_by&&{sort_by:e.sort_by}),e.sort_order&&{sort_order:e.sort_order}),e.station&&{station:e.station}),e.ww&&{ww:e.ww.toString()}),e.emp_qc_id&&{emp_qc_id:e.emp_qc_id}),e.shift&&{shift:e.shift}),e.line_fvi_no&&{line_fvi_no:e.line_fvi_no}),e.sampling_reason_id&&{sampling_reason_id:e.sampling_reason_id.toString()}),e.lotno&&{lotno:e.lotno}),e.model&&{model:e.model}),void 0!==e.judgment&&{judgment:(null==(t=e.judgment)?void 0:t.toString())||"null"}),e.today&&{today:"true"}),e.yesterday&&{yesterday:"true"}),e.this_week&&{this_week:"true"}),e.this_month&&{this_month:"true"}),e.inspection_date_from&&{inspection_date_from:e.inspection_date_from.toISOString()}),e.inspection_date_to&&{inspection_date_to:e.inspection_date_to.toISOString()}),e.term&&{term:e.term}),e.fields&&{fields:e.fields.join(",")})).toString():"",n=r?`${this.baseUrl}/customerdata?${r}`:`${this.baseUrl}/customerdata`,a=yield fetch(n,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),s=yield a.json();return a.ok?{success:!0,data:s}:(console.error("Error fetching inspection data:",s),{success:!1,errors:s.errors||[{field:"general",message:s.message||"Failed to fetch inspection data"}]})}catch(r){return console.error("Network error fetching inspection data:",r),{success:!1,errors:[{field:"network",message:r instanceof Error?r.message:"Network error"}]}}})}getById(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching inspection data by ID:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch inspection data"}]})}catch(t){return console.error("Network error fetching inspection data by ID:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}create(e){return h(this,null,function*(){try{const t=yield fetch(this.baseUrl,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error creating inspection data:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to create inspection data"}]})}catch(t){return console.error("Network error creating inspection data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}update(e,t){return h(this,null,function*(){try{const r=yield fetch(`${this.baseUrl}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),n=yield r.json();return r.ok?{success:!0,data:n.data,message:n.message}:(console.error("Error updating inspection data:",n),{success:!1,errors:n.errors||[{field:"general",message:n.message||"Failed to update inspection data"}]})}catch(r){return console.error("Network error updating inspection data:",r),{success:!1,errors:[{field:"network",message:r instanceof Error?r.message:"Network error"}]}}})}delete(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,message:r.message}:(console.error("Error deleting inspection data:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to delete inspection data"}]})}catch(t){return console.error("Network error deleting inspection data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getByLotNumber(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/lot/${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching inspection data by lot number:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch inspection data"}]})}catch(t){return console.error("Network error fetching inspection data by lot number:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getTodayInspections(e){return h(this,null,function*(){try{const t=e?`${this.baseUrl}/today?station=${encodeURIComponent(e)}`:`${this.baseUrl}/today`,r=yield fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),n=yield r.json();return r.ok?{success:!0,data:n.data,message:n.message}:(console.error("Error fetching today's inspections:",n),{success:!1,errors:n.errors||[{field:"general",message:n.message||"Failed to fetch today's inspections"}]})}catch(t){return console.error("Network error fetching today's inspections:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getNextSamplingRound(e,t){return h(this,null,function*(){try{const r=yield fetch(`${this.baseUrl}/sampling-round?station=${encodeURIComponent(e)}&lotno=${encodeURIComponent(t)}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),n=yield r.json();return r.ok?{success:!0,data:n.data||{nextRound:1},message:n.message}:(console.error("Error fetching sampling round:",n),{success:!1,errors:n.errors||[{field:"general",message:n.message||"Failed to fetch sampling round"}]})}catch(r){return console.error("Network error fetching sampling round:",r),{success:!0,data:{nextRound:1}}}})}generateInspectionNumber(e,t,r){return h(this,null,function*(){try{const n=yield fetch(`${this.baseUrl}/generate-inspection-number?station=${encodeURIComponent(e)}&date=${encodeURIComponent(t)}&ww=${encodeURIComponent(r)}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),a=yield n.json();return n.ok?{success:!0,data:a.data,message:a.message}:(console.error("Error generating inspection number:",a),{success:!1,errors:a.errors||[{field:"general",message:a.message||"Failed to generate inspection number"}]})}catch(n){console.error("Network error generating inspection number:",n);const t=new Date,r=t.getFullYear().toString().slice(-2),a=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),i=Date.now().toString().slice(-4);return{success:!0,data:{inspectionNo:`${e}${r}${a}${s}-${i}`}}}})}getPendingJudgments(){return h(this,null,function*(){try{const e=yield fetch(`${this.baseUrl}/pending`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=yield e.json();return e.ok?{success:!0,data:t.data,message:t.message}:(console.error("Error fetching pending judgments:",t),{success:!1,errors:t.errors||[{field:"general",message:t.message||"Failed to fetch pending judgments"}]})}catch(e){return console.error("Network error fetching pending judgments:",e),{success:!1,errors:[{field:"network",message:e instanceof Error?e.message:"Network error"}]}}})}updateJudgment(e,t){return h(this,null,function*(){try{const r=yield fetch(`${this.baseUrl}/${e}/judgment`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({judgment:t})}),n=yield r.json();return r.ok?{success:!0,data:n.data,message:n.message}:(console.error("Error updating inspection judgment:",n),{success:!1,errors:n.errors||[{field:"general",message:n.message||"Failed to update judgment"}]})}catch(r){return console.error("Network error updating inspection judgment:",r),{success:!1,errors:[{field:"network",message:r instanceof Error?r.message:"Network error"}]}}})}bulkUpdateJudgments(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/bulk-judgment`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({updates:e})}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error bulk updating judgments:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to bulk update judgments"}]})}catch(t){return console.error("Network error bulk updating judgments:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}createOQAInspection(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/oqa`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error creating OQA inspection:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to create OQA inspection"}]})}catch(t){return console.error("Network error creating OQA inspection:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getOQARecommendations(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/oqa/recommendations/${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching OQA recommendations:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch OQA recommendations"}]})}catch(t){return console.error("Network error fetching OQA recommendations:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}createSIV(e){return h(this,null,function*(){try{console.log(" Creating SIV from inspection:",e);const t=yield fetch(`${this.baseUrl}/${e}/create-siv`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});console.log(" Response status:",t.status),console.log(" Response content-type:",t.headers.get("content-type"));const r=t.headers.get("content-type");if(!r||!r.includes("application/json")){const e=yield t.text();console.error(" Received non-JSON response:",e.substring(0,200));return{success:!1,errors:[{field:"general",message:401===t.status?"Authentication required. Please log in again.":`Server error (${t.status}). The server returned an unexpected response.`}]}}const n=yield t.json();return console.log(" API result:",n),t.ok?(console.log(" SIV inspection created successfully:",n.data),{success:!0,data:n.data,message:n.message||"SIV inspection created successfully"}):(console.error("Error creating SIV inspection:",n),{success:!1,errors:n.errors||[{field:"general",message:n.message||"Failed to create SIV inspection"}]})}catch(t){return console.error("Network error creating SIV inspection:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getStatistics(){return h(this,null,function*(){try{const e=yield fetch(`${this.baseUrl}/statistics`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=yield e.json();return e.ok?{success:!0,data:t.data,message:t.message}:(console.error("Error fetching inspection statistics:",t),{success:!1,errors:t.errors||[{field:"general",message:t.message||"Failed to fetch statistics"}]})}catch(e){return console.error("Network error fetching inspection statistics:",e),{success:!1,errors:[{field:"network",message:e instanceof Error?e.message:"Network error"}]}}})}getInspectionTrends(e=7){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/trends?days=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching inspection trends:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch trends"}]})}catch(t){return console.error("Network error fetching inspection trends:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getSummaryReport(e){return h(this,null,function*(){try{const t=e?new URLSearchParams(l(l(l(l(l({},e.station&&{station:e.station}),e.shift&&{shift:e.shift}),e.model&&{model:e.model}),e.inspection_date_from&&{date_from:e.inspection_date_from.toISOString()}),e.inspection_date_to&&{date_to:e.inspection_date_to.toISOString()})).toString():"",r=t?`${this.baseUrl}/summary?${t}`:`${this.baseUrl}/summary`,n=yield fetch(r,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),a=yield n.json();return n.ok?{success:!0,data:a.data,message:a.message}:(console.error("Error generating summary report:",a),{success:!1,errors:a.errors||[{field:"general",message:a.message||"Failed to generate summary report"}]})}catch(t){return console.error("Network error generating summary report:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}search(e){return h(this,null,function*(){var t;try{const r=new URLSearchParams(l(l(l(l(l(l(l(l(l({},e.term&&{term:e.term}),e.fields&&{fields:e.fields.join(",")}),e.page&&{page:e.page.toString()}),e.limit&&{limit:e.limit.toString()}),e.station&&{station:e.station}),e.shift&&{shift:e.shift}),e.model&&{model:e.model}),e.lotno&&{lotno:e.lotno}),void 0!==e.judgment&&{judgment:(null==(t=e.judgment)?void 0:t.toString())||"null"})).toString(),n=yield fetch(`${this.baseUrl}/search?${r}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),a=yield n.json();return n.ok?{success:!0,data:a}:(console.error("Error searching inspection data:",a),{success:!1,errors:a.errors||[{field:"general",message:a.message||"Failed to search inspection data"}]})}catch(r){return console.error("Network error searching inspection data:",r),{success:!1,errors:[{field:"network",message:r instanceof Error?r.message:"Network error"}]}}})}validateInspectionData(e){const t=[];return e.lotno&&""!==e.lotno.trim()||t.push("Lot number is required"),e.station&&""!==e.station.trim()||t.push("Station is required"),e.station&&!/^[A-Z]{1,3}$/.test(e.station)&&t.push("Station must be 1-3 uppercase letters (e.g., OQA, FVI)"),e.shift&&!/^[ABC]$/.test(e.shift)&&t.push("Shift must be A, B, or C"),void 0!==e.round&&(e.round<1||e.round>10)&&t.push("Sampling round must be between 1 and 10"),void 0!==e.fvi_lot_qty&&(e.fvi_lot_qty<0||e.fvi_lot_qty>999999)&&t.push("FVI lot quantity must be between 0 and 999,999"),void 0!==e.general_sampling_qty&&(e.general_sampling_qty<0||e.general_sampling_qty>99999)&&t.push("General sampling quantity must be between 0 and 99,999"),void 0!==e.crack_sampling_qty&&(e.crack_sampling_qty<0||e.crack_sampling_qty>99999)&&t.push("Crack sampling quantity must be between 0 and 99,999"),e.lotno&&e.lotno.length>100&&t.push("Lot number cannot exceed 100 characters"),e.model&&e.model.length>100&&t.push("Model cannot exceed 100 characters"),e.itemno&&e.itemno.length>100&&t.push("Item number cannot exceed 100 characters"),e.qc_id&&e.qc_id.toString().length>20&&t.push("Employee QC ID cannot exceed 20 characters"),{valid:0===t.length,errors:t}}formatInspectionData(e){const t=new Date(e.inspection_date).toLocaleString();let r,n;null===e.judgment?(r="Pending",n="yellow"):!0===e.judgment?(r="PASS",n="green"):(r="REJECT",n="red");return{formattedDate:t,formattedJudgment:r,statusColor:n,stationDisplay:e.station||"Unknown"}}getInspectionForOQA(e){return h(this,null,function*(){try{const t=yield this.getByLotNumber(e);if(!t.success||!t.data)return t;const r=t.data,n=r.length<10,a=r.filter(e=>e.round).sort((e,t)=>e.round-t.round),s=a.length>0?Math.max(...a.map(e=>e.round))+1:1,i=a.map(e=>e.judgment).filter(e=>null!==e),o=r.length>0?new Date(Math.max(...r.map(e=>new Date(e.inspection_date).getTime()))):null;return{success:!0,data:{existingInspections:r,canCreateNew:n,recommendations:{suggestedRound:s,previousJudgments:i,lastInspectionDate:o}}}}catch(t){return console.error("Error getting inspection data for OQA:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}getByIdWithDetails(e){return h(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/${e}/details`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok?{success:!0,data:r.data,message:r.message}:(console.error("Error fetching detailed inspection data:",r),{success:!1,errors:r.errors||[{field:"general",message:r.message||"Failed to fetch detailed inspection data"}]})}catch(t){return console.error("Network error fetching detailed inspection data:",t),{success:!1,errors:[{field:"network",message:t instanceof Error?t.message:"Network error"}]}}})}healthCheck(){return h(this,null,function*(){try{const e=yield fetch(`${this.baseUrl}/health`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=yield e.json();return{healthy:e.ok&&t.success,message:e.ok?"InspectionData service healthy":"InspectionData service unhealthy",details:t.data}}catch(e){return{healthy:!1,message:`InspectionData service error: ${e instanceof Error?e.message:"Unknown error"}`}}})}exportToCSV(e){return h(this,null,function*(){try{const t=yield this.getAll(c(l({},e),{limit:1e4}));if(!t.success||!t.data)return{success:!1,errors:t.errors||[{field:"general",message:"Failed to fetch data for export"}]};const r=t.data.data,n=["ID","Station","Work Week","Sampling Date","Employee QC ID","Shift","Line FVI No","Sampling Reason ID","Lot No","Part Site","Line MC No","Item No","Model","Version","Round","FVI Lot Qty","General Sampling Qty","Crack Sampling Qty","Judgment","Created By","Updated By","Created At","Updated At"],a=r.map(e=>[e.id,e.station||"",e.ww,new Date(e.inspection_date).toISOString(),e.qc_id||"",e.shift||"",e.fvilineno||"",e.sampling_reason_id,e.lotno||"",e.partsite||"",e.mclineno||"",e.itemno||"",e.model||"",e.version||"",e.round,e.fvi_lot_qty,e.general_sampling_qty,e.crack_sampling_qty,null===e.judgment?"Pending":e.judgment?"PASS":"REJECT",e.created_by||"",e.updated_by||"",e.created_at?new Date(e.created_at).toISOString():"",e.updated_at?new Date(e.updated_at).toISOString():""]);return{success:!0,data:[n.join(","),...a.map(e=>e.map(e=>`"${e}"`).join(","))].join("\n"),message:`Exported ${r.length} inspection records to CSV`}}catch(t){return console.error("Error exporting to CSV:",t),{success:!1,errors:[{field:"export",message:t instanceof Error?t.message:"Export failed"}]}}})}downloadCSV(e,t="inspections.csv"){try{const r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");if(void 0!==n.download){const e=URL.createObjectURL(r);n.setAttribute("href",e),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(e)}}catch(r){console.error("Error downloading CSV:",r)}}getInspectionSummary(e,t,r){return h(this,null,function*(){try{const n={};switch(e){case"today":n.today=!0;break;case"week":n.this_week=!0;break;case"month":n.this_month=!0;break;case"custom":t&&(n.inspection_date_from=t),r&&(n.inspection_date_to=r)}const a=yield this.getAll(c(l({},n),{limit:1e4}));if(!a.success||!a.data)return{success:!1,errors:a.errors||[{field:"general",message:"Failed to fetch summary data"}]};const s=a.data.data,i=s.length,o=s.filter(e=>!0===e.judgment).length,d=s.filter(e=>!1===e.judgment).length,u=s.filter(e=>null===e.judgment).length,h=o+d,m=h>0?o/h*100:0,f=h>0?d/h*100:0,p={};s.forEach(e=>{e.model&&(p[e.model]=(p[e.model]||0)+1)});const g=Object.entries(p).sort(([,e],[,t])=>t-e).slice(0,5).map(([e,t])=>({model:e,count:t})),x={};s.forEach(e=>{e.station&&(x[e.station]||(x[e.station]={total:0,passed:0}),x[e.station].total++,!0===e.judgment&&x[e.station].passed++)});return{success:!0,data:{totalInspections:i,passedInspections:o,rejectedInspections:d,pendingInspections:u,passRate:m,rejectRate:f,topModels:g,byStation:Object.entries(x).map(([e,t])=>({station:e,count:t.total,passRate:t.total>0?t.passed/t.total*100:0}))}}}catch(n){return console.error("Error getting inspection summary:",n),{success:!1,errors:[{field:"network",message:n instanceof Error?n.message:"Network error"}]}}})}getCurrentWorkWeek(){const e=new Date,t=new Date(e.getFullYear(),0,1),r=e.getTime()-t.getTime();return Math.ceil(r/6048e5)}formatDateForAPI(e){return e.toISOString()}handleAPIError(e,t){return console.error(`Error during ${t}:`,e),"TypeError"===e.name&&e.message.includes("fetch")?{success:!1,errors:[{field:"network",message:"Network connection failed. Please check your internet connection."}]}:{success:!1,errors:[{field:"general",message:e instanceof Error?e.message:`Unknown error during ${t}`}]}}retryRequest(e,t=3,r=1e3){return h(this,null,function*(){let n;for(let s=0;s<=t;s++)try{return yield e()}catch(a){if(n=a,s===t)throw a;const e=r*Math.pow(2,s);yield new Promise(t=>setTimeout(t,e))}throw n})}},J2=ee.lazy(()=>function(e,t){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in O2)return;O2[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,n&&a.setAttribute("nonce",n),document.head.appendChild(a),t?new Promise((t,r)=>{a.addEventListener("load",t),a.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})}(()=>import("./SamplingReasonBrowseModal-BUuCTiDa.js"),[])),e5=e=>e<=280?32:e<=500?48:e<=3200?72:e<=1e4?86:e<=35e3?108:e<=15e4?123:e<=5e5?156:189,t5=e=>e<=280?"0 - 280":e<=500?"281 - 500":e<=3200?"501 - 3,200":e<=1e4?"3,201 - 10,000":e<=35e3?"10,001 - 35,000":e<=15e4?"35,001 - 150,000":e<=5e5?"150,001 - 500,000":"> 500,000",r5={OQA:{code:"OQA",name:"OQA",fullName:"OQA Inspection",description:"Outgoing Quality Assurance - Lot Inspection",breadcrumbName:"Final visual inspection",stationListRoute:"/inspection/oqa",theme:{header:"from-amber-600 to-orange-600",headerText:"text-amber-100",headerBorder:"border-amber-300",infoSection:"from-amber-50 to-orange-50",infoBorder:"border-amber-200",infoText:"text-amber-900",infoLabel:"text-amber-800",step1Section:"from-rose-50 to-pink-50",step1Border:"border-rose-200",step1Text:"text-rose-900",step1Icon:"bg-rose-500",step2Section:"from-lime-50 to-amber-50",step2Border:"border-lime-200",step2Text:"text-lime-900",step2Icon:"bg-lime-500",step3Section:"from-indigo-50 to-purple-50",step3Border:"border-indigo-200",step3Text:"text-indigo-900",step3Icon:"bg-indigo-500",step4Border:"border-orange-500",focusRing:"focus:ring-amber-500 focus:border-amber-500",buttonGradient:"from-amber-500 to-orange-600",buttonHover:"hover:from-amber-600 hover:to-orange-700",loadingSpinner:"text-amber-500"}},OBA:{code:"OBA",name:"OBA",fullName:"OBA Inspection",description:"Outgoing Before Assembly - Lot Inspection",breadcrumbName:"Final visual inspection",stationListRoute:"/inspection/oba",theme:{header:"from-teal-600 to-emerald-600",headerText:"text-teal-100",headerBorder:"border-teal-300",infoSection:"from-teal-50 to-emerald-50",infoBorder:"border-teal-200",infoText:"text-teal-900",infoLabel:"text-teal-800",step1Section:"from-amber-50 to-yellow-50",step1Border:"border-amber-200",step1Text:"text-amber-900",step1Icon:"bg-amber-500",step2Section:"from-sky-50 to-teal-50",step2Border:"border-sky-200",step2Text:"text-sky-900",step2Icon:"bg-sky-500",step3Section:"from-violet-50 to-fuchsia-50",step3Border:"border-violet-200",step3Text:"text-violet-900",step3Icon:"bg-violet-500",step4Border:"border-teal-500",focusRing:"focus:ring-teal-500 focus:border-teal-500",buttonGradient:"from-teal-500 to-emerald-600",buttonHover:"hover:from-teal-600 hover:to-emerald-700",loadingSpinner:"text-teal-500"}},SIV:{code:"SIV",name:"SIV",fullName:"SIV Inspection",description:"Shipping Inspection Verification - Lot Inspection",breadcrumbName:"Final visual inspection",stationListRoute:"/inspection/siv",theme:{header:"from-blue-600 to-indigo-600",headerText:"text-blue-100",headerBorder:"border-blue-300",infoSection:"from-blue-50 to-indigo-50",infoBorder:"border-blue-200",infoText:"text-blue-900",infoLabel:"text-blue-800",step1Section:"from-orange-50 to-amber-50",step1Border:"border-orange-200",step1Text:"text-orange-900",step1Icon:"bg-orange-500",step2Section:"from-cyan-50 to-blue-50",step2Border:"border-cyan-200",step2Text:"text-cyan-900",step2Icon:"bg-cyan-500",step3Section:"from-purple-50 to-pink-50",step3Border:"border-purple-200",step3Text:"text-purple-900",step3Icon:"bg-purple-500",step4Border:"border-indigo-500",focusRing:"focus:ring-blue-500 focus:border-blue-500",buttonGradient:"from-blue-500 to-indigo-600",buttonHover:"hover:from-blue-600 hover:to-indigo-700",loadingSpinner:"text-blue-500"}}},n5=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,a5=()=>{var e,t,r,n,a;const s=Nm(),i=Cm(),o=ee.useMemo(()=>{const e=s.pathname.toLowerCase();return e.includes("oba")?"OBA":e.includes("siv")?"SIV":"OQA"},[s.pathname]),d=ee.useMemo(()=>r5[o],[o]),u=ee.useMemo(()=>d.theme,[d]),m=ee.useCallback(()=>{i("/dashboard")},[i]),f=ee.useCallback(()=>{i(d.stationListRoute)},[i,d.stationListRoute]),{user:p}=Df(),{showSuccess:g,showError:x,showInfo:b}=Ax(),v=I2(),[y,w]=ee.useState(null),[j,N]=ee.useState(!0),[S,k]=ee.useState(null),[C,E]=ee.useState(!1),[T,_]=ee.useState(!1),[A,I]=ee.useState(!1),[P,D]=ee.useState(null),O=(null==(e=s.state)?void 0:e.editMode)||!1,L=(null==(t=s.state)?void 0:t.inspectionId)||null,R=(null==(r=s.state)?void 0:r.inspectionData)||null,[M,F]=ee.useState(()=>(console.log(" Initializing inspection info with user session:",{username:null==p?void 0:p.username,work_shift:null==p?void 0:p.work_shift,linevi:null==p?void 0:p.linevi}),{inspectionNumber:"",inspectionNoRef:"",productionDate:n5(new Date),fiscalYear:Xx(new Date,6).toString(),wwNumber:Kx(new Date,6).toString().padStart(2,"0"),workingShift:(null==p?void 0:p.work_shift)||""})),[$,B]=ee.useState(()=>(console.log(" Initializing session with user defaults:",{username:null==p?void 0:p.username,work_shift:null==p?void 0:p.work_shift,linevi:null==p?void 0:p.linevi}),{selectedReason:null,selectedLot:null,samplingConfig:{fviLotQty:0,generalSamplingQty:0,crackSamplingQty:0,round:1},lotJudgment:{result:null,notes:""},formData:{station:o,shift:(null==p?void 0:p.work_shift)||"A",fvilineno:(null==p?void 0:p.linevi)||"",grps:"A",zones:"1",qc_id:1},samplingRound:1,startedAt:null}));ee.useEffect(()=>{Promise.all([z(),U()]).catch(e=>{console.error("Failed to initialize inspection page:",e)})},[]),ee.useEffect(()=>{M.productionDate&&M.wwNumber&&U()},[M.productionDate,M.wwNumber]),ee.useEffect(()=>{p?(console.log(" User session data loaded, updating defaults:",{username:p.username,work_shift:p.work_shift,linevi:p.linevi}),F(e=>(p.work_shift&&p.work_shift!==e.workingShift&&console.log(` Updating working shift: "${e.workingShift}"  "${p.work_shift}"`),c(l({},e),{workingShift:p.work_shift||e.workingShift}))),B(e=>{const t=p.work_shift&&p.work_shift!==e.formData.shift,r=p.linevi&&p.linevi!==e.formData.fvilineno;return(t||r)&&console.log(" Updating session defaults:",{shift:t?`"${e.formData.shift}"  "${p.work_shift}"`:"unchanged",fvilineno:r?`"${e.formData.fvilineno}"  "${p.linevi}"`:"unchanged"}),c(l({},e),{formData:c(l({},e.formData),{shift:p.work_shift||e.formData.shift,fvilineno:p.linevi||e.formData.fvilineno})})})):console.log(" Waiting for user session data...")},[p]),ee.useEffect(()=>{O&&!j&&h(void 0,null,function*(){var e;if(O&&R&&L){console.log(" Loading inspection data for edit:",R);try{const t=yield Z2.getById(parseInt(L));if(t.success&&t.data){const r=t.data,n=new Date(r.inspection_date);F({inspectionNumber:r.inspection_no,inspectionNoRef:r.inspection_no_ref||"",productionDate:n5(n),fiscalYear:Xx(n,6).toString(),wwNumber:r.ww||Kx(n,6).toString().padStart(2,"0"),workingShift:r.shift});const a={id:(null==(e=r.id)?void 0:e.toString())||"",lotno:r.lotno,partsite:r.partsite,lineno:r.mclineno,itemno:r.itemno,model:r.model,version:r.version,inputdate:n5(n),finish_on:n5(n)};B(e=>c(l({},e),{selectedLot:a,samplingRound:r.round,samplingConfig:{fviLotQty:r.fvi_lot_qty,generalSamplingQty:r.general_sampling_qty,crackSamplingQty:r.crack_sampling_qty,round:r.round},lotJudgment:{result:r.judgment?"pass":"reject",notes:""},formData:c(l({},e.formData),{station:r.station,shift:r.shift,fvilineno:r.fvilineno,grps:"A",zones:"1",qc_id:r.qc_id}),startedAt:new Date})),D(parseInt(L)),v.playInfo(),b("Edit Mode",`Loading inspection ${r.inspection_no} for editing`)}else v.playError(),x("Load Failed","Failed to load inspection data for editing")}catch(t){console.error(" Error loading inspection for edit:",t),v.playError(),x("Load Error","Failed to load inspection data for editing")}}})},[O,R,L,j]);const U=()=>h(void 0,null,function*(){var e;try{const t=M.productionDate||n5(new Date),r=M.wwNumber||Kx(new Date).toString().padStart(2,"0");console.log(" Generating new inspection number...");const n=yield Z2.generateInspectionNumber(o,t,r);n.success&&(null==(e=n.data)?void 0:e.inspectionNo)&&(F(e=>c(l({},e),{inspectionNumber:n.data.inspectionNo})),console.log(" Generated inspection number:",n.data.inspectionNo))}catch(t){console.error(" Failed to generate inspection number:",t);const e=new Date,r=e.getFullYear().toString().slice(-2),n=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0"),s=Date.now().toString().slice(-4);F(e=>c(l({},e),{inspectionNumber:`${o}${r}${n}${a}-${e.wwNumber}${s}`}))}}),z=()=>h(void 0,null,function*(){var e;try{N(!0),k(null),console.log(" Loading system configuration from API...");const t=yield cx.getParsedSysconfig();console.log(" Received parsed sysconfig:",t);const r=yield cx.getSysconfig();console.log(" Received raw sysconfig:",r);const n={id:r.id||1,fvi_lot_qty:r.fvi_lot_qty||"",general_oqa_qty:r.general_oqa_qty||"",crack_oqa_qty:r.crack_oqa_qty||"",general_siv_qty:r.general_siv_qty||"",crack_siv_qty:r.crack_siv_qty||"",shift:r.shift||"",defect_type:r.defect_type||"",site:r.site||"",tabs:r.tabs||"",product_type:r.product_type||"",product_families:r.product_families||"",smtp_server:null,smtp_port:0,smtp_username:null,smtp_password:null,system_name:r.system_name||null,system_updated:null,created_at:new Date,updated_at:new Date},a={station:"OQA",shifts:t.shift,defaultShift:null==(e=t.shift)?void 0:e[0],qcInspectors:[],sampling:{fviLotQuantities:t.fvi_lot_qty,generalSamplingQuantities:t.general_oqa_qty,crackSamplingQuantities:t.crack_oqa_qty},autoCalculation:!0,requireNotes:!1};console.log(" Created SysConfig for "+o+":",n),console.log(" Station-specific values:"),console.log("  - Station:",o),console.log("  - General SIV Qty:",n.general_siv_qty),console.log("  - Crack SIV Qty:",n.crack_siv_qty),console.log("  - General OQA Qty:",n.general_oqa_qty),console.log("  - Crack OQA Qty:",n.crack_oqa_qty),console.log(" Created OQA Config:",a),w(n)}catch(t){console.error(" Failed to load system configuration:",t);const e="Failed to load system configuration. Please check your connection and try again.";k(e),v.playError(),x("Configuration Error",e)}finally{N(!1)}}),V=ee.useCallback((e,t)=>{F(r=>{const n=c(l({},r),{[e]:t});if("productionDate"===e){const e=new Date(t);n.fiscalYear=Xx(e,6).toString(),n.wwNumber=Kx(e,6).toString().padStart(2,"0")}return n})},[]),W=ee.useCallback(()=>{_(!0)},[]),q=ee.useCallback(()=>{_(!1)},[]),H=ee.useCallback(e=>{B(t=>c(l({},t),{selectedReason:e,startedAt:t.startedAt||new Date})),_(!1)},[]),Q=ee.useCallback(e=>h(void 0,null,function*(){var t;try{const r=(null==(t=(yield Z2.getNextSamplingRound(o,e.lotno)).data)?void 0:t.nextRound)||1;console.log(` Next sampling round for lotno ${e.lotno}: ${r}`),B(t=>c(l({},t),{selectedLot:e,samplingRound:r,startedAt:t.startedAt||new Date}))}catch(r){console.error("Error fetching sampling round:",r),B(t=>c(l({},t),{selectedLot:e,samplingRound:1,startedAt:t.startedAt||new Date}))}}),[o]),G=ee.useCallback(e=>{B(t=>c(l({},t),{samplingConfig:e}))},[]),Y=ee.useCallback((e,t="")=>{B(r=>c(l({},r),{lotJudgment:{result:e,notes:t}})),"pass"===e?v.playSuccess():"reject"===e&&v.playWarning()},[v]),K=ee.useCallback((e,t)=>{B(r=>c(l({},r),{formData:c(l({},r.formData),{[e]:t})}))},[]),X=()=>{I(!1),D(null),B(e=>({selectedReason:null,selectedLot:null,samplingConfig:z2,lotJudgment:{result:null,notes:""},formData:{station:e.formData.station,shift:e.formData.shift,fvilineno:e.formData.fvilineno,grps:e.formData.grps,zones:e.formData.zones,qc_id:e.formData.qc_id},samplingRound:1,startedAt:null})),U()},Z=ee.useMemo(()=>{const e=[{id:1,name:"Sampling Reason",completed:!!$.selectedReason},{id:2,name:"Lot Selection",completed:!!$.selectedLot},{id:3,name:"Configuration",completed:$.samplingConfig.fviLotQty>0},{id:4,name:"Judgment",completed:!!$.lotJudgment.result}];return de.jsx("div",{className:"flex items-center justify-between mb-6",children:e.map((t,r)=>de.jsxs("div",{className:"flex items-center",children:[de.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 "+(t.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 text-gray-500"),children:t.completed?de.jsx(fp,{className:"w-5 h-5"}):de.jsx("span",{className:"text-sm font-medium",children:t.id})}),de.jsx("span",{className:"ml-2 text-sm font-medium "+(t.completed?"text-green-600":"text-gray-500"),children:t.name}),r<e.length-1&&de.jsx("div",{className:"ml-4 w-12 h-0.5 "+(t.completed?"bg-green-500":"bg-gray-300")})]},t.id))})},[$.selectedReason,$.selectedLot,$.samplingConfig.fviLotQty,$.lotJudgment.result]);return j?de.jsx("div",{className:"flex items-center justify-center min-h-screen",children:de.jsxs("div",{className:"text-center",children:[de.jsx(Wf,{className:`w-8 h-8 animate-spin ${u.loadingSpinner} mx-auto mb-4`}),de.jsxs("p",{className:"text-gray-600",children:["Loading ",d.name," Inspection System..."]})]})}):S&&!y?de.jsx("div",{className:"flex items-center justify-center min-h-screen",children:de.jsxs("div",{className:"text-center",children:[de.jsx(Wp,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),de.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"System Error"}),de.jsx("p",{className:"text-gray-600 mb-4",children:S}),de.jsx("button",{onClick:z,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]})}):de.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[de.jsx("div",{className:"mb-6 bg-white rounded-xl shadow-md border border-gray-200 px-6 py-3",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("nav",{className:"flex items-center space-x-2 text-sm",children:[de.jsxs("button",{onClick:m,className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[de.jsx(Zp,{className:"h-4 w-4 mr-1"}),"Home"]}),de.jsx(jp,{className:"h-4 w-4 text-gray-400"}),de.jsx("button",{onClick:f,className:"text-gray-600 hover:text-blue-600 transition-colors",children:d.breadcrumbName}),de.jsx(jp,{className:"h-4 w-4 text-gray-400"}),de.jsxs("button",{onClick:f,className:"text-gray-600 hover:text-blue-600 transition-colors",children:[d.name," Sampling Lists"]}),de.jsx(jp,{className:"h-4 w-4 text-gray-400"}),de.jsx("span",{className:`font-semibold ${u.infoText}`,children:O?`Edit ${d.name} Sampling`:`New ${d.name} Sampling`})]}),de.jsxs("button",{onClick:f,className:`flex items-center space-x-2 px-4 py-2 bg-gradient-to-r ${u.buttonGradient} text-white rounded-lg ${u.buttonHover} transition-all duration-200 shadow-md hover:shadow-lg`,children:[de.jsx(ig,{className:"h-5 w-5"}),de.jsxs("span",{children:["View ",d.name," Lists"]})]})]})}),O&&de.jsx("div",{className:"mb-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-lg shadow-lg p-4",children:de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx(gg,{className:"w-6 h-6 text-white"}),de.jsxs("div",{children:[de.jsx("h3",{className:"text-lg font-bold text-white",children:"Edit Mode"}),de.jsxs("p",{className:"text-amber-100 text-sm",children:["You are editing inspection: ",M.inspectionNumber]})]})]})}),de.jsx("div",{className:`mb-6 bg-gradient-to-r ${u.header} rounded-lg shadow-lg p-6`,children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-lg",children:de.jsx(Kf,{className:"w-8 h-8 text-white"})}),de.jsxs("div",{children:[de.jsx("h1",{className:"text-3xl font-bold text-white",children:O?`Edit ${d.fullName}`:d.fullName}),de.jsx("p",{className:`${u.headerText} mt-1`,children:d.description})]})]}),de.jsxs("div",{className:"flex items-center space-x-6 bg-white bg-opacity-10 rounded-lg px-6 py-3",children:[de.jsxs("div",{className:"text-sm",children:[de.jsx("div",{className:`${u.headerText} text-xs`,children:"Sampling No"}),de.jsx("div",{className:"font-semibold text-white mt-0.5",children:M.inspectionNumber||"---"})]}),de.jsxs("div",{className:`text-sm border-l ${u.headerBorder} pl-6`,children:[de.jsx("div",{className:`${u.headerText} text-xs`,children:"Date"}),de.jsx("div",{className:"font-semibold text-white mt-0.5",children:M.productionDate})]}),de.jsxs("div",{className:`text-sm border-l ${u.headerBorder} pl-6`,children:[de.jsx("div",{className:`${u.headerText} text-xs`,children:"Fiscal Year"}),de.jsxs("div",{className:"font-semibold text-white mt-0.5",children:["FY ",M.fiscalYear]})]}),de.jsxs("div",{className:`text-sm border-l ${u.headerBorder} pl-6`,children:[de.jsx("div",{className:`${u.headerText} text-xs`,children:"WW"}),de.jsxs("div",{className:"font-semibold text-white mt-0.5",children:["WW",M.wwNumber]})]}),de.jsxs("div",{className:`text-sm border-l ${u.headerBorder} pl-6`,children:[de.jsx("div",{className:`${u.headerText} text-xs`,children:"Shift"}),de.jsx("div",{className:"font-semibold text-white mt-0.5",children:M.workingShift||"-"})]}),de.jsxs("div",{className:`text-sm border-l ${u.headerBorder} pl-6`,children:[de.jsx("div",{className:`${u.headerText} text-xs`,children:"Station"}),de.jsx("div",{className:"font-semibold text-white mt-0.5",children:d.name})]})]})]})}),Z,S&&de.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:de.jsxs("div",{className:"flex items-center",children:[de.jsx(Wp,{className:"w-5 h-5 text-red-500 mr-2"}),de.jsx("span",{className:"text-red-700",children:S}),de.jsx("button",{onClick:()=>k(null),className:"ml-auto text-red-500 hover:text-red-700",children:de.jsx(ex,{className:"w-5 h-5"})})]})}),de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{className:`bg-gradient-to-br ${u.infoSection} rounded-xl border-2 ${u.infoBorder} shadow-md p-6`,children:[de.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[de.jsx("div",{className:`p-2 ${u.step1Icon} rounded-lg`,children:de.jsx(Fp,{className:"w-6 h-6 text-white"})}),de.jsx("h3",{className:`text-xl font-bold ${u.infoText}`,children:"Inspection Information"})]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[de.jsxs("div",{className:"md:col-span-2",children:[de.jsx("label",{className:`block text-sm font-bold ${u.infoLabel} mb-2`,children:"Inspection Number"}),de.jsx("div",{className:`px-4 py-3 bg-white border-2 ${u.infoBorder} rounded-lg shadow-sm`,children:de.jsx("span",{className:`${u.infoText} font-mono text-base font-semibold`,children:M.inspectionNumber||"---"})})]}),de.jsxs("div",{children:[de.jsx("label",{className:`block text-sm font-bold ${u.infoLabel} mb-2`,children:"Sampling Date"}),de.jsx("input",{type:"date",value:M.productionDate,onChange:e=>V("productionDate",e.target.value),className:`w-full px-4 py-3 bg-white border-2 ${u.infoBorder} rounded-lg focus:ring-2 ${u.focusRing} shadow-sm font-semibold`})]}),"SIV"===o&&de.jsxs("div",{className:"md:col-span-3",children:[de.jsx("label",{className:`block text-sm font-bold ${u.infoLabel} mb-2`,children:"Reference Inspection Number (OQA/OBA)"}),de.jsx("div",{className:`px-4 py-3 bg-gray-50 border-2 ${u.infoBorder} rounded-lg shadow-sm`,children:de.jsx("span",{className:`${u.infoText} font-mono text-base font-semibold`,children:M.inspectionNoRef||"---"})})]}),de.jsxs("div",{children:[de.jsx("label",{className:`block text-sm font-bold ${u.infoLabel} mb-2`,children:"Fiscal Year/WW"}),de.jsx("div",{className:`px-4 py-3 bg-gradient-to-r ${u.infoSection} border-2 ${u.infoBorder} rounded-lg shadow-sm`,children:de.jsxs("span",{className:`${u.infoText} font-mono text-base font-bold`,children:[M.fiscalYear,"/",M.wwNumber]})})]}),de.jsxs("div",{children:[de.jsx("label",{className:`block text-sm font-bold ${u.infoLabel} mb-2 flex items-center`,children:"Working Shift"}),de.jsx("input",{type:"text",value:M.workingShift,onChange:e=>V("workingShift",e.target.value),placeholder:"Enter shift (e.g., A, B, C)",className:`w-full px-4 py-3 bg-white border-2 ${u.infoBorder} rounded-lg focus:ring-2 ${u.focusRing} shadow-sm font-semibold`,title:(null==p?void 0:p.work_shift)?`Default from user session: ${p.work_shift}`:"Enter working shift"})]}),de.jsxs("div",{children:[de.jsxs("label",{className:`block text-sm font-bold ${u.infoLabel} mb-2 flex items-center`,children:["Line","SIV"!==o&&de.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),de.jsx("input",{type:"text",value:$.formData.fvilineno,onChange:e=>K("fvilineno",e.target.value),placeholder:"Enter FVI Line",required:"SIV"!==o,className:`w-full px-4 py-3 bg-white border-2 ${u.infoBorder} rounded-lg focus:ring-2 ${u.focusRing} shadow-sm font-semibold ${"SIV"===o||(null==(n=$.formData.fvilineno)?void 0:n.trim())?"":"border-red-300"}`,title:(null==p?void 0:p.linevi)?`Default from user session: ${p.linevi}`:"Enter FVI Line (Required)"}),"SIV"!==o&&!(null==(a=$.formData.fvilineno)?void 0:a.trim())&&de.jsx("p",{className:"text-xs text-red-500 mt-1",children:"FVI Line is required"})]})]})]}),de.jsxs("div",{className:`bg-gradient-to-br ${u.step1Section} rounded-xl border-2 ${u.step1Border} shadow-md p-6`,children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("div",{className:`p-2 ${u.step1Icon} rounded-lg`,children:de.jsx(Cp,{className:"w-5 h-5 text-white"})}),de.jsx("h3",{className:`text-lg font-bold ${u.step1Text}`,children:"Step 1: Sampling Reason"})]}),$.selectedReason&&de.jsxs("div",{className:"flex items-center text-green-600",children:[de.jsx(fp,{className:"w-5 h-5 mr-1"}),de.jsx("span",{className:"text-sm",children:"Selected"})]})]}),de.jsx("div",{className:"space-y-4",children:$.selectedReason?de.jsx("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("h4",{className:"font-medium text-orange-900",children:$.selectedReason.name}),$.selectedReason.description&&de.jsx("p",{className:"text-sm text-orange-700 mt-1",children:$.selectedReason.description}),de.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[de.jsxs("span",{className:"inline-block px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded",children:["ID: #",$.selectedReason.id]}),de.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded "+($.selectedReason.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:$.selectedReason.isActive?"Active":"Inactive"})]})]}),de.jsx("button",{onClick:W,className:"px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded hover:bg-orange-200 transition-colors",children:"Change"})]})}):de.jsxs("button",{onClick:W,className:"w-full p-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-orange-300 hover:text-orange-500 transition-colors flex items-center justify-center space-x-2",children:[de.jsx(yg,{className:"w-5 h-5"}),de.jsx("span",{children:"Select Sampling Reason"})]})})]})]}),de.jsxs("div",{className:`bg-gradient-to-br ${u.step2Section} rounded-xl border-2 ${u.step2Border} shadow-md p-6`,children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("div",{className:`p-2 ${u.step2Icon} rounded-lg`,children:de.jsx(Op,{className:"w-5 h-5 text-white"})}),de.jsx("h3",{className:`text-lg font-bold ${u.step2Text}`,children:"Step 2: Lot Selection"})]}),$.selectedLot&&de.jsxs("div",{className:"flex items-center text-green-600",children:[de.jsx(fp,{className:"w-5 h-5 mr-1"}),de.jsx("span",{className:"text-sm",children:"Selected"})]})]}),de.jsx(U2,{selectedLot:$.selectedLot,onLotSelect:Q,disabled:!$.selectedReason||"SIV"===o&&!!$.selectedLot,samplingRound:$.samplingRound})]})]}),de.jsxs("div",{className:`bg-gradient-to-br ${u.step3Section} rounded-xl border-2 ${u.step3Border} shadow-md p-6`,children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("div",{className:`p-2 ${u.step3Icon} rounded-lg`,children:de.jsx(Ap,{className:"w-5 h-5 text-white"})}),de.jsx("h3",{className:`text-lg font-bold ${u.step3Text}`,children:"Step 3: Sampling Configuration"})]}),$.samplingConfig.fviLotQty>0&&de.jsxs("div",{className:"flex items-center text-green-600",children:[de.jsx(fp,{className:"w-5 h-5 mr-1"}),de.jsx("span",{className:"text-sm",children:"Configured"})]})]}),de.jsx(K2,{config:$.samplingConfig,onChange:G,sysConfig:y,disabled:!$.selectedLot,station:o,disableFviLotQty:"SIV"===o}),$.samplingConfig.fviLotQty>0&&$.samplingConfig.generalSamplingQty>0&&(J=$.samplingConfig.fviLotQty,te=$.samplingConfig.generalSamplingQty,!(te>=e5(J)))&&de.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:de.jsxs("div",{className:"flex items-start space-x-2",children:[de.jsx(Wp,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),de.jsxs("div",{className:"flex-1",children:[de.jsx("h4",{className:"text-sm font-bold text-red-800 mb-2",children:" AQL Sampling Warning"}),de.jsx("p",{className:"text-sm text-red-700 mb-3",children:"The General Sampling Quantity is below the minimum AQL requirement for this FVI Lot size."}),de.jsxs("div",{className:"bg-white border border-red-200 rounded p-3 text-sm space-y-2",children:[de.jsxs("div",{className:"flex justify-between items-center",children:[de.jsx("span",{className:"text-gray-700",children:"FVI Lot Quantity:"}),de.jsx("span",{className:"font-bold text-gray-900",children:$.samplingConfig.fviLotQty.toLocaleString()})]}),de.jsxs("div",{className:"flex justify-between items-center",children:[de.jsx("span",{className:"text-gray-700",children:"Current General Sampling:"}),de.jsx("span",{className:"font-bold text-red-700",children:$.samplingConfig.generalSamplingQty})]}),de.jsxs("div",{className:"flex justify-between items-center",children:[de.jsx("span",{className:"text-gray-700",children:"Minimum Required (AQL):"}),de.jsx("span",{className:"font-bold text-red-800",children:e5($.samplingConfig.fviLotQty)})]}),de.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-red-100",children:[de.jsx("span",{className:"text-gray-700",children:"AQL Range:"}),de.jsxs("span",{className:"text-sm text-red-600",children:[t5($.samplingConfig.fviLotQty)," units"]})]})]}),de.jsxs("div",{className:"mt-3 p-2 bg-red-100 rounded text-xs text-red-800",children:[de.jsx("strong",{children:"Note:"})," AQL (Acceptable Quality Level) sampling requirements ensure statistically valid quality inspections. Please increase the General Sampling Quantity to meet the minimum requirement."]})]})]})})]})]}),de.jsx("div",{className:`bg-gradient-to-br from-slate-50 to-gray-100 border-t-4 ${u.step4Border} mt-8 shadow-lg`,children:de.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[de.jsxs("div",{className:"flex items-center justify-between mb-8",children:[de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsx("div",{className:"p-3 bg-indigo-100 rounded-full",children:de.jsx(hp,{className:"w-8 h-8 text-indigo-600"})}),de.jsxs("div",{children:[de.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Step 4: Lot Judgment"}),de.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Make your final inspection decision"})]})]}),$.lotJudgment.result&&de.jsxs("div",{className:"flex items-center bg-green-100 px-4 py-2 rounded-full",children:[de.jsx(fp,{className:"w-5 h-5 mr-2 text-green-600"}),de.jsx("span",{className:"text-green-800 font-medium",children:"Decision Made"})]})]}),de.jsxs("div",{className:"space-y-8",children:[de.jsxs("div",{className:"flex justify-center space-x-12",children:[de.jsxs("button",{onClick:()=>Y("pass",$.lotJudgment.notes),disabled:!$.samplingConfig.fviLotQty,className:"group relative p-10 rounded-2xl border-3 transition-all duration-300 transform hover:scale-105 hover:shadow-xl "+("pass"===$.lotJudgment.result?"border-emerald-500 bg-gradient-to-br from-emerald-50 to-green-100 text-emerald-700 shadow-2xl ring-4 ring-emerald-200":"border-gray-300 hover:border-emerald-400 disabled:opacity-50 bg-white hover:bg-emerald-50"),children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400/10 to-green-500/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),de.jsx(fp,{className:"w-16 h-16 mx-auto mb-4 "+("pass"===$.lotJudgment.result?"text-emerald-600":"text-gray-400 group-hover:text-emerald-500")}),de.jsx("div",{className:"font-bold text-2xl mb-2",children:"PASS"}),de.jsx("div",{className:"text-sm opacity-80",children:"Approve this lot for production"}),de.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-emerald-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),de.jsxs("button",{onClick:()=>Y("reject",$.lotJudgment.notes),disabled:!$.samplingConfig.fviLotQty,className:"group relative p-10 rounded-2xl border-3 transition-all duration-300 transform hover:scale-105 hover:shadow-xl "+("reject"===$.lotJudgment.result?"border-red-500 bg-gradient-to-br from-red-50 to-rose-100 text-red-700 shadow-2xl ring-4 ring-red-200":"border-gray-300 hover:border-red-400 disabled:opacity-50 bg-white hover:bg-red-50"),children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-400/10 to-rose-500/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),de.jsx(ex,{className:"w-16 h-16 mx-auto mb-4 "+("reject"===$.lotJudgment.result?"text-red-600":"text-gray-400 group-hover:text-red-500")}),de.jsx("div",{className:"font-bold text-2xl mb-2",children:"REJECT"}),de.jsx("div",{className:"text-sm opacity-80",children:"Reject this lot - requires rework"}),de.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),de.jsx("div",{className:"flex justify-center pt-6",children:de.jsxs("button",{onClick:()=>h(void 0,null,function*(){var e,t,r,n;if(!$.selectedReason||!$.selectedLot||!$.lotJudgment.result)return k("Please complete all required fields before submitting"),v.playWarning(),void x("Incomplete Form","Please complete all required fields before submitting");if("SIV"!==o&&!(null==(e=$.formData.fvilineno)?void 0:e.trim()))return k("FVI Line number is required"),v.playWarning(),void x("Missing Required Field","FVI Line number is required. Please enter the FVI Line number.");try{E(!0),k(null);const e=new Date(M.productionDate),a={station:$.formData.station,inspection_no:`${M.inspectionNumber}`,inspection_no_ref:"SIV"===o?M.inspectionNoRef:void 0,inspection_date:e,fy:M.fiscalYear,ww:Kx(e,6).toString().padStart(2,"0"),month_year:`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`,shift:M.workingShift||$.formData.shift,lotno:$.selectedLot.lotno,partsite:$.selectedLot.partsite,mclineno:$.selectedLot.lineno,itemno:$.selectedLot.itemno,model:$.selectedLot.model,version:$.selectedLot.version,fvilineno:$.formData.fvilineno,round:$.samplingRound,qc_id:$.formData.qc_id,fvi_lot_qty:$.samplingConfig.fviLotQty,general_sampling_qty:$.samplingConfig.generalSamplingQty,crack_sampling_qty:$.samplingConfig.crackSamplingQty,judgment:"pass"===$.lotJudgment.result};let s;if(console.log(O?"Updating inspection:":"Submitting inspection:",a),s=O&&P?yield Z2.update(P,{station:a.station,inspection_no:a.inspection_no,inspection_date:a.inspection_date,fy:a.fy,ww:a.ww,month_year:a.month_year,shift:a.shift,lotno:a.lotno,partsite:a.partsite,mclineno:a.mclineno,itemno:a.itemno,model:a.model,version:a.version,fvilineno:a.fvilineno,sampling_reason_id:$.selectedReason.id,round:a.round,qc_id:a.qc_id,fvi_lot_qty:a.fvi_lot_qty,general_sampling_qty:a.general_sampling_qty,crack_sampling_qty:a.crack_sampling_qty,judgment:a.judgment}):yield Z2.create({station:a.station,inspection_no:a.inspection_no,inspection_date:a.inspection_date,fy:a.fy,ww:a.ww,month_year:a.month_year,shift:a.shift,lotno:a.lotno,partsite:a.partsite,mclineno:a.mclineno,itemno:a.itemno,model:a.model,version:a.version,fvilineno:a.fvilineno,round:a.round,qc_id:a.qc_id.toString(),fvi_lot_qty:a.fvi_lot_qty,general_sampling_qty:a.general_sampling_qty,crack_sampling_qty:a.crack_sampling_qty,sampling_reason_id:$.selectedReason.id,judgment:a.judgment}),!s.success){const e=(null==(r=null==(t=s.errors)?void 0:t[0])?void 0:r.message)||`Failed to ${O?"update":"save"} inspection data`;return k(e),v.playError(),void x("Submission Failed",e)}console.log(` Inspection ${O?"updated":"saved"} successfully:`,s.data),D((null==(n=s.data)?void 0:n.id)||P);const l="pass"===$.lotJudgment.result?"PASS":"REJECT";v.playSave(),g(O?"Inspection Updated":"Inspection Saved",`${o} Inspection ${M.inspectionNumber} ${O?"updated":"saved"} successfully with judgment: ${l}`),O?setTimeout(()=>{i(d.stationListRoute)},2e3):"OQA"===o&&"pass"===$.lotJudgment.result?I(!0):(D(null),B(e=>({selectedReason:null,selectedLot:null,samplingConfig:z2,lotJudgment:{result:null,notes:""},formData:{station:e.formData.station,shift:e.formData.shift,fvilineno:e.formData.fvilineno,grps:e.formData.grps,zones:e.formData.zones,qc_id:e.formData.qc_id},samplingRound:1,startedAt:null})),U())}catch(a){console.error("Failed to submit inspection:",a);const e="Failed to submit inspection data";k(e),v.playError(),x("Submission Error",e)}finally{E(!1)}}),disabled:!$.selectedReason||!$.selectedLot||!$.lotJudgment.result||C,className:"group relative px-12 py-5 rounded-2xl text-xl font-bold transition-all duration-300 transform hover:scale-105 flex items-center space-x-4 "+($.selectedReason&&$.selectedLot&&$.lotJudgment.result&&!C?`bg-gradient-to-r ${u.buttonGradient} ${u.buttonHover} text-white shadow-xl hover:shadow-2xl`:"bg-gray-400 cursor-not-allowed opacity-50"),children:[de.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${u.buttonGradient} rounded-2xl opacity-0 group-hover:opacity-20 transition-opacity duration-300`}),C?de.jsxs(de.Fragment,{children:[de.jsx(Wf,{className:"w-7 h-7 animate-spin"}),de.jsx("span",{children:O?"Updating Inspection...":"Submitting Inspection..."})]}):de.jsxs(de.Fragment,{children:[de.jsx(fp,{className:"w-7 h-7"}),de.jsx("span",{children:O?"Update Inspection":"Complete Inspection"}),de.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})})]})]})}),T&&de.jsx(ee.Suspense,{fallback:de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white rounded-lg p-6",children:[de.jsx(Wf,{className:`w-8 h-8 animate-spin ${u.loadingSpinner} mx-auto`}),de.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]})}),children:de.jsx(J2,{isOpen:T,onClose:q,onReasonSelect:H,selectedReason:$.selectedReason})}),A&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[de.jsx(fp,{className:"w-8 h-8 text-green-500 mr-3"}),de.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[d.name," Inspection Saved"]})]}),de.jsxs("p",{className:"text-gray-600 mb-6",children:["The ",d.name," inspection has been saved successfully. Would you like to create a SIV inspection record from this ",d.name," data?"]}),de.jsxs("div",{className:"flex gap-3 justify-end",children:[de.jsx("button",{onClick:()=>{v.playInfo(),b("SIV Skipped",`${o} inspection saved. SIV creation skipped.`),X()},className:"px-5 py-2.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:"No, Skip"}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){var e,t;if(!P)return k("No inspection ID found"),v.playError(),void x("SIV Creation Failed","No inspection ID found");try{E(!0);const r=yield Z2.createSIV(P);if(!r.success){const n=(null==(t=null==(e=r.errors)?void 0:e[0])?void 0:t.message)||"Failed to create SIV inspection";return k(n),v.playError(),void x("SIV Creation Failed",n)}console.log(" SIV inspection created successfully:",r.data),v.playImportant(),g("SIV Created",`SIV inspection created successfully from ${o} inspection ${M.inspectionNumber}`),X()}catch(r){console.error("Failed to create SIV:",r);const e=r instanceof Error?r.message:"Failed to create SIV inspection";k(e),v.playError(),x("SIV Creation Error",e)}finally{E(!1)}}),className:`px-5 py-2.5 bg-gradient-to-r ${u.buttonGradient} text-white rounded-lg ${u.buttonHover} transition-all duration-200 font-medium shadow-lg`,children:"Yes, Create SIV"})]})]})})]});var J,te};const s5=new class{createSIVFromOQA(e,t,r){return h(this,null,function*(){var n;if("OQA"!==t)return{success:!1,message:`SIV inspection can only be created from OQA station.\n\nCurrent station: ${t}`};if("Pass"!==r)return{success:!1,message:"SIV inspection can only be created from OQA inspections with Pass judgment."};try{console.log(" Creating SIV from inspection:",e);const t=`${Ef("inspectiondata")}/${e}/create-siv`;console.log(" API URL:",t);const r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});console.log(" Response status:",r.status),console.log(" Response headers:",r.headers.get("content-type"));const a=r.headers.get("content-type");if(!a||!a.includes("application/json")){const e=yield r.text();return console.error(" Received non-JSON response:",e.substring(0,200)),{success:!1,message:401===r.status?"Authentication required. Please log in again.":`Server error (${r.status}). The server returned an unexpected response.`}}const s=yield r.json();return console.log(" API result:",s),r.ok&&s.success?(console.log(" SIV created:",s.data),{success:!0,message:"SIV inspection created successfully!",inspectionNo:(null==(n=s.data)?void 0:n.inspection_no)||"N/A"}):(console.error(" SIV creation failed:",s),{success:!1,message:s.message||"Unknown error occurred"})}catch(a){return console.error(" Error creating SIV:",a),{success:!1,message:a instanceof Error?a.message:"Network error occurred"}}})}getLotDetails(e){return h(this,null,function*(){try{console.log(" Fetching lot details for:",e);const t=yield fetch(`${Ef("inf-lotinput")}/lot/${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=yield t.json();if(console.log(" Lot API response:",r),r.success&&r.data){const e=r.data;return console.log(" Lot data found:",e),e}return console.warn(" No lot data found for:",e),null}catch(t){throw console.error(" Error fetching lot details:",t),t}})}canCreateSIV(e,t){return"OQA"===t&&"Pass"===e.judgment}getStatusColor(e){return"Pass"===e?"bg-green-100 text-green-800 border-green-200":"Reject"===e?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-600 border-gray-200"}detectStationFromPath(e){const t=e.toLowerCase();return t.includes("oqa")?"OQA":t.includes("oba")?"OBA":t.includes("siv")?"SIV":"OQA"}getTodayDate(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}getSevenDaysAgoDate(){const e=new Date;return e.setDate(e.getDate()-7),e.toISOString().split("T")[0]}},i5=e=>{if(null===e)return"bg-gray-100 text-gray-600 border-gray-200";return!0===e||"Pass"===e?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"},o5=e=>{if(null===e)return de.jsx(ex,{className:"h-5 w-5 text-gray-400"});return!0===e||"Pass"===e?de.jsx(fp,{className:"h-5 w-5 text-green-600"}):de.jsx(ex,{className:"h-5 w-5 text-red-600"})},l5=e=>("string"==typeof e&&(e=parseFloat(e)),e.toLocaleString()),c5=e=>e?new Date(e).toLocaleString():"N/A",d5=({record:e,isOpen:t,onClose:r,onPrint:n,theme:a,stationCode:s,serviceType:i="defectdata"})=>{var o;const[l,c]=ee.useState(""),[d,u]=ee.useState(""),[m,f]=ee.useState(!1);if(ee.useEffect(()=>{t&&e&&h(void 0,null,function*(){if(e){f(!0);try{if(e.created_by){const t=yield yx.getUserById(e.created_by);if(t.success&&t.data){const e=t.data;c(`${e.name}`)}else c(`User ${e.created_by}`)}if(e.updated_by){const t=yield yx.getUserById(e.updated_by);if(t.success&&t.data){const e=t.data;u(`${e.name}`)}else u(`User ${e.updated_by}`)}}catch(t){console.error("Error fetching user names:",t),e.created_by&&c(`User ${e.created_by}`),e.updated_by&&u(`User ${e.updated_by}`)}finally{f(!1)}}})},[e,t]),!t||!e)return null;console.log(" RecordDetailModal - record:",e),console.log(" RecordDetailModal - defects:",e.defects),console.log(" RecordDetailModal - defects length:",null==(o=e.defects)?void 0:o.length);const p=null===(g=e.judgment)?"":"boolean"==typeof g?g?"Pass":"Reject":g;var g,x;return de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:de.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[de.jsx("div",{className:"px-4 py-3 rounded-t-xl "+("Pass"===p?"bg-gradient-to-r from-green-500 to-emerald-600":"Reject"===p?"bg-gradient-to-r from-red-500 to-rose-600":"bg-gradient-to-r from-gray-500 to-gray-600"),children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("h3",{className:"text-xl font-bold text-white",children:"Inspection Details"}),de.jsxs("p",{className:"text-white/80 text-xs mt-0.5",children:[s," Station - ID: ",e.id]})]}),de.jsx("button",{onClick:r,className:"text-white hover:text-gray-200 transition-colors duration-200",children:de.jsx(ex,{className:"h-6 w-6"})})]})}),de.jsxs("div",{className:"p-4 space-y-3",children:[de.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[de.jsx("h4",{className:"text-sm font-bold text-blue-900 mb-2",children:"Inspection Identification"}),de.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[de.jsx(u5,{label:"Station",value:e.station}),de.jsx(u5,{label:"Sampling No",value:e.inspectionNo}),de.jsx(u5,{label:"Inspection Ref",value:e.inspectionNoRef||"N/A"}),de.jsx(u5,{label:"Date",value:(x=e.inspectionDate,x?new Date(x).toLocaleDateString():"N/A")}),de.jsx(u5,{label:"FY/WW",value:e.fy+"/"+e.ww}),de.jsx(u5,{label:"Month/Year",value:e.month_year}),de.jsx(u5,{label:"Shift",value:e.shift}),de.jsx(u5,{label:"QC Inspector",value:`QC${e.qc_id}`}),de.jsx(u5,{label:"Sampling Reason",value:e.sampling_reason_description||"N/A"}),de.jsx(u5,{label:"FVI Lot Qty",value:l5(e.fviLotQty),highlight:!0}),de.jsx(u5,{label:"General Sampling",value:l5(e.generalSamplingQty),highlight:!0}),de.jsx(u5,{label:"Crack Sampling",value:l5(e.crackSamplingQty),highlight:!0})]})]}),de.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[de.jsx("h4",{className:"text-sm font-bold text-purple-900 mb-2",children:"Product Information"}),de.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[de.jsx(u5,{label:"Lot No",value:e.lotno}),de.jsx(u5,{label:"Item No",value:e.itemno}),de.jsx(u5,{label:"Model",value:e.model}),de.jsx(u5,{label:"Version",value:e.version}),de.jsx(u5,{label:"Part Site",value:e.partsite}),de.jsx(u5,{label:"Round",value:e.samplingRound.toString()}),de.jsx(u5,{label:"FVI Line No",value:e.fvilineno}),de.jsx(u5,{label:"MC Line No",value:e.mclineno})]})]}),de.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[de.jsx("h4",{className:"text-sm font-bold text-indigo-900 mb-2",children:"Judgment & Audit"}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[de.jsxs("div",{children:[de.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"Final Judgment:"}),de.jsxs("div",{className:`inline-flex items-center space-x-2 px-3 py-1 rounded-full border text-xs font-medium mt-1 ${i5(e.judgment)}`,children:[o5(e.judgment),de.jsx("span",{className:"font-bold",children:p})]})]}),de.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[de.jsx(u5,{label:"Created At",value:c5(e.created_at)}),de.jsx(u5,{label:"Created By ",value:m?"Loading...":l||(e.created_by?`User ${e.created_by}`:"N/A")}),de.jsx(u5,{label:"Updated At",value:c5(e.updated_at)}),de.jsx(u5,{label:"Updated By",value:m?"Loading...":d||(e.updated_by?`User ${e.updated_by}`:"N/A")})]})]})]}),de.jsx(D2,{inspectionNo:e.inspectionNo,showHeader:!0,serviceType:i})]}),de.jsxs("div",{className:"flex justify-end space-x-2 px-4 py-3 border-t border-gray-200 bg-gray-50",children:[de.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 font-medium hover:bg-gray-100 transition-colors duration-200",onClick:r,children:"Close"}),n&&de.jsxs("button",{type:"button",className:`px-4 py-2 bg-gradient-to-r ${a.modalButton} text-white rounded-lg text-sm font-medium ${a.modalButtonHover} transition-all duration-200 flex items-center space-x-1`,onClick:n,children:[de.jsx(jg,{className:"h-4 w-4"}),de.jsx("span",{children:"Print"})]})]})]})})},u5=({label:e,value:t,highlight:r=!1})=>de.jsxs("div",{className:"flex flex-col",children:[de.jsxs("span",{className:"text-gray-500 font-medium mb-0.5",children:[e,":"]}),de.jsx("span",{className:""+(r?"font-bold text-blue-900":"text-gray-900 font-semibold"),children:t})]}),h5=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(xJ){return"Invalid Date"}},m5=e=>{switch(e){case"active":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},f5=e=>{switch(e){case"active":return de.jsx(fp,{className:"h-5 w-5 text-green-600"});case"completed":return de.jsx(fp,{className:"h-5 w-5 text-blue-600"});case"pending":return de.jsx(Tp,{className:"h-5 w-5 text-yellow-600"});default:return de.jsx(rg,{className:"h-5 w-5 text-gray-600"})}},p5=({lot:e,isOpen:t,onClose:r,onPrint:n,title:a="Lot Information",showPrintButton:s=!0})=>{if(!t||!e)return null;console.log(" LotInfoModal - Lot data:",e);const i=Array.isArray(e)?e[0]:e,o=(e,t)=>i[e]||i[t]||"N/A",l=o("LotNo","lotno"),c=o("ItemNo","itemno"),d=o("PartSite","partsite"),u=o("Model","model"),h=o("Version","version"),m=o("LineNo","lineno"),f=o("id","id"),p=i.InputDate||i.inputdate,g=i.FinishOn||i.finish_on,x=i.status;return de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:de.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[de.jsx("div",{className:"px-4 py-3 rounded-t-xl bg-gradient-to-r from-orange-500 to-amber-600",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx(Op,{className:"h-6 w-6 text-white"}),de.jsx("h3",{className:"text-xl font-bold text-white",children:a})]}),de.jsx("button",{onClick:r,className:"text-white hover:text-gray-200 transition-colors duration-200",children:de.jsx(ex,{className:"h-6 w-6"})})]})}),de.jsxs("div",{className:"p-4",children:[de.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-orange-50 to-amber-50 border-2 border-orange-300 rounded-lg",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[de.jsx(zg,{className:"h-4 w-4 text-orange-600"}),de.jsx("span",{className:"text-xs font-semibold text-orange-800",children:"Lot Number"})]}),de.jsx("div",{className:"text-2xl font-bold text-orange-900 font-mono tracking-wide",children:l})]}),x&&de.jsxs("div",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full border text-xs font-medium ${m5(x)}`,children:[f5(x),de.jsx("span",{className:"capitalize",children:x})]})]})}),de.jsxs("div",{className:"space-y-3",children:[de.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[de.jsxs("h4",{className:"text-sm font-bold text-gray-700 mb-2 flex items-center",children:[de.jsx(Pp,{className:"h-4 w-4 mr-1 text-blue-600"}),"Product Information"]}),de.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[de.jsx(g5,{label:"Item No",value:c}),de.jsx(g5,{label:"Part Site",value:d}),de.jsx(g5,{label:"Model",value:u}),de.jsx(g5,{label:"Version",value:h})]})]}),de.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[de.jsxs("h4",{className:"text-sm font-bold text-gray-700 mb-2 flex items-center",children:[de.jsx(ep,{className:"h-4 w-4 mr-1 text-green-600"}),"Production Information"]}),de.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[de.jsx(g5,{label:"Machine Line No",value:m}),de.jsx(g5,{label:"Lot ID",value:f}),de.jsx(g5,{label:"Input Date",value:h5(p)}),de.jsx(g5,{label:"Finish Date",value:h5(g)})]})]})]})]}),de.jsxs("div",{className:"flex justify-end space-x-2 px-4 py-3 border-t border-gray-200 bg-gray-50",children:[de.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 font-medium hover:bg-gray-100 transition-colors duration-200",onClick:r,children:"Close"}),s&&n&&de.jsxs("button",{type:"button",className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-amber-600 text-white rounded-lg text-sm font-medium hover:from-orange-600 hover:to-amber-700 transition-all duration-200 flex items-center space-x-1",onClick:n,children:[de.jsx(jg,{className:"h-4 w-4"}),de.jsx("span",{children:"Print"})]})]})]})})},g5=({label:e,value:t})=>de.jsxs("div",{className:"flex flex-col",children:[de.jsxs("span",{className:"text-gray-500 font-medium mb-0.5",children:[e,":"]}),de.jsx("span",{className:"text-gray-900 font-semibold",children:t})]});p5.displayName="LotInfoModal";const x5={OQA:{code:"OQA",name:"OQA",title:"OQA Sampling Lists",subtitle:"View OQA sampling inspection results",breadcrumbName:"Final visual inspection",newButtonLabel:"New OQA",pageRoute:"/inspection/oqa/new",theme:{background:"from-amber-50 via-orange-50 to-yellow-50",header:"from-amber-600 via-orange-600 to-yellow-600",headerBorder:"border-amber-100",subtitle:"text-amber-100",spinner:"border-amber-600",breadcrumb:"hover:text-amber-600",breadcrumbActive:"text-amber-600",focusRing:"focus:ring-amber-500 focus:border-amber-500",iconLegend:"text-amber-600",editButton:"text-amber-600 hover:bg-amber-50",editButtonHover:"text-amber-600",pagination:"bg-amber-600",modalButton:"from-amber-500 to-orange-600",modalButtonHover:"hover:from-amber-600 hover:to-orange-700",passRate:"from-amber-100 to-orange-100",passRateHeader:"text-amber-800",passRateText:"text-amber-600",photoIcon:"text-amber-600"}},OQA_CUSTOMER:{code:"OQA",name:"OQA",title:"OQA Sampling (Customer) Lists",subtitle:"View OQA sampling inspection results",breadcrumbName:"Final visual inspection",newButtonLabel:"New OQA",pageRoute:"/inspection/oqa/new",theme:{background:"from-violet-50 via-purple-50 to-fuchsia-50",header:"from-violet-600 via-purple-600 to-fuchsia-600",headerBorder:"border-violet-100",subtitle:"text-violet-100",spinner:"border-violet-600",breadcrumb:"hover:text-violet-600",breadcrumbActive:"text-violet-600",focusRing:"focus:ring-violet-500 focus:border-violet-500",iconLegend:"text-violet-600",editButton:"text-violet-600 hover:bg-violet-50",editButtonHover:"text-violet-600",pagination:"bg-violet-600",modalButton:"from-violet-500 to-purple-600",modalButtonHover:"hover:from-violet-600 hover:to-purple-700",passRate:"from-violet-100 to-purple-100",passRateHeader:"text-violet-800",passRateText:"text-violet-600",photoIcon:"text-violet-600"}},OBA:{code:"OBA",name:"OBA",title:"OBA Sampling Lists",subtitle:"View OBA sampling inspection results",breadcrumbName:"Final visual inspection",newButtonLabel:"New OBA",pageRoute:"/inspection/oba/new",theme:{background:"from-teal-50 via-cyan-50 to-emerald-50",header:"from-teal-600 via-cyan-600 to-emerald-600",headerBorder:"border-teal-100",subtitle:"text-teal-100",spinner:"border-teal-600",breadcrumb:"hover:text-teal-600",breadcrumbActive:"text-teal-600",focusRing:"focus:ring-teal-500 focus:border-teal-500",iconLegend:"text-teal-600",editButton:"text-teal-600 hover:bg-teal-50",editButtonHover:"text-teal-600",pagination:"bg-teal-600",modalButton:"from-teal-500 to-cyan-600",modalButtonHover:"hover:from-teal-600 hover:to-cyan-700",passRate:"from-teal-100 to-cyan-100",passRateHeader:"text-teal-800",passRateText:"text-teal-600",photoIcon:"text-teal-600"}},SIV:{code:"SIV",name:"SIV",title:"SIV Sampling Lists",subtitle:"View SIV sampling inspection results",breadcrumbName:"Final visual inspection",newButtonLabel:"New SIV",pageRoute:"/inspection/siv/new",theme:{background:"from-blue-50 via-indigo-50 to-purple-50",header:"from-blue-600 via-indigo-600 to-purple-600",headerBorder:"border-blue-100",subtitle:"text-blue-100",spinner:"border-blue-600",breadcrumb:"hover:text-blue-600",breadcrumbActive:"text-blue-600",focusRing:"focus:ring-blue-500 focus:border-blue-500",iconLegend:"text-blue-600",editButton:"text-blue-600 hover:bg-blue-50",editButtonHover:"text-blue-600",pagination:"bg-blue-600",modalButton:"from-blue-500 to-indigo-600",modalButtonHover:"hover:from-blue-600 hover:to-indigo-700",passRate:"from-blue-100 to-indigo-100",passRateHeader:"text-blue-800",passRateText:"text-blue-600",photoIcon:"text-blue-600"}}},b5=e=>e<=280?32:e<=500?48:e<=3200?72:e<=1e4?86:e<=35e3?108:e<=15e4?123:e<=5e5?156:189,v5=(e,t)=>{const r=b5(e),n=t>=r;return n||console.log(" AQL Validation Failed:",{fviLotQty:e,generalSamplingQty:t,minRequired:r,isValid:n,range:y5(e)}),n},y5=e=>e<=280?"0 - 280":e<=500?"281 - 500":e<=3200?"501 - 3,200":e<=1e4?"3,201 - 10,000":e<=35e3?"10,001 - 35,000":e<=15e4?"35,001 - 150,000":e<=5e5?"150,001 - 500,000":"> 500,000",w5=()=>{const e=Cm(),t=Nm(),r=s5.detectStationFromPath(t.pathname),n=x5[r]||x5.OQA,a=n.theme,[s,i]=ee.useState([]),[o,d]=ee.useState([]),[u,m]=ee.useState({dateStart:s5.getSevenDaysAgoDate(),dateEnd:s5.getTodayDate(),judgment:"all",lotno:"",model:"All"}),[f,p]=ee.useState(null),[g,x]=ee.useState(!0),[b,v]=ee.useState(!0),[y,w]=ee.useState(null),[j,N]=ee.useState(1),[S]=ee.useState(10),[k,C]=ee.useState(!1),[E,T]=ee.useState(null),[_,A]=ee.useState(""),[I,P]=ee.useState(!1),[D,O]=ee.useState(!1),[L,R]=ee.useState(null),[M,F]=ee.useState(null),[$,B]=ee.useState(!1),[U,z]=ee.useState(!1),[V,W]=ee.useState(null),[q,H]=ee.useState(!1),Q=I2(),{showSuccess:G,showError:Y,showWarning:K}=Ax();ee.useEffect(()=>{X()},[n.code]);const X=()=>h(void 0,null,function*(){var e;try{v(!0),w(null),console.log(` Fetching ${n.code} inspection data...`);const t=yield Z2.getAll({station:n.code,page:1,limit:1e3});if(console.log(" API Response:",t),t.success&&t.data){const r=t.data.data||[];console.log(" All inspection data:",r);const a=r.filter(e=>e.station===n.code);console.log(` Filtered ${n.code} records:`,a.length),console.log(" Sample record from API:",a[0]);const s=a.map(e=>({id:e.id.toString(),timestamp:new Date(e.inspection_date).toISOString(),inspectionDate:new Date(e.inspection_date),inspector:`QC${e.qc_id}`,model:`${e.model} ${e.version}`,samplingRound:e.round,fviLotQty:e.fvi_lot_qty||0,generalSamplingQty:e.general_sampling_qty||0,crackSamplingQty:e.crack_sampling_qty||0,sampling_reason_id:e.sampling_reason_id||0,sampling_reason_name:e.sampling_reason_name||"",sampling_reason_description:e.sampling_reason_description||"",judgment:null===e.judgment?null:e.judgment?"Pass":"Reject",lotno:e.lotno,itemno:e.itemno,inspectionNo:e.inspection_no,inspectionNoRef:e.inspection_no_ref,ww:e.ww,mclineno:e.mclineno,shift:e.shift,station:e.station,fy:e.fy,month_year:e.month_year,partsite:e.partsite,version:e.version,fvilineno:e.fvilineno,qc_id:e.qc_id,ng_num:e.ng_num||0,defect_num:e.defect_num||0,created_at:e.created_at?new Date(e.created_at):void 0,updated_at:e.updated_at?new Date(e.updated_at):void 0,created_by:e.created_by,updated_by:e.updated_by,defects:e.defects||[]}));console.log(" Transformed records:",s.length),console.log(" Sample transformed record:",s[0]),console.log(" Defects in first record:",null==(e=s[0])?void 0:e.defects),i(s),d(s)}else console.error(" API returned unsuccessful response:",t),w("Failed to load inspection data")}catch(t){console.error(" Error loading inspection data:",t),w("Failed to load inspection data")}finally{v(!1)}});ee.useEffect(()=>{let e=[...s];(u.dateStart||u.dateEnd)&&(e=e.filter(e=>{const t=new Date(e.timestamp);t.setHours(0,0,0,0);const r=u.dateStart?new Date(u.dateStart):null,n=u.dateEnd?new Date(u.dateEnd):null;return r&&r.setHours(0,0,0,0),n&&n.setHours(23,59,59,999),r&&n?t>=r&&t<=n:r?t>=r:!n||t<=n})),"all"!==u.judgment&&(e=e.filter(e=>{var t;return"pending"===u.judgment?null===e.judgment:(null==(t=e.judgment)?void 0:t.toLowerCase())===u.judgment})),u.lotno&&""!==u.lotno.trim()&&(e=e.filter(e=>e.lotno.toLowerCase().includes(u.lotno.toLowerCase().trim()))),"All"!==u.model&&(e=e.filter(e=>e.model===u.model)),d(e)},[u,s]);const Z=(e,t)=>{m(r=>c(l({},r),{[e]:t}))},J=e=>"Pass"===e?de.jsx(fp,{className:"h-5 w-5 text-green-600"}):"Reject"===e?de.jsx(ex,{className:"h-5 w-5 text-red-600"}):de.jsx(Wp,{className:"h-5 w-5 text-gray-400"}),te=ee.useMemo(()=>{const e=o.length,t=o.filter(e=>"Pass"===e.judgment).length,r=o.filter(e=>"Reject"===e.judgment).length,n=o.filter(e=>null===e.judgment).length,a=t+r,s=a>0?(t/a*100).toFixed(1):"0",i=o.filter(e=>{var t,r;return!v5(null!=(t=e.fviLotQty)?t:0,null!=(r=e.generalSamplingQty)?r:0)}).length;return{total:e,passed:t,rejected:r,pending:n,passRate:s,aqlWarnings:i}},[o]),re=ee.useMemo(()=>["All",...Array.from(new Set(s.map(e=>e.model))).sort()],[s]),ne=ee.useCallback(e=>{const t=u.lotno.trim();if(!t)return de.jsx("span",{children:e});const r=new RegExp(`(${t})`,"gi"),n=e.split(r);return de.jsx("span",{children:n.map((e,t)=>r.test(e)?de.jsx("span",{className:"bg-yellow-200 text-yellow-900 font-bold px-1 rounded",children:e},t):de.jsx("span",{children:e},t))})},[u.lotno]),ae=()=>{e(n.pageRoute)},se=j*S,ie=se-S,oe=o.slice(ie,se),le=Math.ceil(o.length/S),ce=e=>{N(e)};return de.jsx("div",{className:`min-h-screen bg-gradient-to-br ${a.background} p-6`,children:de.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[b&&de.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:`animate-spin rounded-full h-16 w-16 border-b-4 ${a.spinner} mx-auto mb-4`}),de.jsx("p",{className:"text-gray-600 font-medium",children:"Loading inspection data..."})]})}),y&&!b&&de.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx(ex,{className:"h-8 w-8 text-red-600"}),de.jsxs("div",{children:[de.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Error Loading Data"}),de.jsx("p",{className:"text-red-700",children:y})]})]}),de.jsx("button",{onClick:X,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Retry"})]}),!b&&!y&&de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 px-6 py-3",children:de.jsxs("nav",{className:"flex items-center space-x-2 text-sm",children:[de.jsxs("button",{onClick:()=>{e("/")},className:`flex items-center text-gray-600 ${a.breadcrumb} transition-colors duration-200`,children:[de.jsx(Zp,{className:"h-4 w-4 mr-1"}),"Home"]}),de.jsx(jp,{className:"h-4 w-4 text-gray-400"}),de.jsx("button",{onClick:ae,className:`text-gray-600 ${a.breadcrumb} transition-colors duration-200`,children:n.breadcrumbName}),de.jsx(jp,{className:"h-4 w-4 text-gray-400"}),de.jsx("span",{className:`${a.breadcrumbActive} font-semibold`,children:n.title})]})}),de.jsx("div",{className:`bg-white rounded-2xl shadow-xl border ${a.headerBorder} overflow-hidden`,children:de.jsx("div",{className:`bg-gradient-to-r ${a.header} p-6`,children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsx("button",{onClick:ae,className:"bg-white/20 backdrop-blur-sm rounded-xl p-3 hover:bg-white/30 transition-colors duration-200",title:`Back to ${n.name} Page`,children:de.jsx(yp,{className:"h-6 w-6 text-white"})}),de.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-3",children:de.jsx(Fp,{className:"h-10 w-10 text-white"})}),de.jsxs("div",{children:[de.jsx("h1",{className:"text-3xl font-bold text-white",children:n.title}),de.jsx("p",{className:`${a.subtitle} mt-1`,children:n.subtitle})]})]}),de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-4 py-3 border border-white/20 text-center min-w-[100px]",children:[de.jsx("div",{className:"text-white font-bold text-xl",children:TA(te.total.toString())}),de.jsx("div",{className:"text-white/70 text-xs",children:"Total"})]}),de.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-4 py-3 border border-white/20 text-center min-w-[100px]",children:[de.jsx("div",{className:"text-green-100 font-bold text-xl",children:TA(te.passed.toString())}),de.jsx("div",{className:"text-white/70 text-xs",children:"Passed"})]}),de.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-4 py-3 border border-white/20 text-center min-w-[100px]",children:[de.jsx("div",{className:"text-red-100 font-bold text-xl",children:TA(te.rejected.toString())}),de.jsx("div",{className:"text-white/70 text-xs",children:"Rejected"})]}),de.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-4 py-3 border border-white/20 text-center min-w-[100px]",children:[de.jsxs("div",{className:"text-yellow-100 font-bold text-xl",children:[TA(te.passRate,2),"%"]}),de.jsx("div",{className:"text-white/70 text-xs",children:"Pass Rate"})]}),te.aqlWarnings>0&&de.jsxs("div",{className:"bg-orange-500/20 backdrop-blur-sm rounded-xl px-4 py-3 border border-orange-400/30 text-center min-w-[100px]",children:[de.jsx("div",{className:"text-orange-100 font-bold text-xl",children:TA(te.aqlWarnings.toString())}),de.jsx("div",{className:"text-white/70 text-xs",children:" AQL Warnings"})]}),"SIV"!==r&&de.jsxs("button",{onClick:ae,className:"bg-white/20 backdrop-blur-sm rounded-xl px-4 py-3 hover:bg-white/30 transition-colors duration-200 flex items-center space-x-2",title:`Go to ${n.name} Page`,children:[de.jsx(Fp,{className:"h-5 w-5 text-white"}),de.jsx("span",{className:"text-white font-medium",children:n.newButtonLabel})]}),de.jsx("button",{onClick:()=>{try{if(0===o.length)return void K("No Data","No records to export. Please adjust your filters.");const e=[{key:"no",header:"No.",width:5},{key:"station",header:"Station",width:10},{key:"inspectionNo",header:"Sampling No",width:20},{key:"inspectionNoRef",header:"Sampling No Ref",width:20},{key:"inspectionDate",header:"Sampling Date",width:15,formatter:EA.date},{key:"ww",header:"WW",width:8},{key:"shift",header:"Shift",width:8},{key:"lotno",header:"Lot No",width:15},{key:"mclineno",header:"MC Line No",width:12},{key:"itemno",header:"Item No",width:15},{key:"model",header:"Model",width:20},{key:"samplingRound",header:"Round",width:8},{key:"fviLotQty",header:"FVI Lot Qty",width:12},{key:"generalSamplingQty",header:"General Sampling Qty",width:18},{key:"crackSamplingQty",header:"Crack Sampling Qty",width:18},{key:"judgment",header:"Judgment",width:10},{key:"inspector",header:"Inspector",width:12}],t=o.map((e,t)=>({no:t+1,station:n.code,inspectionNo:e.inspectionNo,inspectionNoRef:e.inspectionNoRef||"",inspectionDate:e.inspectionDate,ww:e.ww,shift:e.shift,lotno:e.lotno,mclineno:e.mclineno,itemno:e.itemno,model:e.model,samplingRound:e.samplingRound,fviLotQty:e.fviLotQty,generalSamplingQty:e.generalSamplingQty,crackSamplingQty:e.crackSamplingQty,judgment:e.judgment,inspector:e.inspector})),r=(new Date).toISOString().replace(/[:.]/g,"-").slice(0,-5),a=`${n.code}_Inspection_Records_${r}`;CA(t,{filename:a,sheetName:`${n.code} Inspections`,columns:e,autoWidth:!0}),Q.playSuccess(),G("Export Successful",`${o.length} records exported to ${a}.xlsx`),console.log(` Exported ${o.length} records to ${a}.xlsx`)}catch(e){console.error(" Export error:",e),Q.playError(),Y("Export Failed",e instanceof Error?e.message:"Failed to export records")}},className:"bg-white/20 backdrop-blur-sm rounded-xl p-3 hover:bg-white/30 transition-colors duration-200",title:"Export Results",children:de.jsx(Ff,{className:"h-6 w-6 text-white"})})]})]})})}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"bg-gradient-to-r from-orange-100 to-amber-100 px-6 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("h3",{className:"text-lg font-bold text-orange-800",children:"Filters"}),de.jsx("button",{onClick:()=>x(!g),className:"text-orange-600 hover:text-orange-800 transition-colors duration-200",children:de.jsx(Kp,{className:"h-6 w-6"})})]})}),g&&de.jsx("div",{className:"p-6",children:de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date Start"}),de.jsx("input",{type:"date",className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${a.focusRing}`,value:u.dateStart,onChange:e=>Z("dateStart",e.target.value)})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date End"}),de.jsx("input",{type:"date",className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${a.focusRing}`,value:u.dateEnd,onChange:e=>Z("dateEnd",e.target.value)})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Judgment"}),de.jsxs("select",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${a.focusRing}`,value:u.judgment,onChange:e=>Z("judgment",e.target.value),children:[de.jsx("option",{value:"all",children:"All Results"}),de.jsx("option",{value:"pass",children:"Pass Only"}),de.jsx("option",{value:"reject",children:"Reject Only"}),de.jsx("option",{value:"pending",children:"Pending Only"})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Model"}),de.jsx("select",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${a.focusRing}`,value:u.model,onChange:e=>Z("model",e.target.value),children:re.map(e=>de.jsx("option",{value:e,children:e},e))})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Lot No"}),de.jsx("input",{type:"text",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${u.lotno.trim()?"border-blue-400 bg-blue-50 text-blue-900 font-semibold ring-2 ring-blue-200":"border-gray-300 bg-white"} ${a.focusRing}`,value:u.lotno,onChange:e=>Z("lotno",e.target.value),placeholder:"Search lot number..."})]})]})})]}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"bg-gradient-to-r from-slate-100 to-gray-100 px-6 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Inspection Records"}),de.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[de.jsxs("span",{className:"flex items-center",children:[de.jsx(gg,{className:`h-4 w-4 mr-1 ${a.iconLegend}`})," Edit"]}),de.jsxs("span",{className:"flex items-center",children:[de.jsx(Wg,{className:"h-4 w-4 mr-1 text-red-600"})," Delete"]}),de.jsxs("span",{className:"flex items-center",children:[de.jsx(Fp,{className:"h-4 w-4 mr-1"})," Details"]}),de.jsxs("span",{className:"flex items-center",children:[de.jsx(Wp,{className:"h-4 w-4 mr-1 text-orange-600"})," Input Defect"]}),"OQA"===n.code&&de.jsxs("span",{className:"flex items-center",children:[de.jsx(Sp,{className:"h-4 w-4 mr-1 text-green-600"})," Generate SIV"]}),de.jsxs("span",{className:"flex items-center text-red-600",children:[de.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-red-100 border border-red-200 mr-1",children:" AQL"})," Below Minimum Sampling"]})]})]})}),de.jsx("div",{className:"overflow-x-auto",children:de.jsxs("table",{className:"w-full",children:[de.jsx("thead",{className:"bg-gray-50",children:de.jsxs("tr",{children:[de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"No."}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Sampling No"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Sampling Date"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Lot No"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Item No"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Round"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Quantities"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),de.jsx("tbody",{className:"divide-y divide-gray-200",children:oe.map((t,r)=>{var s,i,o,l,c,d,u,m;return de.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[de.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ie+r+1}),de.jsxs("td",{className:"px-6 py-4 text-sm",children:[de.jsx("div",{className:"font-medium text-gray-900",children:t.inspectionNo}),"SIV"===n.code&&de.jsx("div",{className:"text-xs text-blue-600 mt-1",children:t.inspectionNoRef})]}),de.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx(lp,{className:"h-4 w-4 text-gray-400"}),de.jsx("span",{children:new Date(t.inspectionDate).toLocaleDateString()})]}),de.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["WW: ",t.ww]}),t.sampling_reason_description&&de.jsx("div",{className:"text-xs text-orange-500 mt-1",children:t.sampling_reason_description})]}),de.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:de.jsxs("button",{onClick:()=>{return e=t.lotno,h(void 0,null,function*(){try{H(!0);const t=yield s5.getLotDetails(e);t?(W(t),z(!0),Q.playSelect()):K("Lot Not Found",`No lot information found for lot number: ${e}`)}catch(t){console.error(" Error fetching lot details:",t),Y("Error",`Failed to fetch lot details: ${t instanceof Error?t.message:"Unknown error"}`)}finally{H(!1)}});var e},disabled:q,className:"text-left hover:bg-blue-50 rounded px-2 py-1 -mx-2 transition-all duration-200 group disabled:opacity-50 disabled:cursor-not-allowed",title:"Click to view lot details",children:[de.jsxs("div",{className:"text-blue-600 hover:text-blue-800 font-medium group-hover:underline flex items-center",children:[ne(t.lotno),de.jsx("svg",{className:"h-4 w-4 ml-1 opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})]}),de.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["MC Line No. ",t.mclineno]})]})}),de.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[de.jsx("div",{children:t.itemno}),de.jsx("div",{className:"text-xs text-gray-900 font-medium mt-1",children:t.model})]}),de.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:t.samplingRound}),de.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:de.jsxs("div",{className:"space-y-1",children:[de.jsxs("div",{children:["FVI: ",TA((null!=(s=t.fviLotQty)?s:0).toString())]}),de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsxs("span",{children:["Gen: ",TA((null!=(i=t.generalSamplingQty)?i:0).toString())]}),!v5(null!=(o=t.fviLotQty)?o:0,null!=(l=t.generalSamplingQty)?l:0)&&de.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 border border-red-200",title:`AQL Warning: FVI Lot ${y5(null!=(c=t.fviLotQty)?c:0)} requires minimum ${b5(null!=(d=t.fviLotQty)?d:0)} samples`,children:" AQL"})]}),de.jsxs("div",{children:["Crack: ",TA((null!=(u=t.crackSamplingQty)?u:0).toString())]})]})}),de.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[de.jsxs("div",{className:`inline-flex items-center space-x-2 px-3 py-1 rounded-full border text-sm font-medium ${m=t.judgment,s5.getStatusColor(m||"")}`,children:[J(t.judgment),de.jsx("span",{children:t.judgment||""})]}),"Reject"===t.judgment&&de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"text-xs text-red-600 mt-1",children:de.jsxs("span",{children:["Defect: ",t.defect_num]})}),de.jsx("div",{className:"text-xs text-red-600 mt-1",children:de.jsxs("span",{children:["NG: ",t.ng_num]})})]})]}),de.jsx("td",{className:"px-6 py-4",children:de.jsxs("div",{className:"flex flex-col space-y-2",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("button",{onClick:()=>(t=>{console.log("Edit record:",t),e(n.pageRoute,{state:{editMode:!0,inspectionId:t.id,inspectionData:{inspection_no:t.inspectionNo,inspection_date:t.inspectionDate,shift:t.shift,lotno:t.lotno,itemno:t.itemno,model:t.model,fviLotQty:t.fviLotQty,generalSamplingQty:t.generalSamplingQty,crackSamplingQty:t.crackSamplingQty,judgment:t.judgment,round:t.samplingRound}}})})(t),className:`p-2 ${a.editButton} rounded-lg transition-colors duration-200`,title:"Edit",children:de.jsx(gg,{className:"h-5 w-5"})}),de.jsx("button",{onClick:()=>(e=>{T(e),C(!0)})(t),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Delete",children:de.jsx(Wg,{className:"h-5 w-5"})})]}),de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("button",{onClick:()=>p(t),className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors duration-200",title:"View Details",children:de.jsx(Fp,{className:"h-5 w-5"})}),"Reject"===t.judgment&&de.jsx("button",{onClick:()=>(t=>{console.log("Input defect for record:",t),e("/inspection/defect/new",{state:{inspectionData:{inspection_no:t.inspectionNo,lotno:t.lotno,itemno:t.itemno,model:t.model,shift:t.shift,inspection_date:t.inspectionDate,fvi_lot_qty:t.fviLotQty,general_sampling_qty:t.generalSamplingQty,crack_sampling_qty:t.crackSamplingQty,judgment:t.judgment,round:t.samplingRound,fvilineno:t.fvilineno||"",station:n.code}}})})(t),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors duration-200",title:"Input Defect",children:de.jsx(Wp,{className:"h-5 w-5"})}),"OQA"===n.code&&"Pass"===t.judgment&&de.jsx("button",{onClick:()=>(e=>h(void 0,null,function*(){try{if(!s5.canCreateSIV(e,n.code))return Q.playWarning(),void("OQA"!==n.code?K("Invalid Station",`SIV inspection can only be created from OQA station.\n\nCurrent station: ${n.code}`):K("Invalid Judgment","SIV inspection can only be created from OQA inspections with Pass judgment."));console.log(" Generating SIV from OQA inspection:",e.id),R(e),P(!0)}catch(t){console.error(" Error preparing SIV creation:",t),Q.playError(),Y("Error",t instanceof Error?t.message:"Failed to prepare SIV creation")}}))(t),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors duration-200",title:"Generate SIV (OQA Pass only)",children:de.jsx(Sp,{className:"h-5 w-5"})})]})]})})]},t.id)})})]})}),0===o.length&&!b&&de.jsxs("div",{className:"text-center py-12",children:[de.jsx(Fp,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),de.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Records Found"}),de.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters to see more results."})]}),o.length>0&&de.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",de.jsx("span",{className:"font-medium",children:ie+1})," to"," ",de.jsx("span",{className:"font-medium",children:Math.min(se,o.length)})," of"," ",de.jsx("span",{className:"font-medium",children:o.length})," results"]}),de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("button",{onClick:()=>ce(j-1),disabled:1===j,className:"p-2 rounded-lg "+(1===j?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-200 transition-colors duration-200"),children:de.jsx(yp,{className:"h-5 w-5"})}),Array.from({length:le},(e,t)=>t+1).map(e=>de.jsx("button",{onClick:()=>ce(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 "+(j===e?`${a.pagination} text-white`:"text-gray-700 hover:bg-gray-200"),children:e},e)),de.jsx("button",{onClick:()=>ce(j+1),disabled:j===le,className:"p-2 rounded-lg "+(j===le?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-200 transition-colors duration-200"),children:de.jsx(jp,{className:"h-5 w-5"})})]})]})})]}),te.aqlWarnings>0&&de.jsx("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:de.jsxs("div",{className:"flex items-start space-x-2",children:[de.jsx(Wp,{className:"h-5 w-5 text-red-500 mt-0.5"}),de.jsxs("div",{className:"flex-1",children:[de.jsxs("h4",{className:"text-sm font-bold text-red-800 mb-3",children:["AQL Sampling Warnings (",te.aqlWarnings," ",1===te.aqlWarnings?"record":"records",")"]}),de.jsx("p",{className:"text-sm text-red-700 mb-3",children:"The following records have General Sampling Quantity below the minimum AQL requirements:"}),de.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.filter(e=>{var t,r;return!v5(null!=(t=e.fviLotQty)?t:0,null!=(r=e.generalSamplingQty)?r:0)}).map((e,t)=>{var r,n,a,s;return de.jsx("div",{className:"bg-white border border-red-200 rounded p-3 text-sm",children:de.jsx("div",{className:"flex justify-between items-start",children:de.jsxs("div",{className:"space-y-1",children:[de.jsxs("div",{className:"font-medium text-red-900",children:[t+1,". Sampling No: ",de.jsx("span",{className:"font-bold",children:e.inspectionNo})]}),de.jsxs("div",{className:"text-red-700",children:["Lot No: ",e.lotno," | Item: ",e.itemno," | Model: ",e.model]}),de.jsxs("div",{className:"text-red-600 text-xs mt-1 flex items-center space-x-4",children:[de.jsxs("span",{children:["FVI Lot Qty: ",de.jsx("strong",{children:TA((null!=(r=e.fviLotQty)?r:0).toString())})]}),de.jsxs("span",{children:["General Sampling: ",de.jsx("strong",{className:"text-red-700",children:TA((null!=(n=e.generalSamplingQty)?n:0).toString())})]}),de.jsxs("span",{className:"text-red-800 font-semibold",children:[" Required: ",b5(null!=(a=e.fviLotQty)?a:0)]})]}),de.jsxs("div",{className:"text-xs text-red-500 mt-1",children:["AQL Range: ",y5(null!=(s=e.fviLotQty)?s:0)," units"]})]})})},e.id)})}),de.jsxs("div",{className:"mt-3 p-3 bg-red-100 rounded text-xs text-red-800",children:[de.jsx("strong",{children:"Note:"})," AQL (Acceptable Quality Level) sampling requirements ensure statistically valid quality inspections. Please verify sampling quantities meet the minimum requirements for the FVI lot size."]})]})]})}),de.jsx(d5,{record:f,isOpen:!!f,onClose:()=>p(null),onPrint:()=>{window.print()},theme:a,stationCode:n.code}),de.jsx(p5,{lot:V,isOpen:U,onClose:()=>{z(!1),W(null)},onPrint:()=>window.print(),title:"Lot Information",showPrintButton:!0}),k&&E&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:de.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[de.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-red-500 to-rose-600 rounded-t-2xl",children:de.jsx("h3",{className:"text-2xl font-bold text-white",children:"Confirm Delete"})}),de.jsxs("div",{className:"p-6",children:[de.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx(Wg,{className:"h-12 w-12 text-red-600"})}),de.jsxs("div",{children:[de.jsx("p",{className:"text-gray-900 font-medium",children:"Are you sure you want to delete this inspection record?"}),de.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Inspection: ",E.inspectionNo]}),de.jsx("p",{className:"text-red-600 text-sm mt-2 font-medium",children:"This action cannot be undone."})]})]}),de.jsxs("div",{className:"flex justify-end space-x-4",children:[de.jsx("button",{onClick:()=>{C(!1),T(null)},className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-semibold hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){if(E)try{console.log("Deleting record:",E.id);const e=parseInt(E.id.replace(/\D/g,"")),t=yield Z2.delete(e);t.success?(yield X(),C(!1),T(null),Q.playDelete(),G("Deleted Successfully",`Inspection record ${E.inspectionNo} has been deleted.`)):(Q.playError(),Y("Delete Failed",t.message||"Failed to delete inspection record. Please try again."))}catch(e){console.error("Error deleting record:",e),Q.playError(),Y("Delete Error",e instanceof Error?e.message:"An error occurred while deleting the inspection record.")}}),className:"px-6 py-3 bg-gradient-to-r from-red-500 to-rose-600 text-white rounded-lg font-semibold hover:from-red-600 hover:to-rose-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Delete"})]})]})]})}),I&&L&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[de.jsx(Sp,{className:"w-8 h-8 text-blue-500 mr-3"}),de.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Create SIV Inspection"})]}),de.jsxs("p",{className:"text-gray-700 mb-4",children:["Create SIV inspection from OQA inspection ",de.jsx("span",{className:"font-semibold",children:L.inspectionNo}),"?"]}),de.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:de.jsxs("div",{className:"space-y-2 text-sm",children:[de.jsxs("div",{className:"flex justify-between",children:[de.jsx("span",{className:"text-gray-600",children:"Lot No:"}),de.jsx("span",{className:"font-semibold text-gray-900",children:L.lotno})]}),de.jsxs("div",{className:"flex justify-between",children:[de.jsx("span",{className:"text-gray-600",children:"Model:"}),de.jsx("span",{className:"font-semibold text-gray-900",children:L.model})]}),de.jsxs("div",{className:"flex justify-between",children:[de.jsx("span",{className:"text-gray-600",children:"Judgment:"}),de.jsx("span",{className:"font-semibold "+("Pass"===L.judgment?"text-green-600":"Reject"===L.judgment?"text-red-600":"text-gray-600"),children:L.judgment||"Pending"})]})]})}),de.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-6",children:de.jsxs("p",{className:"text-xs text-amber-800",children:[de.jsx("strong",{children:"Note:"})," Only Pass OQA inspections can create SIV records."]})}),de.jsxs("div",{className:"flex gap-3 justify-end",children:[de.jsx("button",{onClick:()=>{P(!1),R(null)},disabled:$,className:"px-5 py-2.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){if(L)try{B(!0);const e=yield s5.createSIVFromOQA(L.id,n.code,L.judgment);e.success?(Q.playImportant(),X()):Q.playError(),F(e)}catch(e){console.error(" Error creating SIV:",e),Q.playError(),F({success:!1,message:e instanceof Error?e.message:"Network error occurred"})}finally{B(!1),P(!1),O(!0)}}),disabled:$,className:"px-5 py-2.5 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 font-medium shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:$?de.jsxs(de.Fragment,{children:[de.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[de.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),de.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Yes, Create SIV"})]})]})}),D&&M&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[M.success?de.jsx(fp,{className:"w-8 h-8 text-green-500 mr-3"}):de.jsx(ex,{className:"w-8 h-8 text-red-500 mr-3"}),de.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:M.success?"Success":"Failed"})]}),de.jsx("p",{className:"text-lg mb-4 "+(M.success?"text-green-700":"text-red-700"),children:M.message}),M.success&&M.inspectionNo&&de.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:de.jsxs("div",{className:"text-sm",children:[de.jsx("span",{className:"text-gray-600",children:"SIV Sampling No:"}),de.jsx("span",{className:"ml-2 font-bold text-green-800 text-base",children:M.inspectionNo})]})}),de.jsx("div",{className:"flex justify-end",children:de.jsx("button",{onClick:()=>{O(!1),F(null),R(null)},className:"px-6 py-2.5 rounded-lg font-medium transition-all duration-200 "+(M.success?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 shadow-lg":"bg-gradient-to-r from-red-500 to-rose-600 text-white hover:from-red-600 hover:to-rose-700 shadow-lg"),children:"OK"})})]})})]})]})})},j5=["FW","Date","Shift for Shift","Expense","Re-Expense","QC Owner","MODEL","ITEM","TELEX","SUPPLIER","DESCR","QTY","SUPPLIER DO","REMARK","PO#","SBR#","DISPOSITION CODE","RECEIPT_DATE","AGE","Warehouse","Building","Business Unit","Std Case Quantity","LPN","Ref Code(Order Marking)","Lot No","Data on Web","Inspec","Rej.","Defect","Vender"],N5=e=>{if(!e)return null;try{if("string"==typeof e)return e.trim()||null;if("number"==typeof e){const t=new Date(1899,11,30),r=new Date(t.getTime()+24*e*60*60*1e3);return isNaN(r.getTime())?null:r.toISOString().split("T")[0]}const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString().split("T")[0]}catch(t){return null}},S5=e=>{if(null==e||""===e)return null;const t=parseInt(e);return isNaN(t)?null:t},k5=e=>h(void 0,null,function*(){const t=oA(yield e.arrayBuffer()),r=t.Sheets[t.SheetNames[0]],n=kA.sheet_to_json(r);if(0===n.length)throw new Error("The uploaded Excel file is empty. Please use the IQA_Template.xlsx file and add data rows.");const a=n[0],s=(e=>{const t=[],r=[];e.length!==j5.length&&t.push(`Expected ${j5.length} columns but found ${e.length}`);for(let n=0;n<j5.length;n++)e[n]!==j5[n]&&(r.push({column:n+1,expected:j5[n],actual:e[n]||"(missing)"}),t.push(`Column ${n+1}: Expected "${j5[n]}" but found "${e[n]||"(missing)"}"`));return{isValid:0===t.length,errors:t,expectedCount:j5.length,actualCount:e.length,mismatches:r}})(Object.keys(a));if(!s.isValid)throw new Error(`Invalid file format. Header columns do not match:\n${s.errors.join("\n")}\n\nPlease use the IQA_Template.xlsx file.`);return n.map(e=>{const t=Object.keys(e);return{fw:e[t[0]]||null,date_iqa:N5(e[t[1]]),shift_to_shift:e[t[2]]||null,expense:e[t[3]]||null,re_expense:e[t[4]]||null,qc_owner:e[t[5]]||null,model:e[t[6]]||null,item:e[t[7]]||null,telex:e[t[8]]||null,supplier:e[t[9]]||null,descr:e[t[10]]||null,location:null,qty:S5(e[t[11]]),supplier_do:e[t[12]]||null,remark:e[t[13]]||null,po:e[t[14]]||null,sbr:e[t[15]]||null,disposition_code:e[t[16]]||null,receipt_date:N5(e[t[17]]),age:S5(e[t[18]]),warehouse:e[t[19]]||null,building:e[t[20]]||null,business_unit:e[t[21]]||null,std_case_qty:S5(e[t[22]]),lpn:S5(e[t[23]]),ref_code:e[t[24]]||null,lotno:e[t[25]]||null,data_on_web:e[t[26]]||null,inspec:S5(e[t[27]]),rej:S5(e[t[28]]),defect:e[t[29]]||null,vender:e[t[30]]||null}}).filter(e=>null!==e.lotno&&""!==e.lotno)});const C5=new class{constructor(){u(this,"baseUrl",Ef("iqadata")),u(this,"defectBaseUrl",Ef("defectdata-iqa"))}makeRequest(e){return h(this,arguments,function*(e,t={}){try{console.log(` IQA Service - Making request: ${t.method||"GET"} ${e}`);const r=yield fetch(e,l({headers:l({"Content-Type":"application/json"},t.headers),credentials:"include"},t));if(console.log(` IQA Service - Response status: ${r.status} ${r.statusText}`),!r.ok)return console.error(` IQA Service - HTTP Error: ${r.status} ${r.statusText}`),{success:!1,message:`HTTP ${r.status}: ${r.statusText}`};const n=yield r.json();return console.log(" IQA Service - Response data:",n),n}catch(r){return console.error(" IQA Service - Network error:",r),{success:!1,message:r instanceof Error?r.message:"Network error occurred"}}})}buildQueryString(e){const t=new URLSearchParams;return Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,String(r))}),t.toString()}getAll(e,t){return h(this,null,function*(){const r=l(l({},e),t),n=this.buildQueryString(r),a=n?`${this.baseUrl}?${n}`:this.baseUrl;return this.makeRequest(a)})}getById(e){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/${e}`)})}create(e){return h(this,null,function*(){return this.makeRequest(this.baseUrl,{method:"POST",body:JSON.stringify(e)})})}bulkImport(e){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/bulk-import`,{method:"POST",body:JSON.stringify({records:e})})})}delete(e){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/${e}`,{method:"DELETE"})})}bulkDelete(e){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/bulk-delete`,{method:"POST",body:JSON.stringify({ids:e})})})}getFilterOptions(){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/filter-options`)})}getDistinctFY(){return h(this,null,function*(){try{console.log(" IQA Service - Fetching distinct FY values...");const e=yield fetch(`${this.baseUrl}/distinct-fy`,{credentials:"include"});if(!e.ok)return console.error(` IQA Service - HTTP Error: ${e.status}`),{success:!1,message:`HTTP ${e.status}: ${e.statusText}`};const t=yield e.json();return console.log(" IQA Service - FY Options loaded:",t),{success:t.success||!0,data:t.data||[]}}catch(e){return console.error(" IQA Service - Error loading FY options:",e),{success:!1,message:e instanceof Error?e.message:"Network error occurred",data:[]}}})}getDistinctWW(e){return h(this,null,function*(){try{console.log(" IQA Service - Fetching distinct WW values...");const t=e?`${this.baseUrl}/distinct-ww?fy=${encodeURIComponent(e)}`:`${this.baseUrl}/distinct-ww`,r=yield fetch(t,{credentials:"include"});if(!r.ok)return console.error(` IQA Service - HTTP Error: ${r.status}`),{success:!1,message:`HTTP ${r.status}: ${r.statusText}`};const n=yield r.json();return console.log(" IQA Service - WW Options loaded:",n),{success:n.success||!0,data:n.data||[]}}catch(t){return console.error(" IQA Service - Error loading WW options:",t),{success:!1,message:t instanceof Error?t.message:"Network error occurred",data:[]}}})}submitDefect(e){return h(this,null,function*(){const t=new FormData;t.append("iqa_id",String(e.iqa_id)),t.append("defect_id",String(e.defect_id)),t.append("defect_description",e.defect_description),e.images&&e.images.forEach(e=>{t.append("images",e)});try{const e=yield fetch(`${this.baseUrl}/defect`,{method:"POST",credentials:"include",body:t});if(!e.ok)return{success:!1,message:`HTTP ${e.status}: ${e.statusText}`};return yield e.json()}catch(r){return console.error(" IQA Service - Defect submission error:",r),{success:!1,message:r instanceof Error?r.message:"Network error occurred"}}})}getDefectsByIQAId(e){return h(this,null,function*(){return this.makeRequest(`${this.baseUrl}/${e}/defects`)})}getSavedDefectData(e){return h(this,null,function*(){try{console.log(" IQA Service - Loading saved defect data for IQA ID:",e);const t=yield fetch(`${this.defectBaseUrl}/iqa/${e}`,{credentials:"include"}),r=yield t.json();return r.success&&r.data?(console.log(" IQA Service - Loaded saved defect data:",r.data),{success:!0,data:r.data}):(console.error(" IQA Service - Failed to load saved defect data:",r.message),{success:!1,message:r.message||"Failed to load saved defect data",data:[]})}catch(t){return console.error(" IQA Service - Error loading saved defect data:",t),{success:!1,message:t instanceof Error?t.message:"Network error occurred",data:[]}}})}submitBulkDefect(e,t,r,n){return h(this,null,function*(){try{console.log(" IQA Service - Submitting bulk defect data...");const a=new FormData;a.append("defect_id",e.toString()),a.append("defect_description",t),a.append("iqaid",r.toString()),n.forEach(e=>{a.append("images",e)}),console.log(" IQA Service - Defect submission data:",{defect_id:e,defect_description:t,iqaid:r,image_count:n.length});const s=yield fetch(`${this.defectBaseUrl}/bulk`,{method:"POST",credentials:"include",body:a});console.log(" IQA Service - Response status:",s.status);const i=yield s.json();return i.success?(console.log(" IQA Service - Defect data submitted successfully"),{success:!0,message:i.message||"Defect data submitted successfully",data:i.data}):(console.error(" IQA Service - Defect submission failed:",i.message),{success:!1,message:i.message||"Failed to submit defect data"})}catch(a){return console.error(" IQA Service - Error submitting defect data:",a),{success:!1,message:a instanceof Error?a.message:"Network error occurred"}}})}};const E5=new class{constructor(){u(this,"audioContext",null)}getAudioContext(){if(!this.audioContext&&"undefined"!=typeof window)try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(e){return console.warn("AudioContext not supported:",e),null}return this.audioContext}playSuccess(){const e=this.getAudioContext();if(!e)return;const t=e.currentTime;this.playTone(e,523.25,t,.1,.15),this.playTone(e,659.25,t+.1,.1,.15)}playError(){const e=this.getAudioContext();if(!e)return;const t=e.currentTime;this.playTone(e,200,t,.2,.2,"sawtooth")}playWarning(){const e=this.getAudioContext();if(!e)return;const t=e.currentTime;this.playTone(e,440,t,.15,.15)}playInfo(){const e=this.getAudioContext();if(!e)return;const t=e.currentTime;this.playTone(e,587.33,t,.08,.1)}playTone(e,t,r,n,a=.1,s="sine"){try{const i=e.createOscillator();i.type=s,i.frequency.setValueAtTime(t,r);const o=e.createGain();o.gain.setValueAtTime(0,r),o.gain.linearRampToValueAtTime(a,r+.01),o.gain.exponentialRampToValueAtTime(.01,r+n),i.connect(o),o.connect(e.destination),i.start(r),i.stop(r+n)}catch(i){console.warn("Error playing tone:",i)}}play(e){switch(e){case"success":this.playSuccess();break;case"error":this.playError();break;case"warning":this.playWarning();break;case"info":this.playInfo();break;default:console.warn("Unknown sound type:",e)}}},T5=({isOpen:e,onClose:t,title:r,children:n,size:a="md",className:s="",headerClassName:i="",titleClassName:o="",contentClassName:l="",closeButtonClassName:c="",backdropClassName:d="",showCloseButton:u=!0,closeOnBackdropClick:h=!0,closeOnEscape:m=!0,icon:f,subtitle:p,footer:g,loading:x=!1,variant:b="default"})=>{if(ee.useEffect(()=>{const r=e=>{"Escape"===e.key&&m&&!x&&t()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,t,m,x]),!e)return null;const v={default:{header:"bg-gradient-to-r from-slate-50 to-gray-50 border-gray-200",title:"text-gray-900",icon:"text-gray-500"},success:{header:"bg-gradient-to-r from-emerald-50 to-green-50 border-emerald-200",title:"text-emerald-900",icon:"text-emerald-500"},warning:{header:"bg-gradient-to-r from-amber-50 to-yellow-50 border-amber-200",title:"text-amber-900",icon:"text-amber-500"},error:{header:"bg-gradient-to-r from-red-50 to-rose-50 border-red-200",title:"text-red-900",icon:"text-red-500"},info:{header:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",title:"text-blue-900",icon:"text-blue-500"}}[b],y=`flex items-center justify-between px-6 py-5 border-b backdrop-blur-sm ${v.header}`,w=`text-xl font-bold ${v.title}`,j=()=>de.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50 rounded-2xl",children:de.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"w-12 h-12 border-4 border-orange-200 rounded-full animate-pulse"}),de.jsx("div",{className:"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full animate-spin absolute top-0 left-0"})]}),de.jsx("p",{className:"text-sm font-medium text-gray-600 animate-pulse",children:"Processing..."})]})}),N=de.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto p-4 sm:p-6",children:de.jsxs("div",{className:"flex min-h-full items-center justify-center",children:[de.jsx("div",{className:`fixed inset-0 bg-gradient-to-br from-gray-900/50 via-gray-900/25 to-slate-900/50 backdrop-blur-md transition-all duration-300 ${d}`,onClick:()=>{h&&!x&&t()}}),de.jsx("div",{className:`\n            relative transform transition-all duration-300 ease-out\n            ${e?"scale-100 opacity-100":"scale-95 opacity-0"}\n            w-full ${{xs:"max-w-xs",sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-6xl","3xl":"max-w-7xl","4xl":"max-w-[90vw]",full:"max-w-[95vw] max-h-[95vh]",half:"max-w-[50vw]"}[a]} ${s}\n          `,onClick:e=>e.stopPropagation(),children:de.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl ring-1 ring-gray-200/50 overflow-hidden",children:[de.jsxs("div",{className:`${y} ${i}`,children:[de.jsxs("div",{className:"flex items-center space-x-4 min-w-0 flex-1",children:[f&&de.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-xl bg-white/50 flex items-center justify-center ${v.icon}`,children:f}),de.jsxs("div",{className:"min-w-0 flex-1",children:[de.jsx("h3",{className:`${w} ${o} truncate`,children:r}),p&&de.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1 truncate",children:p})]})]}),u&&de.jsx("div",{className:"flex-shrink-0 ml-4",children:de.jsx("button",{type:"button",className:`text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 p-2.5 rounded-xl hover:bg-white/50 active:scale-95 ${c}`,onClick:t,disabled:x,"aria-label":"Close modal",children:de.jsx(rx,{className:"h-5 w-5"})})})]}),de.jsxs("div",{className:`bg-white relative ${l}`,children:[x&&de.jsx(j,{}),de.jsx("div",{className:""+(x?"pointer-events-none":""),children:n})]}),g&&de.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-slate-50 border-t border-gray-200",children:g})]})})]})});return bu.createPortal(N,document.body)},_5=({items:e,className:t=""})=>de.jsx("nav",{className:`flex ${t}`,"aria-label":"Breadcrumb",children:de.jsx("ol",{className:"flex items-center space-x-2",children:e.map((t,r)=>de.jsxs("li",{className:"flex items-center",children:[t.href?de.jsx(gf,{to:t.href,className:"text-primary-600 hover:text-primary-700 hover:underline transition-colors duration-200 text-sm font-medium",children:t.label}):de.jsx("span",{className:"text-text-secondary text-sm font-medium",children:t.label}),r<e.length-1&&de.jsx("svg",{className:"mx-2 w-4 h-4 text-text-muted flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},r))})}),A5=e=>{var t=e,{variant:r="primary",size:n="md",isLoading:a=!1,loadingText:s,leftIcon:i,rightIcon:o,fullWidth:u=!1,rounded:h=!1,disabled:m,className:f="",children:p}=t,g=d(t,["variant","size","isLoading","loadingText","leftIcon","rightIcon","fullWidth","rounded","disabled","className","children"]);const x=`\n    \n    inline-flex items-center justify-center\n    font-medium transition-all duration-200 ease-in-out\n    border focus:outline-none focus:ring-2 focus:ring-offset-2\n    disabled:opacity-50 disabled:cursor-not-allowed\n    active:transform active:scale-95\n  \n    ${{primary:"\n      bg-primary-500 border-primary-500 text-white\n      hover:bg-primary-600 hover:border-primary-600\n      focus:ring-primary-400\n      shadow-orange hover:shadow-orange-lg\n    ",secondary:"\n      bg-secondary-500 border-secondary-500 text-white\n      hover:bg-secondary-600 hover:border-secondary-600\n      focus:ring-secondary-400\n      shadow-md hover:shadow-lg\n    ",success:"\n      bg-success-600 border-success-600 text-white\n      hover:bg-success-700 hover:border-success-700\n      focus:ring-success-500\n      shadow-md hover:shadow-lg\n    ",danger:"\n      bg-danger-600 border-danger-600 text-white\n      hover:bg-danger-700 hover:border-danger-700\n      focus:ring-danger-500\n      shadow-md hover:shadow-lg\n    ",warning:"\n      bg-warning-500 border-warning-500 text-white\n      hover:bg-warning-600 hover:border-warning-600\n      focus:ring-warning-400\n      shadow-md hover:shadow-lg\n    ",info:"\n      bg-info-600 border-info-600 text-white\n      hover:bg-info-700 hover:border-info-700\n      focus:ring-info-500\n      shadow-md hover:shadow-lg\n    ",ghost:"\n      bg-transparent border-border-primary text-text-primary\n      hover:bg-background-tertiary hover:border-border-secondary\n      focus:ring-primary-400\n    ",link:"\n      bg-transparent border-transparent text-primary-600\n      hover:text-primary-700 hover:underline\n      focus:ring-primary-400 focus:ring-offset-0\n      shadow-none\n    "}[r]}\n    ${{xs:"px-2 py-1 text-xs leading-4 min-h-6",sm:"px-3 py-1.5 text-sm leading-4 min-h-8",md:"px-4 py-2 text-sm leading-5 min-h-10",lg:"px-6 py-3 text-base leading-6 min-h-12",xl:"px-8 py-4 text-lg leading-7 min-h-14"}[n]}\n    ${h?"rounded-full":"rounded-button"}\n    ${u?"w-full":""}\n    ${f}\n  `.replace(/\s+/g," ").trim();return de.jsxs("button",c(l({className:x,disabled:m||a},g),{children:[a&&de.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[de.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),de.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!a&&i&&de.jsx("span",{className:"mr-2 flex-shrink-0",children:i}),de.jsx("span",{className:"flex-1",children:a&&s?s:p}),!a&&o&&de.jsx("span",{className:"ml-2 flex-shrink-0",children:o})]}))},I5=({entityName:e,entityNamePlural:t,entityDescription:r,stats:n,breadcrumbItems:a,loading:s=!1,onRefresh:i,onExport:o,customActions:l,icon:c,className:d=""})=>{var u,h,m;const f=c||de.jsx(ep,{className:"h-7 w-7 text-white"});return te.useEffect(()=>{console.log(" EntityPageHeader - Stats received:",n),console.log(" EntityPageHeader - Entity info:",{entityName:e,entityNamePlural:t,entityDescription:r})},[n,e,t,r]),de.jsxs(de.Fragment,{children:[a&&de.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:de.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:de.jsx(_5,{items:a,className:"text-gray-600 [&_.breadcrumb-item]:text-gray-600 [&_.breadcrumb-separator]:text-gray-400 [&_.breadcrumb-link]:text-orange-600 [&_.breadcrumb-link]:hover:text-orange-700"})})}),de.jsx("div",{className:`bg-gradient-to-r from-orange-500 to-orange-600 shadow-lg ${d}`,children:de.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:de.jsx("div",{className:"py-8",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-white bg-opacity-20 rounded-lg mr-4 flex-shrink-0",children:f}),de.jsxs("div",{children:[de.jsxs("h1",{className:"text-3xl font-bold text-white",children:[t," Management"]}),de.jsxs("p",{className:"text-orange-100 mt-1",children:["Manage ",r]})]})]}),de.jsxs("div",{className:"flex items-center space-x-8",children:[de.jsxs("div",{className:"flex space-x-6",children:[de.jsxs("div",{className:"text-center bg-white bg-opacity-10 rounded-lg px-4 py-3",children:[de.jsx("div",{className:"text-3xl font-bold text-white",children:n?null!=(u=n.total)?u:0:s?"...":"0"}),de.jsx("div",{className:"text-orange-100 text-sm font-medium",children:"Total"})]}),de.jsxs("div",{className:"text-center bg-white bg-opacity-10 rounded-lg px-4 py-3",children:[de.jsx("div",{className:"text-3xl font-bold text-white",children:n?null!=(h=n.active)?h:0:s?"...":"0"}),de.jsx("div",{className:"text-orange-100 text-sm font-medium",children:"Active"})]}),de.jsxs("div",{className:"text-center bg-white bg-opacity-10 rounded-lg px-4 py-3",children:[de.jsx("div",{className:"text-3xl font-bold text-white",children:n?null!=(m=n.inactive)?m:0:s?"...":"0"}),de.jsx("div",{className:"text-orange-100 text-sm font-medium",children:"Inactive"})]})]}),de.jsxs("div",{className:"flex items-center space-x-3",children:[i&&de.jsxs(A5,{variant:"secondary",size:"sm",onClick:i,disabled:s,className:"bg-white bg-opacity-20 border-white border-opacity-30 text-white hover:bg-opacity-30 disabled:opacity-50",children:[de.jsx(Wf,{className:"h-4 w-4 mr-2 "+(s?"animate-spin":"")}),"Refresh"]}),o&&de.jsxs(A5,{variant:"secondary",size:"sm",onClick:o,className:"bg-white bg-opacity-20 border-white border-opacity-30 text-white hover:bg-opacity-30",children:[de.jsx(Ff,{className:"h-4 w-4 mr-2"}),"Export"]}),l]})]})]})})})})]})},P5=({searchTerm:e,onSearchChange:t,searchConfig:r={searchFields:["code","name"],enableAdvancedSearch:!1,searchMinLength:1,searchPlaceholder:"Search..."},activeFilter:n,onFilterChange:a,hasActiveFilters:s,onClearFilters:i,entityName:o,onCreateNew:l,additionalFilters:c,showAdvancedSearch:d=!1,onToggleAdvancedSearch:u,advancedSearchContent:h,customActions:m,loading:f=!1,className:p=""})=>de.jsxs("div",{className:`bg-white rounded-xl shadow-lg border border-gray-200 mb-8 overflow-hidden ${p}`,children:[de.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-b border-orange-200 px-6 py-4",children:de.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[de.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[de.jsxs("div",{className:"relative flex-1 max-w-md",children:[de.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:de.jsx(dg,{className:"h-5 w-5 text-gray-400"})}),de.jsx("input",{type:"text",placeholder:r.searchPlaceholder||`Search ${(null==o?void 0:o.toLowerCase())||"items"}s...`,value:e,onChange:e=>t(e.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 shadow-sm"})]}),de.jsxs("div",{className:"relative",children:[de.jsxs("select",{value:(()=>{const e=void 0===n?"all":n?"active":"inactive";return console.log(" EntitySearchControls - getStatusFilterValue:",{activeFilter:n,value:e,entityName:o}),e})(),onChange:e=>{return t=e.target.value,console.log(" EntitySearchControls - handleStatusFilterChange called:",{value:t,entityName:o,currentActiveFilter:n}),void("all"===t?(console.log(" EntitySearchControls - Setting filter to undefined (all)"),a(void 0)):"active"===t?(console.log(" EntitySearchControls - Setting filter to true (active)"),a(!0)):"inactive"===t&&(console.log(" EntitySearchControls - Setting filter to false (inactive)"),a(!1)));var t},className:"block appearance-none bg-white border border-gray-300 rounded-xl px-4 py-3 pr-10 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 cursor-pointer shadow-sm",children:[de.jsx("option",{value:"all",children:"All Status"}),de.jsx("option",{value:"active",children:"Active"}),de.jsx("option",{value:"inactive",children:"Inactive"})]}),de.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:de.jsx(bp,{className:"h-5 w-5 text-gray-400"})})]}),c]}),de.jsxs("div",{className:"flex items-center space-x-3 sm:ml-6",children:[m,de.jsxs(A5,{onClick:l,className:"inline-flex items-center px-4 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-sm font-semibold rounded-xl hover:from-emerald-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:[de.jsx(yg,{className:"h-4 w-4 mr-2"}),"Create ",o||"New"]})]})]})}),d&&h&&de.jsx("div",{className:"border-t border-orange-200 px-6 py-4 bg-orange-50",children:de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("h3",{className:"text-sm font-medium text-orange-900",children:"Advanced Search"}),de.jsx("button",{onClick:u,className:"text-orange-400 hover:text-orange-600 transition-colors",children:""})]}),h]})})]}),D5=({size:e="md",color:t="primary",className:r="",message:n,overlay:a=!1})=>{const s=`\n    ${{xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"}[e]}\n    ${{primary:"border-primary-600 border-t-transparent",secondary:"border-gray-600 border-t-transparent",success:"border-success-600 border-t-transparent",warning:"border-warning-600 border-t-transparent",error:"border-error-600 border-t-transparent",white:"border-white border-t-transparent"}[t]}\n    border-2\n    border-solid\n    rounded-full\n    animate-spin\n    ${r}\n  `.trim(),i=de.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[de.jsx("div",{className:s}),n&&de.jsx("p",{className:`text-sm ${"white"===t?"text-white":"text-text-secondary"} text-center`,children:n})]});return a?de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:de.jsx("div",{className:"bg-white rounded-lg p-6 shadow-xl",children:i})}):i},O5=({icon:e,title:t,description:r,action:n,className:a=""})=>{const s=de.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});return de.jsxs("div",{className:`text-center py-12 ${a}`,children:[de.jsx("div",{className:"flex justify-center mb-4",children:e||s}),de.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t}),de.jsx("p",{className:"text-gray-600 mb-6 max-w-sm mx-auto",children:r}),n&&de.jsx(A5,{onClick:n.onClick,children:n.label})]})},L5=({currentPage:e,totalPages:t,totalItems:r,itemsPerPage:n=10,onPageChange:a,onPageSizeChange:s,showSizeChanger:i=!0,showQuickJumper:o=!1,showTotal:l=!0,pageSizeOptions:c=[10,20,50,100],disabled:d=!1,size:u="default",className:h=""})=>{if(t<=1&&!r)return null;const m=r||t*n,f=(e,t)=>{d||a(e,t)},p=t>1?(()=>{const r="small"===u?1:2,n=[],a=[];for(let s=Math.max(2,e-r);s<=Math.min(t-1,e+r);s++)n.push(s);return e-r>2?a.push(1,"..."):a.push(1),a.push(...n),e+r<t-1?a.push("...",t):a.push(t),Array.from(new Set(a)).filter(e=>"number"==typeof e)})():[1],g="small"===u?"px-2 py-1 text-xs":"px-3 py-2 text-sm",x="small"===u?"h-8":"h-10";return de.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between gap-4 ${h}`,children:[l&&de.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",Math.min((e-1)*n+1,m),"-",Math.min(e*n,m)," of ",m," items"]}),de.jsxs("div",{className:"flex items-center gap-2",children:[de.jsx("button",{onClick:()=>f(e-1),disabled:d||e<=1,className:`${g} ${x} font-medium border border-gray-300 rounded-md \n            bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-400 \n            disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white \n            disabled:hover:border-gray-300 transition-colors duration-200`,children:"Previous"}),de.jsx("div",{className:"flex items-center gap-1",children:p.map((t,r)=>{const n=t===e;return"string"==typeof t?de.jsx("span",{className:"px-2 py-2 text-gray-400",children:"..."},`ellipsis-${r}`):de.jsx("button",{onClick:()=>f(t),disabled:d,className:`${g} ${x} font-medium border rounded-md transition-colors duration-200\n                  ${n?"bg-blue-600 border-blue-600 text-white hover:bg-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:t},t)})}),de.jsx("button",{onClick:()=>f(e+1),disabled:d||e>=t,className:`${g} ${x} font-medium border border-gray-300 rounded-md \n            bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-400 \n            disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white \n            disabled:hover:border-gray-300 transition-colors duration-200`,children:"Next"}),o&&t>5&&de.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[de.jsx("span",{className:"text-sm text-gray-600",children:"Go to:"}),de.jsx("input",{type:"number",min:"1",max:t,disabled:d,onChange:e=>{if(d)return;const r=parseInt(e.target.value);r>=1&&r<=t&&f(r)},className:`w-16 ${x} px-2 text-sm border border-gray-300 rounded-md \n                focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-100`,placeholder:"1"})]})]})]})},R5=e=>{if(!e)return"N/A";try{const t="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-UK",{year:"numeric",month:"short",day:"numeric"}).format(t)}catch(xJ){return"Invalid Date"}},M5=({entities:e,loading:t,error:r,columns:n,onView:a,onEdit:s,onDelete:i,onToggleStatus:o,customRowActions:l,statusToggleLoading:c=new Set,getEntityId:d=e=>e.id||e.code,sortBy:u,sortOrder:h,onSort:m,currentPage:f,totalPages:p,totalItems:g,pageSize:x,onPageChange:b,onPageSizeChange:v,emptyStateTitle:y,emptyStateDescription:w,emptyStateAction:j,onEmptyStateAction:N,hasActiveFilters:S=!1,onClearFilters:k,className:C="",showSequenceNumber:E=!0})=>{const T=(e,t)=>{const r=d(t),n=c.has(r);return de.jsxs("button",{onClick:()=>null==o?void 0:o(t),disabled:n||!o,className:`\n            inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium transition-colors\n            ${e?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"} ${n||!o?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[n?de.jsx(D5,{size:"xs",className:"mr-1"}):e?de.jsx(fp,{className:"w-3 h-3 mr-1"}):de.jsx(ex,{className:"w-3 h-3 mr-1"}),e?"Active":"Inactive"]})},_=e=>de.jsx("span",{className:"text-sm text-gray-500",children:R5(e)}),A=e=>de.jsxs("div",{className:"flex items-center space-x-1",children:[s&&de.jsxs("button",{onClick:()=>s(e),className:"inline-flex items-center px-2.5 py-1.5 bg-gradient-to-r from-orange-500 to-orange-600 text-white text-xs font-semibold rounded-lg hover:from-orange-600 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-1 shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105",title:"Edit",children:[de.jsx(gg,{className:"h-3 w-3 mr-1"}),"Edit"]}),i&&de.jsxs("button",{onClick:()=>i(e),className:"inline-flex items-center px-2.5 py-1.5 bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-semibold rounded-lg hover:from-red-600 hover:to-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105",title:"Delete",children:[de.jsx(Wg,{className:"h-3 w-3 mr-1"}),"Delete"]}),a&&de.jsxs("button",{onClick:()=>a(e),className:"inline-flex items-center px-2.5 py-1.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-xs font-semibold rounded-lg hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105",title:"View",children:[de.jsx(Gp,{className:"h-3 w-3 mr-1"}),"View"]}),null==l?void 0:l(e)]}),I=(e,t)=>{const r=t[e.key];return e.render?e.render(r,t):"is_active"===e.key||"active"===e.key||"status"===e.key?T(r,t):e.key.includes("date")||e.key.includes("_at")?_(r):"actions"===e.key?A(t):"code"===e.key||"id"===e.key?de.jsx("div",{className:"text-sm font-mono text-gray-900",children:r}):"name"===e.key?de.jsx("div",{className:"text-sm font-medium text-gray-900",children:r}):"description"===e.key?de.jsx("div",{className:"text-sm text-gray-600 max-w-xs",children:r?r.length>60?`${r.substring(0,60)}...`:r:de.jsx("span",{className:"text-gray-400 italic",children:"No description"})}):de.jsx("div",{className:"text-sm text-gray-900",children:r||"N/A"})};return de.jsx("div",{className:`bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden ${C}`,children:t?de.jsx("div",{className:"flex items-center justify-center h-64",children:de.jsx(D5,{size:"lg"})}):r?de.jsx("div",{className:"p-6",children:de.jsx(O5,{title:"Error loading data",description:r,action:N?{label:"Try Again",onClick:N}:void 0})}):0===e.length?de.jsx("div",{className:"p-6",children:de.jsx(O5,{title:y||"No data found",description:w||"There are no items to display.",action:S&&k?{label:"Clear Filters",onClick:k}:N?{label:j||"Add New",onClick:N}:void 0})}):de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"overflow-x-auto",children:de.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[de.jsx("thead",{className:"bg-gray-50",children:de.jsxs("tr",{children:[E&&de.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"#"}),n.map(e=>{return de.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.sortable&&m?de.jsxs("button",{onClick:()=>{return t=e.key,void(m&&m(t));var t},className:"flex items-center gap-1 hover:text-orange-600",children:[e.label,(t=e.key,u!==t?null:"asc"===h?de.jsx(Gf,{className:"h-3 w-3"}):de.jsx(Bf,{className:"h-3 w-3"}))]}):e.label},e.key);var t})]})}),de.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e,t)=>((e,t)=>{const r=(f-1)*x+t+1;return de.jsxs("tr",{className:"hover:bg-orange-25 "+(t%2==0?"bg-white":"bg-gray-50"),children:[E&&de.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-500",children:r}),n.map(t=>de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I(t,e)},t.key))]},d(e)||t)})(e,t))})]})}),de.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:de.jsx(L5,{currentPage:f,totalPages:p,totalItems:g,itemsPerPage:x,onPageChange:b,onPageSizeChange:v})})]})})},F5=(e={})=>{const{includeId:t=!0,includeName:r=!0,includeDescription:n=!0,includeStatus:a=!0,includeCreated:s=!0,includeActions:i=!0,customColumns:o=[]}=e,l=[];return t&&l.push({key:"id",label:"ID",sortable:!0,className:"w-20"}),r&&l.push({key:"name",label:"Name",sortable:!0,className:"min-w-0 flex-1"}),n&&l.push({key:"description",label:"Description",sortable:!1,className:"max-w-xs"}),a&&l.push({key:"is_active",label:"Status",sortable:!0,className:"w-24"}),s&&l.push({key:"created_at",label:"Created",sortable:!0,className:"w-32"}),l.push(...o),i&&l.push({key:"actions",label:"Actions",sortable:!1,className:"w-40"}),l},$5=(e={})=>{const{includeCode:t=!0,includeName:r=!0,includeDescription:n=!1,includeStatus:a=!0,includeCreated:s=!0,includeActions:i=!0,customColumns:o=[]}=e,l=[];return t&&l.push({key:"code",label:"Code",sortable:!0,className:"w-24"}),r&&l.push({key:"name",label:"Name",sortable:!0,className:"min-w-0 flex-1"}),n&&l.push({key:"description",label:"Description",sortable:!1,className:"max-w-xs"}),a&&l.push({key:"is_active",label:"Status",sortable:!0,className:"w-24"}),s&&l.push({key:"created_at",label:"Created",sortable:!0,className:"w-32"}),l.push(...o),i&&l.push({key:"actions",label:"Actions",sortable:!1,className:"w-40"}),l},B5=(e,t={})=>{const{includeStatus:r=!0,includeCreated:n=!0,includeActions:a=!0,customColumns:s=[]}=t,i=[...e];return r&&i.push({key:"is_active",label:"Status",sortable:!0,className:"w-24"}),n&&i.push({key:"created_at",label:"Created",sortable:!0,className:"w-32"}),i.push(...s),a&&i.push({key:"actions",label:"Actions",sortable:!1,className:"w-40"}),i},U5=F5({includeDescription:!0}),z5=F5({includeDescription:!0}),V5=F5({includeDescription:!0,customColumns:[{key:"config_key",label:"Config Key",sortable:!0,className:"w-48"},{key:"config_value",label:"Config Value",sortable:!0,className:"min-w-0 flex-1"}]}),W5=$5({includeDescription:!1}),q5=$5({includeDescription:!1}),H5=B5([{key:"partno",label:"Part Number",sortable:!0,className:"w-48"},{key:"product_families",label:"Product Family",sortable:!0,className:"w-32"},{key:"customer",label:"Customer",sortable:!0,className:"w-24"},{key:"production_site",label:"Site",sortable:!0,className:"w-24"}]),Q5=B5([{key:"code",label:"Code",sortable:!0,className:"w-32"},{key:"customers",label:"Customer",sortable:!0,className:"w-24"},{key:"site",label:"Site",sortable:!0,className:"w-24"}]),G5=B5([{key:"id",label:"ID",sortable:!0,className:"w-48"},{key:"line_no_id",label:"Line No",sortable:!0,className:"w-24"},{key:"username",label:"Username",sortable:!0,className:"w-32"},{key:"group_code",label:"Group",sortable:!0,className:"w-24"},{key:"work_shift_id",label:"Shift",sortable:!0,className:"w-24"},{key:"created_on",label:"Check In",sortable:!0,className:"w-32"}],{includeCreated:!1}),Y5=B5([{key:"id",label:"ID",sortable:!0,className:"w-48"},{key:"lotno",label:"Lot Number",sortable:!0,className:"w-32"},{key:"partsite",label:"Part Site",sortable:!0,className:"w-24"},{key:"lineno",label:"Line No",sortable:!0,className:"w-24"},{key:"model",label:"Model",sortable:!0,className:"w-32"},{key:"inputdate",label:"Input Date",sortable:!0,className:"w-32"}],{includeCreated:!1}),K5=B5([{key:"id",label:"ID",sortable:!0,className:"w-20"},{key:"inspection_no",label:"Sampling No",sortable:!0,className:"w-32"},{key:"station",label:"Station",sortable:!0,className:"w-24"},{key:"lotno",label:"Lot No",sortable:!0,className:"w-32"},{key:"model",label:"Model",sortable:!0,className:"w-32"},{key:"shift",label:"Shift",sortable:!0,className:"w-20"},{key:"inspection_date",label:"Sampling Date",sortable:!0,className:"w-32"},{key:"judgment",label:"Judgment",sortable:!0,className:"w-24"}],{includeStatus:!1,includeCreated:!1}),X5=(e,t)=>{if(!t||!e)return e;const r=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.split(r).map((e,t)=>r.test(e)?de.jsx("span",{className:"bg-yellow-200 text-yellow-900 px-1 rounded",children:e},t):e)};function Z5({entityName:e,entityNamePlural:t,entityDescription:r,service:n,breadcrumbItems:a,idValidationRules:s,nameValidationRules:i,descriptionValidationRules:o,idPlaceholder:d,namePlaceholder:u,descriptionPlaceholder:m,showDescriptionField:f=!0,customColumns:p=[],additionalFilters:g,customFilterParams:x={},customFormFields:b,onFormDataExtract:v,debugMode:y=!1}){var w,j,N,S;Cm();const[k,C]=ee.useState({entities:[],loading:!1,error:null,selectedEntity:null,showCreateForm:!1,showDeleteModal:!1,searchTerm:"",currentPage:1,pageSize:10,totalItems:0,totalPages:0,sortBy:"id",sortOrder:"desc",activeFilter:void 0,stats:{total:0,active:0,inactive:0},operationLoading:!1,statusToggleLoading:new Set}),[E,T]=ee.useState(null);(e=>{const t=e.toLowerCase();["defect","defects","sampling-reason","sampling-reasons","sysconfig","sysconfigs"].includes(t)||(["customer","customers","linefvi","line-fvi","lineFVI"].includes(t)||["parts","customer-site","customer-sites","inf-checkin","inf-lotinput","inspectiondata"].includes(t))})(e);const _={defect:U5,defects:U5,"sampling-reason":z5,"sampling-reasons":z5,sysconfig:V5,sysconfigs:V5,customer:W5,customers:W5,linefvi:q5,"line-fvi":q5,lineFVI:q5,parts:H5,"customer-site":Q5,"customer-sites":Q5,"inf-checkin":G5,"inf-lotinput":Y5,inspectiondata:K5}[e.toLowerCase()]||F5();const A=ee.useCallback(()=>_.map(e=>"name"===e.key&&k.searchTerm||"description"===e.key&&k.searchTerm?c(l({},e),{render:(e,t)=>X5(String(e||""),k.searchTerm)}):e),[_,k.searchTerm]),I=[...A().filter(e=>"actions"!==e.key),...p,...A().filter(e=>"actions"===e.key)],P=ee.useCallback(()=>h(this,null,function*(){var e;C(e=>c(l({},e),{loading:!0,error:null}));try{const t=l({page:k.currentPage,limit:k.pageSize,search:k.searchTerm||void 0,sortBy:k.sortBy,sortOrder:k.sortOrder,isActive:k.activeFilter},x);y&&console.log(" GenericEntityIdPage - fetchEntities params:",{params:t,activeFilter:k.activeFilter,activeFilterType:typeof k.activeFilter,customFilterParams:x});const r=yield n.getAll(t);y&&console.log(" GenericEntityIdPage - Service response:",{response:r,hasData:!!(null==r?void 0:r.data),dataType:typeof(null==r?void 0:r.data),isArray:Array.isArray(null==r?void 0:r.data),dataLength:Array.isArray(null==r?void 0:r.data)?r.data.length:"N/A"});const a=Array.isArray(null==r?void 0:r.data)?r.data:[],s=(null==(e=null==r?void 0:r.pagination)?void 0:e.totalItems)||a.length||0;y&&console.log(" GenericEntityIdPage - Processed data:",{entitiesCount:a.length,totalItems:s,pagination:null==r?void 0:r.pagination}),C(e=>{var t,n,i,o;return c(l({},e),{entities:a,totalItems:s,totalPages:(null==(t=null==r?void 0:r.pagination)?void 0:t.totalPages)||Math.ceil(s/((null==(n=null==r?void 0:r.pagination)?void 0:n.pageSize)||k.pageSize))||1,currentPage:(null==(i=null==r?void 0:r.pagination)?void 0:i.currentPage)||1,pageSize:(null==(o=null==r?void 0:r.pagination)?void 0:o.pageSize)||k.pageSize||10,stats:(null==r?void 0:r.stats)||e.stats,loading:!1,error:null})})}catch(t){C(e=>c(l({},e),{loading:!1,error:t.message||"Failed to load data"}))}}),[n,k.currentPage,k.pageSize,k.searchTerm,k.sortBy,k.sortOrder,k.activeFilter]);ee.useEffect(()=>{y&&console.log(" GenericEntityIdPage - customFilterParams changed, triggering fetch"),P()},[JSON.stringify(x),P,y]);const D=ee.useCallback(()=>h(this,null,function*(){if(n.getStats)try{const e=yield n.getStats();C(t=>c(l({},t),{stats:e.stats}))}catch(e){console.error("Failed to fetch stats:",e)}}),[n]),O=ee.useCallback(e=>{C(t=>c(l({},t),{searchTerm:e,currentPage:1}))},[]),L=ee.useCallback(t=>{y&&console.log(" GenericEntityIdPage - handleFilterChange called:",{newFilter:t,currentFilter:k.activeFilter,entityName:e}),C(e=>(y&&console.log(" GenericEntityIdPage - setState for filter change:",{prevActiveFilter:e.activeFilter,newActiveFilter:t}),c(l({},e),{activeFilter:t,currentPage:1})))},[y,e]),R=ee.useCallback(e=>{C(t=>c(l({},t),{sortBy:e,sortOrder:t.sortBy===e&&"asc"===t.sortOrder?"desc":"asc",currentPage:1}))},[]),M=ee.useCallback(e=>{C(t=>c(l({},t),{currentPage:e}))},[]),F=ee.useCallback(e=>{C(t=>c(l({},t),{pageSize:e,currentPage:1}))},[]),$=ee.useCallback(()=>{C(e=>c(l({},e),{showCreateForm:!0,selectedEntity:null}))},[]),B=ee.useCallback(e=>{C(t=>c(l({},t),{selectedEntity:e,showCreateForm:!0}))},[]),U=ee.useCallback(e=>{C(t=>c(l({},t),{selectedEntity:e,showDeleteModal:!0}))},[]),z=ee.useCallback(t=>h(this,null,function*(){if(!n.toggleStatus)return;const r=String(t.id);y&&console.log(" GenericEntityIdPage - handleToggleStatus called for:",{entityId:r,entityName:e,currentStatus:t.is_active}),C(e=>c(l({},e),{statusToggleLoading:new Set([...e.statusToggleLoading,r])}));try{const t=yield n.toggleStatus(r);y&&console.log(" GenericEntityIdPage - toggleStatus result:",t),y&&console.log(" GenericEntityIdPage - Refreshing data after toggle..."),yield P(),yield D(),y&&console.log(" GenericEntityIdPage - Data refresh completed"),T({type:"success",message:`${e} status updated successfully`})}catch(a){y&&console.error(" GenericEntityIdPage - Toggle status error:",a),T({type:"error",message:a.message||`Failed to update ${e.toLowerCase()} status`})}finally{C(e=>c(l({},e),{statusToggleLoading:new Set([...e.statusToggleLoading].filter(e=>e!==r))}))}}),[n,e,P,D]),V=ee.useCallback(()=>{P(),D()},[P,D]),W=ee.useCallback(()=>{C(e=>c(l({},e),{searchTerm:"",activeFilter:void 0,currentPage:1}))},[]),q=ee.useCallback(t=>h(this,null,function*(){C(e=>c(l({},e),{operationLoading:!0}));try{k.selectedEntity?(yield n.update(String(k.selectedEntity.id),t),T({type:"success",message:`${e} updated successfully`})):(yield n.create(t),T({type:"success",message:`${e} created successfully`})),C(e=>c(l({},e),{showCreateForm:!1,selectedEntity:null})),yield P(),yield D()}catch(r){T({type:"error",message:r.message||`Failed to save ${e.toLowerCase()}`})}finally{C(e=>c(l({},e),{operationLoading:!1}))}}),[n,e,k.selectedEntity,P,D]),H=ee.useCallback(()=>h(this,null,function*(){if(k.selectedEntity){C(e=>c(l({},e),{operationLoading:!0}));try{yield n.delete(String(k.selectedEntity.id)),T({type:"success",message:`${e} deleted successfully`}),C(e=>c(l({},e),{showDeleteModal:!1,selectedEntity:null})),yield P(),yield D()}catch(t){T({type:"error",message:t.message||`Failed to delete ${e.toLowerCase()}`})}finally{C(e=>c(l({},e),{operationLoading:!1}))}}}),[n,e,k.selectedEntity,P,D]);ee.useEffect(()=>{P()},[P]),ee.useEffect(()=>{D()},[D]),ee.useEffect(()=>{if(E){const e=setTimeout(()=>{T(null)},5e3);return()=>clearTimeout(e)}},[E]),ee.useEffect(()=>{y&&console.log(" GenericEntityIdPage - activeFilter changed:",{activeFilter:k.activeFilter,entityName:e})},[k.activeFilter,y,e]);const Q=""!==k.searchTerm||void 0!==k.activeFilter||Object.values(x).some(e=>null!=e&&""!==e);return de.jsxs("div",{className:"space-y-6 p-6 bg-gradient-to-br from-orange-25 via-white to-amber-25 min-h-screen",children:[de.jsx(I5,{entityName:e,entityNamePlural:t,entityDescription:r,stats:k.stats,breadcrumbItems:a,loading:k.loading,onRefresh:V,onExport:()=>{T({type:"info",message:"Export functionality coming soon"})}}),de.jsx(P5,{searchTerm:k.searchTerm,onSearchChange:O,activeFilter:k.activeFilter,onFilterChange:L,hasActiveFilters:Q,onClearFilters:W,entityName:e,onCreateNew:$,additionalFilters:g}),k.showCreateForm&&de.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-6",children:de.jsxs("div",{className:"max-w-6xl",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.selectedEntity?`Edit ${e}`:`Create New ${e}`}),de.jsxs("button",{onClick:()=>C(e=>c(l({},e),{showCreateForm:!1,selectedEntity:null})),className:"text-gray-400 hover:text-gray-600 transition-colors",children:[de.jsx("span",{className:"sr-only",children:"Close"}),""]})]}),de.jsxs("form",{onSubmit:e=>h(this,null,function*(){e.preventDefault();const t=new FormData(e.currentTarget);let r={name:t.get("name"),description:t.get("description"),is_active:"true"===t.get("is_active")};if(v){const e=v(t);r=l(l({},r),e)}yield q(r)}),className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[de.jsxs("div",{className:"md:col-span-1",children:[de.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),de.jsx("input",{type:"text",id:"name",name:"name",required:!0,defaultValue:(null==(w=k.selectedEntity)?void 0:w.name)||"",placeholder:u,minLength:null==i?void 0:i.minLength,maxLength:null==i?void 0:i.maxLength,pattern:null==(j=null==i?void 0:i.pattern)?void 0:j.source,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500"})]}),f&&de.jsxs("div",{className:"md:col-span-1",children:[de.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),de.jsx("input",{type:"text",id:"description",name:"description",defaultValue:(null==(N=k.selectedEntity)?void 0:N.description)||"",placeholder:m,minLength:null==o?void 0:o.minLength,maxLength:null==o?void 0:o.maxLength,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500"})]}),b&&b(k.selectedEntity),de.jsxs("div",{className:"md:col-span-1",children:[de.jsx("label",{htmlFor:"is_active",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),de.jsxs("select",{id:"is_active",name:"is_active",defaultValue:void 0!==(null==(S=k.selectedEntity)?void 0:S.is_active)?String(k.selectedEntity.is_active):"true",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",children:[de.jsx("option",{value:"true",children:"Active"}),de.jsx("option",{value:"false",children:"Inactive"})]})]}),de.jsxs("div",{className:(f?"md:col-span-1":"md:col-span-2")+" flex items-end gap-2",children:[de.jsxs("button",{type:"submit",disabled:k.operationLoading,className:"px-4 py-2 bg-orange-600 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[k.operationLoading?de.jsx("span",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):null,k.selectedEntity?"Update":"Create"]}),de.jsx("button",{type:"button",onClick:()=>C(e=>c(l({},e),{showCreateForm:!1,selectedEntity:null})),className:"px-4 py-2 bg-gray-300 border border-transparent rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"})]})]})]})}),de.jsx(M5,{entities:k.entities,loading:k.loading,error:k.error,columns:I,onEdit:B,onDelete:U,onToggleStatus:n.toggleStatus?z:void 0,statusToggleLoading:k.statusToggleLoading,getEntityId:e=>String(e.id),sortBy:String(k.sortBy),sortOrder:k.sortOrder,onSort:R,currentPage:k.currentPage,totalPages:k.totalPages,totalItems:k.totalItems,pageSize:k.pageSize,onPageChange:M,onPageSizeChange:F,emptyStateTitle:`No ${t.toLowerCase()} found`,emptyStateDescription:`There are no ${t.toLowerCase()} to display.`,emptyStateAction:`Create ${e}`,onEmptyStateAction:$,hasActiveFilters:Q,onClearFilters:W,showSequenceNumber:!0}),k.showDeleteModal&&k.selectedEntity&&de.jsx(T5,{isOpen:!0,onClose:()=>C(e=>c(l({},e),{showDeleteModal:!1,selectedEntity:null})),title:`Delete ${e}`,size:"md",children:de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 text-white p-4 rounded-lg",children:[de.jsx("h3",{className:"text-lg font-semibold mb-2",children:" Confirm Deletion"}),de.jsxs("p",{className:"text-red-100",children:["Are you sure you want to delete this ",e.toLowerCase(),"?"]})]}),de.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:de.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[de.jsxs("div",{children:[de.jsx("strong",{children:"ID:"})," ",k.selectedEntity.id]}),de.jsxs("div",{children:[de.jsx("strong",{children:"Name:"})," ",k.selectedEntity.name]}),k.selectedEntity.description&&de.jsxs("div",{children:[de.jsx("strong",{children:"Description:"})," ",k.selectedEntity.description]})]})}),de.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:de.jsxs("p",{className:"text-yellow-800 text-sm",children:[de.jsx("strong",{children:"Warning:"})," This action cannot be undone. The ",e.toLowerCase()," will be permanently removed from the system."]})}),de.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[de.jsx("button",{type:"button",onClick:()=>C(e=>c(l({},e),{showDeleteModal:!1,selectedEntity:null})),disabled:k.operationLoading,className:"px-4 py-2 text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50",children:"Cancel"}),de.jsxs("button",{type:"button",onClick:H,disabled:k.operationLoading,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white text-sm font-semibold rounded-lg hover:from-red-600 hover:to-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[k.operationLoading&&de.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),de.jsx(Wg,{className:"h-4 w-4 mr-2"}),"Delete ",e]})]})]})}),E&&de.jsx(k2,{type:E.type,message:E.message,onClose:()=>T(null)})]})}const J5=ee.forwardRef((e,t)=>{var r=e,{label:n,error:a,helperText:s,leftIcon:i,rightIcon:o,className:c="",id:u}=r,h=d(r,["label","error","helperText","leftIcon","rightIcon","className","id"]);const m=u||`input-${Math.random().toString(36).substr(2,9)}`;return de.jsxs("div",{className:"w-full",children:[n&&de.jsxs("label",{htmlFor:m,className:"block text-sm font-medium text-text-primary mb-2",children:[n,h.required&&de.jsx("span",{className:"text-error-500 ml-1",children:"*"})]}),de.jsxs("div",{className:"relative",children:[i&&de.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:de.jsx("div",{className:"h-5 w-5 text-gray-400",children:i})}),de.jsx("input",l({ref:t,id:m,className:`\n            block w-full rounded-input border-0 py-2.5 shadow-sm ring-1 ring-inset\n            ${a?"ring-error-300 placeholder:text-error-400 focus:ring-2 focus:ring-error-500 text-error-900":"ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-primary-500 text-gray-900"}\n            ${i?"pl-10":"pl-3"}\n            ${o?"pr-10":"pr-3"}\n            sm:text-sm sm:leading-6 transition-all duration-200\n            disabled:bg-gray-50 disabled:text-gray-500 disabled:ring-gray-200\n            ${c}\n          `},h)),o&&de.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:de.jsx("div",{className:"h-5 w-5 text-gray-400",children:o})})]}),a&&de.jsx("p",{className:"mt-2 text-sm text-error-600",id:`${m}-error`,children:a}),s&&!a&&de.jsx("p",{className:"mt-2 text-sm text-text-secondary",id:`${m}-description`,children:s})]})});J5.displayName="Input";const e4=e=>{var t=e,{label:r,error:n,helperText:a,fullWidth:s=!0,children:i,options:o=[],className:u="",placeholder:h,onChange:m}=t,f=d(t,["label","error","helperText","fullWidth","children","options","className","placeholder","onChange"]);const p=f.id||f.name||`select-${Math.random().toString(36).substr(2,9)}`,g=n?"border-error-300 focus:border-error-500 focus:ring-error-500":"border-gray-300 focus:border-primary-500 focus:ring-primary-500",x=s?"w-full":"";return de.jsxs("div",{className:s?"w-full":"",children:[r&&de.jsxs("label",{htmlFor:p,className:"block text-sm font-medium text-gray-700 mb-2",children:[r,f.required&&de.jsx("span",{className:"text-error-500 ml-1",children:"*"})]}),de.jsxs("div",{className:"relative",children:[de.jsxs("select",c(l({id:p,className:`block px-3 py-2 border rounded-lg text-sm bg-white transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-1 disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed appearance-none ${g} ${x} ${u} pr-10`,onChange:e=>{m&&m(e)}},f),{children:[h&&de.jsx("option",{value:"",disabled:!0,children:h}),o.length>0?o.map(e=>de.jsx("option",{value:e.value,children:e.label},e.value)):i]})),de.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:de.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),n&&de.jsx("p",{className:"mt-1 text-sm text-error-600",children:n}),a&&!n&&de.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a})]})},t4=({mode:e,initialData:t,onSubmit:r,onCancel:n,loading:a=!1,codeValidationRules:s={minLength:1,maxLength:10,pattern:/^[A-Z0-9]+$/,patternMessage:"Code must contain only uppercase letters and numbers"},nameValidationRules:i={minLength:1,maxLength:100},codePlaceholder:o="Enter code",namePlaceholder:d="Enter name"})=>{const[u,h]=ee.useState({code:"",name:"",is_active:!0}),[m,f]=ee.useState({}),[p,g]=ee.useState(!1);ee.useEffect(()=>{h("edit"===e&&t?{code:t.code,name:t.name,is_active:t.is_active}:{code:"",name:"",is_active:!0}),f({}),g(!1)},[e,t]);const x=(e,t)=>{h(r=>c(l({},r),{[e]:t})),g(!0),m[e]&&f(t=>c(l({},t),{[e]:void 0}))},b=e=>e&&0!==e.length?de.jsx("div",{className:"mt-1",children:e.map((e,t)=>de.jsx("p",{className:"text-sm text-red-600",children:e},t))}):null;return de.jsxs("form",{onSubmit:t=>{if(t.preventDefault(),!(()=>{const t={};return"create"===e&&(u.code.trim()?u.code.length<(s.minLength||1)||u.code.length>(s.maxLength||10)?t.code=[`Code must be between ${s.minLength||1} and ${s.maxLength||10} characters`]:s.pattern&&!s.pattern.test(u.code)&&(t.code=[s.patternMessage||"Invalid code format"]):t.code=["Code is required"]),u.name.trim()?(u.name.length<(i.minLength||1)||u.name.length>(i.maxLength||100))&&(t.name=[`Name must be between ${i.minLength||1} and ${i.maxLength||100} characters`]):t.name=["Name is required"],f(t),0===Object.keys(t).length})()||a)return;const n="create"===e?{code:u.code.trim().toUpperCase(),name:u.name.trim(),is_active:u.is_active}:{name:u.name.trim(),is_active:u.is_active};r(n)},className:"space-y-6",children:[m.general&&de.jsx("div",{className:"rounded-md bg-red-50 p-4",children:de.jsxs("div",{className:"flex",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:de.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),de.jsx("div",{className:"ml-3",children:de.jsx("div",{className:"text-sm text-red-700",children:m.general.map((e,t)=>de.jsx("p",{children:e},t))})})]})}),"create"===e&&de.jsxs("div",{children:[de.jsxs("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700",children:["Code ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsx("div",{className:"mt-1",children:de.jsx(J5,{type:"text",id:"code",value:u.code,onChange:e=>x("code",e.target.value.toUpperCase()),placeholder:o,disabled:a,className:m.code?"border-red-300 focus:ring-red-500 focus:border-red-500":"",maxLength:s.maxLength})}),b(m.code),s.patternMessage&&de.jsx("p",{className:"mt-1 text-xs text-gray-500",children:s.patternMessage})]}),"edit"===e&&de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Code"}),de.jsx("div",{className:"mt-1",children:de.jsx(J5,{type:"text",value:u.code,disabled:!0,className:"bg-gray-50 text-gray-500"})}),de.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Code cannot be changed after creation"})]}),de.jsxs("div",{children:[de.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Name ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsx("div",{className:"mt-1",children:de.jsx(J5,{type:"text",id:"name",value:u.name,onChange:e=>x("name",e.target.value),placeholder:d,disabled:a,className:m.name?"border-red-300 focus:ring-red-500 focus:border-red-500":"",maxLength:i.maxLength})}),b(m.name)]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"is_active",className:"block text-sm font-medium text-gray-700",children:"Status"}),de.jsx("div",{className:"mt-1",children:de.jsxs(e4,{id:"is_active",value:u.is_active?"true":"false",onChange:e=>x("is_active","true"===e.target.value),disabled:a,children:[de.jsx("option",{value:"true",children:"Active"}),de.jsx("option",{value:"false",children:"Inactive"})]})}),de.jsx("p",{className:"mt-1 text-xs text-gray-500",children:u.is_active?"This item is currently active and visible":"This item is currently inactive and hidden"})]}),de.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[de.jsx(A5,{type:"button",onClick:()=>{p?window.confirm("You have unsaved changes. Are you sure you want to cancel?")&&n():n()},variant:"secondary",disabled:a,children:"Cancel"}),de.jsx(A5,{type:"submit",variant:"primary",disabled:a||!p,children:a?"create"===e?"Creating...":"Updating...":"create"===e?"Create":"Update"})]})]})},r4=e=>{if(!e)return"N/A";try{const t=new Date(e);return new Intl.DateTimeFormat("en-UK",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(t)}catch(xJ){return"Invalid Date"}},n4=(e,t)=>{if(!t||!e)return e;const r=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.split(r).map((e,t)=>r.test(e)?de.jsx("mark",{className:"bg-yellow-200 text-yellow-900 px-1 rounded font-medium",children:e},t):e)};function a4({entityName:e,entityNamePlural:t,entityDescription:r,service:n,breadcrumbItems:a,codeValidationRules:s,nameValidationRules:i,codePlaceholder:o,namePlaceholder:d,customColumns:u=[],debugMode:m=!1,searchConfig:f,statusConfig:p,defaultPageSize:g=20}){var x,b;Cm();const[v,y]=ee.useState({entities:[],loading:!0,error:null,selectedEntity:null,showCreateModal:!1,showEditModal:!1,showDeleteModal:!1,showCreateForm:!1,searchTerm:"",currentPage:1,pageSize:g,totalItems:0,totalPages:0,sortBy:"code",sortOrder:"asc",activeFilter:void 0,stats:{total:0,active:0,inactive:0},operationLoading:!1,statusToggleLoading:new Set}),[w,j]=ee.useState(null),N=ee.useCallback((t,r)=>{m&&console.log(` ${e} Page - Notification:`,{type:t,message:r}),j({type:t,message:r})},[e,m]),S=ee.useCallback(e=>{y(t=>l(l({},t),e))},[]),k=ee.useCallback(t=>h(this,null,function*(){if(!n.toggleEntityStatus)return;const r=t.code;S({statusToggleLoading:new Set(v.statusToggleLoading).add(r)});try{m&&console.log(` ${e} Page - Toggling status:`,r);const t=yield n.toggleEntityStatus(r);if(t.success){N("success",t.message||"Status updated successfully"),y(e=>c(l({},e),{loading:!0}));const e={page:v.currentPage,limit:v.pageSize,search:v.searchTerm||void 0,sortBy:v.sortBy,sortOrder:v.sortOrder,isActive:v.activeFilter},r=yield n.getEntities(e);r.success&&r.data&&S({entities:r.data,loading:!1})}else N("error",t.message||"Failed to update status")}catch(a){m&&console.error(` ${e} Page - Toggle error:`,a),N("error",a instanceof Error?a.message:"Failed to update status")}finally{const e=new Set(v.statusToggleLoading);e.delete(r),S({statusToggleLoading:e})}}),[e,n,v.statusToggleLoading,v.currentPage,v.pageSize,v.searchTerm,v.sortBy,v.sortOrder,v.activeFilter,m,N,S,y]),C=ee.useCallback(()=>[...[{key:"code",label:`${e} Code`,sortable:!0,width:"w-32",className:"font-mono text-sm",render:e=>de.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-gray-800 font-medium",children:n4(e||"",v.searchTerm)})},{key:"name",label:`${e} Name`,sortable:!0,width:"w-64",render:e=>de.jsx("span",{className:"font-medium text-gray-900",children:n4(e||"",v.searchTerm)})},{key:"is_active",label:"Status",sortable:!0,width:"w-32",render:(e,t)=>{const r=t.code||t.id,a=v.statusToggleLoading.has(r);return de.jsxs("button",{onClick:()=>n.toggleEntityStatus?k(t):null,disabled:a||!n.toggleEntityStatus,className:`\n                inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200\n                ${e?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"} ${a||!n.toggleEntityStatus?"opacity-50 cursor-not-allowed":"cursor-pointer hover:shadow-md"}\n              `,title:n.toggleEntityStatus?"Click to toggle status":"Status toggle not available",children:[a?de.jsx("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin"}):de.jsx("div",{className:"w-2 h-2 rounded-full "+(e?"bg-green-600":"bg-red-600")}),e?"Active":"Inactive"]})}},{key:"created_at",label:"Created",sortable:!0,width:"w-40",render:e=>de.jsx("span",{className:"text-sm text-gray-600",children:r4(e)})},{key:"updated_at",label:"Updated",sortable:!0,width:"w-40",render:e=>de.jsx("span",{className:"text-sm text-gray-600",children:r4(e)})}],...u,{key:"actions",label:"Actions",sortable:!1,width:"w-32",className:"text-center"}],[e,u,v.searchTerm,v.statusToggleLoading,n.toggleEntityStatus,k]),E=ee.useCallback((r=!0)=>h(this,null,function*(){var a,s,i,o,l;r&&S({loading:!0,error:null});try{m&&console.log(` ${e} Page - Loading entities...`,{currentPage:v.currentPage,pageSize:v.pageSize,searchTerm:v.searchTerm,sortBy:v.sortBy,sortOrder:v.sortOrder,activeFilter:v.activeFilter});const r={page:v.currentPage,limit:v.pageSize,search:v.searchTerm||void 0,sortBy:v.sortBy,sortOrder:v.sortOrder,isActive:v.activeFilter},d=yield n.getEntities(r);if(m&&console.log(` ${e} Page - Entities loaded:`,d),d.success&&d.data)if(S({entities:d.data,totalItems:(null==(a=d.pagination)?void 0:a.totalItems)||d.data.length,totalPages:(null==(s=d.pagination)?void 0:s.totalPages)||1,loading:!1,error:null}),n.getStats)try{const t=yield n.getStats();if(t.success&&t.data)S({stats:{total:t.data.total||0,active:t.data.active||0,inactive:t.data.inactive||0}});else{const t=(null==(i=d.pagination)?void 0:i.totalItems)||d.data.length,r=d.data.filter(e=>!0===e.is_active).length,n=d.data.length,a=n>0?r/n:0,s=Math.round(t*a),o=t-s;S({stats:{total:t,active:s,inactive:o}}),m&&console.log(` ${e} Page - Using estimated stats:`,{total:t,active:s,inactive:o,activeRatio:a,currentPageActive:r,currentPageTotal:n})}}catch(c){m&&console.warn(` ${e} Page - Failed to load stats:`,c);const t=(null==(o=d.pagination)?void 0:o.totalItems)||d.data.length,r=d.data.filter(e=>!0===e.is_active).length,n=d.data.length,a=n>0?r/n:0,s=Math.round(t*a),i=t-s;S({stats:{total:t,active:s,inactive:i}}),m&&console.log(` ${e} Page - Using fallback estimated stats:`,{total:t,active:s,inactive:i})}else{const t=(null==(l=d.pagination)?void 0:l.totalItems)||d.data.length,r=d.data.filter(e=>!0===e.is_active).length,n=d.data.length,a=n>0?r/n:0,s=Math.round(t*a),i=t-s;S({stats:{total:t,active:s,inactive:i}}),m&&console.log(` ${e} Page - Calculated stats (no service):`,{total:t,active:s,inactive:i})}else S({entities:[],totalItems:0,totalPages:0,loading:!1,error:d.message||`Failed to load ${t.toLowerCase()}`})}catch(d){m&&console.error(` ${e} Page - Load error:`,d),S({entities:[],totalItems:0,totalPages:0,loading:!1,error:d instanceof Error?d.message:`Failed to load ${t.toLowerCase()}`})}}),[e,t,n,v.currentPage,v.pageSize,v.searchTerm,v.sortBy,v.sortOrder,v.activeFilter,m,S]),T=ee.useCallback(t=>h(this,null,function*(){S({operationLoading:!0});try{m&&console.log(` ${e} Page - Creating entity:`,t);const r=yield n.createEntity(t);return r.success?(N("success",r.message||`${e} created successfully`),S({showCreateModal:!1,showCreateForm:!1,selectedEntity:null,operationLoading:!1}),yield E(!1),{success:!0}):(S({operationLoading:!1}),{success:!1,errors:r.errors||{},message:r.message||`Failed to create ${e.toLowerCase()}`})}catch(r){return m&&console.error(` ${e} Page - Create error:`,r),S({operationLoading:!1}),{success:!1,message:r instanceof Error?r.message:`Failed to create ${e.toLowerCase()}`}}}),[e,n,m,N,S,E]),_=ee.useCallback(t=>h(this,null,function*(){if(!v.selectedEntity)return{success:!1,message:"No entity selected"};S({operationLoading:!0});try{m&&console.log(` ${e} Page - Updating entity:`,v.selectedEntity.code,t);const r=yield n.updateEntity(v.selectedEntity.code,t);return r.success?(N("success",r.message||`${e} updated successfully`),S({showEditModal:!1,showCreateForm:!1,selectedEntity:null,operationLoading:!1}),yield E(!1),{success:!0}):(S({operationLoading:!1}),{success:!1,errors:r.errors||{},message:r.message||`Failed to update ${e.toLowerCase()}`})}catch(r){return m&&console.error(` ${e} Page - Update error:`,r),S({operationLoading:!1}),{success:!1,message:r instanceof Error?r.message:`Failed to update ${e.toLowerCase()}`}}}),[e,n,v.selectedEntity,m,N,S,E]),A=ee.useCallback(()=>h(this,null,function*(){if(v.selectedEntity){S({operationLoading:!0});try{m&&console.log(` ${e} Page - Deleting entity:`,v.selectedEntity.code);const t=yield n.deleteEntity(v.selectedEntity.code);t.success?(N("success",t.message||`${e} deleted successfully`),S({showDeleteModal:!1,selectedEntity:null,operationLoading:!1}),yield E(!1)):(N("error",t.message||`Failed to delete ${e.toLowerCase()}`),S({operationLoading:!1}))}catch(t){m&&console.error(` ${e} Page - Delete error:`,t),N("error",t instanceof Error?t.message:`Failed to delete ${e.toLowerCase()}`),S({operationLoading:!1})}}}),[e,n,v.selectedEntity,m,N,S,E]),I=ee.useCallback(e=>{S({searchTerm:e,currentPage:1})},[S]),P=ee.useCallback(e=>{const t=v.sortBy===e&&"asc"===v.sortOrder?"desc":"asc";S({sortBy:e,sortOrder:t})},[v.sortBy,v.sortOrder,S]),D=ee.useCallback(e=>{S({currentPage:e})},[S]),O=ee.useCallback(e=>{S({pageSize:e,currentPage:1})},[S]),L=ee.useCallback(e=>{S({activeFilter:e,currentPage:1})},[S]);return ee.useEffect(()=>{E()},[E]),de.jsxs("div",{className:"min-h-screen bg-gray-50",children:[de.jsx(I5,{entityName:e,entityNamePlural:t,entityDescription:r,breadcrumbItems:a,stats:v.stats,onRefresh:()=>E(),onExport:()=>{},loading:v.loading,customActions:de.jsxs("button",{onClick:()=>S({showCreateForm:!0,selectedEntity:null}),className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[de.jsx("span",{className:"text-lg",children:"+"}),"Add ",e]})}),de.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:de.jsx(P5,{searchTerm:v.searchTerm,onSearchChange:I,activeFilter:v.activeFilter,onFilterChange:L,hasActiveFilters:!!v.searchTerm||void 0!==v.activeFilter,onClearFilters:()=>{S({searchTerm:"",activeFilter:void 0,currentPage:1})},entityName:e,onCreateNew:()=>S({showCreateForm:!0,selectedEntity:null}),searchConfig:f,loading:v.loading,className:"max-w-4xl"})}),v.showCreateForm&&de.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-6",children:de.jsxs("div",{className:"max-w-6xl",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.selectedEntity?`Edit ${e}`:`Create New ${e}`}),de.jsxs("button",{onClick:()=>S({showCreateForm:!1,selectedEntity:null}),className:"text-gray-400 hover:text-gray-600 transition-colors",children:[de.jsx("span",{className:"sr-only",children:"Close"}),""]})]}),de.jsxs("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget),r={code:t.get("code"),name:t.get("name"),is_active:"true"===t.get("is_active")};v.selectedEntity?_(r):T(r)},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[de.jsxs("div",{children:[de.jsxs("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:[e," Code"]}),de.jsx("input",{type:"text",name:"code",id:"code",defaultValue:(null==(x=v.selectedEntity)?void 0:x.code)||"",disabled:!!v.selectedEntity,placeholder:o||`Enter ${e.toLowerCase()} code`,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-100 disabled:cursor-not-allowed",required:!v.selectedEntity})]}),de.jsxs("div",{children:[de.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:[e," Name"]}),de.jsx("input",{type:"text",name:"name",id:"name",defaultValue:(null==(b=v.selectedEntity)?void 0:b.name)||"",placeholder:d||`Enter ${e.toLowerCase()} name`,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",required:!0})]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"is_active",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),de.jsxs("select",{name:"is_active",id:"is_active",defaultValue:v.selectedEntity?String(v.selectedEntity.is_active):"true",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",children:[de.jsx("option",{value:"true",children:"Active"}),de.jsx("option",{value:"false",children:"Inactive"})]})]}),de.jsxs("div",{className:"flex items-end gap-2",children:[de.jsxs("button",{type:"submit",disabled:v.operationLoading,className:"flex-1 inline-flex justify-center items-center px-4 py-2 bg-orange-600 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[v.operationLoading?de.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):null,v.selectedEntity?"Update":"Create"]}),de.jsx("button",{type:"button",onClick:()=>S({showCreateForm:!1,selectedEntity:null}),className:"px-4 py-2 bg-gray-300 border border-transparent rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"})]})]})]})}),de.jsx("div",{className:"px-6 py-6",children:de.jsx(M5,{entities:v.entities,loading:v.loading,error:v.error,columns:C(),onEdit:e=>{S({selectedEntity:e,showCreateForm:!0})},onDelete:e=>{S({selectedEntity:e,showDeleteModal:!0})},onToggleStatus:n.toggleEntityStatus?k:void 0,statusToggleLoading:v.statusToggleLoading,getEntityId:e=>e.code,sortBy:v.sortBy,sortOrder:v.sortOrder,onSort:P,currentPage:v.currentPage,totalPages:v.totalPages,totalItems:v.totalItems,pageSize:v.pageSize,onPageChange:D,onPageSizeChange:O,emptyStateTitle:`No ${t.toLowerCase()} found`,emptyStateDescription:`Get started by creating your first ${e.toLowerCase()}.`,emptyStateAction:`Add ${e}`,onEmptyStateAction:()=>S({showCreateForm:!0}),hasActiveFilters:!!v.searchTerm||void 0!==v.activeFilter,onClearFilters:()=>{S({searchTerm:"",activeFilter:void 0,currentPage:1})}})}),v.showCreateModal&&de.jsx(t4,{mode:"create",onSubmit:T,onCancel:()=>S({showCreateModal:!1}),loading:v.operationLoading,entityName:e,codeValidationRules:s,nameValidationRules:i,codePlaceholder:o,namePlaceholder:d}),v.showEditModal&&v.selectedEntity&&de.jsx(t4,{mode:"edit",entity:v.selectedEntity,onSubmit:_,onCancel:()=>S({showEditModal:!1,selectedEntity:null}),loading:v.operationLoading,entityName:e,codeValidationRules:s,nameValidationRules:i,codePlaceholder:o,namePlaceholder:d}),v.showDeleteModal&&v.selectedEntity&&de.jsx(T5,{isOpen:!0,onClose:()=>S({showDeleteModal:!1,selectedEntity:null}),title:`Delete ${e}`,size:"md",children:de.jsxs("div",{className:"p-6",children:[de.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx(Wg,{className:"h-8 w-8 text-red-600"})}),de.jsxs("div",{children:[de.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Are you sure you want to delete this ",e.toLowerCase(),"?"]}),de.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[de.jsx("strong",{children:v.selectedEntity.code})," - ",v.selectedEntity.name]}),de.jsx("p",{className:"text-sm text-red-600 mt-2",children:"This action cannot be undone."})]})]}),de.jsxs("div",{className:"flex justify-end gap-3",children:[de.jsx("button",{onClick:()=>S({showDeleteModal:!1,selectedEntity:null}),disabled:v.operationLoading,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),de.jsxs("button",{onClick:A,disabled:v.operationLoading,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",children:[v.operationLoading&&de.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Delete ",e]})]})]})}),w&&de.jsx(k2,{type:w.type,message:w.message,onClose:()=>j(null)})]})}const s4=new class{constructor(){u(this,"baseUrl",Ef("customers"))}makeRequest(e){return h(this,arguments,function*(e,t={}){try{const r=yield fetch(e,l({headers:l({"Content-Type":"application/json"},t.headers),credentials:"include"},t));if(console.log(`CustomerService: ${t.method||"GET"} ${e} - Status: ${r.status}`),304===r.status)return console.warn("CustomerService: Received 304 Not Modified, treating as successful empty response"),{success:!0,data:[],message:"Data not modified (cached)"};const n=yield r.json();return r.ok||console.error("CustomerService: API Error Response:",{status:r.status,statusText:r.statusText,data:n}),n}catch(r){return console.error("CustomerService.makeRequest error:",r),{success:!1,data:[],message:r instanceof Error?r.message:"Network error occurred"}}})}buildQueryString(e){const t=new URLSearchParams;return Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,String(r))}),t.toString()}getCustomers(){return h(this,arguments,function*(e={}){const t=l({},e),r=this.buildQueryString(t),n=r?`${this.baseUrl}?${r}`:`${this.baseUrl}?_t=${Date.now()}`;console.log("CustomerService.getCustomers: Calling URL:",n);const a=yield this.makeRequest(n);return console.log("CustomerService.getCustomers: Raw response:",a),console.log("CustomerService.getCustomers: Response.data type:",typeof a.data),console.log("CustomerService.getCustomers: Response.data structure:",a.data?Object.keys(a.data):"null"),a.success&&a.data?a.data.data&&Array.isArray(a.data.data)?(console.log(" CustomerService: Detected paginated response structure"),console.log("  - Customers count:",a.data.data.length),console.log("  - Pagination:",a.data.pagination),{success:!0,data:a.data.data,message:a.message,errors:a.errors,pagination:a.data.pagination}):Array.isArray(a.data)?(console.log(" CustomerService: Direct array response (legacy)"),{success:!0,data:a.data,message:a.message,errors:a.errors,pagination:a.pagination}):(console.warn(" CustomerService: Unexpected response structure, returning empty array"),console.warn("Expected: { data: Customer[] } or Customer[]"),console.warn("Received:",a.data),{success:!1,data:[],message:"Invalid response structure from server",errors:a.errors}):(console.error(" CustomerService: API returned success: false or no data"),{success:!1,data:[],message:a.message||"Failed to load customers",errors:a.errors||{}})})}getCustomersSelector(){return h(this,arguments,function*(e={}){const t=c(l({},e),{isActive:!0}),r=this.buildQueryString(t),n=`${this.baseUrl}/active?${r}`,a=yield this.makeRequest(n);if(a.success&&a.data){if(a.data.data&&Array.isArray(a.data.data))return{success:!0,data:a.data.data,message:a.message,errors:a.errors};if(Array.isArray(a.data))return a}return{success:!1,data:[],message:a.message||"Failed to load active customers",errors:a.errors||{}}})}createCustomer(e){return h(this,null,function*(){return console.log("CustomerService.createCustomer: Creating with data:",e),this.makeRequest(this.baseUrl,{method:"POST",body:JSON.stringify(e)})})}updateCustomer(e,t){return h(this,null,function*(){return console.log("CustomerService.updateCustomer: Updating customer",e,"with data:",t),this.makeRequest(`${this.baseUrl}/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(t)})})}deleteCustomer(e){return h(this,null,function*(){return console.log("CustomerService.deleteCustomer: Deleting customer:",e),this.makeRequest(`${this.baseUrl}/${encodeURIComponent(e)}`,{method:"DELETE"})})}getStats(){return h(this,null,function*(){const e=`${this.baseUrl}/statistics`;console.log("CustomerService.getStats: Calling URL:",e);const t=yield this.makeRequest(e);return t.success&&t.data&&t.data.overview?(console.log(" CustomerService.getStats: Extracting stats from overview object"),console.log("Raw API response:",t.data),{success:!0,data:{total:t.data.overview.total||0,active:t.data.overview.active||0,inactive:t.data.overview.inactive||0,recent:t.data.overview.recent||0},message:t.message}):(console.log(" CustomerService.getStats: Invalid response structure"),console.log("Expected: { data: { overview: { total, active, inactive } } }"),console.log("Received:",t),{success:!1,data:{total:0,active:0,inactive:0,recent:0},message:t.message||"Failed to load statistics"})})}toggleCustomerStatus(e){return h(this,null,function*(){return console.log("CustomerService.toggleCustomerStatus: Toggling status for:",e),this.makeRequest(`${this.baseUrl}/${encodeURIComponent(e)}/status`,{method:"PATCH"})})}checkCodeExists(e){return h(this,null,function*(){const t=`${this.baseUrl}/check-code/${encodeURIComponent(e)}`;return this.makeRequest(t)})}searchCustomers(e){return h(this,null,function*(){const t=`${this.baseUrl}/search?q=${encodeURIComponent(e)}`,r=yield this.makeRequest(t);return r.success&&r.data&&r.data.data?{success:!0,data:r.data.data,message:r.message,errors:r.errors}:r})}},i4=()=>h(void 0,null,function*(){try{console.log(" Fetching customer options...");const e=yield s4.getCustomers({isActive:!0,limit:1e3});if(console.log(" Raw customer data:",e),!e.success||!e.data)return console.error(" Failed to fetch customers for dropdown"),[];const t=e.data;console.log(" Customers for dropdown:",t);const r=t.map(e=>({value:e.code,label:e.name?`${e.code} - ${e.name}`:e.code,code:e.code}));return console.log(" Customer options:",r),r}catch(e){return console.error(" Error getting customer options:",e),[]}}),o4=({field:e,value:t,onChange:r,className:n})=>{const[a,s]=ee.useState([]),[i,o]=ee.useState(!1),[l,c]=ee.useState(null);return ee.useEffect(()=>{h(void 0,null,function*(){if(e.asyncOptions){o(!0),c(null);try{console.log(` Loading async options for ${e.label}...`);const t=yield e.asyncOptions();console.log(` Loaded ${t.length} options for ${e.label}:`,t),s(t)}catch(t){console.error(` Error loading options for ${e.label}:`,t),c(t instanceof Error?t.message:"Failed to load options"),s([])}finally{o(!1)}}})},[e.asyncOptions,e.label]),i?de.jsxs("div",{className:`${n} flex items-center justify-center py-3 bg-gray-50`,children:[de.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-orange-500 border-t-transparent"}),de.jsx("span",{className:"ml-2 text-gray-500 text-sm",children:"Loading..."})]}):l?de.jsx("div",{className:`${n} bg-red-50 border-red-300 text-red-600`,children:de.jsx("div",{className:"flex items-center justify-between py-2 px-3",children:de.jsxs("span",{className:"text-sm",children:[" ",l]})})}):de.jsxs("select",{id:e.key,name:e.key,value:t,onChange:e=>r(e.target.value),required:e.required,disabled:e.disabled,className:n,children:[de.jsx("option",{value:"",children:e.placeholder||`Select ${e.label}`}),a.map(e=>de.jsx("option",{value:e.value,children:e.label},e.value))]})},l4=e=>{switch(e){case"half":return"md:col-span-6";case"third":return"md:col-span-4";case"quarter":return"md:col-span-3";default:return"md:col-span-12"}},c4=({mode:e,entity:t,formTitle:r,formDescription:n,sections:a,onSubmit:s,onCancel:i,loading:o=!1,globalValidation:d,modalSize:u="xl",showAsModal:m=!0,entityName:f="Entity",primaryKeyField:p="id"})=>{const[g,x]=ee.useState({}),[b,v]=ee.useState({}),[y,w]=ee.useState(new Set),[j,N]=ee.useState(!1);ee.useEffect(()=>{const r={};a.forEach(n=>{n.fields.forEach(n=>{var a,s,i;r[n.key]="edit"===e&&t?null!=(s=null!=(a=t[n.key])?a:n.defaultValue)?s:"":null!=(i=n.defaultValue)?i:""})}),x(r);const n=new Set;a.forEach((e,t)=>{e.collapsible&&!e.defaultExpanded&&n.add(t)}),w(n)},[e,t,a]);const S=(e,t)=>{x(r=>c(l({},r),{[e]:t})),b[e]&&v(t=>{const r=l({},t);return delete r[e],r})},k=t=>{var r;if(t.showWhen&&!t.showWhen(g))return null;const n=null!=(r=g[t.key])?r:"",a=b[t.key]||[],s=a.length>0,i=`\n      block w-full px-4 py-3 border rounded-lg shadow-sm transition-all duration-200\n      focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\n      hover:border-gray-400 focus:shadow-lg\n      ${s?"border-red-300 bg-red-50":"border-gray-300"}\n      ${t.disabled?"bg-gray-100 cursor-not-allowed opacity-60":"bg-white"}\n      text-sm font-medium placeholder-gray-500\n    `;return de.jsxs("div",{className:`${l4(t.width)} space-y-2`,children:["checkbox"!==t.type&&de.jsxs("label",{htmlFor:t.key,className:"block text-sm font-semibold text-gray-800 mb-2",children:[t.label,t.required&&de.jsx("span",{className:"text-red-500 ml-1 font-bold",children:"*"})]}),(()=>{var r,a,s,o,c,d,u,h,m;switch(t.type){case"textarea":return de.jsx("textarea",{id:t.key,name:t.key,value:n,onChange:e=>S(t.key,e.target.value),placeholder:t.placeholder,required:t.required,disabled:t.disabled,minLength:null==(r=t.validation)?void 0:r.minLength,maxLength:null==(a=t.validation)?void 0:a.maxLength,rows:3,className:i});case"select":return t.asyncOptions?de.jsx(o4,{field:t,value:n,onChange:e=>S(t.key,e),className:i}):de.jsxs("select",{id:t.key,name:t.key,value:n,onChange:e=>S(t.key,e.target.value),required:t.required,disabled:t.disabled,className:i,children:[de.jsx("option",{value:"",children:t.placeholder||`Select ${t.label}`}),null==(s=t.options)?void 0:s.map(e=>de.jsx("option",{value:e.value,children:e.label},e.value))]});case"checkbox":return de.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-orange-50 transition-colors duration-200",children:[de.jsx("input",{type:"checkbox",id:t.key,name:t.key,checked:!!n,onChange:e=>S(t.key,e.target.checked),disabled:t.disabled,className:"h-5 w-5 text-orange-600 focus:ring-orange-500 border-gray-300 rounded-md shadow-sm"}),de.jsx("label",{htmlFor:t.key,className:"ml-3 block text-sm font-medium text-gray-900",children:t.placeholder||t.label})]});case"number":return de.jsx("input",{type:"number",id:t.key,name:t.key,value:n,onChange:e=>S(t.key,parseFloat(e.target.value)||0),placeholder:t.placeholder,required:t.required,disabled:t.disabled,min:null==(o=t.validation)?void 0:o.min,max:null==(c=t.validation)?void 0:c.max,className:i});case"component":if(t.component){const e=t.component;return de.jsx(e,l({value:n,onChange:e=>S(t.key,e),placeholder:t.placeholder,required:t.required,disabled:t.disabled},t.componentProps||{}))}return de.jsx("div",{className:"text-red-500",children:"Component not specified"});default:return de.jsx("input",{type:t.type,id:t.key,name:t.key,value:n,onChange:e=>S(t.key,e.target.value),placeholder:t.placeholder,required:t.required,disabled:t.disabled||"edit"===e&&t.key===p,minLength:null==(d=t.validation)?void 0:d.minLength,maxLength:null==(u=t.validation)?void 0:u.maxLength,pattern:null==(m=null==(h=t.validation)?void 0:h.pattern)?void 0:m.source,className:i})}})(),s&&de.jsx("div",{className:"text-red-600 text-xs font-medium bg-red-50 border border-red-200 rounded-md px-3 py-2 mt-1",children:a.map((e,t)=>de.jsxs("div",{className:"flex items-center gap-1",children:[de.jsx("span",{className:"text-red-500",children:""}),e]},t))})]},t.key)},C=de.jsxs("form",{onSubmit:e=>h(void 0,null,function*(){e.preventDefault(),N(!0),v({});try{const e={};if(a.forEach(t=>{t.fields.forEach(t=>{if(t.showWhen&&!t.showWhen(g))return;const r=((e,t)=>{if(e.required&&(!t||"string"==typeof t&&!t.trim()))return`${e.label} is required`;if(!e.validation)return null;const r=e.validation;if("string"==typeof t){if(r.minLength&&t.length<r.minLength)return`${e.label} must be at least ${r.minLength} characters`;if(r.maxLength&&t.length>r.maxLength)return`${e.label} must be at most ${r.maxLength} characters`;if(r.pattern&&!r.pattern.test(t))return r.patternMessage||`${e.label} has invalid format`}if("number"==typeof t){if(void 0!==r.min&&t<r.min)return`${e.label} must be at least ${r.min}`;if(void 0!==r.max&&t>r.max)return`${e.label} must be at most ${r.max}`}return r.custom?r.custom(t):null})(t,g[t.key]);r&&(e[t.key]=[r])})}),d){const t=d(g);Object.keys(t).forEach(r=>{e[r]?e[r].push(...t[r]):e[r]=t[r]})}if(Object.keys(e).length>0)return v(e),void N(!1);const t=yield s(g);t.success||(t.errors&&v(t.errors),t.message&&v(e=>c(l({},e),{_general:[t.message]})))}catch(t){v({_general:[t.message||"An unexpected error occurred"]})}finally{N(!1)}}),className:"space-y-6",children:[b._general&&de.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 px-6 py-4 rounded-lg shadow-sm",children:de.jsxs("div",{className:"flex items-center gap-2",children:[de.jsx("span",{className:"text-red-500 text-lg",children:""}),de.jsx("div",{children:b._general.map((e,t)=>de.jsx("div",{className:"font-medium",children:e},t))})]})}),(r||n)&&de.jsxs("div",{className:"border-b border-gray-200 pb-6 mb-6 bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-6 -mx-6 -mt-6 mb-6",children:[r&&de.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[de.jsx("span",{className:"text-orange-600",children:""}),r]}),n&&de.jsx("p",{className:"mt-3 text-sm text-gray-700 font-medium",children:n})]}),de.jsx("div",{className:"space-y-6",children:a.map((e,t)=>{const r=y.has(t);return de.jsxs("div",{className:"border border-gray-200 rounded-xl shadow-sm bg-white hover:shadow-md transition-shadow duration-200",children:[de.jsx("div",{className:`px-6 py-5 rounded-t-xl ${e.collapsible?"cursor-pointer":""} ${e.collapsible?"hover:bg-gradient-to-r hover:from-orange-50 hover:to-amber-50":"bg-gradient-to-r from-orange-50 to-amber-50"} border-b border-gray-100`,onClick:e.collapsible?()=>(e=>{w(t=>{const r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})})(t):void 0,children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:e.title}),e.description&&de.jsx("p",{className:"mt-2 text-sm text-gray-600 font-medium",children:e.description})]}),e.collapsible&&de.jsx("button",{type:"button",className:"text-gray-400 hover:text-orange-600 transition-colors duration-200 text-lg font-bold",children:r?"":""})]})}),!r&&de.jsx("div",{className:"px-6 py-6",children:de.jsx("div",{className:"grid grid-cols-12 gap-6",children:e.fields.map(k)})})]},t)})}),de.jsxs("div",{className:"flex justify-end space-x-4 pt-8 border-t border-gray-200 bg-gray-50 rounded-lg p-6 -mx-6 -mb-6 mt-8",children:[de.jsx("button",{type:"button",onClick:i,disabled:j,className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-semibold text-gray-700 hover:bg-white hover:shadow-md transition-all duration-200 disabled:opacity-50",children:"Cancel"}),de.jsxs("button",{type:"submit",disabled:j||o,className:"inline-flex items-center px-8 py-3 bg-gradient-to-r from-orange-600 to-orange-700 border border-transparent rounded-lg text-sm font-semibold text-white hover:from-orange-700 hover:to-orange-800 hover:shadow-lg transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[(j||o)&&de.jsx(D5,{size:"sm",className:"mr-2"}),de.jsx("span",{className:"mr-2",children:"create"===e?"":""}),"create"===e?`Create ${f}`:`Update ${f}`]})]})]});return m?de.jsx(T5,{isOpen:!0,onClose:i,title:"create"===e?`Create New ${f}`:`Edit ${f}`,size:u,children:de.jsx("div",{className:"p-6",children:C})}):de.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-6",children:C})},d4=e=>{if(!e)return"N/A";try{const t=new Date(e);return new Intl.DateTimeFormat("en-UK",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(t)}catch(xJ){return"Invalid Date"}},u4=(e,t)=>{if(!t||!e)return e;const r=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.split(r).map((e,t)=>r.test(e)?de.jsx("mark",{className:"bg-yellow-200 text-yellow-900 px-1 rounded font-medium",children:e},t):e)};function h4({entityName:e,entityNamePlural:t,entityDescription:r,service:n,breadcrumbItems:a,formSections:s,primaryKeyField:i,customColumns:o=[],hiddenColumns:c=[],globalValidation:d,searchConfig:u,statusConfig:m,defaultPageSize:f=20,enablePagination:p=!0,debugMode:g=!1,useEmbeddedForm:x=!1,embeddedFormColumns:b=4,additionalHeaderActions:v}){Cm();const[y,w]=ee.useState({entities:[],loading:!0,error:null,selectedEntity:null,showCreateModal:!1,showEditModal:!1,showDeleteModal:!1,showEmbeddedForm:!1,searchTerm:"",currentPage:1,pageSize:f,totalItems:0,totalPages:0,sortBy:i,sortOrder:"asc",activeFilter:void 0,stats:{total:0,active:0,inactive:0},operationLoading:!1,statusToggleLoading:new Set}),[j,N]=ee.useState(null),S=ee.useCallback((t,r)=>{g&&console.log(` ${e} Page - Notification:`,{type:t,message:r}),N({type:t,message:r})},[e,g]),k=ee.useCallback(e=>{w(t=>l(l({},t),e))},[]),C=ee.useCallback(t=>h(this,null,function*(){if(!n.toggleEntityStatus)return;const r=t[i];k({statusToggleLoading:new Set(y.statusToggleLoading).add(r)});try{g&&console.log(` ${e} Page - Toggling status:`,r);const t=yield n.toggleEntityStatus(r);t.success?(S("success",t.message||"Status updated successfully"),yield T(!1)):S("error",t.message||"Failed to update status")}catch(a){g&&console.error(` ${e} Page - Toggle error:`,a),S("error",a instanceof Error?a.message:"Failed to update status")}finally{const e=new Set(y.statusToggleLoading);e.delete(r),k({statusToggleLoading:e})}}),[e,n,y.statusToggleLoading,i,g,S,k]),E=ee.useCallback(()=>[...[{key:i,label:`${e} Code`,sortable:!0,width:"w-32",className:"font-mono text-sm",render:e=>de.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-gray-800 font-medium",children:u4(e||"",y.searchTerm)})},{key:"is_active",label:"Status",sortable:!0,width:"w-32",render:(e,t)=>{const r=t[i],a=y.statusToggleLoading.has(r);return de.jsxs("button",{onClick:()=>n.toggleEntityStatus?C(t):null,disabled:a||!n.toggleEntityStatus,className:`\n                inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200\n                ${e?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"} ${a||!n.toggleEntityStatus?"opacity-50 cursor-not-allowed":"cursor-pointer hover:shadow-md"}\n              `,title:n.toggleEntityStatus?"Click to toggle status":"Status toggle not available",children:[a?de.jsx("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin"}):de.jsx("div",{className:"w-2 h-2 rounded-full "+(e?"bg-green-600":"bg-red-600")}),e?"Active":"Inactive"]})}},{key:"created_at",label:"Created",sortable:!0,width:"w-40",render:e=>de.jsx("span",{className:"text-sm text-gray-600",children:d4(e)})},{key:"updated_at",label:"Updated",sortable:!0,width:"w-40",render:e=>de.jsx("span",{className:"text-sm text-gray-600",children:d4(e)})}].filter(e=>!c.includes(e.key)),...o.filter(e=>!c.includes(e.key)),{key:"actions",label:"Actions",sortable:!1,width:"w-32",className:"text-center"}],[e,o,c,y.searchTerm,y.statusToggleLoading,n.toggleEntityStatus,C,i]),T=ee.useCallback((r=!0)=>h(this,null,function*(){var a,s;r&&k({loading:!0,error:null});try{g&&console.log(` ${e} Page - Loading entities...`,{currentPage:y.currentPage,pageSize:y.pageSize,searchTerm:y.searchTerm,sortBy:y.sortBy,sortOrder:y.sortOrder,activeFilter:y.activeFilter});const r={page:y.currentPage,limit:y.pageSize,search:y.searchTerm||void 0,sortBy:y.sortBy,sortOrder:y.sortOrder,isActive:y.activeFilter},o=yield n.getEntities(r);if(g&&console.log(` ${e} Page - Entities loaded:`,o),o.success&&o.data){if(k({entities:o.data,totalItems:(null==(a=o.pagination)?void 0:a.totalItems)||o.data.length,totalPages:(null==(s=o.pagination)?void 0:s.totalPages)||1,loading:!1,error:null}),n.getStats)try{const e=yield n.getStats();e.success&&e.data&&k({stats:{total:e.data.total||0,active:e.data.active||0,inactive:e.data.inactive||0}})}catch(i){g&&console.warn(` ${e} Page - Failed to load stats:`,i)}}else k({entities:[],totalItems:0,totalPages:0,loading:!1,error:o.message||`Failed to load ${t.toLowerCase()}`})}catch(o){g&&console.error(` ${e} Page - Load error:`,o),k({entities:[],totalItems:0,totalPages:0,loading:!1,error:o instanceof Error?o.message:`Failed to load ${t.toLowerCase()}`})}}),[e,t,n,y.currentPage,y.pageSize,y.searchTerm,y.sortBy,y.sortOrder,y.activeFilter,g,k]),_=ee.useCallback(t=>h(this,null,function*(){try{g&&console.log(` ${e} Page - Creating entity:`,t);const r=yield n.createEntity(t);return r.success?(S("success",r.message||`${e} created successfully`),k({showCreateModal:!1,showEmbeddedForm:!1,selectedEntity:null}),yield T(!1),{success:!0}):{success:!1,errors:r.errors||{},message:r.message||`Failed to create ${e.toLowerCase()}`}}catch(r){return g&&console.error(` ${e} Page - Create error:`,r),{success:!1,message:r instanceof Error?r.message:`Failed to create ${e.toLowerCase()}`}}}),[e,n,g,S,k,T]),A=ee.useCallback(t=>h(this,null,function*(){if(!y.selectedEntity)return{success:!1,message:"No entity selected"};try{g&&console.log(` ${e} Page - Updating entity:`,y.selectedEntity[i],t);const r=yield n.updateEntity(y.selectedEntity[i],t);return r.success?(S("success",r.message||`${e} updated successfully`),k({showEditModal:!1,showEmbeddedForm:!1,selectedEntity:null}),yield T(!1),{success:!0}):{success:!1,errors:r.errors||{},message:r.message||`Failed to update ${e.toLowerCase()}`}}catch(r){return g&&console.error(` ${e} Page - Update error:`,r),{success:!1,message:r instanceof Error?r.message:`Failed to update ${e.toLowerCase()}`}}}),[e,n,y.selectedEntity,i,g,S,k,T]),I=ee.useCallback(()=>h(this,null,function*(){if(y.selectedEntity){k({operationLoading:!0});try{g&&console.log(` ${e} Page - Deleting entity:`,y.selectedEntity[i]);const t=yield n.deleteEntity(y.selectedEntity[i]);t.success?(S("success",t.message||`${e} deleted successfully`),k({showDeleteModal:!1,selectedEntity:null,operationLoading:!1}),yield T(!1)):(S("error",t.message||`Failed to delete ${e.toLowerCase()}`),k({operationLoading:!1}))}catch(t){g&&console.error(` ${e} Page - Delete error:`,t),S("error",t instanceof Error?t.message:`Failed to delete ${e.toLowerCase()}`),k({operationLoading:!1})}}}),[e,n,y.selectedEntity,i,g,S,k,T]),P=ee.useCallback(e=>{k({searchTerm:e,currentPage:1})},[k]),D=ee.useCallback(e=>{const t=y.sortBy===e&&"asc"===y.sortOrder?"desc":"asc";k({sortBy:e,sortOrder:t})},[y.sortBy,y.sortOrder,k]),O=ee.useCallback(e=>{k({currentPage:e})},[k]),L=ee.useCallback(e=>{k({pageSize:e,currentPage:1})},[k]),R=ee.useCallback(e=>{k({activeFilter:e,currentPage:1})},[k]);return ee.useEffect(()=>{T()},[T]),de.jsxs("div",{className:"min-h-screen bg-gray-50",children:[de.jsx(I5,{entityName:e,entityNamePlural:t,entityDescription:r,breadcrumbItems:a,stats:y.stats,onRefresh:()=>T(),onExport:()=>{},loading:y.loading,customActions:de.jsxs(de.Fragment,{children:[de.jsxs("button",{onClick:()=>{k(x?{showEmbeddedForm:!0,selectedEntity:null}:{showCreateModal:!0,selectedEntity:null})},className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[de.jsx("span",{className:"text-lg",children:"+"}),"Add ",e]}),v]})}),de.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:de.jsx(P5,{searchTerm:y.searchTerm,onSearchChange:P,activeFilter:y.activeFilter,onFilterChange:R,hasActiveFilters:!!y.searchTerm||void 0!==y.activeFilter,onClearFilters:()=>{k({searchTerm:"",activeFilter:void 0,currentPage:1})},entityName:e,onCreateNew:()=>{k(x?{showEmbeddedForm:!0,selectedEntity:null}:{showCreateModal:!0,selectedEntity:null})},searchConfig:u,loading:y.loading,className:"max-w-4xl"})}),x&&y.showEmbeddedForm&&de.jsx("div",{className:"bg-gradient-to-br from-white via-orange-25 to-amber-25 border-b border-gray-200 shadow-lg",children:de.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[de.jsxs("div",{className:"flex items-center justify-between mb-6",children:[de.jsxs("div",{className:"flex items-center gap-3",children:[de.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:de.jsx("span",{className:"text-white text-lg font-bold",children:y.selectedEntity?"":""})}),de.jsxs("div",{children:[de.jsx("h3",{className:"text-xl font-bold text-gray-900",children:y.selectedEntity?`Edit ${e}`:`Create New ${e}`}),de.jsx("p",{className:"text-sm text-gray-600 font-medium",children:y.selectedEntity?`Modify the details for ${y.selectedEntity[i]}`:`Fill in the information below to create a new ${e.toLowerCase()}`})]})]}),de.jsxs("button",{onClick:()=>k({showEmbeddedForm:!1,selectedEntity:null}),className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 hover:shadow-md",title:"Close form",children:[de.jsx("span",{className:"sr-only",children:"Close"}),de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),de.jsx("div",{className:"bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden",children:de.jsx(c4,{mode:y.selectedEntity?"edit":"create",entity:y.selectedEntity||void 0,sections:s,onSubmit:y.selectedEntity?A:_,onCancel:()=>k({showEmbeddedForm:!1,selectedEntity:null}),entityName:e,primaryKeyField:i,globalValidation:d,showAsModal:!1,loading:y.operationLoading})})]})}),de.jsx("div",{className:"px-6 py-6",children:de.jsx(M5,{entities:y.entities,loading:y.loading,error:y.error,columns:E(),onEdit:e=>{k(x?{selectedEntity:e,showEmbeddedForm:!0}:{selectedEntity:e,showEditModal:!0})},onDelete:e=>{k({selectedEntity:e,showDeleteModal:!0})},onToggleStatus:n.toggleEntityStatus?C:void 0,statusToggleLoading:y.statusToggleLoading,getEntityId:e=>e[i],sortBy:y.sortBy,sortOrder:y.sortOrder,onSort:D,currentPage:y.currentPage,totalPages:y.totalPages,totalItems:y.totalItems,pageSize:y.pageSize,onPageChange:O,onPageSizeChange:L,emptyStateTitle:`No ${t.toLowerCase()} found`,emptyStateDescription:`Get started by creating your first ${e.toLowerCase()}.`,emptyStateAction:`Add ${e}`,onEmptyStateAction:()=>{k(x?{showEmbeddedForm:!0}:{showCreateModal:!0})},hasActiveFilters:!!y.searchTerm||void 0!==y.activeFilter,onClearFilters:()=>{k({searchTerm:"",activeFilter:void 0,currentPage:1})}})}),!x&&y.showCreateModal&&de.jsx(c4,{mode:"create",sections:s,onSubmit:_,onCancel:()=>k({showCreateModal:!1}),entityName:e,primaryKeyField:i,globalValidation:d,modalSize:"2xl"}),!x&&y.showEditModal&&y.selectedEntity&&de.jsx(c4,{mode:"edit",entity:y.selectedEntity,sections:s,onSubmit:A,onCancel:()=>k({showEditModal:!1,selectedEntity:null}),entityName:e,primaryKeyField:i,globalValidation:d,modalSize:"2xl"}),y.showDeleteModal&&y.selectedEntity&&de.jsx(T5,{isOpen:!0,onClose:()=>k({showDeleteModal:!1,selectedEntity:null}),title:`Delete ${e}`,size:"md",children:de.jsxs("div",{className:"p-6",children:[de.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx(Wg,{className:"h-8 w-8 text-red-600"})}),de.jsxs("div",{children:[de.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Are you sure you want to delete this ",e.toLowerCase(),"?"]}),de.jsx("p",{className:"text-sm text-gray-600 mt-1",children:de.jsx("strong",{children:y.selectedEntity[i]})}),de.jsx("p",{className:"text-sm text-red-600 mt-2",children:"This action cannot be undone."})]})]}),de.jsxs("div",{className:"flex justify-end gap-3",children:[de.jsx("button",{onClick:()=>k({showDeleteModal:!1,selectedEntity:null}),disabled:y.operationLoading,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),de.jsxs("button",{onClick:I,disabled:y.operationLoading,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",children:[y.operationLoading&&de.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Delete ",e]})]})]})}),j&&de.jsx(k2,{type:j.type,message:j.message,onClose:()=>N(null)})]})}const m4=new class{constructor(){u(this,"baseUrl",Ef("customer-sites"))}makeRequest(e){return h(this,arguments,function*(e,t={}){try{const r=yield fetch(e,l({headers:l({"Content-Type":"application/json"},t.headers),credentials:"include"},t));if(console.log(`CustomerSiteService: ${t.method||"GET"} ${e} - Status: ${r.status}`),304===r.status)return console.warn("CustomerSiteService: Received 304 Not Modified, treating as successful empty response"),{success:!0,data:[],message:"Data not modified (cached)",errors:[]};const n=yield r.json();return r.ok||console.error("CustomerSiteService: API Error Response:",{status:r.status,statusText:r.statusText,data:n}),n}catch(r){return console.error("CustomerSiteService.makeRequest error:",r),{success:!1,data:void 0,message:r instanceof Error?r.message:"Network error occurred",errors:[]}}})}buildQueryString(e){const t=new URLSearchParams;return Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,String(r))}),t.toString()}getCustomerSites(e){return h(this,null,function*(){const t=c(l({},e),{_t:Date.now()}),r=this.buildQueryString(t),n=r?`${this.baseUrl}?${r}`:`${this.baseUrl}?_t=${Date.now()}`;console.log("CustomerSiteService.getCustomerSites: Calling URL:",n);const a=yield this.makeRequest(n);return console.log("CustomerSiteService.getCustomerSites: Raw response:",a),a.success&&a.data?a.data.data&&Array.isArray(a.data.data)?(console.log(" CustomerSiteService: Detected paginated response structure"),console.log("  - Customer-Sites count:",a.data.data.length),console.log("  - Pagination:",a.data.pagination),{success:!0,data:a.data.data,message:a.message,errors:a.errors||[],pagination:a.data.pagination}):Array.isArray(a.data)?(console.log(" CustomerSiteService: Direct array response (legacy)"),{success:!0,data:a.data,message:a.message,errors:a.errors||[],pagination:{page:1,limit:a.data.length,total:a.data.length,totalPages:1,hasNext:!1,hasPrev:!1}}):(console.warn(" CustomerSiteService: Unexpected response structure, returning empty array"),console.warn("Expected: { data: CustomerSite[] } or CustomerSite[]"),console.warn("Received:",a.data),{success:!1,data:[],message:"Invalid response structure from server",errors:a.errors||[],pagination:{page:1,limit:0,total:0,totalPages:0,hasNext:!1,hasPrev:!1}}):(console.error(" CustomerSiteService: API returned success: false or no data"),{success:!1,data:[],message:a.message||"Failed to load customer-sites",errors:a.errors||[],pagination:{page:1,limit:0,total:0,totalPages:0,hasNext:!1,hasPrev:!1}})})}getCustomerSiteByCode(e){return h(this,null,function*(){if(!e.trim())return{success:!1,data:void 0,message:"Code is required",errors:[]};const t=`${this.baseUrl}/${encodeURIComponent(e)}?_t=${Date.now()}`;console.log("CustomerSiteService.getCustomerSiteByCode: Calling URL:",t);const r=yield this.makeRequest(t);return r.success&&r.data?{success:!0,data:r.data,message:r.message,errors:r.errors||[]}:{success:!1,data:void 0,message:r.message||`Failed to fetch customer-site ${e}`,errors:r.errors||[]}})}createCustomerSite(e){return h(this,null,function*(){const t=this.validateCreateRequest(e);if(!t.isValid)return{success:!1,data:void 0,message:`Validation failed: ${Object.values(t.errors).join(", ")}`,errors:Object.values(t.errors)};console.log("CustomerSiteService.createCustomerSite: Creating with data:",e);const r=yield this.makeRequest(this.baseUrl,{method:"POST",body:JSON.stringify(e)});return r.success&&r.data?{success:!0,data:r.data,message:r.message||"Customer-site created successfully",errors:r.errors||[]}:{success:!1,data:void 0,message:r.message||"Failed to create customer-site",errors:r.errors||[]}})}updateCustomerSite(e,t){return h(this,null,function*(){if(!e.trim())return{success:!1,data:void 0,message:"Code is required",errors:[]};const r=this.validateUpdateRequest(t);if(!r.isValid)return{success:!1,data:void 0,message:`Validation failed: ${Object.values(r.errors).join(", ")}`,errors:Object.values(r.errors)};console.log("CustomerSiteService.updateCustomerSite: Updating customer-site",e,"with data:",t);const n=yield this.makeRequest(`${this.baseUrl}/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(t)});return n.success&&n.data?{success:!0,data:n.data,message:n.message||"Customer-site updated successfully",errors:n.errors||[]}:{success:!1,data:void 0,message:n.message||`Failed to update customer-site ${e}`,errors:n.errors||[]}})}deleteCustomerSite(e){return h(this,null,function*(){if(!e.trim())return{success:!1,data:void 0,message:"Code is required",errors:[]};console.log("CustomerSiteService.deleteCustomerSite: Deleting customer-site:",e);const t=yield this.makeRequest(`${this.baseUrl}/${encodeURIComponent(e)}`,{method:"DELETE"});return{success:t.success,data:void 0,message:t.message||(t.success?"Customer-site deleted successfully":`Failed to delete customer-site ${e}`),errors:t.errors||[]}})}toggleCustomerSiteStatus(e){return h(this,null,function*(){console.log("CustomerSiteService.toggleCustomerSiteStatus: Toggling status for:",e);const t=yield this.makeRequest(`${this.baseUrl}/${encodeURIComponent(e)}/status`,{method:"PATCH"});return t.success&&t.data?{success:!0,data:t.data,message:t.message||"Customer-site status toggled successfully",errors:t.errors||[]}:{success:!1,data:void 0,message:t.message||`Failed to toggle status for customer-site ${e}`,errors:t.errors||[]}})}getCustomerSitesByCustomer(e){return h(this,null,function*(){return e.trim()?this.getCustomerSites({customerCode:e}):{success:!1,data:[],message:"Customer code is required",errors:[],pagination:{page:1,limit:0,total:0,totalPages:0,hasNext:!1,hasPrev:!1}}})}getCustomerSitesBySite(e){return h(this,null,function*(){return e.trim()?this.getCustomerSites({siteCode:e}):{success:!1,data:[],message:"Site code is required",errors:[],pagination:{page:1,limit:0,total:0,totalPages:0,hasNext:!1,hasPrev:!1}}})}getStats(){return h(this,null,function*(){const e=`${this.baseUrl}/statistics?_t=${Date.now()}`;console.log("CustomerSiteService.getStats: Calling URL:",e);const t=yield this.makeRequest(e);return t.success&&t.data&&t.data.overview?(console.log(" CustomerSiteService.getStats: Extracting stats from overview object"),console.log("Raw API response:",t.data),{success:!0,data:{total:t.data.overview.total||0,active:t.data.overview.active||0,inactive:t.data.overview.inactive||0,recent:t.data.overview.recent||0},message:t.message,errors:t.errors||[]}):(console.log(" CustomerSiteService.getStats: Invalid response structure"),console.log("Expected: { data: { overview: { total, active, inactive } } }"),console.log("Received:",t),{success:!1,data:{total:0,active:0,inactive:0,recent:0},message:t.message||"Failed to load statistics",errors:t.errors||[]})})}checkCustomerSiteExists(e){return h(this,null,function*(){const t=`${this.baseUrl}/check-exists/${encodeURIComponent(e)}?_t=${Date.now()}`,r=yield this.makeRequest(t);return{success:r.success,data:r.data,message:r.message,errors:r.errors||[]}})}validateCreateRequest(e){const t={},r=e.customers||e.customer_code,n=e.site||e.site_code,a=e.code;return(null==r?void 0:r.trim())||(t.customer_code="Customer code is required"),(null==n?void 0:n.trim())||(t.site_code="Site code is required"),(null==a?void 0:a.trim())||(t.code="Code is required"),a&&a.length>10&&(t.code="Code must be 10 characters or less"),{isValid:0===Object.keys(t).length,errors:t}}validateUpdateRequest(e){var t;const r={};return void 0===e.name||(null==(t=e.name)?void 0:t.trim())&&0!==e.name.length||(r.name="Name cannot be empty"),e.name&&e.name.length>100&&(r.name="Name must be 100 characters or less"),{isValid:0===Object.keys(r).length,errors:r}}};class f4{getEntities(e){return h(this,null,function*(){try{const t=yield m4.getCustomerSites(e);return{success:!0,data:t.data||[],pagination:t.pagination?{currentPage:t.pagination.page,totalPages:t.pagination.totalPages,totalItems:t.pagination.total,pageSize:t.pagination.limit}:void 0,message:t.message}}catch(t){return E5.play("error"),{success:!1,data:[],message:t.message||"Failed to fetch customer-sites"}}})}createEntity(e){return h(this,null,function*(){try{const t={code:e.code||`${e.customer_code}_${e.site_code}`,customers:e.customer_code,site:e.site_code,is_active:e.is_active},r=yield m4.createCustomerSite(t);return r.success?E5.play("success"):E5.play("error"),{success:r.success,data:r.data,message:r.message||"Customer-site created successfully",errors:this.parseValidationErrors(r.errors)}}catch(t){return E5.play("error"),{success:!1,message:t.message||"Failed to create customer-site",errors:this.parseValidationErrors(t.message)}}})}updateEntity(e,t){return h(this,null,function*(){try{const r={customers:t.customer_code||t.customers,site:t.site_code||t.site,is_active:t.is_active},n=yield m4.updateCustomerSite(e,r);return n.success?E5.play("success"):E5.play("error"),{success:n.success,data:n.data,message:n.message||"Customer-site updated successfully",errors:this.parseValidationErrors(n.errors)}}catch(r){return E5.play("error"),{success:!1,message:r.message||"Failed to update customer-site",errors:this.parseValidationErrors(r.message)}}})}deleteEntity(e){return h(this,null,function*(){try{const t=yield m4.deleteCustomerSite(e);return t.success?E5.play("success"):E5.play("error"),{success:t.success,message:t.message||"Customer-site deleted successfully"}}catch(t){return E5.play("error"),{success:!1,message:t.message||"Failed to delete customer-site"}}})}toggleEntityStatus(e){return h(this,null,function*(){try{const t=yield m4.toggleCustomerSiteStatus(e);return t.success?E5.play("success"):E5.play("error"),{success:t.success,data:t.data,message:t.message||"Customer-site status updated successfully"}}catch(t){return E5.play("error"),{success:!1,message:t.message||"Failed to update customer-site status"}}})}getStats(){return h(this,null,function*(){try{const e=yield m4.getStats();return{success:e.success,data:e.data}}catch(e){return E5.play("error"),{success:!1,message:e.message||"Failed to get customer-site statistics"}}})}parseValidationErrors(e){const t={};if(Array.isArray(e))e.forEach(e=>{e.includes("Customer code")?(t.customer_code=t.customer_code||[],t.customer_code.push(e)):e.includes("Site code")?(t.site_code=t.site_code||[],t.site_code.push(e)):e.includes("Name")?(t.name=t.name||[],t.name.push(e)):(t.general=t.general||[],t.general.push(e))});else if("string"==typeof e&&e.includes("Validation failed:")){e.replace("Validation failed: ","").split(", ").forEach(e=>{e.includes("Customer code")?(t.customer_code=t.customer_code||[],t.customer_code.push(e)):e.includes("Site code")?(t.site_code=t.site_code||[],t.site_code.push(e)):e.includes("Name")?(t.name=t.name||[],t.name.push(e)):(t.general=t.general||[],t.general.push(e))})}return t}}const p4={searchableFields:[{key:"code",label:"Code",weight:4},{key:"customers",label:"Customer Code",weight:3},{key:"site",label:"Site Code",weight:3},{key:"customer_name",label:"Customer Name",weight:1}],placeholder:"Search by code, customer, site, or names...",debounceMs:300,minSearchLength:1,caseSensitive:!1,enableHighlighting:!0,maxResults:100},g4={enableBulkStatusToggle:!0,bulkToggleConfirmation:!0,statusLabels:{active:"Active",inactive:"Inactive",all:"All Customer-Sites"},statusIcons:{active:"",inactive:""}},x4=e=>(e.customer_code&&e.site_code&&console.log("Validating customer-site combination:",e.customer_code,e.site_code),{});const b4=new class{constructor(){u(this,"baseUrl",Ef("line-fvi"))}makeRequest(e){return h(this,arguments,function*(e,t={}){try{const r=yield fetch(e,l({headers:l({"Content-Type":"application/json"},t.headers),credentials:"include"},t));if(!r.ok)return console.error(`HTTP Error ${r.status}: ${r.statusText} for ${e}`),{success:!1,message:`HTTP ${r.status}: ${r.statusText}`};return yield r.json()}catch(r){return console.error("LineFVI API Service - Network error:",r),{success:!1,message:r instanceof Error?r.message:"Network error occurred"}}})}buildQueryString(e){const t=["page","limit","sortBy","sortOrder","search","isActive"],r=new URLSearchParams;return Object.entries(e).forEach(([e,n])=>{t.includes(e)&&null!=n&&""!==n&&r.append(e,String(n))}),r.toString()}normalizeLineFVI(e){return function(e){return{code:e.code||"",name:e.name||"",is_active:void 0===e.is_active||e.is_active,created_by:e.created_by||0,updated_by:e.updated_by||0,created_at:"string"==typeof e.created_at?new Date(e.created_at):e.created_at||new Date,updated_at:"string"==typeof e.updated_at?new Date(e.updated_at):e.updated_at||new Date}}({code:e.code||"",name:e.name||"",is_active:void 0===e.is_active||e.is_active,created_by:e.created_by||0,updated_by:e.updated_by||0,created_at:e.created_at||(new Date).toISOString(),updated_at:e.updated_at||(new Date).toISOString()})}extractEntitiesArray(e){if(console.log(" LineFVI Service - Extracting entities from response data:",{hasData:!!e,dataType:typeof e,isDataArray:Array.isArray(e),hasNestedData:!!(null==e?void 0:e.data),isNestedDataArray:Array.isArray(null==e?void 0:e.data),dataKeys:"object"==typeof e&&null!==e?Object.keys(e):null}),!e)return console.warn(" LineFVI Service - No response data provided"),[];let t=[];if(Array.isArray(e))t=e,console.log(" LineFVI Service - Direct array structure detected, count:",t.length);else if(e.data&&Array.isArray(e.data))t=e.data,console.log(" LineFVI Service - Nested structure detected, count:",t.length);else if("object"==typeof e&&null!==e){console.warn(" LineFVI Service - Searching for array in object structure");const r=["data","items","entities","results","list","records"];let n=null;for(const a of r)if(e[a]&&Array.isArray(e[a])){n=a,t=e[a];break}n?console.log(` LineFVI Service - Found array in key '${n}', count:`,t.length):(console.error(" LineFVI Service - No array found in response object keys:",Object.keys(e)),t=[])}else console.error(" LineFVI Service - Invalid response data type:",typeof e),t=[];const r=t.filter(e=>e&&"object"==typeof e).map(e=>this.normalizeLineFVI(e));return console.log(" LineFVI Service - Successfully extracted and normalized entities:",{originalCount:t.length,normalizedCount:r.length,sampleEntity:r[0]||null}),r}getLineFVIs(){return h(this,arguments,function*(e={}){const t={};void 0!==e.page&&(t.page=e.page),void 0!==e.limit&&(t.limit=e.limit),void 0!==e.search&&(t.search=e.search),void 0!==e.sortBy&&(t.sortBy=e.sortBy),void 0!==e.sortOrder&&(t.sortOrder=e.sortOrder.toUpperCase()),void 0!==e.isActive?t.isActive=e.isActive:void 0!==e.activeFilter&&(t.isActive=e.activeFilter);const r=this.buildQueryString(t),n=r?`${this.baseUrl}?${r}`:this.baseUrl;console.log(" LineFVI Service - Getting LineFVIs with cleaned params:",t),console.log(" LineFVI Service - Request URL:",n);try{const e=yield this.makeRequest(n);if(!e.success)return console.error(" LineFVI Service - API returned error:",e.message),{success:!1,message:e.message||"Failed to load LineFVIs",data:[]};const t=this.extractEntitiesArray(e.data);let r;return r=e.data&&"object"==typeof e.data&&!Array.isArray(e.data)&&e.data.pagination||e.pagination,console.log(" LineFVI Service - Successfully processed response:",{entitiesCount:t.length,hasPagination:!!r,pagination:r}),{success:!0,data:t,pagination:r,message:e.message||`Successfully loaded ${t.length} LineFVIs`}}catch(a){const e=`Error loading LineFVIs: ${a instanceof Error?a.message:"Unknown error"}`;return console.error(" LineFVI Service - getLineFVIs error:",a),{success:!1,message:e,data:[]}}})}getLineFVI(e){return h(this,null,function*(){console.log(" LineFVI Service - Getting LineFVI by code:",e);try{const t=yield this.makeRequest(`${this.baseUrl}/${e}`);if(t.success&&t.data){return{success:!0,data:this.normalizeLineFVI(t.data),message:t.message||"LineFVI retrieved successfully"}}return{success:!1,message:t.message||"LineFVI not found"}}catch(t){return console.error(" LineFVI Service - getLineFVI error:",t),{success:!1,message:t instanceof Error?t.message:"Failed to get LineFVI"}}})}createLineFVI(e){return h(this,null,function*(){console.log(" LineFVI Service - Creating LineFVI:",e);try{const t=yield this.makeRequest(this.baseUrl,{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data){const e=this.normalizeLineFVI(t.data);return console.log(" LineFVI Service - LineFVI created successfully"),{success:!0,data:e,message:t.message||"LineFVI created successfully"}}return{success:!1,message:t.message||"Failed to create LineFVI",errors:t.errors}}catch(t){return console.error(" LineFVI Service - createLineFVI error:",t),{success:!1,message:t instanceof Error?t.message:"Failed to create LineFVI"}}})}updateLineFVI(e,t){return h(this,null,function*(){console.log(" LineFVI Service - Updating LineFVI:",{code:e,data:t});try{const r=yield this.makeRequest(`${this.baseUrl}/${e}`,{method:"PUT",body:JSON.stringify(t)});if(r.success&&r.data){const e=this.normalizeLineFVI(r.data);return console.log(" LineFVI Service - LineFVI updated successfully"),{success:!0,data:e,message:r.message||"LineFVI updated successfully"}}return{success:!1,message:r.message||"Failed to update LineFVI",errors:r.errors}}catch(r){return console.error(" LineFVI Service - updateLineFVI error:",r),{success:!1,message:r instanceof Error?r.message:"Failed to update LineFVI"}}})}deleteLineFVI(e){return h(this,null,function*(){console.log(" LineFVI Service - Deleting LineFVI:",e);try{const t=yield this.makeRequest(`${this.baseUrl}/${e}`,{method:"DELETE"});return t.success&&console.log(" LineFVI Service - LineFVI deleted successfully"),t}catch(t){return console.error(" LineFVI Service - deleteLineFVI error:",t),{success:!1,message:t instanceof Error?t.message:"Failed to delete LineFVI"}}})}toggleLineFVIStatus(e){return h(this,null,function*(){console.log(" LineFVI Service - Toggling LineFVI status:",e);try{const t=yield this.makeRequest(`${this.baseUrl}/${e}/status`,{method:"PATCH"});if(t.success&&t.data){const e=this.normalizeLineFVI(t.data);return console.log(" LineFVI Service - Status toggled successfully"),{success:!0,data:e,message:t.message||"Status updated successfully"}}return{success:!1,message:t.message||"Failed to toggle status"}}catch(t){return console.error(" LineFVI Service - toggleLineFVIStatus error:",t),{success:!1,message:t instanceof Error?t.message:"Failed to toggle status"}}})}getActiveLineFVIs(){return h(this,null,function*(){return console.log(" LineFVI Service - Getting active LineFVIs only"),this.getLineFVIs({isActive:!0,activeFilter:!0})})}searchLineFVIs(e){return h(this,null,function*(){return console.log(" LineFVI Service - Searching LineFVIs:",e),this.getLineFVIs({search:e})})}validateLineFVICode(e,t){return h(this,null,function*(){console.log(" LineFVI Service - Validating LineFVI code:",{code:e,excludeCode:t});try{const r={code:e};t&&(r.excludeCode=t);const n=this.buildQueryString(r);return yield this.makeRequest(`${this.baseUrl}/validate/code?${n}`)}catch(r){return console.error(" LineFVI Service - validateLineFVICode error:",r),{success:!1,message:r instanceof Error?r.message:"Failed to validate code"}}})}validateLineFVIName(e,t){return h(this,null,function*(){console.log(" LineFVI Service - Validating LineFVI name:",{name:e,excludeCode:t});try{const r={name:e};t&&(r.excludeCode=t);const n=this.buildQueryString(r);return yield this.makeRequest(`${this.baseUrl}/validate/name?${n}`)}catch(r){return console.error(" LineFVI Service - validateLineFVIName error:",r),{success:!1,message:r instanceof Error?r.message:"Failed to validate name"}}})}getLineFVIsForDropdown(){return h(this,null,function*(){try{console.log(" LineFVI Service - Getting LineFVIs for dropdown");const e=yield this.getActiveLineFVIs();if(e.success&&e.data){const t=e.data.map(e=>({value:e.code,label:`${e.code} - ${e.name}`}));return console.log(" LineFVI Service - Dropdown options created:",t.length),t}return console.warn(" LineFVI Service - No data for dropdown"),[]}catch(e){return console.error(" LineFVI Service - getLineFVIsForDropdown error:",e),[]}})}getLineFVIsForSelection(){return h(this,null,function*(){try{console.log(" LineFVI Service - Getting LineFVIs for selection");const e=yield this.makeRequest(`${this.baseUrl}/active/selection`);if(e.success&&e.data)return{success:!0,data:e.data,message:"Selection data retrieved successfully"};const t=yield this.getActiveLineFVIs();if(t.success&&t.data){return{success:!0,data:t.data.map(e=>({code:e.code,name:e.name})),message:"Selection data retrieved successfully (fallback)"}}return{success:!1,message:"Failed to get selection data"}}catch(e){return console.error(" LineFVI Service - getLineFVIsForSelection error:",e),{success:!1,message:e instanceof Error?e.message:"Failed to get selection data"}}})}getStats(){return h(this,null,function*(){console.log(" LineFVI Service - Getting statistics");try{const e=yield this.makeRequest(`${this.baseUrl}/statistics`);if(console.log(" LineFVI Service - Stats response:",e),e.success&&e.data){const t=e.data.overview||e.data,r={total:t.total||t.total_linefvis||0,active:t.active||t.active_linefvis||0,inactive:t.inactive||t.inactive_linefvis||0,recent_linefvis:t.recent_linefvis||t.recent||0};return console.log(" LineFVI Service - Raw API data:",e.data),console.log(" LineFVI Service - Stats source:",t),console.log(" LineFVI Service - Normalized stats:",r),{success:!0,data:r,message:e.message||"Statistics retrieved successfully"}}return console.warn(" LineFVI Service - Using fallback stats"),{success:!0,data:{total:0,active:0,inactive:0},message:"Using fallback statistics"}}catch(e){return console.error(" LineFVI Service - getStats error:",e),{success:!1,message:e instanceof Error?e.message:"Failed to get statistics",data:{total:0,active:0,inactive:0}}}})}bulkToggleStatus(e,t){return h(this,null,function*(){console.log(" LineFVI Service - Bulk toggle status:",{codes:e,active:t});try{const r=yield this.makeRequest(`${this.baseUrl}/bulk/status`,{method:"PATCH",body:JSON.stringify({codes:e,active:t})});return r.success&&console.log(" LineFVI Service - Bulk status update successful"),r}catch(r){return console.error(" LineFVI Service - bulkToggleStatus error:",r),{success:!1,message:r instanceof Error?r.message:"Failed to bulk update status"}}})}bulkDelete(e){return h(this,null,function*(){console.log(" LineFVI Service - Bulk delete:",e);try{const t=yield this.makeRequest(`${this.baseUrl}/bulk/delete`,{method:"DELETE",body:JSON.stringify({codes:e})});return t.success&&console.log(" LineFVI Service - Bulk delete successful"),t}catch(t){return console.error(" LineFVI Service - bulkDelete error:",t),{success:!1,message:t instanceof Error?t.message:"Failed to bulk delete"}}})}searchByNamePattern(e){return h(this,null,function*(){console.log(" LineFVI Service - Searching by name pattern:",e);try{const t=this.buildQueryString({pattern:e}),r=yield this.makeRequest(`${this.baseUrl}/search/name/${encodeURIComponent(e)}?${t}`);if(r.success&&r.data){const e=this.extractEntitiesArray(r.data);return{success:!0,data:e,message:r.message||`Found ${e.length} matching LineFVIs`}}return{success:!1,message:r.message||"Search failed",data:[]}}catch(t){return console.error(" LineFVI Service - searchByNamePattern error:",t),{success:!1,message:t instanceof Error?t.message:"Search failed",data:[]}}})}checkCodeAvailability(e){return h(this,null,function*(){console.log(" LineFVI Service - Checking code availability:",e);try{const t=this.buildQueryString({code:e});return yield this.makeRequest(`${this.baseUrl}/check-code?${t}`)}catch(t){return console.error(" LineFVI Service - checkCodeAvailability error:",t),{success:!1,message:t instanceof Error?t.message:"Failed to check code availability"}}})}};const v4=new class{constructor(){u(this,"baseUrl",Ef("parts"))}makeRequest(e){return h(this,arguments,function*(e,t={}){try{const r=yield fetch(e,l({headers:l({"Content-Type":"application/json"},t.headers),credentials:"include"},t));if(console.log(`PartsService: ${t.method||"GET"} ${e} - Status: ${r.status}`),304===r.status)return console.warn("PartsService: Received 304 Not Modified, treating as successful empty response"),{success:!0,data:[],message:"Data not modified (cached)",errors:[]};const n=yield r.json();return r.ok||console.error("PartsService: API Error Response:",{status:r.status,statusText:r.statusText,data:n}),n}catch(r){return console.error("PartsService.makeRequest error:",r),{success:!1,data:void 0,message:r instanceof Error?r.message:"Network error occurred",errors:[]}}})}buildQueryString(e){const t=new URLSearchParams;return Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,String(r))}),t.toString()}getParts(e){return h(this,null,function*(){const t=l({},e),r=this.buildQueryString(t),n=r?`${this.baseUrl}?${r}`:`${this.baseUrl}?_t=${Date.now()}`;console.log("PartsService.getParts: Calling URL:",n);const a=yield this.makeRequest(n);return console.log("PartsService.getParts: Raw response:",a),console.log("PartsService.getParts: Response.data type:",typeof a.data),console.log("PartsService.getParts: Response.data structure:",a.data?Object.keys(a.data):"null"),a.success&&a.data?a.data.data&&Array.isArray(a.data.data)?(console.log(" PartsService: Detected paginated response structure"),console.log("  - Parts count:",a.data.data.length),console.log("  - Pagination:",a.data.pagination),{success:!0,data:a.data.data,message:a.message,errors:a.errors||[],pagination:a.data.pagination}):Array.isArray(a.data)?(console.log(" PartsService: Direct array response (legacy)"),{success:!0,data:a.data,message:a.message,errors:a.errors||[],pagination:{page:1,limit:a.data.length,total:a.data.length,totalPages:1,hasNext:!1,hasPrev:!1}}):(console.warn(" PartsService: Unexpected response structure, returning empty array"),console.warn("Expected: { data: Parts[] } or Parts[]"),console.warn("Received:",a.data),{success:!1,data:[],message:"Invalid response structure from server",errors:a.errors||[],pagination:{page:1,limit:0,total:0,totalPages:0,hasNext:!1,hasPrev:!1}}):(console.error(" PartsService: API returned success: false or no data"),{success:!1,data:[],message:a.message||"Failed to load parts",errors:a.errors||[],pagination:{page:1,limit:0,total:0,totalPages:0,hasNext:!1,hasPrev:!1}})})}getPartByPartno(e){return h(this,null,function*(){if(!e.trim())return{success:!1,data:void 0,message:"Part number is required",errors:[]};const t=`${this.baseUrl}/${encodeURIComponent(e)}?_t=${Date.now()}`;console.log("PartsService.getPartByPartno: Calling URL:",t);const r=yield this.makeRequest(t);return r.success&&r.data?{success:!0,data:r.data,message:r.message,errors:r.errors||[]}:{success:!1,data:void 0,message:r.message||`Failed to fetch part ${e}`,errors:r.errors||[]}})}importPart(e){return h(this,null,function*(){console.log(" PartsService.createPart: Input data:",e);const t=this.validateImportRequest(e);if(console.log(" PartsService.createPart: Validation result:",t),!t.isValid)return console.log(" PartsService.createPart: Validation failed:",t.errors),{success:!1,data:void 0,message:`Validation failed: ${Object.values(t.errors).join(", ")}`,errors:Object.values(t.errors)};console.log(" PartsService.createPart: Sending to API:",e);const r=yield this.makeRequest(`${this.baseUrl}/import`,{method:"POST",body:JSON.stringify(e)});return r.success&&r.data?{success:!0,data:r.data,message:r.message||"Part created successfully",errors:r.errors||[]}:{success:!1,data:void 0,message:r.message||"Failed to create part",errors:r.errors||[]}})}createPart(e){return h(this,null,function*(){console.log(" PartsService.createPart: Input data:",e);const t=this.validateCreateRequest(e);if(console.log(" PartsService.createPart: Validation result:",t),!t.isValid)return console.log(" PartsService.createPart: Validation failed:",t.errors),{success:!1,data:void 0,message:`Validation failed: ${Object.values(t.errors).join(", ")}`,errors:Object.values(t.errors)};console.log(" PartsService.createPart: Sending to API:",e);const r=yield this.makeRequest(this.baseUrl,{method:"POST",body:JSON.stringify(e)});return r.success&&r.data?{success:!0,data:r.data,message:r.message||"Part created successfully",errors:r.errors||[]}:{success:!1,data:void 0,message:r.message||"Failed to create part",errors:r.errors||[]}})}updatePart(e,t){return h(this,null,function*(){if(!e.trim())return{success:!1,data:void 0,message:"Part number is required",errors:[]};const r=this.validateUpdateRequest(t);if(!r.isValid)return{success:!1,data:void 0,message:`Validation failed: ${Object.values(r.errors).join(", ")}`,errors:Object.values(r.errors)};console.log("PartsService.updatePart: Updating part",e,"with data:",t);const n=yield this.makeRequest(`${this.baseUrl}/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(t)});return n.success&&n.data?{success:!0,data:n.data,message:n.message||"Part updated successfully",errors:n.errors||[]}:{success:!1,data:void 0,message:n.message||`Failed to update part ${e}`,errors:n.errors||[]}})}deletePart(e){return h(this,null,function*(){if(!e.trim())return{success:!1,data:void 0,message:"Part number is required",errors:[]};console.log("PartsService.deletePart: Deleting part:",e);const t=yield this.makeRequest(`${this.baseUrl}/${encodeURIComponent(e)}`,{method:"DELETE"});return{success:t.success,data:void 0,message:t.message||(t.success?"Part deleted successfully":`Failed to delete part ${e}`),errors:t.errors||[]}})}searchParts(e,t){return h(this,null,function*(){if(!e.trim())return this.getParts(t);const r=c(l({},t),{search:e.trim()});return this.getParts(r)})}checkPartnoExists(e){return h(this,null,function*(){if(!e.trim())return!1;const t=yield this.getPartByPartno(e);return t.success&&void 0!==t.data})}getPartsByCustomer(e){return h(this,null,function*(){return e.trim()?this.getParts({customer:e}):{success:!1,data:[],message:"Customer code is required",errors:[],pagination:{page:1,limit:0,total:0,totalPages:0,hasNext:!1,hasPrev:!1}}})}getPartsByProductionSite(e){return h(this,null,function*(){return e.trim()?this.getParts({production_site:e}):{success:!1,data:[],message:"Production site is required",errors:[],pagination:{page:1,limit:0,total:0,totalPages:0,hasNext:!1,hasPrev:!1}}})}getPartsByProductFamily(e){return h(this,null,function*(){return e.trim()?this.getParts({product_families:e}):{success:!1,data:[],message:"Product family is required",errors:[],pagination:{page:1,limit:0,total:0,totalPages:0,hasNext:!1,hasPrev:!1}}})}getCustomerSites(){return h(this,null,function*(){const e=`${this.baseUrl}/customer-sites?_t=${Date.now()}`;console.log("PartsService.getCustomerSites: Calling URL:",e);const t=yield this.makeRequest(e);return t.success&&t.data?{success:!0,data:t.data,message:t.message||"Customer-sites retrieved successfully",errors:t.errors||[]}:{success:!1,data:[],message:t.message||"Failed to load customer-sites",errors:t.errors||[]}})}getActiveParts(e){return h(this,null,function*(){return this.getParts(c(l({},e),{is_active:!0}))})}getInactiveParts(e){return h(this,null,function*(){return this.getParts(c(l({},e),{is_active:!1}))})}bulkUpdatePartsStatus(e,t){return h(this,null,function*(){if(!e.length)return[{success:!1,data:void 0,message:"Part numbers are required",errors:[]}];const r=e.map(e=>this.updatePart(e,{is_active:t}));return Promise.all(r)})}togglePartStatus(e){return h(this,null,function*(){console.log("PartsService.togglePartStatus: Toggling status for:",e);const t=yield this.makeRequest(`${this.baseUrl}/${encodeURIComponent(e)}/status`,{method:"PATCH"});return t.success&&t.data?{success:!0,data:t.data,message:t.message||"Part status toggled successfully",errors:t.errors||[]}:{success:!1,data:void 0,message:t.message||`Failed to toggle status for part ${e}`,errors:t.errors||[]}})}getPartsSelector(){return h(this,arguments,function*(e={}){const t=c(l({},e),{is_active:!0}),r=this.buildQueryString(t),n=`${this.baseUrl}/active?${r}`,a=yield this.makeRequest(n);if(a.success&&a.data){if(a.data.data&&Array.isArray(a.data.data))return{success:!0,data:a.data.data,message:a.message,errors:a.errors||[]};if(Array.isArray(a.data))return{success:!0,data:a.data,message:a.message,errors:a.errors||[]}}return{success:!1,data:[],message:a.message||"Failed to load active parts",errors:a.errors||[],pagination:{page:1,limit:0,total:0,totalPages:0,hasNext:!1,hasPrev:!1}}})}getStats(){return h(this,null,function*(){const e=`${this.baseUrl}/statistics?_t=${Date.now()}`;console.log("PartsService.getStats: Calling URL:",e);const t=yield this.makeRequest(e);return t.success&&t.data&&t.data.overview?(console.log(" PartsService.getStats: Extracting stats from overview object"),console.log("Raw API response:",t.data),{success:!0,data:{total:t.data.overview.total||0,active:t.data.overview.active||0,inactive:t.data.overview.inactive||0,recent:t.data.overview.recent||0},message:t.message,errors:t.errors||[]}):(console.log(" PartsService.getStats: Invalid response structure"),console.log("Expected: { data: { overview: { total, active, inactive } } }"),console.log("Received:",t),{success:!1,data:{total:0,active:0,inactive:0,recent:0},message:t.message||"Failed to load statistics",errors:t.errors||[]})})}checkCodeExists(e){return h(this,null,function*(){const t=`${this.baseUrl}/check-code/${encodeURIComponent(e)}?_t=${Date.now()}`,r=yield this.makeRequest(t);return{success:r.success,data:r.data,message:r.message,errors:r.errors||[]}})}validateCreateRequest(e){var t,r,n,a,s,i,o,l;const c={};return(null==(t=e.partno)?void 0:t.trim())||(c.partno="Part number is required"),(null==(r=e.product_families)?void 0:r.trim())||(c.product_families="Product families is required"),(null==(n=e.versions)?void 0:n.trim())||(c.versions="Versions is required"),(null==(a=e.production_site)?void 0:a.trim())||(c.production_site="Production site is required"),(null==(s=e.customer_site_code)?void 0:s.trim())||(c.customer_site_code="Customer-site is required"),(null==(i=e.tab)?void 0:i.trim())||(c.tab="Tab is required"),(null==(o=e.product_type)?void 0:o.trim())||(c.product_type="Product type is required"),(null==(l=e.customer_driver)?void 0:l.trim())||(c.customer_driver="Customer driver is required"),e.partno&&e.partno.length>25&&(c.partno="Part number must be 25 characters or less"),e.product_families&&e.product_families.length>10&&(c.product_families="Product families must be 10 characters or less"),e.versions&&e.versions.length>10&&(c.versions="Versions must be 10 characters or less"),e.production_site&&e.production_site.length>5&&(c.production_site="Production site must be 5 characters or less"),e.customer_site_code&&e.customer_site_code.length>10&&(c.customer_site_code="Customer-site code must be 10 characters or less"),e.tab&&e.tab.length>5&&(c.tab="Tab must be 5 characters or less"),e.product_type&&e.product_type.length>5&&(c.product_type="Product type must be 5 characters or less"),e.customer_driver&&e.customer_driver.length>200&&(c.customer_driver="Customer driver must be 200 characters or less"),{isValid:0===Object.keys(c).length,errors:c}}validateUpdateRequest(e){const t={};return e.product_families&&e.product_families.length>10&&(t.product_families="Product families must be 10 characters or less"),e.versions&&e.versions.length>10&&(t.versions="Versions must be 10 characters or less"),e.production_site&&e.production_site.length>5&&(t.production_site="Production site must be 5 characters or less"),e.part_site&&e.part_site.length>5&&(t.part_site="Part site must be 5 characters or less"),e.customer&&e.customer.length>5&&(t.customer="Customer must be 5 characters or less"),e.tab&&e.tab.length>5&&(t.tab="Tab must be 5 characters or less"),e.product_type&&e.product_type.length>5&&(t.product_type="Product type must be 5 characters or less"),e.customer_driver&&e.customer_driver.length>200&&(t.customer_driver="Customer driver must be 200 characters or less"),{isValid:0===Object.keys(t).length,errors:t}}validateImportRequest(e){var t;const r={};return(null==(t=e.partno)?void 0:t.trim())||(r.partno="Part number is required"),{isValid:0===Object.keys(r).length,errors:r}}},y4=()=>h(void 0,null,function*(){try{const e=yield v4.getCustomerSites();return e.success&&e.data?e.data.map(e=>({value:e.value,label:e.label})):[]}catch(e){return console.error("Error loading customer-sites:",e),[]}});class w4{getEntities(e){return h(this,null,function*(){try{console.log(" PartsServiceAdapter.getEntities: Fetching with params:",e);const t=yield v4.getParts(e);return console.log(" PartsServiceAdapter.getEntities: Response:",t),{success:!0,data:t.data||[],pagination:t.pagination?{currentPage:t.pagination.page||t.pagination.currentPage,totalPages:t.pagination.totalPages,totalItems:t.pagination.total||t.pagination.totalItems,pageSize:t.pagination.limit||t.pagination.pageSize}:void 0,message:t.message}}catch(t){return console.error(" PartsServiceAdapter.getEntities: Error:",t),E5.play("error"),{success:!1,data:[],message:t.message||"Failed to fetch parts"}}})}createEntity(e){return h(this,null,function*(){try{console.log(" PartsServiceAdapter.createEntity: Received data:",e);const t={partno:e.partno||"",product_families:e.product_families||"",versions:e.versions||"",production_site:e.production_site||"",customer_site_code:e.customer_site_code||"",tab:e.tab||"",product_type:e.product_type||"",customer_driver:e.customer_driver||"",is_active:void 0===e.is_active||e.is_active};console.log(" PartsServiceAdapter.createEntity: Transformed data:",t);const r=yield v4.createPart(t);return console.log(" PartsServiceAdapter.createEntity: Service response:",r),r.success?(E5.play("success"),{success:!0,data:r.data,message:r.message||"Part created successfully"}):(E5.play("error"),{success:!1,message:r.message||"Failed to create part",errors:r.errors?{general:r.errors}:void 0})}catch(t){return console.error(" PartsServiceAdapter.createEntity: Error:",t),E5.play("error"),{success:!1,message:t.message||"Failed to create part",errors:this.parseValidationErrors(t.message)}}})}updateEntity(e,t){return h(this,null,function*(){try{const r=yield v4.updatePart(e,t);return E5.play("success"),{success:!0,data:r.data,message:r.message||"Part updated successfully"}}catch(r){return E5.play("error"),{success:!1,message:r.message||"Failed to update part",errors:this.parseValidationErrors(r.message)}}})}deleteEntity(e){return h(this,null,function*(){try{const t=yield v4.deletePart(e);return E5.play("success"),{success:!0,message:t.message||"Part deleted successfully"}}catch(t){return E5.play("error"),{success:!1,message:t.message||"Failed to delete part"}}})}toggleEntityStatus(e){return h(this,null,function*(){try{const t=yield v4.getPartByPartno(e);if(!t.success||!t.data)throw new Error("Part not found");const r=yield v4.updatePart(e,{is_active:!t.data.is_active});return E5.play("success"),{success:!0,data:r.data,message:r.message||"Part status updated successfully"}}catch(t){return E5.play("error"),{success:!1,message:t.message||"Failed to update part status"}}})}getStats(){return h(this,null,function*(){try{const e=yield v4.getParts({limit:1e3});if(!e.success||!e.data)throw new Error("Failed to fetch parts for statistics");const t=e.data.length,r=e.data.filter(e=>e.is_active).length;return{success:!0,data:{total:t,active:r,inactive:t-r}}}catch(e){return{success:!1,message:e.message||"Failed to get parts statistics"}}})}parseValidationErrors(e){const t={};if(e&&e.includes("Validation failed:")){e.replace("Validation failed: ","").split(", ").forEach(e=>{e.includes("Part number")?(t.code=t.code||[],t.code.push(e)):e.includes("Customer")?(t.customer=t.customer||[],t.customer.push(e)):(t.general=t.general||[],t.general.push(e))})}return t}}const j4={searchableFields:[{key:"partno",label:"Part Number",weight:3},{key:"customer",label:"Customer",weight:2},{key:"product_families",label:"Product Family",weight:2},{key:"customer_driver",label:"Customer Driver",weight:1}],placeholder:"Search by part number, customer, product family, or customer driver...",debounceMs:300,minSearchLength:1,caseSensitive:!1,enableHighlighting:!0,maxResults:100},N4={enableBulkStatusToggle:!0,bulkToggleConfirmation:!0,statusLabels:{active:"Active",inactive:"Inactive",all:"All Parts"},statusIcons:{active:"",inactive:""}},S4=e=>({}),k4=({isOpen:e,onClose:t,onImportSuccess:r})=>{const[n,a]=ee.useState(null),[s,i]=ee.useState(!1),[o,l]=ee.useState(null),[c,d]=ee.useState(null),u=e=>{const t=e.split("\n").filter(e=>e.trim());if(t.length<2)return[];const r=t[0].split(/[,\t]/).map(e=>e.trim().replace(/^"|"$/g,"")),n=[];for(let a=1;a<t.length;a++){const e=t[a].split(/[,\t]/).map(e=>e.trim().replace(/^"|"$/g,"")),s={};r.forEach((t,r)=>{s[t]=e[r]||""}),n.push(s)}return n};return de.jsxs(de.Fragment,{children:[de.jsx(T5,{isOpen:e,onClose:t,title:"Import Parts",maxWidth:"2xl",children:de.jsxs("div",{className:"space-y-6",children:[de.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:de.jsxs("div",{className:"flex items-start",children:[de.jsx(Rp,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3"}),de.jsxs("div",{className:"flex-1",children:[de.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Download Template"}),de.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Download the CSV template with sample data to ensure correct formatting"}),de.jsxs("button",{onClick:()=>{const e=new Blob(["partno,product_families,versions,production_site,customer_site_code,tab,product_type,customer_driver\nABC-123,PINE,V1.0,TNH,ABC-TNH,1,HSA,Customer requirements here\nDEF-456,OAK,V2.0,TNH,DEF-TNH,2,HDD,Additional requirements"],{type:"text/csv"}),t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="parts_import_template.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)},className:"mt-3 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition-colors",children:[de.jsx(Rp,{className:"h-4 w-4 inline mr-2"}),"Download Template"]})]})]})}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File"}),de.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-orange-400 transition-colors",children:de.jsxs("div",{className:"space-y-1 text-center",children:[de.jsx(Hf,{className:"mx-auto h-12 w-12 text-gray-400"}),de.jsxs("div",{className:"flex text-sm text-gray-600",children:[de.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-orange-600 hover:text-orange-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-orange-500",children:[de.jsx("span",{children:"Upload a file"}),de.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:".csv,.xlsx,.xls",onChange:e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r){["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"].includes(r.type)||r.name.endsWith(".csv")||r.name.endsWith(".xlsx")||r.name.endsWith(".xls")?(a(r),d(null)):(E5.play("error"),l({message:"Please select a valid Excel (.xlsx, .xls) or CSV file",type:"error"}))}}})]}),de.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),de.jsx("p",{className:"text-xs text-gray-500",children:"CSV, XLS, XLSX up to 10MB"}),n&&de.jsxs("p",{className:"text-sm text-green-600 font-medium mt-2",children:["Selected: ",n.name]})]})})]}),c&&de.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[de.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Import Results"}),de.jsxs("div",{className:"space-y-2",children:[de.jsxs("p",{className:"text-sm text-green-600",children:[" Successfully imported: ",c.success," part(s)"]}),c.failed>0&&de.jsxs(de.Fragment,{children:[de.jsxs("p",{className:"text-sm text-red-600",children:[" Failed: ",c.failed," part(s)"]}),de.jsxs("div",{className:"mt-2 max-h-40 overflow-y-auto",children:[de.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Error Details:"}),c.errors.map((e,t)=>de.jsxs("p",{className:"text-xs text-red-600 ml-4",children:[" ",e]},t))]})]})]})]}),de.jsxs("div",{className:"flex justify-end space-x-3",children:[de.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Close"}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){var e,t;if(!n)return E5.play("warning"),void l({message:"Please select a file first",type:"error"});i(!0),d(null);try{const s=yield n.text();console.log(" File content preview:",s.substring(0,500));const o=u(s);if(console.log(" Parsed rows:",o),0===o.length)return E5.play("error"),l({message:"No data found in file",type:"error"}),void i(!1);console.log(` Parsed ${o.length} rows from file`);let c=0,h=0;const m=[];for(let r=0;r<o.length;r++){const n=o[r];try{const e={partno:n.partno||n["Part Number"]||n.PARTNO,product_families:n.product_families||n["Product Family"]||n.PRODUCT_FAMILIES,versions:n.versions||n.Version||n.VERSIONS,production_site:n.production_site||n["Production Site"]||n.PRODUCTION_SITE,customer_site_code:n.customer_site_code||n["Customer Site Code"]||n.CUSTOMER_SITE_CODE,tab:n.tab||n.Tab||n.TAB,product_type:n.product_type||n["Product Type"]||n.PRODUCT_TYPE,customer_driver:n.customer_driver||n["Customer Driver"]||n.CUSTOMER_DRIVER};if(console.log(` Importing row ${r+1}:`,e),!e.partno)throw new Error("Part number is required");const t=yield v4.importPart(e);if(!t.success)throw new Error(t.message||"Failed to create part");console.log(` Row ${r+1} imported successfully`),c++}catch(a){h++;const n=(null==(t=null==(e=a.response)?void 0:e.data)?void 0:t.message)||a.message||"Import failed";console.error(` Row ${r+1} failed:`,n),m.push(`Row ${r+2}: ${n}`)}}d({success:c,failed:h,errors:m}),c>0&&(E5.play("success"),l({message:`Successfully imported ${c} part(s)`,type:"success"}),r()),h>0&&(E5.play("error"),l({message:`${h} part(s) failed to import. Check details below.`,type:"error"}))}catch(a){E5.play("error"),l({message:a.message||"Failed to import parts",type:"error"})}finally{i(!1)}}),disabled:!n||s,className:"px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-md hover:bg-orange-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:s?de.jsxs(de.Fragment,{children:[de.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[de.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),de.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):de.jsxs(de.Fragment,{children:[de.jsx(Hf,{className:"h-4 w-4 inline mr-2"}),"Import Parts"]})})]})]})}),o&&de.jsx(k2,{message:o.message,type:o.type,onClose:()=>l(null)})]})},C4=({isOpen:e,onClose:t})=>{const[r,n]=ee.useState(!1),[a,s]=ee.useState(null),[i,o]=ee.useState("csv"),[c,d]=ee.useState(!1),u=e=>{const t=[["partno","product_families","versions","production_site","customer_site_code","tab","product_type","customer_driver"].join(",")];e.forEach(e=>{const r=[f(e.partno||""),f(e.product_families||""),f(e.versions||""),f(e.production_site||""),f(e.customer_site_code||""),f(e.tab||""),f(e.product_type||""),f(e.customer_driver||"")];t.push(r.join(","))});const r=t.join("\n");p(r,"parts_export.csv","text/csv")},m=e=>{const t=[["partno","product_families","versions","production_site","customer_site_code","tab","product_type","customer_driver"].join("\t")];e.forEach(e=>{const r=[e.partno||"",e.product_families||"",e.versions||"",e.production_site||"",e.customer_site_code||"",e.tab||"",e.product_type||"",e.customer_driver||""];t.push(r.join("\t"))});const r=t.join("\n");p(r,"parts_export.xls","application/vnd.ms-excel")},f=e=>e?e.includes(",")||e.includes('"')||e.includes("\n")?`"${e.replace(/"/g,'""')}"`:e:"",p=(e,t,r)=>{const n=new Blob([e],{type:r}),a=window.URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a)};return de.jsxs(de.Fragment,{children:[de.jsx(T5,{isOpen:e,onClose:t,title:"Export Parts",maxWidth:"lg",children:de.jsxs("div",{className:"space-y-6",children:[de.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:de.jsxs("div",{className:"flex items-start",children:[de.jsx(Ff,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3"}),de.jsxs("div",{className:"flex-1",children:[de.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Export Parts Data"}),de.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Export all parts data to CSV or Excel format for external use or backup"})]})]})}),de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Export Format"}),de.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[de.jsx("button",{onClick:()=>o("csv"),className:"p-4 border-2 rounded-lg transition-all "+("csv"===i?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"),children:de.jsxs("div",{className:"flex flex-col items-center",children:[de.jsx(Rp,{className:"h-8 w-8 mb-2 "+("csv"===i?"text-orange-600":"text-gray-400")}),de.jsx("span",{className:"text-sm font-medium "+("csv"===i?"text-orange-900":"text-gray-700"),children:"CSV Format"}),de.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Universal format"})]})}),de.jsx("button",{onClick:()=>o("excel"),className:"p-4 border-2 rounded-lg transition-all "+("excel"===i?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"),children:de.jsxs("div",{className:"flex flex-col items-center",children:[de.jsx(Rp,{className:"h-8 w-8 mb-2 "+("excel"===i?"text-orange-600":"text-gray-400")}),de.jsx("span",{className:"text-sm font-medium "+("excel"===i?"text-orange-900":"text-gray-700"),children:"Excel Format"}),de.jsx("span",{className:"text-xs text-gray-500 mt-1",children:".xls file"})]})})]})]}),de.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[de.jsx("input",{id:"include-inactive",type:"checkbox",checked:c,onChange:e=>d(e.target.checked),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),de.jsx("label",{htmlFor:"include-inactive",className:"text-sm text-gray-700",children:"Include inactive parts in export"})]})]}),de.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[de.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Export Details"}),de.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[de.jsxs("li",{children:[" Format: ",i.toUpperCase()]}),de.jsxs("li",{children:[" Status filter: ",c?"All parts":"Active parts only"]}),de.jsx("li",{children:" Includes: Part number, product family, version, sites, tab, product type, and customer driver"}),de.jsx("li",{children:" Excludes: Active status, created/updated timestamps"})]})]}),de.jsxs("div",{className:"flex justify-end space-x-3",children:[de.jsx("button",{onClick:t,disabled:r,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){n(!0);try{const e=yield v4.getParts(l({limit:1e4},c?{}:{is_active:!0}));if(!e.success||!e.data||0===e.data.length)return E5.play("error"),s({message:"No data available to export",type:"error"}),void n(!1);const r=e.data;"csv"===i?u(r):m(r),E5.play("success"),s({message:`Successfully exported ${r.length} part(s)`,type:"success"}),setTimeout(()=>{t()},1500)}catch(e){E5.play("error"),s({message:e.message||"Failed to export parts",type:"error"})}finally{n(!1)}}),disabled:r,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:r?de.jsxs(de.Fragment,{children:[de.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[de.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),de.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):de.jsxs(de.Fragment,{children:[de.jsx(Ff,{className:"h-4 w-4 inline mr-2"}),"Export Parts"]})})]})]})}),a&&de.jsx(k2,{message:a.message,type:a.type,onClose:()=>s(null)})]})},E4=({children:e,title:t,subtitle:r,headerActions:n,footer:a,variant:s="default",size:i="md",hoverable:o=!1,clickable:l=!1,onClick:c,className:d=""})=>{const u=`\n    rounded-card overflow-hidden\n    ${{default:"\n      bg-background-primary border border-border-primary\n      shadow-soft\n    ",elevated:"\n      bg-background-primary border border-border-primary\n      shadow-lg hover:shadow-xl\n    ",bordered:"\n      bg-background-primary border-2 border-border-secondary\n      shadow-sm\n    ","orange-accent":"\n      bg-background-primary border-l-4 border-l-primary-500 border-t border-r border-b border-border-primary\n      shadow-orange\n    "}[s]}\n    ${{sm:"p-4",md:"p-6",lg:"p-8"}[i]}\n    ${o||l?`transition-all duration-200 ${o?"hover:shadow-lg hover:-translate-y-1":""} ${l?"cursor-pointer hover:shadow-orange-lg":""}`:""}\n    ${d}\n  `.replace(/\s+/g," ").trim();return de.jsxs("div",{className:u,onClick:()=>{l&&c&&c()},children:[(t||r||n)&&de.jsx("div",{className:"mb-6 pb-4 border-b border-border-primary",children:de.jsxs("div",{className:"flex items-start justify-between",children:[de.jsxs("div",{className:"flex-1 min-w-0",children:[t&&de.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-1",children:t}),r&&de.jsx("p",{className:"text-sm text-text-secondary",children:r})]}),n&&de.jsx("div",{className:"ml-4 flex-shrink-0",children:n})]})}),de.jsx("div",{className:"flex-1",children:e}),a&&de.jsx("div",{className:"mt-6 pt-4 border-t border-border-primary",children:a})]})},T4=({children:e,className:t=""})=>de.jsx("div",{className:`mb-6 pb-4 border-b border-border-primary ${t}`,children:e}),_4=({children:e,className:t="",level:r=3})=>{const n=`h${r}`;return de.jsx(n,{className:`font-semibold text-text-primary ${{1:"text-2xl",2:"text-xl",3:"text-lg",4:"text-base"}[r]} ${t}`,children:e})},A4=({children:e,className:t=""})=>de.jsx("div",{className:`flex-1 ${t}`,children:e}),I4=({mode:e,user:t,onSubmit:r,onCancel:n,loading:a=!1,className:s=""})=>{const[i,o]=ee.useState({username:"",email:"",password:"",confirmPassword:"",name:"",position:"",role:"user",is_active:!0}),[d,u]=ee.useState({}),[m,f]=ee.useState(!1),[p,g]=ee.useState(!1),[x,b]=ee.useState(!1);ee.useEffect(()=>{o("edit"===e&&t?{username:t.username,email:t.email||"",password:"",confirmPassword:"",name:t.name,position:t.position||"",role:t.role,is_active:t.is_active}:{username:"",email:"",password:"",confirmPassword:"",name:"",position:"",role:"user",is_active:!0}),u({}),g(!1),b(!1)},[e,t]);const v=e=>{const{name:t,value:r,type:n}=e.target,a=e.target.checked;o(e=>c(l({},e),{[t]:"checkbox"===n?a:r})),d[t]&&u(e=>c(l({},e),{[t]:void 0})),g(!0)};return de.jsxs("div",{className:s,children:[de.jsxs("div",{className:`relative overflow-hidden rounded-t-lg ${"create"===e?"bg-gradient-to-r from-green-500 via-emerald-600 to-teal-600":"bg-gradient-to-r from-blue-500 via-indigo-600 to-purple-600"} p-6 shadow-lg`,children:[de.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),de.jsxs("div",{className:"relative flex items-center",children:[de.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-4 shadow-lg bg-white bg-opacity-30 backdrop-blur-sm",children:de.jsx("span",{className:"text-white text-2xl font-bold",children:"create"===e?"+":""})}),de.jsxs("div",{children:[de.jsx("h2",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"create"===e?"Create New User":`Edit User: ${null==t?void 0:t.name}`}),de.jsx("p",{className:`text-sm ${"create"===e?"text-green-100":"text-blue-100"} mt-1`,children:"create"===e?"Add a new user to the system":"Update user information"})]})]})]}),de.jsx("div",{className:"p-6 bg-white rounded-b-lg",children:de.jsxs("form",{onSubmit:t=>h(void 0,null,function*(){t.preventDefault();const n=(()=>{const t={};return i.username.trim()?i.username.length<3&&(t.username=["Username must be at least 3 characters"]):t.username=["Username is required"],i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(t.email=["Please enter a valid email address"]):t.email=["Email is required"],i.name.trim()||(t.name=["Name is required"]),("create"===e||"edit"===e&&x)&&(i.password?i.password.length<8&&(t.password=["Password must be at least 8 characters"]):t.password=["Password is required"],i.confirmPassword?i.password!==i.confirmPassword&&(t.confirmPassword=["Passwords do not match"]):t.confirmPassword=["Please confirm your password"]),i.position&&i.position.length>100&&(t.position=["Position must be less than 100 characters"]),t})();if(Object.keys(n).length>0)u(n);else{f(!0);try{let t;"create"===e?t={username:i.username.trim(),email:i.email.trim().toLowerCase(),password:i.password,name:i.name.trim(),position:i.position.trim()||void 0,role:i.role,is_active:i.is_active}:(t={email:i.email.trim().toLowerCase(),name:i.name.trim(),role:i.role,is_active:i.is_active},i.position&&i.position.trim()&&(t.position=i.position.trim()),x&&i.password&&(t.password=i.password)),console.log(" Form Submit Data:",JSON.stringify(t,null,2));const n=yield r(t);n.success?g(!1):n.errors&&u(n.errors)}catch(a){console.error("Form submission error:",a)}finally{f(!1)}}}),className:"space-y-6",children:[de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[de.jsxs("div",{children:[de.jsxs("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:["Username *","edit"===e&&de.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(read-only)"})]}),de.jsx(J5,{id:"username",name:"username",type:"text",value:i.username,onChange:v,disabled:m||a||"edit"===e,readOnly:"edit"===e,placeholder:"edit"===e?"Username cannot be changed":"Enter username",autoComplete:"username",className:`${d.username?"border-red-300":""} ${"edit"===e?"bg-gray-50 text-gray-600 cursor-not-allowed":""}`}),d.username&&de.jsx("div",{className:"mt-1 text-sm text-red-600",children:d.username.map((e,t)=>de.jsx("div",{children:e},t))})]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),de.jsx(J5,{id:"email",name:"email",type:"email",value:i.email,onChange:v,disabled:m||a,placeholder:"Enter email address",autoComplete:"email",className:d.email?"border-red-300":""}),d.email&&de.jsx("div",{className:"mt-1 text-sm text-red-600",children:d.email.map((e,t)=>de.jsx("div",{children:e},t))})]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),de.jsx(J5,{id:"name",name:"name",type:"text",value:i.name,onChange:v,disabled:m||a,placeholder:"Enter full name",autoComplete:"name",className:d.name?"border-red-300":""}),d.name&&de.jsx("div",{className:"mt-1 text-sm text-red-600",children:d.name.map((e,t)=>de.jsx("div",{children:e},t))})]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"position",className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),de.jsx(J5,{id:"position",name:"position",type:"text",value:i.position,onChange:v,disabled:m||a,placeholder:"Enter position",className:d.position?"border-red-300":""}),d.position&&de.jsx("div",{className:"mt-1 text-sm text-red-600",children:d.position.map((e,t)=>de.jsx("div",{children:e},t))})]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),de.jsxs(e4,{id:"role",name:"role",value:i.role,onChange:v,disabled:m||a,className:d.role?"border-red-300":"",children:[de.jsx("option",{value:"user",children:"User"}),de.jsx("option",{value:"manager",children:"Manager"}),de.jsx("option",{value:"admin",children:"Administrator"}),de.jsx("option",{value:"viewer",children:"Viewer (Read-Only)"})]}),d.role&&de.jsx("div",{className:"mt-1 text-sm text-red-600",children:d.role.map((e,t)=>de.jsx("div",{children:e},t))})]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"is_active",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),de.jsxs(e4,{id:"is_active",name:"is_active",value:i.is_active.toString(),onChange:e=>o(t=>c(l({},t),{is_active:"true"===e.target.value})),disabled:m||a,children:[de.jsx("option",{value:"true",children:"Active"}),de.jsx("option",{value:"false",children:"Inactive"})]})]})]}),"create"===e&&de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-4 border-t border-gray-200",children:[de.jsxs("div",{children:[de.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),de.jsx(J5,{id:"password",name:"password",type:"password",value:i.password,onChange:v,disabled:m||a,placeholder:"Enter password",autoComplete:"new-password",className:d.password?"border-red-300":""}),d.password&&de.jsx("div",{className:"mt-1 text-sm text-red-600",children:d.password.map((e,t)=>de.jsx("div",{children:e},t))})]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password *"}),de.jsx(J5,{id:"confirmPassword",name:"confirmPassword",type:"password",value:i.confirmPassword,onChange:v,disabled:m||a,placeholder:"Confirm password",autoComplete:"new-password",className:d.confirmPassword?"border-red-300":""}),d.confirmPassword&&de.jsx("div",{className:"mt-1 text-sm text-red-600",children:d.confirmPassword.map((e,t)=>de.jsx("div",{children:e},t))})]}),de.jsx("div",{})]}),"edit"===e&&de.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[de.jsxs("div",{className:"mb-4",children:[de.jsxs("label",{className:"flex items-center cursor-pointer",children:[de.jsx("input",{type:"checkbox",checked:x,onChange:e=>{b(e.target.checked),e.target.checked||(o(e=>c(l({},e),{password:"",confirmPassword:""})),u(e=>c(l({},e),{password:void 0,confirmPassword:void 0})))},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2",disabled:m||a}),de.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Update Password"})]}),de.jsx("p",{className:"mt-1 text-xs text-gray-500 ml-6",children:"Check this box if you want to change the user's password"})]}),x&&de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border-2 border-blue-200",children:[de.jsxs("div",{children:[de.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password *"}),de.jsx(J5,{id:"password",name:"password",type:"password",value:i.password,onChange:v,disabled:m||a,placeholder:"Enter new password",autoComplete:"new-password",className:d.password?"border-red-300":""}),d.password&&de.jsx("div",{className:"mt-1 text-sm text-red-600",children:d.password.map((e,t)=>de.jsx("div",{children:e},t))})]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password *"}),de.jsx(J5,{id:"confirmPassword",name:"confirmPassword",type:"password",value:i.confirmPassword,onChange:v,disabled:m||a,placeholder:"Confirm new password",autoComplete:"new-password",className:d.confirmPassword?"border-red-300":""}),d.confirmPassword&&de.jsx("div",{className:"mt-1 text-sm text-red-600",children:d.confirmPassword.map((e,t)=>de.jsx("div",{children:e},t))})]}),de.jsxs("div",{className:"bg-white bg-opacity-60 rounded-lg p-3 border border-blue-200",children:[de.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-2",children:"Password Requirements:"}),de.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[de.jsxs("li",{className:"flex items-start",children:[de.jsx("span",{className:"mr-1",children:""}),de.jsx("span",{children:"At least 8 characters"})]}),de.jsxs("li",{className:"flex items-start",children:[de.jsx("span",{className:"mr-1",children:""}),de.jsx("span",{children:"One uppercase letter"})]}),de.jsxs("li",{className:"flex items-start",children:[de.jsx("span",{className:"mr-1",children:""}),de.jsx("span",{children:"One lowercase letter"})]}),de.jsxs("li",{className:"flex items-start",children:[de.jsx("span",{className:"mr-1",children:""}),de.jsx("span",{children:"One number"})]})]})]})]})]}),de.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[de.jsx(A5,{type:"button",variant:"secondary",onClick:()=>{p?window.confirm("Are you sure? You have unsaved changes that will be lost.")&&n():n()},disabled:m||a,className:"px-6 py-2.5 rounded-lg font-semibold hover:shadow-md transition-all duration-200",children:"Cancel"}),de.jsx(A5,{type:"submit",variant:"primary",disabled:m||a,className:"px-6 py-2.5 rounded-lg font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 "+("create"===e?"bg-gradient-to-r from-green-500 via-emerald-600 to-teal-600 hover:from-green-600 hover:via-emerald-700 hover:to-teal-700":"bg-gradient-to-r from-blue-500 via-indigo-600 to-purple-600 hover:from-blue-600 hover:via-indigo-700 hover:to-purple-700"),children:m||a?de.jsxs(de.Fragment,{children:[de.jsx(D5,{size:"sm",className:"mr-2"}),"create"===e?"Creating...":"Updating..."]}):"create"===e?" Create User":" Update User"})]})]})})]})};const P4=new class{loadActiveConfig(){return h(this,null,function*(){try{console.log(" Loading active system configuration...");const e=yield fetch(`${Ef("sysconfig")}/active`,{credentials:"include"});if(!e.ok)return console.error(" Failed to load configuration:",e.statusText),null;const t=yield e.json();return t.success&&t.data?(console.log(" Configuration loaded successfully"),t.data):(console.warn(" No active configuration found"),null)}catch(e){return console.error(" Error loading configuration:",e),null}})}saveConfig(e){return h(this,null,function*(){try{console.log(" Saving system configuration..."),console.log(" Config to save:",e);const t=this.validateConfig(e);if(console.log(" Validation result:",t),!t.isValid)return console.error(" Validation failed:",t.errors),{success:!1,message:`Validation failed: ${t.errors.join(", ")}`};const r=e,{id:n,created_at:a,updated_at:s,created_by:i,updated_by:o}=r,l=d(r,["id","created_at","updated_at","created_by","updated_by"]),c=`${Ef("sysconfig")}/${n}`;console.log(" Request URL:",c),console.log(" Request body (filtered):",JSON.stringify(l,null,2));const u=yield fetch(c,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(l)});console.log(" Response status:",u.status,u.statusText);const h=yield u.json();return console.log(" Response data:",h),u.ok&&h.success?(console.log(" Configuration saved successfully"),{success:!0,message:h.message||"Configuration saved successfully"}):(console.error(" Failed to save configuration:",h),{success:!1,message:h.error||h.message||"Failed to save configuration"})}catch(t){return console.error(" Error saving configuration:",t),{success:!1,message:t instanceof Error?t.message:"Unknown error occurred"}}})}validateConfig(e){var t,r,n;const a=[];if((null==(t=e.shift)?void 0:t.trim())||a.push("Shift values are required"),(null==(r=e.site)?void 0:r.trim())||a.push("Site values are required"),null==(n=e.defect_notification_emails)?void 0:n.trim()){const t=this.parseArrayField(e.defect_notification_emails),r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,n=t.filter(e=>!r.test(e));n.length>0&&a.push(`Invalid email format: ${n.join(", ")}`)}return[{field:e.fvi_lot_qty,name:"FVI Lot Qty"},{field:e.general_oqa_qty,name:"General OQA Qty"},{field:e.crack_oqa_qty,name:"Crack OQA Qty"},{field:e.general_siv_qty,name:"General SIV Qty"},{field:e.crack_siv_qty,name:"Crack SIV Qty"}].forEach(({field:e,name:t})=>{if(e){const r=this.parseArrayField(e).filter(e=>isNaN(Number(e))||Number(e)<0);r.length>0&&a.push(`${t} contains invalid values: ${r.join(", ")}`)}}),{isValid:0===a.length,errors:a,warnings:[]}}detectChanges(e,t){if(!e||!t)return{hasChanges:!1,modifiedFields:[],originalConfig:e||void 0,currentConfig:t||void 0};const r=[],n=["fvi_lot_qty","general_oqa_qty","crack_oqa_qty","general_oba_qty","crack_oba_qty","general_siv_qty","crack_siv_qty","shift","site","tabs","product_type","product_families","defect_type","defect_group","defect_color","defect_notification_emails"];for(const a of n)e[a]!==t[a]&&r.push(a);return{hasChanges:r.length>0,modifiedFields:r,originalConfig:e,currentConfig:t}}parseArrayField(e){return e&&"string"==typeof e?e.split(",").map(e=>e.trim()).filter(e=>e.length>0):[]}formatArrayField(e){return e.filter(e=>e&&e.trim()).map(e=>e.trim()).join(", ")}addArrayValue(e,t){const r=this.parseArrayField(e),n=t.trim();return!n||r.includes(n)?e:(r.push(n),this.formatArrayField(r))}removeArrayValue(e,t){const r=this.parseArrayField(e).filter(e=>e!==t);return this.formatArrayField(r)}getDefaultConfig(){return{active:!0,fvi_lot_qty:"",general_oqa_qty:"",crack_oqa_qty:"",general_oba_qty:"",crack_oba_qty:"",general_siv_qty:"",crack_siv_qty:"",shift:"",site:"",tabs:"",product_type:"",product_families:"",defect_type:"",defect_group:"",defect_color:"",defect_notification_emails:""}}formatQuantity(e){return e.toLocaleString()}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}},D4=({values:e,onChange:t,type:r,placeholder:n,maxItems:a=20,disabled:s=!1})=>{const[i,o]=ee.useState(""),l=()=>{const n=i.trim();if(n){if("numeric"===r){const t=parseFloat(n);if(isNaN(t))return;if(e.includes(t.toString()))return}else if(e.includes(n))return;e.length>=a||(t([...e,n]),o(""))}};return de.jsxs("div",{className:"space-y-3",children:[de.jsxs("div",{className:"flex gap-2",children:[de.jsx("input",{type:"numeric"===r?"number":"text",value:i,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),l())},placeholder:n,disabled:s,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-100 disabled:cursor-not-allowed transition-all"}),de.jsx("button",{type:"button",onClick:l,disabled:s||!i.trim()||e.length>=a,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-amber-600 text-white rounded-lg hover:from-orange-600 hover:to-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm",children:de.jsx(yg,{className:"h-4 w-4"})})]}),e.length>0&&de.jsxs("div",{className:"border border-orange-200 rounded-lg p-4 bg-gradient-to-br from-orange-50/50 to-amber-50/50",children:[de.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((r,n)=>de.jsxs("div",{className:"flex items-center space-x-2 bg-white border border-orange-200 rounded-lg px-3 py-1.5 shadow-sm hover:shadow-md transition-shadow",children:[de.jsx("span",{className:"text-sm font-medium text-gray-700",children:r}),de.jsx("button",{type:"button",onClick:()=>{return n=r,void t(e.filter(e=>e!==n));var n},disabled:s,className:"text-red-500 hover:text-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:de.jsx(rx,{className:"h-3.5 w-3.5"})})]},n))}),de.jsxs("div",{className:"mt-2 text-xs text-gray-600 font-medium",children:[e.length," / ",a," items"]})]})]})},O4=({direction:e})=>{const t="w-4 h-4 ml-1 transition-colors";return"asc"===e?de.jsx("svg",{className:`${t} text-blue-600`,fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}):"desc"===e?de.jsx("svg",{className:`${t} text-blue-600`,fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}):de.jsx("svg",{className:`${t} text-gray-400`,fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})},L4=()=>de.jsxs("div",{className:"flex justify-center items-center py-8",children:[de.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 border-t-blue-600"}),de.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}),R4=e=>{var t=e,{columns:r,data:n,getRowId:a=(e,t)=>e.id||e.code||String(t),selectable:s=!1,selectedIds:i=[],onSelectRow:o,onSelectAll:l,isAllSelected:c=!1,sortable:u=!0,sortBy:h,sortOrder:m,onSort:f,renderCell:p,renderRow:g,loading:x=!1,emptyMessage:b="No data available",className:v="",tableClassName:y="",headerClassName:w="",bodyClassName:j="",rowClassName:N="",cellClassName:S="",hoverable:k=!0,striped:C=!1,bordered:E=!0,compact:T=!1,"aria-label":_,"aria-labelledby":A}=t;d(t,["columns","data","getRowId","selectable","selectedIds","onSelectRow","onSelectAll","isAllSelected","sortable","sortBy","sortOrder","onSort","renderCell","renderRow","loading","emptyMessage","className","tableClassName","headerClassName","bodyClassName","rowClassName","cellClassName","hoverable","striped","bordered","compact","aria-label","aria-labelledby"]);const[I,P]=ee.useState(""),[D,O]=ee.useState("asc"),L=null!=h?h:I,R=null!=m?m:D,M=i.length>0&&i.length<n.length,F=(e,t)=>{const r=[];k&&r.push("hover:bg-gray-50"),C&&t%2==1&&r.push("bg-gray-50");const n="function"==typeof N?N(e,t):N;return`${r.join(" ")} ${n}`},$=(e,t,r)=>{const n=["px-6 py-4 whitespace-nowrap text-sm text-gray-900"];T&&(n[0]="px-4 py-2 whitespace-nowrap text-sm text-gray-900"),"center"===e.align&&n.push("text-center"),"right"===e.align&&n.push("text-right");const a="function"==typeof S?S(e,t,r):S;return`${n.join(" ")} ${a}`},B=ee.useCallback(e=>{if(!u)return;const t=L===e&&"asc"===R?"desc":"asc";f?f(e,t):(P(e),O(t))},[u,L,R,f]),U=ee.useCallback(e=>{null==l||l(e.target.checked)},[l]),z=ee.useCallback(e=>{null==o||o(e)},[o]),V=e=>{const t=u&&!1!==e.sortable,r=L===e.key?R:null,n=de.jsxs("div",{className:"flex items-center "+("center"===e.align?"justify-center":"right"===e.align?"justify-end":"justify-start"),children:[de.jsx("span",{className:"font-medium text-gray-900",children:e.header}),t&&de.jsx(O4,{direction:r})]});return t?de.jsx("button",{onClick:()=>B(e.key),className:"w-full text-left focus:outline-none focus:bg-gray-100 p-2 -m-2 rounded","aria-label":`Sort by ${e.header}`,children:n}):n},W=(e,t,r)=>{if(p)return p(e,t,r);if(e.render)return e.render(t[e.key],t,r);const n=t[e.key];return null!=n?String(n):""};return x?de.jsx("div",{className:`bg-white shadow rounded-lg ${v}`,children:de.jsx(L4,{})}):de.jsx("div",{className:`bg-white shadow rounded-lg overflow-hidden ${v}`,children:de.jsx("div",{className:"overflow-x-auto",children:de.jsxs("table",{className:(()=>{const e=["min-w-full divide-y divide-gray-200"];return E&&e.push("border border-gray-200"),T&&e.push("text-sm"),`${e.join(" ")} ${y}`})(),"aria-label":_,"aria-labelledby":A,children:[de.jsx("thead",{className:`bg-gray-50 ${w}`,children:de.jsxs("tr",{children:[s&&de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:de.jsx("input",{type:"checkbox",checked:c,ref:e=>{e&&(e.indeterminate=M)},onChange:U,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded","aria-label":"Select all rows"})}),r.map(e=>de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:e.width},children:V(e)},e.key))]})}),de.jsx("tbody",{className:`bg-white divide-y divide-gray-200 ${j}`,children:0===n.length?de.jsx("tr",{children:de.jsx("td",{colSpan:r.length+(s?1:0),className:"px-6 py-12 text-center text-gray-500",children:de.jsxs("div",{className:"flex flex-col items-center",children:[de.jsx("svg",{className:"w-12 h-12 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),de.jsx("p",{className:"text-lg font-medium text-gray-900 mb-1",children:"No data found"}),de.jsx("p",{className:"text-gray-500",children:b})]})})}):n.map((e,t)=>{const n=a(e,t),o=i.includes(n),l=de.jsxs("tr",{className:`${F(e,t)} ${o?"bg-blue-50":""}`,children:[s&&de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.jsx("input",{type:"checkbox",checked:o,onChange:()=>z(n),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded","aria-label":`Select row ${t+1}`})}),r.map(r=>de.jsx("td",{className:$(r,e,t),style:{width:r.width},children:W(r,e,t)},r.key))]},n);return g?g(e,t,l):l})})]})})})},M4=({variant:e="info",title:t,message:r,children:n,dismissible:a=!1,showIcon:s=!0,onDismiss:i,className:o="",borderStyle:l="solid",size:c="md"})=>{const[d,u]=ee.useState(!0);if(!d)return null;const h={info:`\n      bg-primary-50 border-primary-200 text-primary-800\n      ${"solid"===l?"border":"dashed"===l?"border-dashed border-2":"border-dotted border-2"}\n    `,success:`\n      bg-success-50 border-success-200 text-success-800\n      ${"solid"===l?"border":"dashed"===l?"border-dashed border-2":"border-dotted border-2"}\n    `,warning:`\n      bg-warning-50 border-warning-200 text-warning-800\n      ${"solid"===l?"border":"dashed"===l?"border-dashed border-2":"border-dotted border-2"}\n    `,error:`\n      bg-danger-50 border-danger-200 text-danger-800\n      ${"solid"===l?"border":"dashed"===l?"border-dashed border-2":"border-dotted border-2"}\n    `},m=()=>{if(!s)return null;const t="w-5 h-5 flex-shrink-0";switch(e){case"success":return de.jsx("svg",{className:`${t} text-success-500`,fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"error":return de.jsx("svg",{className:`${t} text-danger-500`,fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});case"warning":return de.jsx("svg",{className:`${t} text-warning-500`,fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});default:return de.jsx("svg",{className:`${t} text-primary-500`,fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}};return de.jsx("div",{className:`\n      rounded-card transition-all duration-200\n      ${h[e]}\n      ${{sm:"p-3 text-sm",md:"p-4 text-sm",lg:"p-6 text-base"}[c]}\n      ${o}\n    `,children:de.jsxs("div",{className:"flex items-start",children:[m()&&de.jsx("div",{className:"mr-3 mt-0.5",children:m()}),de.jsxs("div",{className:"flex-1 min-w-0",children:[t&&de.jsx("h3",{className:"font-semibold mb-1",children:t}),r&&de.jsx("p",{className:"text-sm opacity-90",children:r}),n&&de.jsx("div",{className:"mt-2",children:n})]}),a&&de.jsx("div",{className:"ml-4 flex-shrink-0",children:de.jsx("button",{className:`\n                inline-flex rounded-md p-1.5 \n                ${"info"===e?"text-primary-500 hover:bg-primary-100":""}\n                ${"success"===e?"text-success-500 hover:bg-success-100":""}\n                ${"error"===e?"text-danger-500 hover:bg-danger-100":""}\n                ${"warning"===e?"text-warning-500 hover:bg-warning-100":""}\n                focus:outline-none focus:ring-2 focus:ring-offset-2\n                ${"info"===e?"focus:ring-primary-400":""}\n                ${"success"===e?"focus:ring-success-400":""}\n                ${"error"===e?"focus:ring-danger-400":""}\n                ${"warning"===e?"focus:ring-warning-400":""}\n                transition-colors duration-200\n              `,onClick:()=>{u(!1),null==i||i()},"aria-label":"Dismiss alert",children:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})})};const F4=new class{applyFilters(e,t){let r=[...e];const n=new Date;switch(t.dateRange){case"today":r=r.filter(e=>new Date(e.timestamp).toDateString()===n.toDateString());break;case"week":const e=new Date(n.getTime()-6048e5);r=r.filter(t=>new Date(t.timestamp)>=e);break;case"month":const t=new Date(n.getTime()-2592e6);r=r.filter(e=>new Date(e.timestamp)>=t)}return"all"!==t.judgment&&(r=r.filter(e=>e.judgment.toLowerCase()===t.judgment)),"All"!==t.inspector&&(r=r.filter(e=>e.inspector===t.inspector)),"All"!==t.model&&(r=r.filter(e=>e.model===t.model)),r}calculateStatistics(e){const t=e.length,r=e.filter(e=>"Pass"===e.judgment).length,n=e.filter(e=>"Reject"===e.judgment).length;return{total:t,passed:r,rejected:n,passRate:t>0?(r/t*100).toFixed(1):"0"}}getStatusColor(e){return"Pass"===e?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"}detectStationFromPath(e){const t=e.toLowerCase();return t.includes("oqa")?"OQA":t.includes("oba")?"OBA":t.includes("siv")?"SIV":"OQA"}transformInspectionData(e){return{id:e.id.toString(),timestamp:new Date(e.inspection_date).toISOString(),inspectionDate:new Date(e.inspection_date),inspector:`QC${e.qc_id||1}`,model:e.model&&e.version?`${e.model} ${e.version}`:e.model||"N/A",samplingRound:e.round||1,fviLotQty:e.fvi_lot_qty||0,generalSamplingQty:e.general_sampling_qty||0,crackSamplingQty:e.crack_sampling_qty||0,judgment:null===e.judgment?null:e.judgment?"Pass":"Reject",lotno:e.lotno||"",itemno:e.itemno||"",inspectionNo:e.inspection_no||"",inspectionNoRef:e.inspection_no_ref||"",ww:e.ww||"",mclineno:e.mclineno||"",shift:e.shift||"",station:e.station||"",fy:e.fy||"",month_year:e.month_year||"",partsite:e.partsite||"",version:e.version||"",fvilineno:e.fvilineno||"",qc_id:e.qc_id||1,created_at:e.created_at?new Date(e.created_at):void 0,updated_at:e.updated_at?new Date(e.updated_at):void 0,created_by:e.created_by,updated_by:e.updated_by}}createSIV(e){return h(this,null,function*(){try{console.log(" Creating SIV from inspection:",e);const t=yield fetch(`${Ef("inspectiondata")}/${e}/create-siv`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();return t.ok&&r.success?(console.log(" SIV created:",r.data),{success:!0,message:"SIV inspection created successfully!",data:r.data}):(console.error(" SIV creation failed:",r),{success:!1,message:r.message||"Unknown error occurred"})}catch(t){return console.error(" Error creating SIV:",t),{success:!1,message:t instanceof Error?t.message:"Failed to create SIV"}}})}},$4={OQA:{code:"OQA",name:"OQA",title:"OQA Sampling Lists",subtitle:"View OQA sampling inspection results",breadcrumbName:"Final visual inspection",newButtonLabel:"New OQA",pageRoute:"/inspection/oqa/new",theme:{background:"from-blue-50 via-indigo-50 to-purple-50",header:"from-blue-600 via-indigo-600 to-purple-600",headerBorder:"border-blue-100",subtitle:"text-blue-100",spinner:"border-blue-600",breadcrumb:"hover:text-blue-600",breadcrumbActive:"text-blue-600",focusRing:"focus:ring-blue-500 focus:border-blue-500",iconLegend:"text-blue-600",editButton:"text-blue-600 hover:bg-blue-50",editButtonHover:"text-blue-600",pagination:"bg-blue-600",modalButton:"from-blue-500 to-indigo-600",modalButtonHover:"hover:from-blue-600 hover:to-indigo-700",passRate:"from-blue-100 to-indigo-100",passRateHeader:"text-blue-800",passRateText:"text-blue-600",photoIcon:"text-blue-600"}},OBA:{code:"OBA",name:"OBA",title:"OBA Sampling Lists",subtitle:"View OBA sampling inspection results",breadcrumbName:"Final visual inspection",newButtonLabel:"New OBA",pageRoute:"/inspection/oba/new",theme:{background:"from-teal-50 via-cyan-50 to-emerald-50",header:"from-teal-600 via-cyan-600 to-emerald-600",headerBorder:"border-teal-100",subtitle:"text-teal-100",spinner:"border-teal-600",breadcrumb:"hover:text-teal-600",breadcrumbActive:"text-teal-600",focusRing:"focus:ring-teal-500 focus:border-teal-500",iconLegend:"text-teal-600",editButton:"text-teal-600 hover:bg-teal-50",editButtonHover:"text-teal-600",pagination:"bg-teal-600",modalButton:"from-teal-500 to-cyan-600",modalButtonHover:"hover:from-teal-600 hover:to-cyan-700",passRate:"from-teal-100 to-cyan-100",passRateHeader:"text-teal-800",passRateText:"text-teal-600",photoIcon:"text-teal-600"}},SIV:{code:"SIV",name:"SIV",title:"SIV Sampling Lists",subtitle:"View SIV sampling inspection results",breadcrumbName:"Final visual inspection",newButtonLabel:"New SIV",pageRoute:"/inspection/siv/new",theme:{background:"from-amber-50 via-orange-50 to-yellow-50",header:"from-amber-600 via-orange-600 to-yellow-600",headerBorder:"border-amber-100",subtitle:"text-amber-100",spinner:"border-amber-600",breadcrumb:"hover:text-amber-600",breadcrumbActive:"text-amber-600",focusRing:"focus:ring-amber-500 focus:border-amber-500",iconLegend:"text-amber-600",editButton:"text-amber-600 hover:bg-amber-50",editButtonHover:"text-amber-600",pagination:"bg-amber-600",modalButton:"from-amber-500 to-orange-600",modalButtonHover:"hover:from-amber-600 hover:to-orange-700",passRate:"from-amber-100 to-orange-100",passRateHeader:"text-amber-800",passRateText:"text-amber-600",photoIcon:"text-amber-600"}}},B4=[""],U4=[""];const z4=new class{createSIVFromOQA(e){return h(this,null,function*(){var t;try{console.log(" Creating SIV from inspection:",e);const r=`${Ef("inspectiondata")}/${e}/create-siv`;console.log(" API URL:",r);const n=yield fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});console.log(" Response status:",n.status),console.log(" Response headers:",n.headers.get("content-type"));const a=n.headers.get("content-type");if(!a||!a.includes("application/json")){const e=yield n.text();return console.error(" Received non-JSON response:",e.substring(0,200)),{success:!1,message:401===n.status?"Authentication required. Please log in again.":`Server error (${n.status}). The server returned an unexpected response.`}}const s=yield n.json();return console.log(" API result:",s),n.ok&&s.success?(console.log(" SIV created:",s.data),{success:!0,message:"SIV inspection created successfully!",inspectionNo:(null==(t=s.data)?void 0:t.inspection_no)||"N/A"}):(console.error(" SIV creation failed:",s),{success:!1,message:s.message||"Unknown error occurred"})}catch(r){return console.error(" Error creating SIV:",r),{success:!1,message:r instanceof Error?r.message:"Network error occurred"}}})}getLotDetails(e){return h(this,null,function*(){try{console.log(" Fetching lot details for:",e);const t=yield fetch(`${Ef("inf-lotinput")}/lot/${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=yield t.json();if(console.log(" Lot API response:",r),r.success&&r.data){const e=r.data;return console.log(" Lot data found:",e),e}return console.warn(" No lot data found for:",e),null}catch(t){throw console.error(" Error fetching lot details:",t),t}})}canCreateSIV(e){return"Pass"===e.judgment&&"OQA"===e.station}getStatusColor(e){return"Pass"===e?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"}},V4=()=>h(void 0,null,function*(){var e,t;try{console.log(' Calling api.get("/report/models")...');const e=yield Gx.get("/report/models");return console.log(" Raw API response:",e),e}catch(r){return console.error(" Error fetching available models:",r),{success:!1,message:(null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.message)||r.message||"Failed to fetch available models",errors:[r.message||"Unknown error"]}}}),W4=()=>h(void 0,null,function*(){var e,t;try{console.log(' Calling api.get("/report/fiscal-years")...');const e=yield Gx.get("/report/fiscal-years");return console.log(" Fiscal years response:",e),e}catch(r){return console.error(" Error fetching fiscal years:",r),{success:!1,message:(null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.message)||r.message||"Failed to fetch fiscal years",errors:[r.message||"Unknown error"]}}}),q4=e=>h(void 0,null,function*(){var t,r;try{const t=e?`/report/work-weeks?fy=${e}`:"/report/work-weeks";console.log(' Calling api.get("'+t+'")...');const r=yield Gx.get(t);return console.log(" Work weeks response:",r),r}catch(n){return console.error(" Error fetching work weeks:",n),{success:!1,message:(null==(r=null==(t=n.response)?void 0:t.data)?void 0:r.message)||n.message||"Failed to fetch work weeks",errors:[n.message||"Unknown error"]}}}),H4=()=>de.jsxs("div",{className:"training-index-container",children:[de.jsxs("div",{className:"floating-shapes",children:[de.jsx("div",{className:"shape shape-1"}),de.jsx("div",{className:"shape shape-2"}),de.jsx("div",{className:"shape shape-3"}),de.jsx("div",{className:"shape shape-4"}),de.jsx("div",{className:"shape shape-5"})]}),de.jsxs("nav",{className:"training-index-nav",children:[de.jsx("div",{className:"training-index-nav-title",children:" "}),de.jsxs("div",{className:"training-index-nav-buttons",children:[de.jsx(gf,{to:"/",className:"training-index-nav-btn",children:" "}),de.jsx("button",{onClick:()=>{window.print()},className:"training-index-nav-btn training-index-print-btn",children:" "})]})]}),de.jsxs("header",{className:"training-index-header",children:[de.jsx("h1",{children:" "}),de.jsx("p",{children:"Sampling Inspection Control System"}),de.jsx("p",{className:"training-index-subtitle",children:""})]}),de.jsxs("section",{className:"training-section",children:[de.jsxs("h2",{className:"training-section-title",children:[de.jsx("span",{className:"training-section-icon",children:""}),de.jsx("span",{style:{position:"relative",zIndex:1},children:" (Operation)"})]}),de.jsx("div",{className:"training-index-cards-grid",children:[{id:1,icon:"",title:" #1: ",description:"",path:"/training/t01",filename:"t01",isActive:!0},{id:2,icon:"",title:" #2:  OQA",description:" Flow   OQA",path:"/training/t02",filename:"t02",isActive:!0},{id:3,icon:"",title:" #3:  OQA",description:" OQA",path:"/training/t03",filename:"t03",isActive:!0},{id:4,icon:"",title:" #4:  OBA",description:" OBA",path:"/training/t04",filename:"t04",isActive:!0},{id:5,icon:"",title:" #5:  SIV",description:" SIV",path:"/training/t05",filename:"t05",isActive:!0},{id:6,icon:"",title:" #6: ",description:"",path:"/training/t06",filename:"t06",isActive:!0},{id:7,icon:"",title:" #7:  IQA",description:" IQA ",path:"/training/t07",filename:"t07",isActive:!0}].map(e=>de.jsx(Q4,{card:e},e.id))})]}),de.jsxs("section",{className:"training-section",children:[de.jsxs("h2",{className:"training-section-title",children:[de.jsx("span",{className:"training-section-icon",children:""}),de.jsx("span",{style:{position:"relative",zIndex:1},children:" (Setting)"})]}),de.jsx("div",{className:"training-index-cards-grid",children:[{id:10,icon:"",title:" #10: ",description:" (Customer Site Management)",path:"/training/t10",filename:"t10",isActive:!0},{id:11,icon:"",title:" #11: ",description:" (Customer Master Data)",path:"/training/t11",filename:"t11",isActive:!0},{id:12,icon:"",title:" #12: ",description:" (Defects)",path:"/training/t12",filename:"t12",isActive:!0},{id:13,icon:"",title:" #13: ",description:" (Inspection Data Setup)",path:"/training/t13",filename:"t13",isActive:!0}].map(e=>de.jsx(Q4,{card:e},e.id))})]}),de.jsxs("section",{className:"training-section",children:[de.jsxs("h2",{className:"training-section-title",children:[de.jsx("span",{className:"training-section-icon",children:""}),de.jsx("span",{style:{position:"relative",zIndex:1},children:" (Report)"})]}),de.jsx("div",{className:"training-index-cards-grid",children:[{id:8,icon:"",title:" #8:  OQA DPPM Overall",description:" OQA DPPM Overall",path:"/training/t08",filename:"t08",isActive:!1},{id:9,icon:"",title:" #9:  SGT IQA Trend",description:" SGT IQA Trend",path:"/training/t09",filename:"t09",isActive:!1}].map(e=>de.jsx(Q4,{card:e},e.id))})]}),de.jsxs("footer",{className:"training-index-footer",children:[de.jsx("p",{children:de.jsx("strong",{children:"Sampling Inspection Control System"})}),de.jsx("p",{className:"training-index-footer-date",children:" 2025"})]})]}),Q4=({card:e})=>{const t=e.isActive?{}:{opacity:.7,cursor:"default"};return de.jsxs("div",{className:"training-index-card",style:t,children:[de.jsx("div",{className:"training-index-card-icon",children:e.icon}),de.jsx("h2",{children:e.title}),de.jsx("p",{children:e.description}),e.isActive?e.filename?de.jsx("a",{href:`/training/${e.filename}`,className:"training-index-view-button",target:"_blank",rel:"noopener noreferrer",onClick:t=>{e.isActive?e.filename&&(t.preventDefault(),window.open(`/training/${e.filename}`,"_blank")):t.preventDefault()},children:" "}):de.jsx(gf,{to:e.path,className:"training-index-view-button",children:" "}):de.jsx("span",{className:"training-index-view-button training-index-disabled-button",children:" "})]})},G4=({cardNumber:e,totalCards:t,title:r,subtitle:n,icon:a,previousLink:s,nextLink:i,children:o})=>de.jsxs("div",{className:"training-card",children:[de.jsxs("nav",{className:"training-nav-bar",children:[de.jsxs("div",{className:"training-nav-left",children:[de.jsx(gf,{to:"/training",className:"training-nav-btn",children:" "}),de.jsxs("span",{className:"training-card-indicator",children:[" ",e,"  ",t]})]}),de.jsxs("div",{className:"training-nav-right",children:[s&&de.jsx(gf,{to:s,className:"training-nav-btn",children:" "}),i&&de.jsx(gf,{to:i,className:"training-nav-btn",children:" "}),de.jsx("button",{onClick:()=>{window.print()},className:"training-nav-btn training-print-btn",children:"  PDF"})]})]}),de.jsxs("header",{className:"training-header",children:[de.jsxs("h1",{children:[a,"  #",e]}),de.jsx("p",{children:r}),n&&de.jsx("p",{className:"training-subtitle",children:n})]}),de.jsx("main",{className:"training-content",children:o}),de.jsxs("footer",{className:"training-footer",children:[de.jsx("p",{children:de.jsxs("strong",{children:[" #",e," - ",r]})}),de.jsx("p",{children:""}),de.jsx("p",{children:"Sampling Inspection Control System"})]})]}),Y4=({title:e,children:t})=>de.jsxs("div",{className:"training-section",children:[de.jsx("h2",{children:e}),t]}),K4=({steps:e,children:t})=>de.jsx("div",{className:"training-step-box",children:e&&e.length>0?e.map((e,t)=>de.jsxs("p",{children:[de.jsxs("strong",{children:[e.label,":"]})," ",e.description]},t)):t}),X4=({headers:e,rows:t})=>de.jsxs("table",{className:"training-table",children:[de.jsx("thead",{children:de.jsx("tr",{children:e.map((e,t)=>de.jsx("th",{children:e},t))})}),de.jsx("tbody",{children:t.map((e,t)=>de.jsx("tr",{children:e.map((e,t)=>de.jsx("td",{children:e},t))},t))})]}),Z4=({title:e,children:t,type:r="info"})=>{const n=`training-message-box training-${r}-box`;return de.jsxs("div",{className:n,children:[de.jsx("h3",{children:e}),t]})},J4=({title:e,children:t})=>de.jsx(Z4,{type:"help",title:e,children:t}),e3=({title:e})=>de.jsx("h3",{className:"training-subsection",children:e}),t3=()=>de.jsxs(G4,{cardNumber:1,totalCards:10,title:"",subtitle:"Login & Navigation",icon:"",nextLink:"/training/oqa-inspection",children:[de.jsxs(Y4,{title:"",children:[de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/01_Login.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 1:  Sampling Inspection Control System"})]}),de.jsx(K4,{steps:[{label:" 1",description:" URL  ()"},{label:" 2",description:":  (Username)  (Password)"},{label:" 3",description:' "Login" '},{label:" 4",description:"  Dashboard "}],children:de.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px",marginTop:"15px"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#495057"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px"},children:[de.jsx("li",{children:": "}),de.jsx("li",{children:":  ()"}),de.jsx("li",{children:" Caps Lock  -"}),de.jsx("li",{children:""})]})]})})]}),de.jsx(Y4,{title:" Dashboard ",children:de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/01_Dashboard.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 2:  Dashboard "})]})}),de.jsx(Y4,{title:"",children:de.jsx(K4,{steps:[{label:" 1",description:"  ()   Logout"},{label:" 2",description:" ( 24 )"}]})}),de.jsx(Y4,{title:"",children:de.jsx(X4,{headers:["",""],rows:[[' "Invalid credentials"',"/,  Caps Lock "],[' "Session expired"'," 24  - "],[""," (F5), "]]})}),de.jsx(J4,{title:" ?",children:de.jsx("p",{children:" IT"})})]}),r3=()=>de.jsxs(G4,{cardNumber:2,totalCards:10,title:" OQA",subtitle:"OQA Inspection Recording",icon:"",nextLink:"/training/t03",children:[de.jsxs(Y4,{title:" OQA (Outgoing Quality Assurance)",children:[de.jsxs("div",{style:{background:"#fff8e1",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffd54f"},children:[de.jsx("p",{style:{margin:"0",fontWeight:"bold",color:"#f57c00",fontSize:"16px"},children:" OQA ?"}),de.jsx("p",{style:{margin:"10px 0 0 0",color:"#5d4037"},children:"OQA (Outgoing Quality Assurance)  "})]}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/02_OQA_Overview.png",alt:"OQA Inspection Overview",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 1:  OQA Inspection"})]})]}),de.jsxs(Y4,{title:" Inspection Number, WW  Round Number",children:[de.jsx(e3,{title:"  Inspection Number"}),de.jsxs("div",{style:{background:"#fff",padding:"15px",borderRadius:"8px",border:"1px solid #90caf9",marginBottom:"15px"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#1565c0",fontSize:"15px"},children:" Inspection Number:"}),de.jsx("div",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"6px",fontFamily:"monospace",fontSize:"16px",fontWeight:"bold",color:"#d32f2f",textAlign:"center",marginBottom:"10px"},children:"OQA + YYMMWW + - + DD + XXXX"}),de.jsx(X4,{headers:["","",""],rows:[["OQA"," (Station Code)","OQA, OBA, SIV"],["YY"," .  (Inspection year)\nYY = ","2025 "],["MM","MM =  (Month)","01  12"],["WW"," (Fiscal Week)","01  53"],["DD"," (DAY of Month)","01  31"],["XXXX"," (Sequential Number)","0001, 0002, ..."]]}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"12px",borderRadius:"6px",marginTop:"12px"},children:[de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#2e7d32"},children:[" ",de.jsx("strong",{children:":"})," ",de.jsx("code",{style:{background:"#fff",padding:"4px 8px",borderRadius:"4px",color:"#c62828"},children:"OQA250311-151234"})]}),de.jsxs("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px",fontSize:"13px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"OQA"})," =  OQA Inspection"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"250311"})," =  11    2568"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"15"})," =  15  2568"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"1234"})," = "]})]})]})]}),de.jsx(e3,{title:"  WW (Fiscal Week Number)"}),de.jsxs("div",{style:{background:"#fff",padding:"15px",borderRadius:"8px",border:"1px solid #ffb74d",marginBottom:"15px"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:" WW (Work Week / Fiscal Week):"}),de.jsxs("div",{style:{background:"#fffde7",padding:"12px",borderRadius:"6px",marginBottom:"12px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 8px 0",fontWeight:"bold",color:"#f57c00"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  (Saturday) "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  WW01"]}),de.jsxs("li",{children:[de.jsx("strong",{children:""}),"  Sampling Date"]})]})]}),de.jsx(X4,{headers:["","WW","Fiscal Year"],rows:[["28 . 68 - 4 .. 68","WW01","FY 2025"],["5 .. 68 - 11 .. 68","WW02","FY 2025"],["27 .. 68 - 2 .. 69","WW27","FY 2025"],["...","...","..."],["20 . 69 - 20 . 69","WW52","FY 2025"]]}),de.jsx("div",{style:{background:"#e1f5fe",padding:"12px",borderRadius:"6px",marginTop:"12px"},children:de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#01579b"},children:[" ",de.jsx("strong",{children:":"}),"  WW  Fiscal Year  Sampling Date "]})}),de.jsx("div",{style:{background:"#ffebee",padding:"12px",borderRadius:"6px",marginTop:"12px",border:"1px solid #ef5350"},children:de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#c62828"},children:[" ",de.jsx("strong",{children:":"}),"  WW  Sampling Date   WW "]})})]}),de.jsx(e3,{title:" Round Number ()"}),de.jsxs("div",{style:{background:"#fff",padding:"15px",borderRadius:"8px",border:"1px solid #4caf50",marginBottom:"15px"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:" Round Number (Sampling Round):"}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"12px",borderRadius:"6px",marginBottom:"12px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 8px 0",fontWeight:"bold",color:"#2e7d32"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Round Number"}),"   Lot "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  Lot Number "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Round 1"})," =  Lot "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Round 2"})," =  Lot "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Round 3+"})," =   Lot "]})]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"12px",borderRadius:"6px",marginBottom:"12px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 8px 0",fontWeight:"bold",color:"#e65100"},children:"  Round:"}),de.jsx(X4,{headers:["","Station","Lot Number","Round",""],rows:[[" 1","OQA","LOT12345","1"," Lot  OQA"],[" 2","OQA","LOT12345","2"," Lot  OQA (Reject  Rework)"],[" 3","SIV","LOT12345","1"," Lot  SIV (Round )"],[" 4","OQA","LOT67890","1"," Lot  OQA (Round  Lot )"]]})]}),de.jsx("div",{style:{background:"#e1f5fe",padding:"12px",borderRadius:"6px",marginTop:"12px"},children:de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#01579b"},children:[" ",de.jsx("strong",{children:":"})," Round Number  Lot Number  2  Lot  Round "]})}),de.jsx("div",{style:{background:"#fff9c4",padding:"12px",borderRadius:"6px",marginTop:"12px",border:"1px solid #fdd835"},children:de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#f57f17"},children:[" ",de.jsx("strong",{children:":"}),' Round Number  Lot  : "Sampling Round: 1", "Sampling Round: 2" ']})})]})]}),de.jsx(J4,{title:" ?",children:de.jsx("p",{children:" IT"})})]}),n3=()=>de.jsxs(G4,{cardNumber:3,totalCards:10,title:" OQA",subtitle:"OQA Inspection Recording",icon:"",nextLink:"/training/t04",children:[de.jsxs(Y4,{title:" OQA Inspection",children:[de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/03_OQAList.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 1:  OQA Sampling Lists"})]}),de.jsx(K4,{steps:[{label:" 1",description:" Dashboard"},{label:" 2",description:' "Inspection"   "OQA Inspection"'},{label:" 3",description:' "New OQA" '}]}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/03_OQAPage1.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 2:   OQA Spteps 1 - 2"})]}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/03_OQAPage2.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 3:   OQA Spteps 3 - 4"})]})]}),de.jsxs(Y4,{title:" OQA (4 )",children:[de.jsx(e3,{title:"  1:  (Sampling Reason)"}),de.jsx(K4,{steps:[{label:"",description:' "Select Sampling Reason" '},{label:"",description:'  "Regular Inspection", "Customer Complaint", "Process Change" '},{label:"",description:' "Select"  - '}],children:de.jsx("div",{style:{background:"#fff3e0",padding:"12px",borderRadius:"6px",marginTop:"10px"},children:de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#e65100"},children:[" ",de.jsx("strong",{children:":"}),'   "Change" ']})})}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/03_OQAReason.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 4: "})]}),de.jsx(e3,{title:"  2:  Lot "}),de.jsx(K4,{steps:[{label:" Lot",description:' Lot Number   "Browse"  Lot'},{label:"",description:" Lot: Part Site, Line No, Item No, Model, Version"},{label:"",description:' "Select"  -  Lot  Sampling Round '}],children:de.jsx("div",{style:{background:"#e1f5fe",padding:"12px",borderRadius:"6px",marginTop:"10px"},children:de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#01579b"},children:[" ",de.jsx("strong",{children:":"})," Sampling Round  Lot "]})})}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/03_OQALot.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 4:  Lot "})]}),de.jsx(e3,{title:"  3:  (Sampling Configuration)"}),de.jsx(K4,{steps:[{label:"FVI Lot Qty",description:" Lot (Total quantity in the lot)"},{label:"General Sampling Qty",description:" - "},{label:"Crack Sampling Qty",description:" - "}]}),de.jsx(e3,{title:"  4:  (Lot Judgment)"}),de.jsx(K4,{steps:[{label:"",description:" Sampling Configuration"},{label:"",description:' "PASS" ()   "REJECT" () '},{label:"",description:' "Complete Inspection" '}],children:de.jsx("div",{style:{background:"#fff9c4",padding:"12px",borderRadius:"6px",marginTop:"10px"},children:de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#f57f17"},children:[" ",de.jsx("strong",{children:":"}),'  4  "Complete Inspection"']})})})]}),de.jsxs(Y4,{title:"",children:[de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"16px"},children:"  PASS:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#1b5e20"},children:[de.jsx("li",{children:" SIV Inspection "}),de.jsx("li",{children:' "Yes, Create SIV"  SIV '}),de.jsx("li",{children:' "No, Skip"   SIV Inspection  '})]})]}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",border:"1px solid #ef5350"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"16px"},children:"  REJECT:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#b71c1c"},children:[de.jsx("li",{children:""}),de.jsx("li",{children:"Lot  Reject  Rework"}),de.jsx("li",{children:' Reject  "OQA Sampling Lists"'})]})]})]}),de.jsx(Y4,{title:"",children:de.jsx(X4,{headers:["",""],rows:[[" Sampling Reason ","  OQA Inspection"],[" Lot Number "," Lot Number   Check-in "],[" Complete Inspection "," 4 : Sampling Reason, Lot, Configuration,  Judgment"],[" Sampling Qty "," (System Configuration) "],["",",  (F5),  IT"]]})}),de.jsx(J4,{title:" ?",children:de.jsx("p",{children:" IT"})})]}),a3=()=>de.jsxs(G4,{cardNumber:4,totalCards:10,title:" OBA",subtitle:"OBA Inspection Recording",icon:"",nextLink:"/training/t05",children:[de.jsxs(Y4,{title:" OBA Inspection",children:[de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/04_OBAList.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 1:  OBA Sampling Lists"})]}),de.jsx(K4,{steps:[{label:" 1",description:" Dashboard"},{label:" 2",description:' "Inspection"   "OBA Inspection"'},{label:" 3",description:' "New OBA" '}]}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/04_OBAPage.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 2:   OBA Spteps 1 - 2"})]}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/03_OQAPage2.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 3:   OBA Spteps 3 - 4"})]})]}),de.jsxs(Y4,{title:" OBA (4 )",children:[de.jsx(e3,{title:"  1:  (Sampling Reason)"}),de.jsx(K4,{steps:[{label:"",description:' "Select Sampling Reason" '},{label:"",description:'  "Regular Inspection", "Customer Complaint", "Process Change" '},{label:"",description:' "Select"  - '}],children:de.jsx("div",{style:{background:"#fff3e0",padding:"12px",borderRadius:"6px",marginTop:"10px"},children:de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#e65100"},children:[" ",de.jsx("strong",{children:":"}),'   "Change" ']})})}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/03_OQAReason.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 4: "})]}),de.jsx(e3,{title:"  2:  Lot "}),de.jsx(K4,{steps:[{label:" Lot",description:' Lot Number   "Browse"  Lot'},{label:"",description:" Lot: Part Site, Line No, Item No, Model, Version"},{label:"",description:' "Select"  -  Lot  Sampling Round '}],children:de.jsx("div",{style:{background:"#e1f5fe",padding:"12px",borderRadius:"6px",marginTop:"10px"},children:de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#01579b"},children:[" ",de.jsx("strong",{children:":"})," Sampling Round  Lot "]})})}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/03_OQALot.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 4:  Lot "})]}),de.jsx(e3,{title:"  3:  (Sampling Configuration)"}),de.jsx(K4,{steps:[{label:"FVI Lot Qty",description:" Lot (Total quantity in the lot)"},{label:"General Sampling Qty",description:" - "},{label:"Crack Sampling Qty",description:" - "}]}),de.jsx(e3,{title:"  4:  (Lot Judgment)"}),de.jsx(K4,{steps:[{label:"",description:" Sampling Configuration"},{label:"",description:' "PASS" ()   "REJECT" () '},{label:"",description:' "Complete Inspection" '}],children:de.jsx("div",{style:{background:"#fff9c4",padding:"12px",borderRadius:"6px",marginTop:"10px"},children:de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#f57f17"},children:[" ",de.jsx("strong",{children:":"}),'  4  "Complete Inspection"']})})})]}),de.jsxs(Y4,{title:"",children:[de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"16px"},children:"  PASS:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#1b5e20"},children:[de.jsx("li",{children:" SIV Inspection "}),de.jsx("li",{children:' "Yes, Create SIV"  SIV '}),de.jsx("li",{children:' "No, Skip"   SIV Inspection  '})]})]}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",border:"1px solid #ef5350"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"16px"},children:"  REJECT:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#b71c1c"},children:[de.jsx("li",{children:""}),de.jsx("li",{children:"Lot  Reject  Rework"}),de.jsx("li",{children:' Reject  "OBA Sampling Lists"'})]})]})]}),de.jsx(Y4,{title:"",children:de.jsx(X4,{headers:["",""],rows:[[" Sampling Reason ","  OBA Inspection"],[" Lot Number "," Lot Number   Check-in "],[" Complete Inspection "," 4 : Sampling Reason, Lot, Configuration,  Judgment"],[" Sampling Qty "," (System Configuration) "],["",",  (F5),  IT"]]})}),de.jsx(J4,{title:" ?",children:de.jsx("p",{children:" IT"})})]}),s3=()=>de.jsxs(G4,{cardNumber:5,totalCards:10,title:" SIV",subtitle:"SIV Inspection Recording",icon:"",nextLink:"/training/t06",children:[de.jsx(Y4,{title:" SIV Inspection",children:de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"16px"},children:"  SIV:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#1b5e20"},children:[de.jsx("li",{children:" SIV  OQA  OBA  "}),de.jsx("li",{children:" SIV Inspection  Inspection list  Station OQA  OBA   "})]})]})}),de.jsxs(Y4,{title:" SIV Inspection",children:[de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/05_SIVList.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 1:  SIV Sampling Lists"})]}),de.jsx(K4,{steps:[{label:" 1",description:" Dashboard"},{label:" 2",description:' "Inspection"   "SIV Inspection"'}]}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/05_SIVPage.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 2:   SIV Spteps 1 - 2"})]}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/03_OQAPage2.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 3:   SIV Spteps 3 - 4"})]})]}),de.jsxs(Y4,{title:" SIV (4 )",children:[de.jsx(e3,{title:"  1:  (Sampling Reason)"}),de.jsx(K4,{steps:[{label:"",description:' "Select Sampling Reason" '},{label:"",description:'  "Regular Inspection", "Customer Complaint", "Process Change" '},{label:"",description:' "Select"  - '}],children:de.jsx("div",{style:{background:"#fff3e0",padding:"12px",borderRadius:"6px",marginTop:"10px"},children:de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#e65100"},children:[" ",de.jsx("strong",{children:":"}),'   "Change" ']})})}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/03_SIVReason.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 4: "})]}),de.jsx(e3,{title:"  2:  Lot "}),de.jsx(K4,{steps:[{label:" Lot",description:' Lot Number   "Browse"  Lot'},{label:"",description:" Lot: Part Site, Line No, Item No, Model, Version"},{label:"",description:' "Select"  -  Lot  Sampling Round '}],children:de.jsx("div",{style:{background:"#e1f5fe",padding:"12px",borderRadius:"6px",marginTop:"10px"},children:de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#01579b"},children:[" ",de.jsx("strong",{children:":"})," Sampling Round  Lot "]})})}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/03_SIVLot.png",alt:"Login Screen",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 4:  Lot "})]}),de.jsx(e3,{title:"  3:  (Sampling Configuration)"}),de.jsx(K4,{steps:[{label:"FVI Lot Qty",description:" Lot (Total quantity in the lot)"},{label:"General Sampling Qty",description:" - "},{label:"Crack Sampling Qty",description:" - "}]}),de.jsx(e3,{title:"  4:  (Lot Judgment)"}),de.jsx(K4,{steps:[{label:"",description:" Sampling Configuration"},{label:"",description:' "PASS" ()   "REJECT" () '},{label:"",description:' "Complete Inspection" '}],children:de.jsx("div",{style:{background:"#fff9c4",padding:"12px",borderRadius:"6px",marginTop:"10px"},children:de.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#f57f17"},children:[" ",de.jsx("strong",{children:":"}),'  4  "Complete Inspection"']})})})]}),de.jsx(Y4,{title:"",children:de.jsx(X4,{headers:["",""],rows:[[" Sampling Reason ","  SIV Inspection"],[" Lot Number "," Lot Number   Check-in "],[" Complete Inspection "," 4 : Sampling Reason, Lot, Configuration,  Judgment"],[" Sampling Qty "," (System Configuration) "],["",",  (F5),  IT"]]})}),de.jsx(J4,{title:" ?",children:de.jsx("p",{children:" IT"})})]}),i3=()=>de.jsxs(G4,{cardNumber:6,totalCards:10,title:" Defect",subtitle:"Defect Recording Process",icon:"",nextLink:"/training/t07",children:[de.jsxs(Y4,{title:" Defect",children:[de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"16px"},children:"  Defect ?"}),de.jsx("p",{style:{margin:"10px 0 0 0",color:"#5d4037"},children:" Defect   (FVI Line)"})]}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/06_DefectInput.png",alt:"Defect Input Overview",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 1:  Defect Input"})]})]}),de.jsx(Y4,{title:" Defect Input",children:de.jsx(K4,{steps:[{label:" 1",description:" Dashboard"},{label:" 2",description:' "Inspection"   "Defect Input"'},{label:" 3",description:' OQA/OBA Inspection Lists  "Defect Input" '}]})}),de.jsxs(Y4,{title:" Defect (3 )",children:[de.jsx(e3,{title:"  1:  FVI Line  Station"}),de.jsxs("div",{style:{background:"#e3f2fd",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #90caf9"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#1565c0",fontSize:"15px"},children:"  FVI Line  Shift:"}),de.jsx(K4,{steps:[{label:"",description:" (Date) -  FVI Lines "},{label:"",description:" FVI Line  dropdown -  Lines  Check-in"},{label:"",description:" Shift (A, B, C, etc.) "},{label:"",description:" FVI Station Mapping "}]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:"  Station  FVI Line:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsx("li",{children:" FVI Line"}),de.jsx("li",{children:" (Station Card) "}),de.jsx("li",{children:"  Inspector ID "}),de.jsx("li",{children:" Inspector  Modal "})]})]}),de.jsx(e3,{title:"  2:  Defect"}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:" :"}),de.jsx(X4,{headers:["","",""],rows:[["Tray Number"," Tray  Defect","T001, T002"],["Position on Tray"," Tray (1-20)","1, 2, 3, ..., 20"],["Color Group"," ()","RED, BLUE, GREEN"],["QC Name"," QC "," "],["QC Leader Name"," QC Leader "," "],["MRB Confirm Name"," MRB"," "],["Inspector ID"," ( Station)","INS001, INS002"],["Defect Type"," Defect ( dropdown)","VISUAL, CRACK, DIMENSION"],["Defect"," Defect ( dropdown)","Scratch, Crack, Missing Part"],["Defect Quantity"," Defect ()","1, 2, 3, ..."]]})]}),de.jsx(e3,{title:"  3:  Defect"}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:" :"}),de.jsx(K4,{steps:[{label:" Upload",description:' "Camera"  "Upload" '},{label:"",description:" (Multiple Upload)"},{label:" Preview",description:" Preview  - "},{label:"",description:" image ,  5MB "}]})]}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:' "Save Record"'}),"  Defect"]}),de.jsx("li",{children:" validation "}),de.jsx("li",{children:" validation "}),de.jsx("li",{children:" Defect "})]})]})]}),de.jsxs(Y4,{title:" Defect",children:[de.jsx(e3,{title:"  Defect "}),de.jsxs("div",{style:{background:"#e8eaf6",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #9fa8da"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#283593",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#1a237e"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"}),'  "View Records"  Defect ']}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),'  "Eye"  Defect ']}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),'  "Trash"  Defect ( confirmation dialog)']}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," Timestamp, Tray, Position, Color, QC Names, Defect Type/Defect, Quantity"]})]})]}),de.jsxs("div",{style:{background:"#ffe0b2",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsx("li",{children:" "}),de.jsx("li",{children:"  Defect "}),de.jsx("li",{children:" Defect Type  Defect "}),de.jsx("li",{children:" QC Names "})]})]})]}),de.jsx(Y4,{title:"",children:de.jsx(X4,{headers:["",""],rows:[[" FVI Lines","  Check-in "],[" FVI Station"," Date, Line  Shift  -  2-3 "],[" Inspector ID ","  Modal  Inspector "],[""," image  5MB - "],[" Defect Type  Defect  dropdown"," (System Configuration)  Defect Master Data"],[""," required -  error message "],["","  Admin"],["",",  (F5),  IT"]]})}),de.jsxs(Y4,{title:" (Best Practices)",children:[de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"16px"},children:"  Defect:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  Defect "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"   Defect  - "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"   QC Names  Defect Type/Defect"]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  Save Record"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Position :"}),"  Tray "]})]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"16px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#01579b"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:" FVI Line Mapping:"}),"  Inspector ID "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:" Color Group :"}),"  Color Group "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  Defect  "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Review Records:"}),'  "View Records" ']})]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"16px"},children:"  Defect :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  Trend "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  Management Review"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Traceability:"}),"  Inspector  Defect"]})]})]})]}),de.jsx(J4,{title:" ?",children:de.jsx("p",{children:" IT"})})]}),o3=()=>de.jsxs(G4,{cardNumber:7,totalCards:10,title:" IQA",subtitle:"IQA Data Management Process",icon:"",nextLink:"/training/t08",children:[de.jsxs(Y4,{title:" IQA",children:[de.jsxs("div",{style:{background:"#e3f2fd",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #90caf9"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#1565c0",fontSize:"16px"},children:" IQA Data Management ?"}),de.jsx("p",{style:{margin:"10px 0 0 0",color:"#0d47a1"},children:"IQA (In-line Quality Assurance) Data Management      Defect "})]}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/07_IQA_Overview.png",alt:"IQA Data Management Overview",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 1:  IQA"})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:"  IQA Data Management:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Import Excel Data:"}),"  IQA  Excel"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Filter by FY/WW:"}),"  Fiscal Year  Work Week"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"View Records:"}),"  IQA "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Add Defect Data:"}),"  Defect  IQA"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Export Data:"}),"  Excel"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Delete Records:"}),"  ()"]})]})]})]}),de.jsx(Y4,{title:" IQA Data Management",children:de.jsx(K4,{steps:[{label:" 1",description:" Dashboard"},{label:" 2",description:' "Interface"   "IQA Data"'},{label:" 3",description:" IQA Data Management "}]})}),de.jsxs(Y4,{title:" IQA  Excel",children:[de.jsx(e3,{title:"  Import "}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:"  Excel:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#1b5e20"},children:[de.jsx("li",{children:" Excel  .xlsx  .xls"}),de.jsx("li",{children:"Sheet  Import"}),de.jsx("li",{children:" (33 )"}),de.jsx("li",{children:"FY  WW  Date IQA"})]})]}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:"  Excel ():"}),de.jsxs("div",{style:{fontSize:"13px",color:"#4a148c"},children:[de.jsxs("p",{style:{margin:"5px 0"},children:[de.jsx("strong",{children:"1-7:"})," FW, Date IQA, Shift, Expense, Re Expense, QC Owner, Model"]}),de.jsxs("p",{style:{margin:"5px 0"},children:[de.jsx("strong",{children:"8-14:"})," Item, Telex, Supplier, Description, Location, Qty, Supplier DO"]}),de.jsxs("p",{style:{margin:"5px 0"},children:[de.jsx("strong",{children:"15-21:"})," Remark, PO, SBR, Disposition Code, Receipt Date, Age, Warehouse"]}),de.jsxs("p",{style:{margin:"5px 0"},children:[de.jsx("strong",{children:"22-28:"})," Building, Business Unit, Std Case Qty, LPN, Lot No, Ref Code, Data on Web"]}),de.jsxs("p",{style:{margin:"5px 0"},children:[de.jsx("strong",{children:"29-32:"})," Inspec, Rej, Defect, Vender"]})]})]}),de.jsx(K4,{steps:[{label:" 1",description:' "Import" () '},{label:" 2",description:" Excel  Import "},{label:" 3",description:" -  Import"},{label:" 4",description:'  "Successfully imported X records"'},{label:" 5",description:" Reload  FY/WW "}]}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"})," Excel serial dates  YYYY-MM-DD"]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," Qty, Inspec, Rej, Age, Std Case Qty, LPN  Integer"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"FY/WW:"}),"  Date IQA  Backend"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Null Values:"}),"  null "]})]})]})]}),de.jsxs(Y4,{title:" IQA",children:[de.jsx(e3,{title:"  FY/WW Filters"}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:" FY (Fiscal Year) Filter:"}),de.jsx(K4,{steps:[{label:" FY",description:' dropdown "All FY"  ( 2024, 2025)'},{label:"Auto Filter",description:" FY : (1)  FY (2)  WW dropdown  WW  FY "},{label:"Visual Indicator",description:"dropdown   Filter "}]})]}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:" WW (Work Week) Filter:"}),de.jsx(K4,{steps:[{label:" WW",description:' dropdown "All WW"  ( WW 01, WW 02, ...)'},{label:"Dependent Filter",description:" FY  WW dropdown  WW  FY "},{label:"Combined Filter",description:" FY  WW "}]})]}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:" Clear Filters:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#7f0000"},children:[de.jsx("li",{children:' Filter     "Clear Filters" '}),de.jsx("li",{children:" Filter "}),de.jsx("li",{children:': "Total Records"  "Filtered Records"'})]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:" :"}),de.jsx(X4,{headers:["",""],rows:[["Total Records"," ( Filter)"],["Filtered Records"," Filter ( Filter  Total)"],["Showing X to Y of Z"," X  Y  Z  ( Pagination)"]]})]})]}),de.jsxs(Y4,{title:" IQA",children:[de.jsx(e3,{title:"  IQA Records"}),de.jsxs("div",{style:{background:"#e8eaf6",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #9fa8da"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#283593",fontSize:"15px"},children:"  (14 ):"}),de.jsx(X4,{headers:["",""," Sort "],rows:[["#"," ()",""],["FY","Fiscal Year ()",""],["WW","Work Week ()",""],["Date IQA","",""],["Shift","Shift to Shift",""],["QC Owner"," QC",""],["Model","",""],["Item","",""],["Supplier","",""],["Qty","",""],["Lot No"," Lot",""],["Inspec","",""],["Rej"," Reject",""],["Actions"," (Add Defect, Delete)",""]]})]}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:"  (Sorting):"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:" (Ascending):"}),"  (A-Z, 0-9)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:" (Descending):"}),"  (Z-A, 9-0)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Toggle:"}),"    "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  (Default: )"]})]})]}),de.jsx(e3,{title:" "}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:" :"}),de.jsx(K4,{steps:[{label:"",description:" Trash  Actions  "},{label:"",description:" Checkbox  ( Checkbox )"},{label:"",description:'  "Delete X"   '},{label:"Bulk Delete",description:' : "Successfully deleted X record(s)"'}]})]}),de.jsx(e3,{title:" Pagination ()"}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:"  Pagination:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Items Per Page:"}),"  50 "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Previous/Next:"})," / /"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Page Numbers:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Auto Scroll:"}),"  Scroll "]})]})]})]}),de.jsxs(Y4,{title:" Defect  IQA",children:[de.jsx(e3,{title:"  Defect Modal"}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:"  Defect Modal:"}),de.jsx(K4,{steps:[{label:" 1",description:" IQA  Defect "},{label:" 2",description:' " Exclamation Triangle" ()  Actions'},{label:" 3",description:"Defect Modal   IQA  Defect"}]})]}),de.jsx(e3,{title:" Defect Modal - Split Layout (2 )"}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:" :  Defect"}),de.jsxs("div",{style:{fontSize:"14px",color:"#4a148c"},children:[de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"1. Record Information ( IQA):"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsx("li",{children:": Model, Item, Lot No, Supplier, Qty, Reject"}),de.jsx("li",{children:" "})]}),de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"2. Defect Type Selection *:"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsx("li",{children:" Defect Type  dropdown"}),de.jsx("li",{children:" Defect Types  Active "}),de.jsx("li",{children:" Defects "}),de.jsx("li",{children:"  Description  Defect Type ()"})]}),de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"3. Defect Description (Optional):"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsx("li",{children:" (Textarea)  Defect"}),de.jsx("li",{children:""})]}),de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"4. Defect Images * ():"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsx("li",{children:' "Upload Images" '}),de.jsx("li",{children:" (Multiple Upload)"}),de.jsx("li",{children:" Preview  (Grid 3 )"}),de.jsx("li",{children:" X "})]}),de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:'5.  "Add Defect" (- Gradient):'}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsx("li",{children:" Defect"}),de.jsx("li",{children:" Disable :    Defect Type"}),de.jsx("li",{children:" Loading spinner "})]})]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:" : Previously Saved Defects ( Defect )"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#01579b"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Auto Load:"}),"  Modal  Defect  IQA "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," #, Defect ID, Description, Image (Thumbnail)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Scrollable:"}),"  600px,  Sticky Header"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Real-time Update:"}),"  Defect  "]})]})]}),de.jsx(e3,{title:"  Defect "}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#1b5e20"},children:[de.jsx("li",{children:' Success Message : "Successfully uploaded X defect image(s)! You can add more or close this window."'}),de.jsx("li",{children:": Defect Type, Description, Images "}),de.jsx("li",{children:" Defect "}),de.jsx("li",{children:" Defect   Modal"}),de.jsx("li",{children:"Success Message  5 "})]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:"  Validate :"}),de.jsx(X4,{headers:["",""],rows:[[" Defect Type",'"Please select a defect type"'],[" 1 ",'"Please upload at least one defect image"'],["Record  ID",'"No record selected"']]})]})]}),de.jsxs(Y4,{title:" IQA",children:[de.jsx(e3,{title:" Export to Excel"}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:"  Export:"}),de.jsx(K4,{steps:[{label:" 1",description:" Export  FY/WW Filters ()"},{label:" 2",description:' "Export" () '},{label:" 3",description:" Excel "},{label:" 4",description:": IQA_Data_YYYY-MM-DD-HH-mm.xlsx ( Timestamp)"}]})]}),de.jsxs("div",{style:{background:"#e3f2fd",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #90caf9"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#1565c0",fontSize:"15px"},children:"  Export:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#0d47a1"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  Filter (Filtered Records)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," 34  ( #, FY, WW, )"]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," .xlsx (Excel 2007+)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Sheet Name:"}),' "IQA Data"']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Header Row:"})," "]})]})]})]}),de.jsx(Y4,{title:"",children:de.jsx(X4,{headers:["",""],rows:[["Import Excel "," .xlsx/.xls,  32 ,  (, )"],["FY/WW Filter "," IQA   Date IQA  -  Reload  (F5)"],["WW dropdown "," FY  WW  FY  -  FY  "],[" IQA"," Filter  -  Clear Filters"],[" Defect Modal "," IQA  ID - "],[" Defect Types  Modal"," Defect Master Data  Active  -  Admin"],[" Modal "," (JPG, PNG, etc.),  5MB - "],[" Defect "," Defect Type  1  -  Error Message"],[" Saved Defects "," IQA  Defect Data -  Defect "],["Export "," (Filtered Records > 0) - "],[""," -  Error Message -  Admin"],["Pagination "," (F5) - "]]})}),de.jsxs(Y4,{title:" (Best Practices)",children:[de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"16px"},children:"  IQA :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Import :"})," Import  IQA  ( )"]}),de.jsxs("li",{children:[de.jsx("strong",{children:" Import:"}),"  Excel  Import"]}),de.jsxs("li",{children:[de.jsx("strong",{children:" FY/WW Filters:"}),"  "]}),de.jsxs("li",{children:[de.jsx("strong",{children:" Defect :"}),"  Defect  IQA "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Review :"}),"  Saved Defects  Modal"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Export :"})," Export  Excel "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," "]})]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"16px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#01579b"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Sorting:"}),"  Sorting  Rej   Model/Supplier"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Bulk Delete:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Multiple Defects:"}),"  Defect  1 IQA Record "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Image Quality:"}),"   5MB "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Description:"}),"  Description "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Pagination:"}),"   Filter "]})]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"16px"},children:"  IQA:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Centralized Data:"}),"  IQA  "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Defect Tracking:"}),"  Defect  "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Quality Analysis:"}),"  "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Reporting:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Traceability:"}),"  (Lot, Supplier, Date)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Continuous Improvement:"})," "]})]})]})]}),de.jsxs(J4,{title:" ?",children:[de.jsx("p",{children:" IT"}),de.jsx("p",{style:{marginTop:"10px"},children:" Training"})]})]}),l3=()=>de.jsxs(G4,{cardNumber:10,totalCards:10,title:" Customer-Site Master Data",subtitle:"Customer-Site Master Data Management",icon:"",nextLink:"/training",children:[de.jsxs(Y4,{title:" Customer-Site Master Data",children:[de.jsxs("div",{style:{background:"#e3f2fd",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #90caf9"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#1565c0",fontSize:"16px"},children:" Customer-Site Master Data ?"}),de.jsx("p",{style:{margin:"10px 0 0 0",color:"#0d47a1"},children:"Customer-Site Master Data  Customer ()  Site (/) "})]}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/10_CustomerSite_Overview.png",alt:"Customer-Site Master Data Overview",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 1:  Customer-Site Master Data"})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Create:"}),"  Customer-Site  (Insert)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Update:"}),"  Customer-Site "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Delete:"}),"  Customer-Site "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Toggle Status:"}),"  Active/Inactive"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Search & Filter:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Bulk Operations:"})," "]})]})]}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:"  Customer-Site:"}),de.jsx(X4,{headers:["","","","Required"],rows:[["Customer Code","Dropdown (Select)","  Customer Master Data",""],["Site Code","Dropdown (Select)","  System Configuration",""],["Code","Text (Auto)"," Customer-Site ()",""],["Is Active","Checkbox"," (Active/Inactive)",""]]})]})]}),de.jsx(Y4,{title:" Customer-Site Management",children:de.jsx(K4,{steps:[{label:" 1",description:" Dashboard"},{label:" 2",description:' "Master Data"   "Customer-Site"'},{label:" 3",description:" Customer-Site Management "}]})}),de.jsx(Y4,{title:" (Page Layout)",children:de.jsxs("div",{style:{background:"#e8eaf6",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #9fa8da"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#283593",fontSize:"15px"},children:"  (3 ):"}),de.jsxs("div",{style:{fontSize:"14px",color:"#1a237e",lineHeight:"1.8"},children:[de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"1. Header Section ():"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Breadcrumb:"})," Master Data  Customer-Sites"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Title:"}),' "Customer-Site Management"  ']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Statistics:"})," Total, Active, Inactive counts"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Action Buttons:"})," Export, Import ()"]})]}),de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"2. Embedded Form Section ():"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Form Title:"}),' " Customer-Site Information"']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Form Fields:"})," Customer Code, Site Code, Code, Is Active (4-column layout)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Action Buttons:"})," Create/Update, Clear"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Mode Indicator:"}),' "Adding new"  "Editing: ',code,'"']})]}),de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"3. Data Table Section ():"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Search Bar:"}),"  code, customer, site, names"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Status Filter:"})," All / Active / Inactive"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Data Table:"}),"  Customer-Site "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Pagination:"}),"  (20 items per page)"]})]})]})]})}),de.jsxs(Y4,{title:" Customer-Site  (CREATE / INSERT)",children:[de.jsx(e3,{title:" "}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:" Step-by-Step  Customer-Site :"}),de.jsx(K4,{steps:[{label:" 1",description:' "Adding new customer-site" ()'},{label:" 2",description:" Customer Code  dropdown ( Active)"},{label:" 3",description:" Site Code  dropdown ( Site  System Configuration)"},{label:" 4",description:' "Code"  {customer_code}_{site_code} (readonly)'},{label:" 5",description:' "Is Active"  Customer-Site  Active  (default: checked)'},{label:" 6",description:' "Create Customer-Site" '},{label:" 7",description:" validate :  Customer Code + Site Code "},{label:" 8",description:"  Success message  reload  + "}]})]}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Auto-generate Code:"}),' Code = customer_code + "_" + site_code ( "CUST001_SITE01")']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Validation:"}),"  Code "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Default Active:"})," Is Active = true (checked) "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Real-time Feedback:"}),"  validation errors  ()"]})]})]}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:" Validation Rules ( Validate):"}),de.jsx(X4,{headers:["","",""],rows:[["Customer Code","Required",'"Customer code is required"'],["Site Code","Required",'"Site code is required"'],["Code","Unique, Max 10 chars",'"Customer-site code already exists"'],["Combination","Unique (customer + site)",'"This customer-site combination already exists"']]})]})]}),de.jsxs(Y4,{title:" (READ / VIEW)",children:[de.jsx(e3,{title:" Data Table -  Customer-Site"}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:"  (5 ):"}),de.jsx(X4,{headers:["","","","Sortable"],rows:[["Customer","","Badge  (bg-blue-100)",""],["Customer Name","","Text ",""],["Site","","Badge  (bg-green-100)",""],["Code"," Customer-Site","Badge  (bg-purple-100)",""],["Status"," Active/Inactive","Badge /",""]]})]}),de.jsx(e3,{title:" Search & Filter ()"}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:" Search Bar - :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#4a148c"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Placeholder:"}),' "Search by code, customer, site, or names..."']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Searchable Fields:"})," Code (weight: 4), Customer Code (weight: 3), Site Code (weight: 3), Customer Name (weight: 1)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Debounce:"})," 300ms ( 0.3  )"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Min Length:"})," 1 "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Case Insensitive:"})," /"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Highlighting:"})," "]})]})]}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:" Status Filter - :"}),de.jsx(X4,{headers:["","",""],rows:[["All Customer-Sites",""," Active  Inactive "],["Active ",""," is_active = true"],["Inactive ",""," is_active = false"]]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:" Sorting ():"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  (Customer, Site, Code, Status)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:" Ascending:"}),"  (A-Z, 0-9, false-true)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:" Descending:"}),"  (Z-A, 9-0, true-false)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Toggle:"})," "]})]})]}),de.jsx(e3,{title:" Pagination ()"}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:"  Pagination:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Items Per Page:"})," 20  (default)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Navigation:"}),"  (Previous / Next) "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Info Display:"}),' "Showing X to Y of Z customer-sites"']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Auto Scroll:"})," "]})]})]})]}),de.jsxs(Y4,{title:" Customer-Site (UPDATE / EDIT)",children:[de.jsx(e3,{title:" "}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:" Step-by-Step  Customer-Site:"}),de.jsx(K4,{steps:[{label:" 1",description:" Customer-Site  ( Search  Filter)"},{label:" 2",description:' "Edit" ()  Actions'},{label:" 3",description:' "Editing"  Code  ()'},{label:" 4",description:""},{label:" 5",description:": Customer Code, Site Code,  Is Active"},{label:" 6",description:' :  "Code"  (readonly)'},{label:" 7",description:' "Update Customer-Site" '},{label:" 8",description:'  Success message, reload ,  "Adding new"'}]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:"  Cancel Edit ():"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#01579b"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:' "Clear":'}),'  "Adding new"']}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," "]})]})]}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#7f0000"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Code :"}),"  Code "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  Customer  Site "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Validation :"}),"  Customer-Site combination "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  race condition"]})]})]})]}),de.jsxs(Y4,{title:" Customer-Site (DELETE)",children:[de.jsx(e3,{title:" "}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:" Step-by-Step  Customer-Site:"}),de.jsx(K4,{steps:[{label:" 1",description:" Customer-Site "},{label:" 2",description:' "Delete" ()  Actions'},{label:" 3",description:' Confirmation Dialog : "Are you sure you want to delete this customer-site?"'},{label:" 4",description:' "Confirm"   "Cancel" '},{label:" 5",description:" "},{label:" 6",description:' Success message: "Customer-site deleted successfully"'},{label:" 7",description:"Reload  (Total, Active, Inactive)"}]})]}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  (Permanent Delete)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  Customer-Site "]}),de.jsxs("li",{children:[de.jsx("strong",{children:" Inactive  Delete:"}),"  Toggle Status  Inactive "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Foreign Key Constraints:"}),"  FK constraints  Error"]})]})]}),de.jsxs("div",{style:{background:"#e3f2fd",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #90caf9"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#1565c0",fontSize:"15px"},children:" Best Practice -  Inactive  Delete:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#0d47a1"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:" History:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:" Data Loss:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:" Reactivate:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," Soft Delete  Best Practice  Enterprise Systems"]})]})]})]}),de.jsxs(Y4,{title:" (TOGGLE STATUS)",children:[de.jsx(e3,{title:"  Active/Inactive"}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:"  ():"}),de.jsx(K4,{steps:[{label:" 1",description:" Customer-Site "},{label:" 2",description:' "Toggle Status" (/)  Actions'},{label:" 3",description:' Confirmation Dialog: "Toggle status for this customer-site?"'},{label:" 4",description:' "Confirm"  (Active  Inactive)'},{label:" 5",description:" Success message  reload "},{label:" 6",description:"Status badge : Active ()  Inactive ()"}]})]}),de.jsx(e3,{title:" Bulk Status Toggle ()"}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:" :"}),de.jsx(K4,{steps:[{label:" 1",description:" Checkbox  Customer-Site "},{label:" 2",description:" Checkbox "},{label:" 3",description:'  "Toggle Status (X selected)" '},{label:" 4",description:' "Toggle Status"  '},{label:" 5",description:""},{label:" 6",description:': "Successfully toggled status for X customer-site(s)"'}]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:"  Toggle Status:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  is_active (true  false)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Instant Effect:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Reversible:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Filter Integration:"}),"  Status Filter  Active/Inactive "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Statistics Update:"}),"  (Active/Inactive counts) "]})]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:" Use Cases  Toggle Status:"}),de.jsx(X4,{headers:["",""],rows:[["","Toggle  Inactive "],[" Site ","Toggle  Active "],[" Customer-Site  Active","Bulk Toggle  Inactive"],["Testing/Maintenance","Toggle  Inactive  maintenance"]]})]})]}),de.jsx(Y4,{title:"",children:de.jsx(X4,{headers:["",""],rows:[[" Customer-Site ",": (1)  Customer  Site  (2) Code  (3) Combination "],["Customer  Site dropdown "," Customer Master Data  Site Configuration "],["",": (1)  (2) Customer-Site  (3)  Validation Error"],[""," Customer-Site  -  Toggle Status "],["Search ",": (1)  (2) Status Filter (All/Active/Inactive) (3) "],["Toggle Status "," -  (F5) -  Admin"],["Bulk Toggle "," Error Message -  constraints - "],["Code "," Customer Code  Site Code  - "],[""," Status Filter -  Search -  (F5)"],[" Create/Update Disabled"," Required fields  (Customer Code, Site Code)"]]})}),de.jsxs(Y4,{title:" (Best Practices)",children:[de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"16px"},children:"  Master Data :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:" Naming Convention:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  Customer-Site "]}),de.jsxs("li",{children:[de.jsx("strong",{children:" Inactive  Delete:"}),"  history"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Bulk Operations:"}),"  Bulk Toggle "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Regular Review:"}),"   Inactive "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Documentation:"})," "]})]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"16px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#01579b"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Search :"}),"  Search bar "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Filter :"}),"  Status Filter  Active/Inactive"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Sort :"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Keyboard Shortcuts:"}),"  Tab "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Clear Form:"}),"  Clear "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Check Validation:"}),"  Validation Errors "]})]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"16px"},children:"  Customer-Site Master Data :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Data Accuracy:"}),"   "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Operational Efficiency:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Reporting:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Integration:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Compliance:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Scalability:"})," "]})]})]})]}),de.jsxs(Y4,{title:"Dashboard  (Statistics)",children:[de.jsxs("div",{style:{background:"#e8eaf6",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #9fa8da"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#283593",fontSize:"15px"},children:" :"}),de.jsx(X4,{headers:["","",""],rows:[["Total"," Customer-Site "," Active  Inactive"],["Active"," Customer-Site "," is_active = true"],["Inactive"," Customer-Site "," is_active = false"]]})]}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Overview:"}),"  Customer-Site "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Health Check:"}),"  Active/Inactive"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Quick Filter:"}),"  ()"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Real-time Update:"})," "]})]})]})]}),de.jsxs(J4,{title:" ?",children:[de.jsx("p",{children:" IT"}),de.jsx("p",{style:{marginTop:"10px"},children:" Training"}),de.jsx("p",{style:{marginTop:"10px",fontWeight:"bold"},children:" Master Data  :"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsx("li",{children:"Customer Master Data"}),de.jsx("li",{children:"Site Configuration"}),de.jsx("li",{children:"Defect Master Data"}),de.jsx("li",{children:"Inspection Configuration"})]})]})]}),c3=()=>de.jsxs(G4,{cardNumber:11,totalCards:10,title:" Customers Master Data",subtitle:"Customers Master Data Management",icon:"",nextLink:"/training",children:[de.jsxs(Y4,{title:" Customers Master Data",children:[de.jsxs("div",{style:{background:"#e3f2fd",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #90caf9"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#1565c0",fontSize:"16px"},children:" Customers Master Data ?"}),de.jsx("p",{style:{margin:"10px 0 0 0",color:"#0d47a1"},children:"Customers Master Data      "})]}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/11_Customers_Overview.png",alt:"Customers Master Data Overview",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 1:  Customers Master Data"})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Create:"}),"  (Insert)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Read:"}),"  (View/Search)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Update:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Delete:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Toggle Status:"}),"  Active/Inactive"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Bulk Operations:"})," "]})]})]}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:"  Customer:"}),de.jsx(X4,{headers:["","","","Required","Validation"],rows:[["Code","Text (VARCHAR 5)"," (Primary Key)","","1-5 chars, A-Z, 0-9"],["Name","Text (VARCHAR 100)","","","1-100 characters"],["Is Active","Checkbox (Boolean)","","","true/false"]]})]}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:"  Customer Code:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Length:"})," 1-5  ( 1,  5)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Format:"}),"  (A-Z)  (0-9) "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Examples:"})," CUS01, MAIN, CORP, ABC, 12345"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Invalid:"})," cus01 (lowercase), CUS-01 (special chars), TOLONG ( 5 )"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Unique:"}),"  (Primary Key)"]})]})]})]}),de.jsxs(Y4,{title:" Customers Management",children:[de.jsx(K4,{steps:[{label:" 1",description:" Dashboard"},{label:" 2",description:' "Master Data"   "Customers"'},{label:" 3",description:" Customers Management "}]}),de.jsxs("div",{style:{background:"#e8eaf6",padding:"15px",borderRadius:"8px",marginTop:"15px",border:"1px solid #9fa8da"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#283593",fontSize:"15px"},children:" Breadcrumb Navigation:"}),de.jsx("div",{style:{padding:"10px",background:"white",borderRadius:"5px",fontFamily:"monospace",color:"#424242"},children:"Home  Master Data  Customers"})]})]}),de.jsx(Y4,{title:" (Page Layout)",children:de.jsxs("div",{style:{background:"#e8eaf6",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #9fa8da"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#283593",fontSize:"15px"},children:"  (3 ):"}),de.jsxs("div",{style:{fontSize:"14px",color:"#1a237e",lineHeight:"1.8"},children:[de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"1. Header Section ():"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Breadcrumb:"})," Home  Master Data  Customers"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Title:"}),' "Customer Management"  ']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Statistics Cards:"})," Total, Active, Inactive counts ()"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Action Buttons:"})," Export, Import ()"]})]}),de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"2. Form Section ():"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Mode Indicator:"}),' "Adding new customer" ()  "Editing: code" ()']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Customer Code Field:"})," Text input (uppercase, alphanumeric, 1-5 chars)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Customer Name Field:"})," Text input (any text, 1-100 chars)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Is Active Checkbox:"})," Toggle Active/Inactive (default: checked)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Action Buttons:"})," Create/Update (/), Clear ()"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Validation Messages:"})," Real-time error display"]})]}),de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"3. Data Table Section ():"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Search Bar:"}),"  Customer Code  Name"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Status Filter Tabs:"})," All Customers / Active / Inactive"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Data Table:"}),"  Code, Name, Status, Actions (Edit, Delete, Toggle)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Bulk Selection:"})," Checkbox "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Pagination:"})," "]})]})]})]})}),de.jsxs(Y4,{title:" (CREATE / INSERT)",children:[de.jsx(e3,{title:" "}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:" Step-by-Step :"}),de.jsx(K4,{steps:[{label:" 1",description:' "Adding new customer" ()'},{label:" 2",description:' "Customer Code":  1-5  ( CUS01, MAIN)'},{label:" 3",description:' "Customer Name":  1-100  ( Main Customer Corp)'},{label:" 4",description:' "Is Active"  Active  (default: checked)'},{label:" 5",description:" validate  Real-time:   ()   ()  error message"},{label:" 6",description:' "Create Customer"  ( disable  validation errors)'},{label:" 7",description:" validate :  Code  "},{label:" 8",description:":  Success toast, reload , , "}]})]}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:" Real-time Validation ( Validate ):"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  ( Submit)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"   (),   ()"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Error Message:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Button State:"}),"  Create  disable  errors  required "]})]})]}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:" Validation Rules ( Validate):"}),de.jsx(X4,{headers:["","",""],rows:[["Customer Code","Required",'"Customer code is required"'],["Customer Code","Min 1 char",'"Customer code must be at least 1 character"'],["Customer Code","Max 5 chars",'"Customer code must not exceed 5 characters"'],["Customer Code","Pattern: ^[A-Z0-9]+$",'"Customer code must contain only uppercase letters and numbers (1-5 characters)"'],["Customer Code","Unique",'"Customer code already exists"'],["Customer Name","Required",'"Customer name is required"'],["Customer Name","Min 1 char",'"Customer name must be at least 1 character"'],["Customer Name","Max 100 chars",'"Customer name must not exceed 100 characters"']]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:"  Customer Codes :"}),de.jsx(X4,{headers:["Customer Code","Customer Name","Valid?",""],rows:[["CUS01","Customer One Corp","",": 5 chars, uppercase + number"],["MAIN","Main Customer","",": 4 chars, uppercase only"],["A","Customer A","",": 1 char, uppercase"],["12345","Numeric Customer","",": 5 chars, numbers only"],["ABC","ABC Manufacturing","",": 3 chars, uppercase"],["cus01","Customer One","",":  ( CUS01)"],["CUS-01","Customer Dash","",":  special character (-)"],["TOOLONG","Too Long Name","",":  5 "],["","Empty Code","",":  Code"]]})]})]}),de.jsxs(Y4,{title:" (READ / VIEW)",children:[de.jsx(e3,{title:" Data Table - "}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:" :"}),de.jsx(X4,{headers:["","","","Sortable"],rows:[["#",""," (1, 2, 3, ...)",""],["Code","","Badge  (bg-blue-100)",""],["Name","","Text  (font-medium)",""],["Status"," Active/Inactive","Badge /",""],["Actions","","Edit (), Delete (), Toggle ()",""]]})]}),de.jsx(e3,{title:" Search & Filter ()"}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:" Search Bar - :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#4a148c"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Placeholder:"}),' "Search customers by code or name..."']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Searchable Fields:"})," Customer Code (weight: 1.0), Customer Name (weight: 0.8)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Weighted Search:"}),"  Code  Name"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Debounce:"})," 300ms ( 0.3  )"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Min Length:"})," 1  ()"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Case Insensitive:"})," / (CUS = cus = Cus)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Highlighting:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Max Results:"}),"  100 "]})]})]}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:" Status Filter Tabs - :"}),de.jsx(X4,{headers:["Tab","","",""],rows:[["All Customers","",""," Active  Inactive"],["Active Customers","",""," is_active = true"],["Inactive Customers","",""," is_active = false"]]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:" Sorting ():"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"})," Code, Name,  Status "]}),de.jsxs("li",{children:[de.jsx("strong",{children:" Ascending:"})," A  Z, 0  9, false  true"]}),de.jsxs("li",{children:[de.jsx("strong",{children:" Descending:"})," Z  A, 9  0, true  false"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Toggle:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Visual Indicator:"})," "]})]})]}),de.jsx(e3,{title:" Pagination ()"}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:"  Pagination:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Items Per Page:"}),"  (default: 20 items)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Page Numbers:"}),"  (1, 2, 3, ...)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Previous/Next:"}),"     "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Current Page:"}),"  (highlighted)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Info Display:"}),' "Showing X to Y of Z customers"']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Auto Scroll:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Disabled State:"}),"  disable /"]})]})]})]}),de.jsxs(Y4,{title:" (UPDATE / EDIT)",children:[de.jsx(e3,{title:" "}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:" Step-by-Step :"}),de.jsx(K4,{steps:[{label:" 1",description:" ( Search  Filter)"},{label:" 2",description:' "Edit" ()  Actions'},{label:" 3",description:' "Editing"  Code  ()'},{label:" 4",description:": Code (readonly), Name, Is Active"},{label:" 5",description:": Customer Name  Is Active"},{label:" 6",description:' :  "Customer Code"  (readonly)'},{label:" 7",description:" validate  Real-time:  /  error messages"},{label:" 8",description:' "Update Customer" '},{label:" 9",description:':  Success toast, reload ,  "Adding new"'}]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:"  Cancel Edit ():"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#01579b"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:' "Clear":'}),'  "Adding new"']}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Mode Change:"}),"  (Editing)  (Adding new)"]})]})]}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#7f0000"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Code :"}),"  Code "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  Name  "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Validation :"})," Name  1-100 characters"]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  Customer "]})]})]}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:"  Edit:"}),de.jsx(X4,{headers:["",""],rows:[["","Edit   Name  Update"],["","Edit   Name  Update"],[""," Toggle Status  Edit   Is Active  Update"],[" Code","   "]]})]})]}),de.jsxs(Y4,{title:" (DELETE)",children:[de.jsx(e3,{title:" "}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:" Step-by-Step :"}),de.jsx(K4,{steps:[{label:" 1",description:""},{label:" 2",description:' "Delete" ()  Actions'},{label:" 3",description:' Confirmation Dialog : "Are you sure you want to delete customer {code}?"'},{label:" 4",description:": Code  Name"},{label:" 5",description:' "Confirm"   "Cancel" '},{label:" 6",description:"  (Permanent Delete)"},{label:" 7",description:' Success toast: "Customer deleted successfully"'},{label:" 8",description:"Reload  (Total, Active, Inactive)"}]})]}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  (Permanent Delete)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:" Foreign Key:"}),"  Customer  "]}),de.jsxs("li",{children:[de.jsx("strong",{children:" FK:"})," Customer-Site, Production Orders, Shipments, Invoices"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Error Message:"}),' "Cannot delete customer: referenced by other records"']}),de.jsxs("li",{children:[de.jsx("strong",{children:" Inactive:"}),"  Toggle Status  Inactive "]})]})]}),de.jsxs("div",{style:{background:"#e3f2fd",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #90caf9"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#1565c0",fontSize:"15px"},children:" Best Practice -  Inactive  Delete:"}),de.jsx(X4,{headers:["Delete","vs","Inactive"],rows:[["","",""],["",""," Reactivate "],[" FK error",""," FK"],[" History",""," History "],[": ","",": "]]})]})]}),de.jsxs(Y4,{title:" (TOGGLE STATUS)",children:[de.jsx(e3,{title:"  Active/Inactive"}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:"  ():"}),de.jsx(K4,{steps:[{label:" 1",description:""},{label:" 2",description:' "Toggle Status" (/)  Actions'},{label:" 3",description:' Confirmation Dialog: "Toggle status for customer {code}?"'},{label:" 4",description:' "Confirm"  (Active  Inactive)'},{label:" 5",description:' Success toast: "Customer status updated successfully"'},{label:" 6",description:"Status badge : Active ()  Inactive ()"},{label:" 7",description:" (Active/Inactive counts)"}]})]}),de.jsx(e3,{title:" Bulk Status Toggle ()"}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:" :"}),de.jsx(K4,{steps:[{label:" 1",description:" Checkbox "},{label:" 2",description:" Checkbox  (Select All)"},{label:" 3",description:'  "Toggle Status (X selected)" '},{label:" 4",description:' ( "Toggle Status (5 selected)")'},{label:" 5",description:' "Toggle Status"  '},{label:" 6",description:" (Sequential processing)"},{label:" 7",description:': "Successfully toggled status for X customer(s)"'},{label:" 8",description:"Reload ,  (Clear selection)"}]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:"  Toggle Status:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  is_active (true  false)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Instant Effect:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Reversible:"}),"  (Toggle)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"System Impact:"})," Inactive customers  dropdown/selection lists"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Reporting:"}),"  Active/Inactive"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Audit Trail:"}),"  timestamp "]})]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:" Use Cases  Toggle Status:"}),de.jsx(X4,{headers:["",""],rows:[["","Toggle  Inactive "],["","Toggle  Active "],[" Active (Bulk)","Select   Bulk Toggle  Inactive"],["Testing/Maintenance","Toggle  Inactive  maintenance"],["End of Contract","Toggle  Inactive  ( history)"]]})]})]}),de.jsxs(Y4,{title:"Dashboard  (Statistics)",children:[de.jsxs("div",{style:{background:"#e8eaf6",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #9fa8da"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#283593",fontSize:"15px"},children:"  (3 Cards):"}),de.jsx(X4,{headers:["","","",""],rows:[["Total"," (Active + Inactive)","",""],["Active"," (is_active = true)","",""],["Inactive"," (is_active = false)","",""]]})]}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Overview:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Health Check:"}),"  Active/Inactive"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Quick Filter:"}),"  Card () "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Real-time Update:"}),"  (Create, Delete, Toggle)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Visual Indicators:"})," "]})]})]})]}),de.jsx(Y4,{title:"",children:de.jsx(X4,{headers:["",""],rows:[["",": (1) Code  (2) Code 1-5 chars (3) Code  (4) Name 1-100 chars"],["Code  Validation",": Code  A-Z  0-9 , ,  special characters"],["",": (1)  (2) Customer  (3) Name validation "],[" Code","Code  Primary Key  - "],[" (FK Error)"," Customer  -  Toggle Status  Inactive "],["Search ",": (1)  (2) Status Filter (All/Active/Inactive) (3) Case-insensitive"],["Toggle Status "," -  (F5) -  Console errors -  Admin"],["Bulk Toggle "," Error Message -  - "],[""," (F5) -  API response - Clear cache -  Admin"],["",": (1) Status Filter (2) Search query (3) Pagination (4) "],[" Create Disabled"," Code  Name   Validation "],["Real-time Validation "," (F5) -  Browser Cache -  Incognito mode"]]})}),de.jsxs(Y4,{title:" (Best Practices)",children:[de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"16px"},children:"  Customers Master Data :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Code Naming Convention:"}),"   CUS01, CUS02, ...  A, B, C, ..."]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," Search  Customer Code "]}),de.jsxs("li",{children:[de.jsx("strong",{children:" Inactive  Delete:"}),"  history  FK errors"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Name Standards:"}),'  ( "ABC Manufacturing Co., Ltd.")']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Regular Review:"}),"  Inactive "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Bulk Operations:"}),"  Bulk Toggle "]})]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"16px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#01579b"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Real-time Validation:"}),"  Validation errors "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Search Efficiently:"}),"  Code  Name (/)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Use Status Filter:"}),"  Active/Inactive "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Keyboard Shortcuts:"})," Tab , Enter  Submit"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Clear Form:"}),"  Clear "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Pagination:"})," "]})]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"16px"},children:"  Customers Master Data :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Data Accuracy:"}),"   "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Operational Efficiency:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Integration:"}),"  (Production, Shipping, Billing)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Reporting:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Customer Service:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Compliance:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Scalability:"})," "]})]})]})]}),de.jsxs(J4,{title:" ?",children:[de.jsx("p",{children:" IT"}),de.jsx("p",{style:{marginTop:"10px"},children:" Training"}),de.jsx("p",{style:{marginTop:"10px",fontWeight:"bold"},children:"Master Data :"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsx("li",{children:"Customer-Site ( Customer  Site)"}),de.jsx("li",{children:"Site Configuration ( Site/)"}),de.jsx("li",{children:"Production Orders ()"}),de.jsx("li",{children:"Shipments ()"})]})]})]}),d3=()=>de.jsxs(G4,{cardNumber:12,totalCards:10,title:" Defects Master Data",subtitle:"Defects Master Data Management",icon:"",nextLink:"/training",children:[de.jsxs(Y4,{title:" Defects Master Data",children:[de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"16px"},children:" Defects Master Data ?"}),de.jsx("p",{style:{margin:"10px 0 0 0",color:"#5d4037"},children:"Defects Master Data  Defect ()   "})]}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/12_Defects_Overview.png",alt:"Defects Master Data Overview",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 1:  Defects Master Data"})]}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#7f0000"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Create:"}),"  Defect  (Insert)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Read:"}),"  Defects (View/Search)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Update:"}),"  Defect "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Delete:"}),"  Defect "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Toggle Status:"}),"  Active/Inactive"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Defect Group Filter:"}),"  Defect Group"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Bulk Operations:"})," "]})]})]}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:"  Defect:"}),de.jsx(X4,{headers:["","","","Required","Validation"],rows:[["ID","SERIAL (Integer)"," Defect (Auto-generated)","","Auto-increment (1-2147483647)"],["Name","Text (VARCHAR 100)"," Defect","","3-100 chars, alphanumeric + punctuation"],["Description","Text (VARCHAR 1000)"," Defect","","0-1000 characters (optional)"],["Defect Group","Text (VARCHAR 100)"," Defect","","Select or custom input"],["Is Active","Checkbox (Boolean)","","","true/false (default: true)"]]})]}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:"  Defects:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Auto-generated ID:"}),"  ID  (SERIAL)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Defect Group Dropdown:"}),"  Defect Group "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Flexible Group Input:"}),"  Group  dropdown "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Pattern Validation:"})," Name  letters, numbers, spaces,  punctuation"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Group Auto-load:"}),"  Defect Groups  dropdown"]})]})]})]}),de.jsxs(Y4,{title:" Defects Management",children:[de.jsx(K4,{steps:[{label:" 1",description:" Dashboard"},{label:" 2",description:' "Master Data"   "Defects"'},{label:" 3",description:" Defects Management  Defects "}]}),de.jsxs("div",{style:{background:"#e8eaf6",padding:"15px",borderRadius:"8px",marginTop:"15px",border:"1px solid #9fa8da"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#283593",fontSize:"15px"},children:" Breadcrumb Navigation:"}),de.jsx("div",{style:{padding:"10px",background:"white",borderRadius:"5px",fontFamily:"monospace",color:"#424242"},children:"Home  Master Data  Defects"})]})]}),de.jsx(Y4,{title:" (Page Layout)",children:de.jsxs("div",{style:{background:"#e8eaf6",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #9fa8da"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#283593",fontSize:"15px"},children:"  (4 ):"}),de.jsxs("div",{style:{fontSize:"14px",color:"#1a237e",lineHeight:"1.8"},children:[de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"1. Header Section ():"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Breadcrumb:"})," Home  Master Data  Defects"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Title:"}),' "Defect Management"  ']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Statistics Cards:"})," Total, Active, Inactive counts (- theme)"]})]}),de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"2. Defect Group Filter (  Header):"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Dropdown:"}),' "All Groups"  Defect Group ']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Dynamic Options:"}),"  Groups "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Debug Info:"}),"  Groups  Group "]})]}),de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"3. Form Section ():"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Mode Indicator:"}),' "Adding new defect" ()  "Editing: ',name,'" ()']}),de.jsxs("li",{children:[de.jsx("strong",{children:"ID Field:"})," Auto-generated (readonly, )"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Name Field:"})," Text input (3-100 chars, pattern validation)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Description Field:"})," Textarea (0-1000 chars, optional)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Defect Group Field:"})," Dropdown  Text input ( /+)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Is Active Checkbox:"})," Toggle Active/Inactive (default: checked)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Action Buttons:"})," Create/Update (), Clear ()"]})]}),de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:"4. Data Table Section ():"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Search Bar:"}),"  ID, Name, Description, Defect Group"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Status Filter Tabs:"})," All Defects / Active / Inactive"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Data Table:"}),"  ID, Name, Description, Defect Group, Status, Actions"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Bulk Selection:"})," Checkbox "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Pagination:"})," "]})]})]})]})}),de.jsxs(Y4,{title:" Defect  (CREATE / INSERT)",children:[de.jsx(e3,{title:" "}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:" Step-by-Step  Defect :"}),de.jsx(K4,{steps:[{label:" 1",description:' "Adding new defect" ()'},{label:" 2",description:' "ID"  "Auto-generated ID" ( ID )'},{label:" 3",description:' "Name":  Defect 3-100  ( Surface Scratch, Dimensional Error)'},{label:" 4",description:' "Description" (Optional):  Defect 0-1000 '},{label:" 5",description:' "Defect Group": (1)  dropdown  (2)  +  Group '},{label:" 6",description:' "Is Active"  Defect  Active  (default: checked)'},{label:" 7",description:" validate  Real-time:   ()   ()  error message"},{label:" 8",description:' "Create Defect"  ( disable  validation errors)'},{label:" 9",description:":  Success toast, reload , , "}]})]}),de.jsx(e3,{title:"  Defect Group Field ()"}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:" Defect Group - Dropdown Mode ():"}),de.jsx(K4,{steps:[{label:"Default Mode",description:" Dropdown  + "},{label:"Select Group",description:" Defect Group  dropdown ( VISUAL, FUNCTIONAL, DIMENSIONAL)"},{label:"Options",description:"Dropdown  Groups  ( Defects )"},{label:"Empty Option",description:'"-- Select Group --"  default option ( Group)'}]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:" Defect Group - Custom Input Mode ():"}),de.jsx(K4,{steps:[{label:" +",description:" +  Text Input"},{label:" Group ",description:"  Defect Group  ( PACKAGING)"},{label:"Max Length",description:" 100  (maxLength=100)"},{label:" ",description:"   Dropdown"}]})]}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:" Validation Rules ( Validate):"}),de.jsx(X4,{headers:["","",""],rows:[["ID","Auto-generated (SERIAL)",", "],["Name","Required",'"Defect name is required"'],["Name","Min 3 chars",'"Defect name must be at least 3 characters"'],["Name","Max 100 chars",'"Defect name must not exceed 100 characters"'],["Name","Pattern: ^[a-zA-Z0-9\\s\\-_.,()]+$",'"Name can only contain letters, numbers, spaces, and common punctuation (-, _, ., , ())"'],["Description","Optional",""],["Description","Max 1000 chars",'"Description must not exceed 1000 characters"'],["Defect Group","Optional",", "]]})]}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:"  Defect Names :"}),de.jsx(X4,{headers:["Defect Name","Defect Group","Valid?",""],rows:[["Surface Scratch","VISUAL","",":  space  letters"],["Dimensional Error","DIMENSIONAL","",":  space"],["Missing Part (A1)","ASSEMBLY","",":  ()  numbers"],["Crack-Type-01","STRUCTURAL","",":  -  numbers"],["Color_Mismatch","VISUAL","",":  _  letters"],["Dent, Minor","PHYSICAL","",":  ,  space"],["AB","","",":  3 "],["Defect#123","","",":  # (special char )"],["Scrath","","",":  ()"]]})]})]}),de.jsxs(Y4,{title:" Defect Group Filter ()",children:[de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:"  Defect Group Filter:"}),de.jsx(K4,{steps:[{label:" 1",description:' Dropdown "All Groups"  ( Statistics Cards)'},{label:" 2",description:" Dropdown  Defect Groups "},{label:" 3",description:" Defect Group  ( VISUAL, FUNCTIONAL)"},{label:" 4",description:" Defects  Group "},{label:" 5",description:' "All Groups"  ( Filter)'}]})]}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:"  Defect Group Filter:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Dynamic Loading:"}),"  Defect Groups  Defects"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Unique Groups:"}),"  Groups "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Sorted:"}),"  (A-Z)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Debug Info:"}),'  Groups  Group  ( "Groups: 5 | Selected: VISUAL")']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Real-time Update:"})," Filter "]})]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:" Use Cases  Defect Group Filter:"}),de.jsx(X4,{headers:["",""],rows:[[" Defects  VISUAL",' "VISUAL"  dropdown'],[" DIMENSIONAL Defects",' "DIMENSIONAL"  dropdown'],[" FUNCTIONAL Issues",' "FUNCTIONAL"  dropdown'],["",' "All Groups"'],[" Defects  Group"," Group "]]})]})]}),de.jsxs(Y4,{title:" (READ / VIEW)",children:[de.jsx(e3,{title:" Data Table -  Defects"}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:"  (6 ):"}),de.jsx(X4,{headers:["","","","Sortable"],rows:[["#",""," (1, 2, 3, ...)",""],["ID"," Defect (SERIAL)"," (1, 2, 3, ...)",""],["Name"," Defect","Text  (font-medium)",""],["Description"," Defect","Text  (truncated if long)",""],["Defect Group"," Defect","Text  ( - )",""],["Status"," Active/Inactive","Badge /",""],["Actions","","Edit (), Delete (), Toggle ()",""]]})]}),de.jsx(e3,{title:" Search & Filter"}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:" Search Bar - :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#4a148c"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Searchable Fields:"})," ID, Name, Description, Defect Group"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Multi-field Search:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Case Insensitive:"})," /"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Real-time Search:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Combined Filters:"}),"  Status Filter  Defect Group Filter"]})]})]}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:" Status Filter Tabs:"}),de.jsx(X4,{headers:["Tab","","",""],rows:[["All Defects","",""," Active  Inactive"],["Active Defects","",""," is_active = true"],["Inactive Defects","",""," is_active = false"]]})]}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:"  Filters  (Combined Filtering):"}),de.jsx(X4,{headers:["Filter 1","Filter 2","Filter 3",""],rows:[["Active Tab","VISUAL Group",'Search: "scratch"',' Active VISUAL Defects  "scratch"'],["Inactive Tab","All Groups",'Search: ""'," Inactive Defects"],["All Tab","FUNCTIONAL",'Search: "error"',' FUNCTIONAL Defects (Active+Inactive)  "error"']]})]})]}),de.jsxs(Y4,{title:" Defect (UPDATE / EDIT)",children:[de.jsx(e3,{title:" "}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:" Step-by-Step  Defect:"}),de.jsx(K4,{steps:[{label:" 1",description:" Defect  ( Search, Status Filter,  Group Filter)"},{label:" 2",description:' "Edit" ()  Actions'},{label:" 3",description:' "Editing"  Defect  ()'},{label:" 4",description:": ID (readonly), Name, Description, Defect Group, Is Active"},{label:" 5",description:": Name, Description, Defect Group,  Is Active"},{label:" 6",description:' :  "ID"  (readonly, Auto-generated)'},{label:" 7",description:" Dropdown  Custom Input  Defect Group ( /+)"},{label:" 8",description:" validate  Real-time:  /  error messages"},{label:" 9",description:' "Update Defect" '},{label:" 10",description:':  Success toast, reload ,  "Adding new"'}]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:"  Cancel Edit ():"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#01579b"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:' "Clear":'}),'  "Adding new"']}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Mode Change:"}),"  (Editing)  (Adding new)"]})]})]}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#7f0000"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"ID :"})," ID  SERIAL PRIMARY KEY"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Name Validation:"}),"  pattern validation (alphanumeric + punctuation)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:":"})," Defect  Defect Data "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Group Change Impact:"}),"  Group "]})]})]})]}),de.jsxs(Y4,{title:" (DELETE & TOGGLE STATUS)",children:[de.jsx(e3,{title:"  Defect (DELETE)"}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:"  Defect:"}),de.jsx(K4,{steps:[{label:" 1",description:" Defect "},{label:" 2",description:' "Delete" ()  Actions'},{label:" 3",description:' Confirmation Dialog: "Are you sure you want to delete defect {name}?"'},{label:" 4",description:' "Confirm"   "Cancel" '},{label:" 5",description:"  (Permanent Delete)"},{label:" 6",description:' Success toast: "Defect deleted successfully"'},{label:" 7",description:"Reload  (Total, Active, Inactive)"}]})]}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:":"}),"  (Permanent Delete)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Foreign Key Check:"}),"  Defect Data  Defect  "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Error Message:"}),' "Cannot delete defect: referenced by defect data records"']}),de.jsxs("li",{children:[de.jsx("strong",{children:" Inactive:"}),"  Toggle Status  Inactive "]})]})]}),de.jsx(e3,{title:"  (TOGGLE STATUS)"}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:"  (Single):"}),de.jsx(K4,{steps:[{label:" 1",description:" Defect "},{label:" 2",description:' "Toggle Status" (/)  Actions'},{label:" 3",description:' Confirmation Dialog: "Toggle status for defect {name}?"'},{label:" 4",description:' "Confirm"  (Active  Inactive)'},{label:" 5",description:' Success toast: "Defect status updated successfully"'},{label:" 6",description:"Status badge : Active ()  Inactive ()"}]})]}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:" Bulk Toggle Status ():"}),de.jsx(K4,{steps:[{label:" 1",description:" Checkbox  Defects "},{label:" 2",description:" Checkbox "},{label:" 3",description:'  "Toggle Status (X selected)" '},{label:" 4",description:' "Toggle Status"  '},{label:" 5",description:""},{label:" 6",description:': "Successfully toggled status for X defect(s)"'}]})]})]}),de.jsxs(Y4,{title:"Dashboard  (Statistics)",children:[de.jsxs("div",{style:{background:"#e8eaf6",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #9fa8da"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#283593",fontSize:"15px"},children:"  (3 Cards):"}),de.jsx(X4,{headers:["","",""," Theme"],rows:[["Total"," Defects  (Active + Inactive)","",""],["Active"," Defects  (is_active = true)","",""],["Inactive"," Defects  (is_active = false)","",""]]})]}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Overview:"}),"  Defects "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Health Check:"}),"  Active/Inactive"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Real-time Update:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Color Coded:"})," "]})]})]})]}),de.jsx(Y4,{title:"",children:de.jsx(X4,{headers:["",""],rows:[[" Defect ",": (1) Name 3-100 chars (2) Pattern validation  (3) Description  1000 chars"],["Name Validation Error",": Name  letters, numbers, spaces,  -, _, ., , () "],["Defect Group dropdown "," Defects   Defects  defect_group"],[" Custom Input"," +  Defect Group dropdown"],[" Dropdown","   Text Input"],["Group Filter "," (F5) -  Defects  Group "],[" Defect  (FK Error)"," Defect Data  Defect  -  Toggle Status  Inactive "],["Search ",": (1)  (2) Status Filter (3) Group Filter (4) Case-insensitive"],["Toggle Status "," -  (F5) -  Console errors -  Admin"],[""," (F5) -  API response - Clear cache"],["",": (1) Status Filter (2) Group Filter (3) Search query (4) "],["ID ","ID  SERIAL  Database - "]]})}),de.jsxs(Y4,{title:" (Best Practices)",children:[de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"16px"},children:"  Defects Master Data :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Naming Convention:"}),"  ( Surface Scratch, Dimensional Error)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Use Defect Groups:"}),"  Defects  (VISUAL, FUNCTIONAL, DIMENSIONAL, etc.)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Add Description:"}),"  Description "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Use Inactive:"}),"  history"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Regular Review:"}),"  Defects "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Consistent Groups:"}),"  Group "]})]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"16px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#01579b"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Use Group Filter:"}),"  Defect Group "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Toggle Input Mode:"}),"  +/  Dropdown  Custom Input"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Search Efficiently:"}),"  (ID, Name, Description, Group)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Bulk Operations:"}),"  Bulk Toggle "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Real-time Validation:"}),"  Validation errors "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Combined Filters:"}),"  Filters  (Status + Group + Search)"]})]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"16px"},children:"  Defects Master Data :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Standardization:"}),"  Defects "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Data Analysis:"}),"  Defects "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Quality Improvement:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Reporting:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Training:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Traceability:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Continuous Improvement:"})," "]})]})]})]}),de.jsxs(J4,{title:" ?",children:[de.jsx("p",{children:" IT"}),de.jsx("p",{style:{marginTop:"10px"},children:" Training"}),de.jsx("p",{style:{marginTop:"10px",fontWeight:"bold"},children:" Defect Groups :"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"VISUAL:"})," Surface Scratch, Color Mismatch, Stain"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"DIMENSIONAL:"})," Over/Under Size, Misalignment"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"FUNCTIONAL:"})," Performance Issue, Malfunction"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"STRUCTURAL:"})," Crack, Break, Deformation"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"ASSEMBLY:"})," Missing Part, Wrong Part, Loose Connection"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"PACKAGING:"})," Damaged Package, Wrong Label"]})]})]})]}),u3=()=>de.jsxs(G4,{cardNumber:13,totalCards:10,title:"",subtitle:"Inspection Data Setup Configuration",icon:"",nextLink:"/training",children:[de.jsxs(Y4,{title:"",children:[de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"16px"},children:" Inspection Data Setup ?"}),de.jsxs("p",{style:{margin:"10px 0 0 0",color:"#5d4037"},children:["Inspection Data Setup    ,  (Site, Shift, Product),  Defects",de.jsx("strong",{children:"  Master Data   Configuration "})]})]}),de.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[de.jsx("img",{src:"/Images/training/13_InspectionSetup_Overview.png",alt:"Inspection Data Setup Overview",style:{maxWidth:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),de.jsx("p",{style:{marginTop:"10px",fontSize:"14px",color:"#666",fontStyle:"italic"},children:" 1:  (3 )"})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:"  Master Data Pages :"}),de.jsx(X4,{headers:["Master Data Pages ()","Inspection Setup ()"],rows:[["CREATE: "," CREATE -  Config "],["READ: ","READ:  Active Configuration "],["UPDATE: ","UPDATE:  Configuration "],["DELETE: "," DELETE -  Config "],[" (Table)"," - "],[" Pagination"," Pagination"]]})]}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:"  (3 ):"}),de.jsxs("div",{style:{fontSize:"14px",color:"#4a148c",lineHeight:"1.8"},children:[de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:" 1: Sampling Quantities ():"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsx("li",{children:"FVI Lot Quantity ( Lot  FVI)"}),de.jsx("li",{children:"General OQA Quantity ( OQA )"}),de.jsx("li",{children:"Crack OQA Quantity ( OQA  Crack)"}),de.jsx("li",{children:"General SIV Quantity ( SIV )"}),de.jsx("li",{children:"Crack SIV Quantity ( SIV  Crack)"})]}),de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:" 2: Organization Data ():"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsx("li",{children:"Shift (: A, B, C, Day, Night)"}),de.jsx("li",{children:"Site (/: TNHK, JNHK, etc.)"}),de.jsx("li",{children:"Tabs (/: 1, 2, 3)"}),de.jsx("li",{children:"Product Type (: SSA, DSA)"}),de.jsx("li",{children:"Product Families (: Iris, Pine)"})]}),de.jsx("p",{style:{margin:"10px 0",fontWeight:"bold"},children:" 3: Defect Configuration ():"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsx("li",{children:"Defect Type ( Defect: Normal defect)"}),de.jsx("li",{children:"Defect Group ( Defect: Cosmetic, Functional)"}),de.jsx("li",{children:"Defect Color ( Defect: Red, Yellow)"})]})]})]})]}),de.jsxs(Y4,{title:" Inspection Data Setup",children:[de.jsx(K4,{steps:[{label:" 1",description:" Dashboard"},{label:" 2",description:' "Master Data"   "Inspection Data Setup"'},{label:" 3",description:" Active Configuration "}]}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginTop:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:"  Active Configuration:"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#5d4037"},children:[de.jsx("li",{children:' Error: "Configuration Not Found"'}),de.jsx("li",{children:': "Failed to load configuration. Please check if there is an active system configuration."'}),de.jsx("li",{children:' "Retry" '}),de.jsx("li",{children:" Active Configuration  System Configuration "})]})]})]}),de.jsxs(Y4,{title:" Array Value Manager ()",children:[de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"16px"},children:" Array Value Manager ?"}),de.jsx("p",{style:{margin:"10px 0 0 0",color:"#1b5e20"},children:'Array Value Manager  (Array)   Comma-Separated Values (CSV)  "A,B,C,Day,Night" /  comma '})]}),de.jsx(e3,{title:"  (Add Value)"}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:" :"}),de.jsx(K4,{steps:[{label:" 1",description:' "Edit Configuration"  ( Edit Mode)'},{label:" 2",description:" ( Shift)"},{label:" 3",description:' Input ( "Day"  Shift)'},{label:" 4",description:" + ()  Enter"},{label:" 5",description:" ( Badge )"},{label:" 6",description:" Input  "}]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:" Validation Rules :"}),de.jsx(X4,{headers:["","",""],rows:[["","",' "   "  '],["Numeric ()"," valid",'FVI Lot Qty: "abc"  '],["","",' "A"    "A"   '],["Max Items","","Shift: max 10 items, Site: max 15 items"]]})]}),de.jsx(e3,{title:"  (Remove Value)"}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:" :"}),de.jsx(K4,{steps:[{label:" 1",description:' Edit Mode ( "Edit Configuration" )'},{label:" 2",description:" ( Badge)"},{label:" 3",description:" X () "},{label:" 4",description:""},{label:" 5",description:' items  ( "4 / 10 items"  "3 / 10 items")'}]})]}),de.jsxs("div",{style:{background:"#f3e5f5",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ba68c8"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#6a1b9a",fontSize:"15px"},children:"  Array Value Manager:"}),de.jsx(X4,{headers:["",""],rows:[["Keyboard Shortcut"," Enter  ( +)"],["Visual Feedback"," Badge  (orange gradient)"],["Item Counter",' "X / Y items" ( "5 / 10 items")'],["Disabled State"," +  disable : (1)  Edit Mode (2) Input  (3)  Max Items"],["Type Safety",'Numeric fields  ( <input type="number">)'],["Hover Effect","Badge  hover effect (shadow-md) "]]})]})]}),de.jsxs(Y4,{title:" Configuration (UPDATE)",children:[de.jsx(e3,{title:"  Edit Mode"}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:"  Configuration:"}),de.jsx(K4,{steps:[{label:" 1",description:" Inspection Data Setup ()"},{label:" 2",description:' "Edit Configuration" '},{label:" 3",description:' Edit Mode:  "Edit Configuration" , Array Value Managers  enable'},{label:" 4",description:": /  ( Array Value Manager)"},{label:" 5",description:" Changes ()"},{label:" 6",description:':  "Save Changes"  "Cancel"'}]})]}),de.jsx(e3,{title:"  (Save Changes)"}),de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"15px"},children:"  Save:"}),de.jsx(K4,{steps:[{label:" 1",description:"  ()"},{label:" 2",description:' "Save Changes"  (Action Buttons Section)'},{label:" 3",description:':  "Save Changes"  disable (opacity: 50%)'},{label:" 4",description:':  "Save Changes" '},{label:" 5",description:' "Saving..."  Loading (animate-spin)'},{label:" 6",description:" (Changed Fields Only)  API"},{label:" 7",description:':  Success Message  "Configuration updated successfully!"'},{label:" 8",description:" Reload Configuration  Edit Mode "},{label:" 9",description:"Success Message  3 "}]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"15px"},children:"  Save (Backend):"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#01579b"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Changed Fields Only:"}),"   bandwidth"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"PUT Request:"}),"  PUT /api/sysconfig/:id"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"No Changes Check:"}),'   "No changes to save" ( API)']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Validation:"})," Backend  validate "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Response:"})," API  Updated Configuration "]})]})]}),de.jsx(e3,{title:"  (Cancel)"}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:"  Cancel:"}),de.jsx(K4,{steps:[{label:" 1",description:" Edit Mode ()"},{label:" 2",description:' "Cancel"  ( Save)'},{label:" 3",description:" Restore  ( Edit Mode)"},{label:" 4",description:" Edit Mode "},{label:" 5",description:' "Edit Configuration" '}]})]})]}),de.jsxs(Y4,{title:" (13 )",children:[de.jsx(e3,{title:" Column 1: Sampling Quantities ()"}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"15px"},children:"  (5 ):"}),de.jsx(X4,{headers:["","","Type","Max Items",""],rows:[["FVI Lot Quantity"," Lot  FVI","Numeric","10","2400, 1200, 600"],["General OQA Quantity"," OQA ","Numeric","10","78, 32, 13"],["Crack OQA Quantity"," OQA  Crack","Numeric","10","80, 50, 20"],["General SIV Quantity"," SIV ","Numeric","10","32, 13, 5"],["Crack SIV Quantity"," SIV  Crack","Numeric","10","60, 50, 13"]]})]}),de.jsx(e3,{title:" Column 2: Organization Data ()"}),de.jsxs("div",{style:{background:"#e3f2fd",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #90caf9"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#1565c0",fontSize:"15px"},children:"  (5 ):"}),de.jsx(X4,{headers:["","","Type","Max Items",""],rows:[["Shift","","Text","10","A, B, C, Day, Night"],["Site","/","Text","15","TNHK, JNHK, BKK"],["Tabs","/","Text","10","1, 2, 3, ALL"],["Product Type","","Text","15","SSA, DSA, HSA"],["Product Families","","Text","15","Iris, Pine, Oak"]]})]}),de.jsx(e3,{title:" Column 3: Defect Configuration ()"}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:"  Defect (3 ):"}),de.jsx(X4,{headers:["","","Type","Max Items",""],rows:[["Defect Type"," Defect","Text","20","Normal defect, Critical defect"],["Defect Group"," Defect","Text","20","Cosmetic, Functional, Dimensional"],["Defect Color"," Defect ()","Text","20","Red, Yellow, Green, Blue"]]})]})]}),de.jsxs(Y4,{title:"",children:[de.jsx(e3,{title:" Loading States"}),de.jsxs("div",{style:{background:"#e8eaf6",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #9fa8da"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#283593",fontSize:"15px"},children:"   :"}),de.jsx(X4,{headers:["State","",""],rows:[["Loading"," Configuration",' Loading Spinner  "Loading inspection configuration..."'],["Error (No Config)"," Active Configuration",' Error   "Retry"'],["View Mode"," ()",',  "Edit Configuration", Array Managers disabled'],["Edit Mode","",' "Edit Configuration", Array Managers enabled,  Action Buttons (Cancel/Save)'],["Saving","",' "Save Changes"  "Saving..."  Loading Spinner']]})]}),de.jsx(e3,{title:" Success & Error Messages"}),de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"15px"},children:" Success Messages ():"}),de.jsx(X4,{headers:["Message","","Duration"],rows:[['"Configuration updated successfully!"',""," 3 "],['"No changes to save"'," Save "," 3 "]]})]}),de.jsxs("div",{style:{background:"#ffebee",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #ef9a9a"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#c62828",fontSize:"15px"},children:" Error Messages ():"}),de.jsx(X4,{headers:["Message","",""],rows:[["Failed to load configuration..."," Config "," Retry  Active Config"],["No configuration ID found"," ID  Config","Reload   Database"],["Failed to save configuration",""," Network, Validation,  Server logs"]]})]})]}),de.jsx(Y4,{title:" (Use Cases)",children:de.jsxs("div",{style:{background:"#fff9c4",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #fdd835"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#f57f17",fontSize:"16px"},children:" Use Cases :"}),de.jsx(X4,{headers:["","",""],rows:[[" (Shift C)",'Edit  Shift   "C"   +  Save',"Shift"],["",'Edit  Site   "CBHK"   +  Save',"Site"],["","Edit  General OQA Quantity   (X)   (+)  Save","General OQA Quantity"],["",'Edit  Product Type   "MSA"   +  Save',"Product Type"],[" Defect Group",'Edit  Defect Group   "Assembly"   +  Save',"Defect Group"],["","Edit     X   Save","Any Field"],["","Edit   (Add/Remove values)  Save","Multiple Fields"]]})]})}),de.jsx(Y4,{title:"",children:de.jsx(X4,{headers:["",""],rows:[[' "Configuration Not Found"'," Active Configuration  -  System Configuration  set is_active = true"],["",": (1)  Edit Mode  (2)  (3)  (4)  Max Items "],[" Save  Disable","  - / 1 "],["Numeric Field "," - "],[" Cancel"," - Cancel  Restore "],["Save ",": (1) Network connection (2) Server logs (3) Validation errors (4) Database connection"],["Success Message "," 3   "],["Array Value Manager ",' Edit Mode -  "Edit Configuration" '],[" Enter "," Input  valid (, ,  Max)"],[" Edit Configuration"," Edit Mode  -  Cancel/Save "]]})}),de.jsxs(Y4,{title:" (Best Practices)",children:[de.jsxs("div",{style:{background:"#e8f5e9",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81c784"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#2e7d32",fontSize:"16px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#1b5e20"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Plan Before Edit:"}),"   Edit "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Use Keyboard:"}),"  Enter  + ()"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Review Before Save:"}),"  Save"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Consistent Naming:"}),"  ( Shift: A, B, C  Day, Night)"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Avoid Duplicates:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Keep it Simple:"}),"  "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Document Changes:"})," "]})]})]}),de.jsxs("div",{style:{background:"#e1f5fe",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:"1px solid #81d4fa"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#0277bd",fontSize:"16px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#01579b"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Batch Changes:"}),"  Save ()"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Cancel is Safe:"}),"  Cancel "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Watch Item Counter:"}),'  "X / Y items" ']}),de.jsxs("li",{children:[de.jsx("strong",{children:"Test First:"})," /  Save"]}),de.jsxs("li",{children:[de.jsx("strong",{children:"No Create/Delete:"})," / Config  Active Config "]})]})]}),de.jsxs("div",{style:{background:"#fff3e0",padding:"15px",borderRadius:"8px",border:"1px solid #ffb74d"},children:[de.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"bold",color:"#e65100",fontSize:"16px"},children:" :"}),de.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#5d4037"},children:[de.jsxs("li",{children:[de.jsx("strong",{children:"Consistency:"}),"  "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Flexibility:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Accuracy:"})," "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Scalability:"}),"  Site/Product "]}),de.jsxs("li",{children:[de.jsx("strong",{children:"Maintenance:"})," "]})]})]})]}),de.jsxs(J4,{title:" ?",children:[de.jsx("p",{children:" IT"}),de.jsx("p",{style:{marginTop:"10px"},children:" Training"}),de.jsx("p",{style:{marginTop:"10px",fontWeight:"bold"},children:":"}),de.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:[de.jsx("li",{children:" CREATE/DELETE -  UPDATE Configuration "}),de.jsx("li",{children:" Active Configuration "}),de.jsx("li",{children:" Array Value Manager   "}),de.jsx("li",{children:" Enter  ( +)"}),de.jsx("li",{children:"Cancel  Restore  ()"}),de.jsx("li",{children:"Save "})]})]})]}),h3=()=>{const e=Cm();return de.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 flex items-center justify-center p-4 relative overflow-hidden",children:[de.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[de.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),de.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),de.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-indigo-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),de.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto",children:[de.jsx("div",{className:"mb-8 animate-bounce-slow",children:de.jsxs("div",{className:"relative inline-block",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full blur-2xl opacity-50 animate-pulse"}),de.jsx("div",{className:"relative w-32 h-32 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl transform transition-transform hover:scale-110",children:de.jsx(Zg,{className:"w-16 h-16 text-white animate-wiggle"})})]})}),de.jsxs("div",{className:"mb-12",children:[de.jsxs("div",{className:"inline-flex items-center justify-center space-x-2 mb-4 px-6 py-2 bg-white/80 backdrop-blur-sm rounded-full shadow-lg",children:[de.jsx(Tp,{className:"w-5 h-5 text-purple-600 animate-spin-slow"}),de.jsx("span",{className:"text-sm font-semibold text-purple-600 uppercase tracking-wider",children:"Under Development"})]}),de.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-indigo-600 bg-clip-text text-transparent animate-gradient",children:"Coming Soon"}),de.jsx("p",{className:"text-xl md:text-2xl text-gray-700 mb-6 font-medium",children:"We're working hard to bring you something amazing!"}),de.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"This feature is currently under active development. Our team is crafting an exceptional experience for you. Stay tuned for updates!"})]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12 max-w-3xl mx-auto",children:[de.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300",children:[de.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:de.jsx(Sg,{className:"w-6 h-6 text-white"})}),de.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Innovative Features"}),de.jsx("p",{className:"text-sm text-gray-600",children:"Cutting-edge functionality designed for excellence"})]}),de.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300 animation-delay-200",children:[de.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:de.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),de.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Lightning Fast"}),de.jsx("p",{className:"text-sm text-gray-600",children:"Optimized performance for seamless experience"})]}),de.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300 animation-delay-400",children:[de.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:de.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),de.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Quality Assured"}),de.jsx("p",{className:"text-sm text-gray-600",children:"Thoroughly tested for reliability and precision"})]})]}),de.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[de.jsxs("button",{onClick:()=>e(-1),className:"group flex items-center space-x-2 px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 hover:from-purple-700 hover:to-pink-700",children:[de.jsx(zf,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),de.jsx("span",{children:"Go Back"})]}),de.jsxs(gf,{to:"/",className:"group flex items-center space-x-2 px-8 py-4 bg-white text-purple-600 rounded-xl font-semibold shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 border-2 border-purple-200 hover:border-purple-400",children:[de.jsx(Zp,{className:"w-5 h-5 group-hover:rotate-12 transition-transform"}),de.jsx("span",{children:"Go to Dashboard"})]})]}),de.jsx("div",{className:"mt-12 max-w-md mx-auto",children:de.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl",children:[de.jsxs("div",{className:"flex items-center justify-between mb-2",children:[de.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Development Progress"}),de.jsx("span",{className:"text-sm font-bold text-purple-600",children:"In Progress"})]}),de.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:de.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 via-pink-500 to-indigo-500 rounded-full animate-progress-bar relative",children:de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-50 animate-shimmer"})})}),de.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Our team is actively building this feature"})]})})]}),de.jsx("style",{children:"\n        @keyframes blob {\n          0%, 100% { transform: translate(0, 0) scale(1); }\n          33% { transform: translate(30px, -50px) scale(1.1); }\n          66% { transform: translate(-20px, 20px) scale(0.9); }\n        }\n        .animate-blob {\n          animation: blob 7s infinite;\n        }\n        .animation-delay-2000 {\n          animation-delay: 2s;\n        }\n        .animation-delay-4000 {\n          animation-delay: 4s;\n        }\n        .animation-delay-200 {\n          animation-delay: 0.2s;\n        }\n        .animation-delay-400 {\n          animation-delay: 0.4s;\n        }\n        @keyframes bounce-slow {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-20px); }\n        }\n        .animate-bounce-slow {\n          animation: bounce-slow 3s infinite;\n        }\n        @keyframes wiggle {\n          0%, 100% { transform: rotate(-5deg); }\n          50% { transform: rotate(5deg); }\n        }\n        .animate-wiggle {\n          animation: wiggle 2s infinite;\n        }\n        @keyframes spin-slow {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n        .animate-spin-slow {\n          animation: spin-slow 3s linear infinite;\n        }\n        @keyframes gradient {\n          0%, 100% { background-position: 0% 50%; }\n          50% { background-position: 100% 50%; }\n        }\n        .animate-gradient {\n          background-size: 200% auto;\n          animation: gradient 3s ease infinite;\n        }\n        @keyframes progress-bar {\n          0% { width: 0%; }\n          100% { width: 75%; }\n        }\n        .animate-progress-bar {\n          animation: progress-bar 2s ease-out forwards;\n        }\n        @keyframes shimmer {\n          0% { transform: translateX(-100%); }\n          100% { transform: translateX(100%); }\n        }\n        .animate-shimmer {\n          animation: shimmer 2s infinite;\n        }\n      "})]})},m3=[{groupName:"Core",routes:[{path:"/dashboard",element:()=>{const{user:e}=Df(),[t,r]=ee.useState(!0),[n,a]=ee.useState(null),[s,i]=ee.useState(""),[o,l]=ee.useState(""),[c,d]=ee.useState({station:"OQA",totalRecords:0,thisYear:0,thisMonth:0,thisWeek:0,today:0}),[u,m]=ee.useState([]),[f,p]=ee.useState({station:"OBA",totalRecords:0,thisYear:0,thisMonth:0,thisWeek:0,today:0}),[g,x]=ee.useState([]),[b,v]=ee.useState({station:"SIV",totalRecords:0,thisYear:0,thisMonth:0,thisWeek:0,today:0}),[y,w]=ee.useState([]);ee.useEffect(()=>{j()},[]);const j=()=>h(void 0,null,function*(){try{r(!0),a(null),N(),yield Promise.all([S("OQA"),S("OBA"),S("SIV")]),yield Promise.all([k("OQA"),k("OBA"),k("SIV")])}catch(e){console.error("Error loading dashboard data:",e),a("Failed to load dashboard data")}finally{r(!1)}}),N=()=>{const e=function(e=6){return Xx(new Date,e)}(6),t=function(e=6){return Kx(new Date,e)}(6),r=String(e).slice(-2),n=String(t).padStart(2,"0");i(r),l(n)},S=e=>h(void 0,null,function*(){try{const t=yield Gx.get(`/inspectiondata/stats/${e}`);if(t.success&&t.data){const r={station:e,totalRecords:t.data.total||0,thisYear:t.data.this_year||0,thisMonth:t.data.this_month||0,thisWeek:t.data.this_week||0,today:t.data.today||0};switch(e){case"OQA":d(r);break;case"OBA":p(r);break;case"SIV":v(r)}}}catch(t){console.error(`Error loading ${e} stats:`,t)}}),k=e=>h(void 0,null,function*(){try{const t=yield Gx.get(`/inspectiondata/weekly-trend/${e}`);if(t.success&&t.data){const r=t.data.map(e=>({ww:`WW${e.ww}`,total:e.total||0,pass:e.pass||0,fail:e.fail||0}));switch(e){case"OQA":m(r);break;case"OBA":x(r);break;case"SIV":w(r)}}}catch(t){console.error(`Error loading ${e} weekly data:`,t)}}),C=(e,t)=>{const r={orange:{bg:"bg-orange-500",light:"bg-orange-50",border:"border-orange-200",text:"text-orange-900",label:"text-orange-600"},green:{bg:"bg-green-500",light:"bg-green-50",border:"border-green-200",text:"text-green-900",label:"text-green-600"},blue:{bg:"bg-blue-500",light:"bg-blue-50",border:"border-blue-200",text:"text-blue-900",label:"text-blue-600"}},n=r[t]||r.orange;return de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsxs("div",{className:`${n.bg} px-6 py-4`,children:[de.jsx("h3",{className:"text-2xl font-bold text-white",children:e.station}),de.jsx("p",{className:"text-white/80 text-sm",children:"Quality Inspection Records"})]}),de.jsxs("div",{className:"p-6 space-y-4",children:[de.jsx("div",{className:`${n.light} border ${n.border} rounded-xl p-4`,children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("span",{className:`text-sm font-medium ${n.label}`,children:"Total Records"}),de.jsx("span",{className:`text-2xl font-bold ${n.text}`,children:TA(e.totalRecords.toString())})]})}),de.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[de.jsxs("div",{className:`${n.light} border ${n.border} rounded-lg p-3`,children:[de.jsx("div",{className:`text-xs font-medium ${n.label} mb-1`,children:"This Year"}),de.jsx("div",{className:`text-xl font-bold ${n.text}`,children:TA(e.thisYear.toString())})]}),de.jsxs("div",{className:`${n.light} border ${n.border} rounded-lg p-3`,children:[de.jsx("div",{className:`text-xs font-medium ${n.label} mb-1`,children:"This Month"}),de.jsx("div",{className:`text-xl font-bold ${n.text}`,children:TA(e.thisMonth.toString())})]})]}),de.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[de.jsxs("div",{className:`${n.light} border ${n.border} rounded-lg p-3`,children:[de.jsx("div",{className:`text-xs font-medium ${n.label} mb-1`,children:"This Week"}),de.jsx("div",{className:`text-xl font-bold ${n.text}`,children:TA(e.thisWeek.toString())})]}),de.jsxs("div",{className:`${n.light} border ${n.border} rounded-lg p-3`,children:[de.jsx("div",{className:`text-xs font-medium ${n.label} mb-1`,children:"Today"}),de.jsx("div",{className:`text-xl font-bold ${n.text}`,children:TA(e.today.toString())})]})]})]})]})},E=(e,t,r)=>0===e.length?de.jsx("div",{className:"flex items-center justify-center h-64",children:de.jsx("p",{className:"text-gray-500",children:"No data available"})}):de.jsx(aK,{width:"100%",height:300,children:de.jsxs(x2,{data:e,children:[de.jsx(y0,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),de.jsx(i1,{dataKey:"ww",stroke:"#6b7280",style:{fontSize:"12px"}}),de.jsx(g1,{stroke:"#6b7280",style:{fontSize:"12px"}}),de.jsx(YY,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),de.jsx(zM,{wrapperStyle:{fontSize:"12px"},iconType:"square"}),de.jsx(oJ,{dataKey:"total",fill:"#94a3b8",name:"Total Qty",radius:[4,4,0,0]}),de.jsx(oJ,{dataKey:"pass",fill:"#22c55e",name:"Pass",radius:[4,4,0,0]}),de.jsx(oJ,{dataKey:"fail",fill:"#ef4444",name:"Fail",radius:[4,4,0,0]})]})});return t?de.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-indigo-50 p-6 flex items-center justify-center",children:de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-purple-600 mx-auto"}),de.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading dashboard..."})]})}):de.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-indigo-50 p-6",children:de.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[de.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-purple-100 overflow-hidden",children:de.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-indigo-600 p-6",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("h1",{className:"text-3xl font-bold text-white",children:"Quality Control Dashboard"}),de.jsxs("p",{className:"text-purple-100 mt-1",children:["Welcome back, ",(null==e?void 0:e.username)||"User",". Here's your inspection overview."]})]}),de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsxs("button",{onClick:()=>{j()},disabled:t,className:"bg-white/20 backdrop-blur-sm rounded-xl px-4 py-3 hover:bg-white/30 transition-colors duration-200 flex items-center space-x-2 disabled:opacity-50",children:[de.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),de.jsx("span",{className:"text-white font-medium",children:"Refresh"})]}),de.jsxs("div",{className:"text-right",children:[de.jsx("div",{className:"text-white text-sm",children:"Last updated"}),de.jsx("div",{className:"text-purple-100 text-xs",children:(new Date).toLocaleTimeString()})]})]})]})})}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 px-6 py-4",children:de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),de.jsxs("div",{children:[de.jsx("h3",{className:"text-sm font-medium text-white/80",children:"Current Fiscal Year"}),de.jsxs("p",{className:"text-4xl font-bold text-white mt-1",children:["FY ",s||"--"]})]})]})}),de.jsx("div",{className:"p-4 bg-orange-50",children:de.jsx("p",{className:"text-sm text-orange-700",children:"Fiscal year period for tracking annual performance"})})]}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 px-6 py-4",children:de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),de.jsxs("div",{children:[de.jsx("h3",{className:"text-sm font-medium text-white/80",children:"Current Work Week"}),de.jsxs("p",{className:"text-4xl font-bold text-white mt-1",children:["WW ",o||"--"]})]})]})}),de.jsx("div",{className:"p-4 bg-cyan-50",children:de.jsx("p",{className:"text-sm text-cyan-700",children:"Current work week number for weekly tracking"})})]})]}),n&&de.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center space-x-3",children:[de.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),de.jsxs("div",{children:[de.jsx("p",{className:"text-red-900 font-medium",children:"Error"}),de.jsx("p",{className:"text-red-700 text-sm",children:n})]}),de.jsx("button",{onClick:()=>a(null),className:"ml-auto text-red-600 hover:text-red-800",children:de.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[C(c,"orange"),C(f,"green"),C(b,"blue")]}),de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 px-6 py-4",children:[de.jsx("h3",{className:"text-xl font-bold text-white",children:"OQA Weekly Trend"}),de.jsx("p",{className:"text-orange-100 text-sm",children:"Inspection quantities by work week"})]}),de.jsx("div",{className:"p-6",children:E(u)})]}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 px-6 py-4",children:[de.jsx("h3",{className:"text-xl font-bold text-white",children:"OBA Weekly Trend"}),de.jsx("p",{className:"text-green-100 text-sm",children:"Inspection quantities by work week"})]}),de.jsx("div",{className:"p-6",children:E(g)})]}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4",children:[de.jsx("h3",{className:"text-xl font-bold text-white",children:"SIV Weekly Trend"}),de.jsx("p",{className:"text-blue-100 text-sm",children:"Inspection quantities by work week"})]}),de.jsx("div",{className:"p-6",children:E(y)})]})]}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"bg-gradient-to-r from-slate-100 to-gray-100 px-6 py-4",children:de.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Quick Actions"})}),de.jsx("div",{className:"p-6",children:de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[de.jsx(gf,{to:"/inspection/oqa",className:"group block p-4 rounded-lg border border-gray-200 hover:border-orange-300 hover:shadow-lg transition-all duration-200",children:de.jsxs("div",{className:"flex flex-col items-center text-center",children:[de.jsx("div",{className:"bg-orange-500 p-3 rounded-lg text-white mb-3 group-hover:scale-110 transition-transform duration-200",children:de.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),de.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"OQA Station"}),de.jsx("p",{className:"text-xs text-gray-600",children:"Outgoing Quality Assurance"})]})}),de.jsx(gf,{to:"/inspection/oba",className:"group block p-4 rounded-lg border border-gray-200 hover:border-green-300 hover:shadow-lg transition-all duration-200",children:de.jsxs("div",{className:"flex flex-col items-center text-center",children:[de.jsx("div",{className:"bg-green-500 p-3 rounded-lg text-white mb-3 group-hover:scale-110 transition-transform duration-200",children:de.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),de.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"OBA Station"}),de.jsx("p",{className:"text-xs text-gray-600",children:"Outgoing Before Assembly"})]})}),de.jsx(gf,{to:"/inspection/siv",className:"group block p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200",children:de.jsxs("div",{className:"flex flex-col items-center text-center",children:[de.jsx("div",{className:"bg-blue-500 p-3 rounded-lg text-white mb-3 group-hover:scale-110 transition-transform duration-200",children:de.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),de.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"SIV Station"}),de.jsx("p",{className:"text-xs text-gray-600",children:"Supplier Incoming Verification"})]})}),de.jsx(gf,{to:"/reports",className:"group block p-4 rounded-lg border border-gray-200 hover:border-purple-300 hover:shadow-lg transition-all duration-200",children:de.jsxs("div",{className:"flex flex-col items-center text-center",children:[de.jsx("div",{className:"bg-purple-500 p-3 rounded-lg text-white mb-3 group-hover:scale-110 transition-transform duration-200",children:de.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),de.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Reports"}),de.jsx("p",{className:"text-xs text-gray-600",children:"View inspection reports"})]})})]})})]})]})})},requiredRoles:["user","manager","admin","viewer"]},{path:"/news",element:()=>{const[e,t]=ee.useState(""),[r,n]=ee.useState(""),[a,s]=ee.useState(null),[i,o]=ee.useState(!1),[d,u]=ee.useState(!0),[m,f]=ee.useState(!1),[p,g]=ee.useState(null),[x,b]=ee.useState({show:!1,message:"",type:"info"});ee.useEffect(()=>{v()},[]);const v=()=>h(void 0,null,function*(){try{u(!0),g(null);const e=yield cx.getSysconfig();s(e.id),t(e.news||""),n(e.news||"")}catch(e){console.error("Error loading news:",e),E5.play("error"),g(e instanceof Error?e.message:"Failed to load news"),y("Failed to load news content","error")}finally{u(!1)}}),y=(e,t)=>{b({show:!0,message:e,type:t})},w=e!==r;return d?de.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 flex items-center justify-center",children:de.jsxs("div",{className:"text-center",children:[de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-transparent bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 mx-auto",style:{WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",maskComposite:"exclude",padding:"3px"}}),de.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:de.jsx(hg,{className:"h-8 w-8 text-purple-600 animate-pulse"})})]}),de.jsx("p",{className:"mt-6 text-lg font-semibold bg-gradient-to-r from-purple-600 via-pink-600 to-orange-600 bg-clip-text text-transparent",children:"Loading news..."})]})}):de.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 py-8 px-4 sm:px-6 lg:px-8",children:[de.jsxs("div",{className:"max-w-4xl mx-auto",children:[de.jsxs("div",{className:"bg-white/80 backdrop-blur-sm shadow-xl rounded-2xl mb-6 overflow-hidden border-2 border-transparent bg-clip-padding",style:{backgroundImage:"linear-gradient(white, white), linear-gradient(135deg, #667eea 0%, #f093fb 50%, #f5576c 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},children:[de.jsx("div",{className:"px-6 py-6 bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-orange-500/10",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-600 rounded-2xl blur opacity-75 animate-pulse"}),de.jsx("div",{className:"relative bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl p-3 shadow-lg",children:de.jsx(hg,{className:"h-8 w-8 text-white"})})]}),de.jsxs("div",{children:[de.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-purple-600 via-pink-600 to-orange-600 bg-clip-text text-transparent",children:"News Management"}),de.jsx("p",{className:"text-sm font-medium bg-gradient-to-r from-purple-500 to-pink-500 bg-clip-text text-transparent mt-1",children:"Manage system news and announcements"})]})]}),i?de.jsxs("div",{className:"flex space-x-3",children:[de.jsxs("button",{onClick:()=>{t(r),o(!1)},disabled:m,className:"inline-flex items-center px-5 py-2.5 border-2 border-gray-300 rounded-xl shadow-md text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 disabled:opacity-50 transition-all duration-200 transform hover:scale-105",children:[de.jsx(rx,{className:"h-5 w-5 mr-2"}),"Cancel"]}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){if(!a)return E5.play("error"),void y("Configuration ID not found","error");try{f(!0),console.log("Updating news for sysconfig ID:",a),console.log("News content:",e);const t=yield cx.updateSysconfig(a,{news:e});console.log("Update response:",t),t.success?(E5.play("success"),n(e),o(!1),y("News updated successfully","success")):(console.error("Update failed:",t),E5.play("error"),y(t.message||"Failed to update news","error"))}catch(t){console.error("Error saving news:",t),E5.play("error"),y(t instanceof Error?t.message:"Failed to save news","error")}finally{f(!1)}}),disabled:m||!w,className:"inline-flex items-center px-6 py-2.5 border border-transparent rounded-xl shadow-lg text-sm font-semibold text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:m?de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Saving..."]}):de.jsxs(de.Fragment,{children:[de.jsx(gp,{className:"h-5 w-5 mr-2"}),"Save Changes"]})})]}):de.jsxs("button",{onClick:()=>{o(!0)},className:"relative inline-flex items-center px-6 py-2.5 border border-transparent rounded-xl shadow-lg text-sm font-semibold text-white bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 transform hover:scale-105",children:[de.jsx(fg,{className:"h-5 w-5 mr-2"}),"Edit News"]})]})}),i&&w&&de.jsx("div",{className:"bg-gradient-to-r from-yellow-50 via-orange-50 to-yellow-50 border-l-4 border-gradient-to-b from-yellow-400 to-orange-400 px-6 py-4 shadow-md",children:de.jsxs("div",{className:"flex",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute inset-0 bg-yellow-400 rounded-full blur opacity-50 animate-pulse"}),de.jsx(Wp,{className:"relative h-6 w-6 text-orange-600"})]})}),de.jsx("div",{className:"ml-3",children:de.jsx("p",{className:"text-sm font-semibold bg-gradient-to-r from-yellow-800 to-orange-800 bg-clip-text text-transparent",children:'You have unsaved changes. Click "Save Changes" to apply your updates.'})})]})})]}),p&&de.jsx("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 border-2 border-red-200 rounded-2xl p-5 mb-6 shadow-lg",children:de.jsxs("div",{className:"flex",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute inset-0 bg-red-400 rounded-full blur opacity-50 animate-pulse"}),de.jsx(Wp,{className:"relative h-6 w-6 text-red-600"})]})}),de.jsxs("div",{className:"ml-3",children:[de.jsx("h3",{className:"text-sm font-bold bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent",children:"Error"}),de.jsx("p",{className:"text-sm text-red-700 mt-1 font-medium",children:p})]})]})}),de.jsxs("div",{className:"bg-white/80 backdrop-blur-sm shadow-xl rounded-2xl overflow-hidden border-2 border-transparent bg-clip-padding",style:{backgroundImage:"linear-gradient(white, white), linear-gradient(135deg, #667eea 0%, #f093fb 50%, #f5576c 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},children:[de.jsxs("div",{className:"px-6 py-5 bg-gradient-to-r from-purple-50 via-pink-50 to-orange-50 border-b-2 border-transparent",style:{borderImage:"linear-gradient(to right, #a855f7, #ec4899, #f97316) 1"},children:[de.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-700 to-pink-600 bg-clip-text text-transparent",children:"News Content"}),de.jsx("p",{className:"text-sm font-medium bg-gradient-to-r from-purple-500 to-pink-500 bg-clip-text text-transparent mt-1",children:i?"Edit the news content below. You can use plain text or add formatting.":"Current news content displayed to users."})]}),de.jsx("div",{className:"px-6 py-5",children:i?de.jsxs("div",{children:[de.jsx("label",{htmlFor:"news-editor",className:"block text-sm font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-3",children:"News Text"}),de.jsx("textarea",{id:"news-editor",rows:15,value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl shadow-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 font-mono text-sm transition-all duration-200 bg-gradient-to-br from-white to-purple-50",placeholder:"Enter news content here..."}),de.jsx("div",{className:"mt-3 flex items-center justify-between",children:de.jsxs("p",{className:"text-sm font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:["Character count: ",e.length]})})]}):de.jsx("div",{children:e?de.jsx("div",{className:"prose max-w-none",children:de.jsx("div",{className:"bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 rounded-xl p-6 border-2 border-purple-200 shadow-inner",children:de.jsx("pre",{className:"whitespace-pre-wrap font-sans text-gray-900",children:e})})}):de.jsxs("div",{className:"text-center py-12",children:[de.jsxs("div",{className:"relative inline-block",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full blur opacity-50"}),de.jsx(rg,{className:"relative mx-auto h-12 w-12 text-purple-500"})]}),de.jsx("h3",{className:"mt-4 text-sm font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"No news content"}),de.jsx("p",{className:"mt-2 text-sm font-medium text-gray-600",children:'Click "Edit News" to add content.'})]})})})]}),de.jsx("div",{className:"mt-6 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 border-2 border-blue-200 rounded-2xl p-5 shadow-lg",children:de.jsxs("div",{className:"flex",children:[de.jsx("div",{className:"flex-shrink-0 mr-3",children:de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full blur opacity-50"}),de.jsx(rg,{className:"relative h-6 w-6 text-blue-600"})]})}),de.jsxs("div",{className:"text-sm",children:[de.jsx("h4",{className:"font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-3",children:"Tips:"}),de.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 font-medium",children:[de.jsx("li",{children:"Keep news content concise and clear"}),de.jsx("li",{children:"Use line breaks to separate different announcements"}),de.jsx("li",{children:"Include dates for time-sensitive information"}),de.jsx("li",{children:"Review content before saving"})]})]})]})})]}),de.jsx(k2,{show:x.show,message:x.message,type:x.type,onClose:()=>b(c(l({},x),{show:!1}))})]})},requiredRoles:["manager","admin"]},{path:"/settings",element:()=>{const[e,t]=ee.useState(null),[r,n]=ee.useState({}),[a,s]=ee.useState(!0),[i,o]=ee.useState(!1),[d,u]=ee.useState(!1),[m,f]=ee.useState({}),[p,g]=ee.useState(""),[x,b]=ee.useState(!1),[v,y]=ee.useState(!1),[w,j]=ee.useState(!1),[N,S]=ee.useState(null),[k,C]=ee.useState(!1),[E,T]=ee.useState(null),[_,A]=ee.useState("");ee.useEffect(()=>{I()},[]);const I=()=>h(void 0,null,function*(){try{s(!0);const e=yield cx.getActiveSystemSetup();if(!e.success||!e.data)throw new Error(e.message||"Failed to load configuration");t(e.data),n(e.data)}catch(e){console.error("Load config error:",e),f({general:e instanceof Error?e.message:"Failed to load configuration"})}finally{s(!1)}}),P=()=>h(void 0,null,function*(){try{if(o(!0),g(""),f({}),!(null==e?void 0:e.id))throw new Error("No configuration ID found");const a={};if(r.smtp_server!==e.smtp_server&&(a.smtp_server=r.smtp_server),r.smtp_port!==e.smtp_port&&(a.smtp_port=r.smtp_port),r.smtp_username!==e.smtp_username&&(a.smtp_username=r.smtp_username),r.smtp_password!==e.smtp_password&&(a.smtp_password=r.smtp_password),r.mssql_server!==e.mssql_server&&(a.mssql_server=r.mssql_server),r.mssql_port!==e.mssql_port&&(a.mssql_port=r.mssql_port),r.mssql_database!==e.mssql_database&&(a.mssql_database=r.mssql_database),r.mssql_username!==e.mssql_username&&(a.mssql_username=r.mssql_username),r.mssql_password!==e.mssql_password&&(a.mssql_password=r.mssql_password),0===Object.keys(a).length)return g("No changes to save"),void setTimeout(()=>g(""),3e3);const s=yield cx.updateSystemSetup(e.id,a);if(!s.success||!s.data)throw new Error(s.message||"Failed to save configuration");t(s.data),n(s.data),u(!1),g("Configuration updated successfully!"),setTimeout(()=>g(""),3e3)}catch(a){console.error("Save error:",a),f({general:a instanceof Error?a.message:"Failed to save configuration"})}finally{o(!1)}}),D=()=>{n(e||{}),f({}),u(!1)},O=()=>!!e&&(r.smtp_server!==e.smtp_server||r.smtp_port!==e.smtp_port||r.smtp_username!==e.smtp_username||r.smtp_password!==e.smtp_password||r.mssql_server!==e.mssql_server||r.mssql_port!==e.mssql_port||r.mssql_database!==e.mssql_database||r.mssql_username!==e.mssql_username||r.mssql_password!==e.mssql_password);return a?de.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/10 to-yellow-50/10 flex items-center justify-center",children:de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx(Wf,{className:"h-6 w-6 animate-spin text-orange-600"}),de.jsx("span",{className:"text-gray-600",children:"Loading system configuration..."})]})}):de.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/10 to-yellow-50/10",children:de.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[de.jsx("div",{className:"mb-8",children:de.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[de.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-400 to-amber-500 rounded-xl shadow-md",children:de.jsx(Ap,{className:"h-6 w-6 text-white"})}),de.jsxs("div",{children:[de.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-orange-600 via-amber-600 to-yellow-600 bg-clip-text text-transparent",children:"System Setup"}),de.jsx("p",{className:"text-sm text-gray-600",children:"System and email configuration"})]})]})}),p&&de.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-center space-x-3",children:[de.jsx(fp,{className:"h-5 w-5 text-green-600"}),de.jsx("span",{className:"text-green-800",children:p})]}),m.general&&de.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center space-x-3",children:[de.jsx(Wp,{className:"h-5 w-5 text-red-600"}),de.jsx("span",{className:"text-red-800",children:m.general})]}),de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[de.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden h-fit",children:[de.jsxs("div",{className:"bg-gradient-to-r from-orange-500 via-orange-600 to-amber-500 px-6 py-4",children:[de.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center",children:[de.jsx(Cg,{className:"h-5 w-5 mr-2"}),"System Configuration"]}),de.jsx("p",{className:"text-orange-100 text-sm mt-1",children:"Read-only system information"})]}),de.jsxs("div",{className:"p-6 space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"System Name"}),de.jsx("input",{type:"text",value:(null==e?void 0:e.system_name)||"N/A",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"System Updated"}),de.jsx("input",{type:"text",value:(L=(null==e?void 0:e.system_updated)||null,L?new Date(L).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed"})]}),de.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-start space-x-2",children:[de.jsx(rg,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),de.jsx("p",{className:"text-sm text-blue-800",children:"These fields are read-only and managed by the system administrator."})]})]})]}),de.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden h-fit",children:[de.jsx("div",{className:"bg-gradient-to-r from-amber-500 via-orange-600 to-yellow-500 px-6 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center",children:[de.jsx(Bp,{className:"h-5 w-5 mr-2"}),"Email Setup"]}),de.jsx("p",{className:"text-orange-100 text-sm mt-1",children:"SMTP server configuration"})]}),!d&&de.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-white/90 hover:bg-white text-orange-700 rounded-lg font-medium transition-all duration-200 flex items-center shadow-md hover:shadow-lg",children:[de.jsx(gg,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),de.jsxs("div",{className:"p-6 space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Server"}),de.jsx("input",{type:"text",value:r.smtp_server||"",onChange:e=>n(t=>c(l({},t),{smtp_server:e.target.value})),disabled:!d,placeholder:"smtp.example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:cursor-not-allowed transition-all"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Port"}),de.jsx("input",{type:"number",value:r.smtp_port||587,onChange:e=>n(t=>c(l({},t),{smtp_port:parseInt(e.target.value)||587})),disabled:!d,placeholder:"587",min:"1",max:"65535",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:cursor-not-allowed transition-all"}),de.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Common ports: 25, 465 (SSL), 587 (TLS), 2525"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Username"}),de.jsx("input",{type:"text",value:r.smtp_username||"",onChange:e=>n(t=>c(l({},t),{smtp_username:e.target.value})),disabled:!d,placeholder:"username@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:cursor-not-allowed transition-all"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Password"}),de.jsxs("div",{className:"relative",children:[de.jsx("input",{type:x?"text":"password",value:r.smtp_password||"",onChange:e=>n(t=>c(l({},t),{smtp_password:e.target.value})),disabled:!d,placeholder:"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:cursor-not-allowed transition-all pr-10"}),d&&de.jsx("button",{type:"button",onClick:()=>b(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):de.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),d&&de.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[de.jsxs("button",{onClick:D,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[de.jsx(rx,{className:"h-4 w-4 mr-2"}),"Cancel"]}),de.jsx("button",{onClick:P,disabled:i||!O(),className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-amber-600 text-white rounded-lg hover:from-orange-600 hover:to-amber-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center shadow-md hover:shadow-lg",children:i?de.jsxs(de.Fragment,{children:[de.jsx(Wf,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):de.jsxs(de.Fragment,{children:[de.jsx(gp,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]}),!d&&de.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Email Address"}),de.jsxs("div",{className:"flex space-x-3",children:[de.jsx("input",{type:"email",value:_,onChange:e=>A(e.target.value),placeholder:"your.email@example.com",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all"}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){try{C(!0),T(null),f({});if(!_||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_))return T({success:!1,message:"Please enter a valid email address"}),setTimeout(()=>T(null),5e3),void C(!1);const e=yield cx.testSmtpConnection(_);if(console.log("Email test result:",e),e.success)T({success:!0,message:e.message||`Test email sent successfully to ${_}!`}),setTimeout(()=>T(null),8e3);else{const t=e.message||e.error||"Failed to send test email";console.error("Email test failed:",t),T({success:!1,message:t}),setTimeout(()=>T(null),1e4)}}catch(e){console.error("Test email error:",e),T({success:!1,message:"Network error. Please try again."}),setTimeout(()=>T(null),8e3)}finally{C(!1)}}),disabled:k||!_,className:"px-6 py-2 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-lg hover:from-amber-600 hover:to-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center shadow-md hover:shadow-lg whitespace-nowrap",children:k?de.jsxs(de.Fragment,{children:[de.jsx(Wf,{className:"h-5 w-5 mr-2 animate-spin"}),"Sending..."]}):de.jsxs(de.Fragment,{children:[de.jsx(Bp,{className:"h-5 w-5 mr-2"}),"Send Test"]})})]}),E&&de.jsx("div",{className:"mt-3 p-4 rounded-lg border "+(E.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:de.jsxs("div",{className:"flex items-start space-x-2",children:[E.success?de.jsx(fp,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}):de.jsx(Wp,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),de.jsxs("div",{className:"flex-1",children:[de.jsx("p",{className:"text-sm font-medium "+(E.success?"text-green-800":"text-red-800"),children:E.success?"Success":"Failed"}),de.jsx("p",{className:"text-sm mt-1 "+(E.success?"text-green-700":"text-red-700"),children:E.message})]})]})})]}),!d&&de.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg flex items-start space-x-2",children:[de.jsx(rg,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),de.jsxs("div",{className:"text-sm text-amber-800",children:[de.jsx("p",{className:"font-medium mb-1",children:"Email Configuration"}),de.jsx("p",{children:"Configure SMTP settings to enable email notifications for inspection alerts and reports. Use the test function to verify your settings."})]})]})]})]}),de.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden h-fit lg:col-span-2 xl:col-span-1",children:[de.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-500 px-6 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center",children:[de.jsx(Cg,{className:"h-5 w-5 mr-2"}),"MSSQL Database"]}),de.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Source database configuration"})]}),!d&&de.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-white/90 hover:bg-white text-blue-700 rounded-lg font-medium transition-all duration-200 flex items-center shadow-md hover:shadow-lg",children:[de.jsx(gg,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),de.jsxs("div",{className:"p-6 space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Server Host"}),de.jsx("input",{type:"text",value:r.mssql_server||"",onChange:e=>n(t=>c(l({},t),{mssql_server:e.target.value})),disabled:!d,placeholder:"localhost or 192.168.1.100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed transition-all"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Port"}),de.jsx("input",{type:"number",value:r.mssql_port||1433,onChange:e=>n(t=>c(l({},t),{mssql_port:parseInt(e.target.value)||1433})),disabled:!d,placeholder:"1433",min:"1",max:"65535",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed transition-all"}),de.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Default MSSQL port: 1433"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Database Name"}),de.jsx("input",{type:"text",value:r.mssql_database||"",onChange:e=>n(t=>c(l({},t),{mssql_database:e.target.value})),disabled:!d,placeholder:"production_db",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed transition-all"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),de.jsx("input",{type:"text",value:r.mssql_username||"",onChange:e=>n(t=>c(l({},t),{mssql_username:e.target.value})),disabled:!d,placeholder:"sa or database_user",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed transition-all"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),de.jsxs("div",{className:"relative",children:[de.jsx("input",{type:v?"text":"password",value:r.mssql_password||"",onChange:e=>n(t=>c(l({},t),{mssql_password:e.target.value})),disabled:!d,placeholder:"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed transition-all pr-10"}),d&&de.jsx("button",{type:"button",onClick:()=>y(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v?de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):de.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),d&&de.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[de.jsxs("button",{onClick:D,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[de.jsx(rx,{className:"h-4 w-4 mr-2"}),"Cancel"]}),de.jsx("button",{onClick:P,disabled:i||!O(),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center shadow-md hover:shadow-lg",children:i?de.jsxs(de.Fragment,{children:[de.jsx(Wf,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):de.jsxs(de.Fragment,{children:[de.jsx(gp,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]}),!d&&de.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[de.jsx("button",{onClick:()=>h(void 0,null,function*(){try{j(!0),S(null),f({});const e=yield cx.testMssqlConnection();if(console.log("Connection test result:",e),e.success)S({success:!0,message:e.message||"Connection successful!"}),setTimeout(()=>S(null),5e3);else{const t=e.message||"Connection failed";console.error("Connection test failed:",t),S({success:!1,message:t}),setTimeout(()=>S(null),8e3)}}catch(e){console.error("Test connection error:",e),S({success:!1,message:"Network error. Please try again."}),setTimeout(()=>S(null),8e3)}finally{j(!1)}}),disabled:w,className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center shadow-md hover:shadow-lg",children:w?de.jsxs(de.Fragment,{children:[de.jsx(Wf,{className:"h-5 w-5 mr-2 animate-spin"}),"Testing Connection..."]}):de.jsxs(de.Fragment,{children:[de.jsx(Cg,{className:"h-5 w-5 mr-2"}),"Test MSSQL Connection"]})}),N&&de.jsx("div",{className:"mt-3 p-4 rounded-lg border "+(N.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:de.jsxs("div",{className:"flex items-start space-x-2",children:[N.success?de.jsx(fp,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}):de.jsx(Wp,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),de.jsxs("div",{className:"flex-1",children:[de.jsx("p",{className:"text-sm font-medium "+(N.success?"text-green-800":"text-red-800"),children:N.success?"Success":"Failed"}),de.jsx("p",{className:"text-sm mt-1 "+(N.success?"text-green-700":"text-red-700"),children:N.message})]})]})})]}),!d&&de.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-start space-x-2",children:[de.jsx(rg,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),de.jsxs("div",{className:"text-sm text-blue-800",children:[de.jsx("p",{className:"font-medium mb-1",children:"Database Configuration"}),de.jsx("p",{children:"Configure MSSQL connection to import data from the source database for inf_checkin and inf_lotinput tables."})]})]})]})]})]})]})});var L},requiredRoles:["manager","admin"]}]},{groupName:"Profile",routes:[{path:"/profile/edit",element:()=>{const e=Cm(),{user:t,checkAuth:r,updateUser:n}=Df(),{options:a,loading:s}=fx(),[i,o]=ee.useState({name:"",email:"",position:"",work_shift:"",team:"",linevi:""}),[d,u]=ee.useState({}),[m,f]=ee.useState(!1),[p,g]=ee.useState(null),[x,b]=ee.useState(!1);ee.useEffect(()=>{t&&!x&&(console.log(" Initial load: Setting form data from currentUser"),o({name:t.name||"",email:t.email||"",position:t.position||"",work_shift:t.work_shift||"",team:t.team||"",linevi:t.linevi||""}),b(!0))},[t,x]),ee.useEffect(()=>{t?console.log(" currentUser exists:",t.id,t.name):(console.log(" No currentUser, redirecting to login"),e("/login"))},[t,e]);const v=(e,t)=>{o(r=>c(l({},r),{[e]:t})),d[e]&&u(t=>c(l({},t),{[e]:void 0})),g(null)};if(!t)return null;return de.jsxs("div",{className:"space-y-6",children:[de.jsx(_5,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Profile",href:"/profile/edit"},{label:"Edit Profile",href:"/profile/edit"}]}),de.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-green-500 via-emerald-600 to-teal-600 p-8 shadow-xl",children:[de.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),de.jsxs("div",{className:"relative flex justify-between items-start",children:[de.jsxs("div",{children:[de.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-lg",children:"Edit Profile"}),de.jsx("p",{className:"text-indigo-100 text-lg",children:"Update your personal and work information"})]}),de.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-full bg-white bg-opacity-20 backdrop-blur-sm flex items-center justify-center shadow-lg",children:de.jsx(Hg,{className:"h-8 w-8 text-white"})})]})]}),p&&de.jsx("div",{className:"relative animate-slideDown",children:de.jsx("div",{className:"mb-6",children:de.jsx("div",{className:`\n              p-5 rounded-xl border-l-4 shadow-2xl transform transition-all duration-300\n              ${"success"===p.type?"bg-green-100 border-green-600":""}\n              ${"error"===p.type?"bg-red-100 border-red-600":""}\n              ${"warning"===p.type?"bg-yellow-100 border-yellow-600":""}\n              ${"info"===p.type?"bg-blue-100 border-blue-600":""}\n            `,children:de.jsxs("div",{className:"flex items-start justify-between",children:[de.jsxs("div",{className:"flex items-start",children:[de.jsxs("div",{className:"flex-shrink-0 mr-4",children:["success"===p.type&&de.jsx("svg",{className:"w-7 h-7 text-green-700",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"error"===p.type&&de.jsx("svg",{className:"w-7 h-7 text-red-700",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"warning"===p.type&&de.jsx("svg",{className:"w-7 h-7 text-yellow-700",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})]}),de.jsx("div",{className:"flex-1",children:de.jsx("p",{className:`text-base font-bold ${"success"===p.type?"text-green-900":""}${"error"===p.type?"text-red-900":""}${"warning"===p.type?"text-yellow-900":""}${"info"===p.type?"text-blue-900":""}`,children:p.message})})]}),de.jsx("button",{type:"button",onClick:()=>g(null),className:`ml-4 flex-shrink-0 rounded-md p-1 inline-flex hover:opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 ${"success"===p.type?"text-green-600 focus:ring-green-500":""}${"error"===p.type?"text-red-600 focus:ring-red-500":""}${"warning"===p.type?"text-yellow-600 focus:ring-yellow-500":""}${"info"===p.type?"text-blue-600 focus:ring-blue-500":""}`,children:de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})},p.message+p.type),de.jsxs("form",{onSubmit:e=>h(void 0,null,function*(){if(e.preventDefault(),!t)return;const r=(e=>{const t={},r=(null==(n=e.name)?void 0:n.trim())?n.trim().length<2?"Name must be at least 2 characters":n.trim().length>100?"Name must be less than 100 characters":void 0:"Name is required";var n;r&&(t.name=r);const a=(null==(s=e.email)?void 0:s.trim())?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.trim())?void 0:"Please enter a valid email address":"Email is required";var s;a&&(t.email=a);const i=(e=>{if(e&&e.trim().length>100)return"Position must be less than 100 characters"})(e.position);return i&&(t.position=i),t})({name:i.name,email:i.email,position:i.position});if(ox(r))return u(r),void g({type:"error",message:"Please fix the errors below"});f(!0),g(null);try{console.log(" Sending update request...",{id:t.id,data:{name:i.name,email:i.email,position:i.position,work_shift:i.work_shift,team:i.team,linevi:i.linevi}});const e=yield yx.updateUser(t.id,{name:i.name,email:i.email,position:i.position,work_shift:i.work_shift,team:i.team,linevi:i.linevi});console.log(" Full response received:",e),console.log(" Response.success:",e.success),console.log(" Response.data:",e.data),e.success?(console.log(" Update successful!"),e.data?(console.log(" Updating form with server data:",e.data),o({name:e.data.name||"",email:e.data.email||"",position:e.data.position||"",work_shift:e.data.work_shift||"",team:e.data.team||"",linevi:e.data.linevi||""})):console.warn(" No data in response, keeping current form values"),e.data&&(n(e.data),console.log(" AuthContext updated with new profile data")),g({type:"success",message:"Profile updated successfully!"}),console.log(" Success notification set:",{type:"success",message:"Profile updated successfully!"}),window.scrollTo({top:0,behavior:"smooth"})):(console.error(" Update failed:",e.message),g({type:"error",message:e.message||"Failed to update profile"}),console.log(" Error notification set"))}catch(a){console.error(" Exception caught:",a),g({type:"error",message:a.message||"Network error occurred"})}finally{f(!1),console.log(" Save process completed")}}),children:[de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[de.jsxs(E4,{className:"shadow-lg border-0",children:[de.jsx(T4,{className:"pb-4 bg-gradient-to-r from-gray-50 to-blue-50",children:de.jsxs(_4,{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent flex items-center",children:[de.jsx(Kg,{className:"h-6 w-6 mr-2 text-indigo-600"}),"Basic Information"]})}),de.jsx(A4,{className:"p-6",children:de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:de.jsx(Kg,{className:"w-5 h-5"})}),de.jsx("input",{type:"text",value:i.name,onChange:e=>v("name",e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 "+(d.name?"border-red-400 bg-red-50":"border-gray-300 hover:border-gray-400"),placeholder:"Enter your full name"})]}),d.name&&de.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[de.jsx(zp,{className:"w-4 h-4 mr-1"}),d.name]})]}),de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:de.jsx(Bp,{className:"w-5 h-5"})}),de.jsx("input",{type:"email",value:i.email,onChange:e=>v("email",e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 "+(d.email?"border-red-400 bg-red-50":"border-gray-300 hover:border-gray-400"),placeholder:"Enter your email address"})]}),d.email&&de.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[de.jsx(zp,{className:"w-4 h-4 mr-1"}),d.email]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:de.jsx(Zf,{className:"w-5 h-5"})}),de.jsx("input",{type:"text",value:i.position,onChange:e=>v("position",e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 "+(d.position?"border-red-400 bg-red-50":"border-gray-300 hover:border-gray-400"),placeholder:"Enter your position"})]}),d.position&&de.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[de.jsx(zp,{className:"w-4 h-4 mr-1"}),d.position]})]})]})})]}),de.jsxs(E4,{className:"shadow-lg border-0",children:[de.jsx(T4,{className:"pb-4 bg-gradient-to-r from-gray-50 to-blue-50",children:de.jsxs(_4,{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent flex items-center",children:[de.jsx(Zf,{className:"h-6 w-6 mr-2 text-indigo-600"}),"Work Information"]})}),de.jsx(A4,{className:"p-6",children:de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Shift"}),de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 z-10",children:de.jsx(Tp,{className:"w-5 h-5"})}),de.jsxs("select",{value:i.work_shift,onChange:e=>v("work_shift",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 hover:border-gray-400 cursor-pointer appearance-none",disabled:s,children:[de.jsx("option",{value:"",children:"Select shift"}),a.map(e=>de.jsx("option",{value:e.value,children:e.label},e.value))]})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"FVI Line"}),de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:de.jsx(Cp,{className:"w-5 h-5"})}),de.jsx("input",{type:"text",value:i.linevi,onChange:e=>v("linevi",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 hover:border-gray-400",placeholder:"Enter FVI line"})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:de.jsx(ep,{className:"w-5 h-5"})}),de.jsx("input",{type:"text",value:i.team,onChange:e=>v("team",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 hover:border-gray-400",placeholder:"Enter team name"})]})]})]})})]})]}),de.jsxs("div",{className:"mt-6 bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 border border-gray-200 rounded-lg shadow-lg",children:[de.jsx(A5,{type:"button",variant:"secondary",onClick:()=>{e(-1)},disabled:m,children:"Cancel"}),de.jsx(A5,{type:"submit",variant:"primary",disabled:m,className:"bg-gradient-to-r from-green-500 via-emerald-600 to-teal-600 hover:from-green-600 hover:via-emerald-700 hover:to-teal-700",children:m?de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Saving..."]}):de.jsxs(de.Fragment,{children:[de.jsx(fp,{className:"w-5 h-5 mr-2"}),"Save Changes"]})})]})]}),de.jsx("style",{children:"\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            transform: translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .animate-slideDown {\n          animation: slideDown 0.3s ease-out;\n        }\n      "})]})},requiredRoles:["user","manager","admin"]},{path:"/profile/password",element:()=>{const e=Cm(),{user:t}=Df(),[r,n]=ee.useState({newPassword:"",confirmPassword:""}),[a,s]=ee.useState({}),[i,o]=ee.useState(!1),[d,u]=ee.useState(null),[m,f]=ee.useState(!1),[p,g]=ee.useState(!1);ee.useEffect(()=>{t||e("/login")},[t,e]);const x=(e,t)=>{n(r=>c(l({},r),{[e]:t})),a[e]&&s(t=>c(l({},t),{[e]:void 0})),u(null)};if(!t)return null;return de.jsxs("div",{className:"space-y-6",children:[de.jsx(_5,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Profile",href:"/profile/edit"},{label:"Change Password",href:"/profile/password"}]}),de.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-green-500 via-emerald-600 to-teal-600 p-8 shadow-xl",children:[de.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),de.jsxs("div",{className:"relative flex justify-between items-start",children:[de.jsxs("div",{children:[de.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-lg",children:"Change Password"}),de.jsx("p",{className:"text-indigo-100 text-lg",children:"Secure your account with a new password"})]}),de.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-full bg-white bg-opacity-20 backdrop-blur-sm flex items-center justify-center shadow-lg",children:de.jsx(lg,{className:"h-8 w-8 text-white"})})]})]}),d&&de.jsx("div",{className:"relative animate-slideDown",children:de.jsx("div",{className:"mb-6",children:de.jsx("div",{className:`\n              p-5 rounded-xl border-l-4 shadow-2xl transform transition-all duration-300\n              ${"success"===d.type?"bg-green-100 border-green-600":""}\n              ${"error"===d.type?"bg-red-100 border-red-600":""}\n              ${"warning"===d.type?"bg-yellow-100 border-yellow-600":""}\n              ${"info"===d.type?"bg-blue-100 border-blue-600":""}\n            `,children:de.jsxs("div",{className:"flex items-start justify-between",children:[de.jsxs("div",{className:"flex items-start",children:[de.jsxs("div",{className:"flex-shrink-0 mr-4",children:["success"===d.type&&de.jsx("svg",{className:"w-7 h-7 text-green-700",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"error"===d.type&&de.jsx("svg",{className:"w-7 h-7 text-red-700",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"warning"===d.type&&de.jsx("svg",{className:"w-7 h-7 text-yellow-700",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})]}),de.jsx("div",{className:"flex-1",children:de.jsx("p",{className:`text-base font-bold ${"success"===d.type?"text-green-900":""}${"error"===d.type?"text-red-900":""}${"warning"===d.type?"text-yellow-900":""}${"info"===d.type?"text-blue-900":""}`,children:d.message})})]}),de.jsx("button",{type:"button",onClick:()=>u(null),className:`ml-4 flex-shrink-0 rounded-md p-1 inline-flex hover:opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 ${"success"===d.type?"text-green-600 focus:ring-green-500":""}${"error"===d.type?"text-red-600 focus:ring-red-500":""}${"warning"===d.type?"text-yellow-600 focus:ring-yellow-500":""}${"info"===d.type?"text-blue-600 focus:ring-blue-500":""}`,children:de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})},d.message+d.type),de.jsx("form",{onSubmit:e=>h(void 0,null,function*(){if(e.preventDefault(),!t)return;const a=(e=>{const t={},r=(n=e.newPassword)?n.length<6?"Password must be at least 6 characters":n.length>128?"Password must be less than 128 characters":void 0:"Password is required";var n;r&&(t.newPassword=r);const a=((e,t)=>t?e!==t?"Passwords do not match":void 0:"Please confirm your password")(e.newPassword,e.confirmPassword);return a&&(t.confirmPassword=a),t})({newPassword:r.newPassword,confirmPassword:r.confirmPassword});if(ox(a))return s(a),void u({type:"error",message:"Please fix the errors below"});o(!0),u(null);try{const e=yield yx.changePassword(t.id,{currentPassword:"",newPassword:r.newPassword,confirmPassword:r.confirmPassword});e.success?(u({type:"success",message:"Password changed successfully!"}),n({newPassword:"",confirmPassword:""})):u({type:"error",message:e.message||"Failed to change password"})}catch(i){console.error("Error changing password:",i),u({type:"error",message:i.message||"Network error occurred"})}finally{o(!1)}}),children:de.jsxs(E4,{className:"shadow-lg border-0",children:[de.jsx(T4,{className:"pb-4 bg-gradient-to-r from-gray-50 to-blue-50",children:de.jsxs(_4,{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent flex items-center",children:[de.jsx(ag,{className:"h-6 w-6 mr-2 text-indigo-600"}),"New Password"]})}),de.jsx(A4,{className:"p-6",children:de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["New Password ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:de.jsx(ag,{className:"w-5 h-5"})}),de.jsx("input",{type:m?"text":"password",value:r.newPassword,onChange:e=>x("newPassword",e.target.value),className:"w-full pl-10 pr-12 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 "+(a.newPassword?"border-red-400 bg-red-50":"border-gray-300 hover:border-gray-400"),placeholder:"Enter your new password"}),de.jsx("button",{type:"button",onClick:()=>f(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-indigo-600 transition-colors",children:m?de.jsx(Hp,{className:"w-5 h-5"}):de.jsx(Gp,{className:"w-5 h-5"})})]}),a.newPassword&&de.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[de.jsx(zp,{className:"w-4 h-4 mr-1"}),a.newPassword]}),de.jsxs("p",{className:"mt-1 text-sm text-gray-500 flex items-center",children:[de.jsx(Tg,{className:"w-4 h-4 mr-1"}),"Password must be at least 6 characters"]})]}),de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm New Password ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:de.jsx(fp,{className:"w-5 h-5"})}),de.jsx("input",{type:p?"text":"password",value:r.confirmPassword,onChange:e=>x("confirmPassword",e.target.value),className:"w-full pl-10 pr-12 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 "+(a.confirmPassword?"border-red-400 bg-red-50":"border-gray-300 hover:border-gray-400"),placeholder:"Confirm your new password"}),de.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-indigo-600 transition-colors",children:p?de.jsx(Hp,{className:"w-5 h-5"}):de.jsx(Gp,{className:"w-5 h-5"})})]}),a.confirmPassword&&de.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[de.jsx(zp,{className:"w-4 h-4 mr-1"}),a.confirmPassword]})]}),de.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:de.jsxs("div",{className:"flex items-start",children:[de.jsx(Tg,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),de.jsxs("div",{className:"text-sm text-blue-900",children:[de.jsxs("p",{className:"font-semibold mb-2 flex items-center",children:[de.jsx(Og,{className:"w-4 h-4 mr-1 text-blue-600"}),"Security Tips"]}),de.jsxs("ul",{className:"space-y-1 text-xs",children:[de.jsxs("li",{className:"flex items-start",children:[de.jsx("span",{className:"mr-2",children:""}),de.jsx("span",{children:"Use a strong, unique password with mix of characters"})]}),de.jsxs("li",{className:"flex items-start",children:[de.jsx("span",{className:"mr-2",children:""}),de.jsx("span",{children:"Don't reuse passwords from other accounts"})]}),de.jsxs("li",{className:"flex items-start",children:[de.jsx("span",{className:"mr-2",children:""}),de.jsx("span",{children:"Consider using a password manager for safety"})]})]})]})]})})]})}),de.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 border-t border-gray-200",children:[de.jsx(A5,{type:"button",variant:"secondary",onClick:()=>{e(-1)},disabled:i,children:"Cancel"}),de.jsx(A5,{type:"submit",variant:"primary",disabled:i,className:"bg-gradient-to-r from-green-500 via-emerald-600 to-teal-600 hover:from-green-600 hover:via-emerald-700 hover:to-teal-700",children:i?de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Changing..."]}):de.jsxs(de.Fragment,{children:[de.jsx(ag,{className:"w-5 h-5 mr-2"}),"Change Password"]})})]})]})}),de.jsx("style",{children:"\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            transform: translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .animate-slideDown {\n          animation: slideDown 0.3s ease-out;\n        }\n      "})]})},requiredRoles:["user","manager","admin"]}]},{groupName:"Dashboard",routes:[{path:"dashboard/lar-dashboard",element:h3,requiredRoles:["user","manager","admin","viewer"]},{path:"dashboard/dprm-dashboard",element:h3,requiredRoles:["user","manager","admin","viewer"]},{path:"dashboard/underkill-dashboard",element:h3,requiredRoles:["user","manager","admin","viewer"]}]},{groupName:"Master Data - Code Entities",routes:[{path:"/master-data/defects",element:()=>{const[e,t]=ee.useState(""),[r,n]=ee.useState([]);console.log(" DefectsPage - Component rendered with state:",{defectGroupFilter:e,defectGroupsCount:r.length}),ee.useEffect(()=>{h(void 0,null,function*(){try{console.log(" DefectsPage - Fetching defect groups...");const e=yield y2.get({});if(console.log(" DefectsPage - Defect groups response:",e),e.success&&e.data){const t=Array.from(new Set(e.data.map(e=>e.defect_group).filter(e=>!!e))).sort();console.log(" DefectsPage - Extracted defect groups:",t),n(t)}}catch(e){console.error(" DefectsPage - Failed to fetch defect groups:",e)}})},[]);const a={getAll:e=>h(void 0,null,function*(){console.log(" Defect Page - getAll called with params:",e);try{const t=yield y2.get(e);return console.log(" Defect Page - getAll response:",{success:t.success,hasData:!!t.data,dataType:typeof t.data,isDataArray:Array.isArray(t.data),dataLength:Array.isArray(t.data)?t.data.length:"N/A",message:t.message,fullResponse:t}),t.success&&t.data?t.data.data&&Array.isArray(t.data.data)?(console.log(" Defect Page - Found nested data structure"),{success:!0,data:t.data.data,pagination:t.data.pagination,message:t.message}):Array.isArray(t.data)?(console.log(" Defect Page - Direct array response"),t):(console.error(" Defect Page - Unexpected data structure:",{dataType:typeof t.data,dataKeys:"object"==typeof t.data?Object.keys(t.data):null,sampleData:t.data}),E5.play("error"),{success:!1,data:[],message:"Unexpected response structure from server"}):(console.error(" Defect Page - No success or no data:",t),E5.play("error"),{success:!1,data:[],message:t.message||"No data received from server"})}catch(t){return console.error(" Defect Page - getAll error:",t),E5.play("error"),{success:!1,data:[],message:t instanceof Error?t.message:"Failed to load data"}}}),getById:e=>h(void 0,null,function*(){try{const t=yield y2.getByCode(parseInt(e));return t.success||E5.play("error"),t}catch(t){throw E5.play("error"),t}}),create:e=>h(void 0,null,function*(){try{const t=yield y2.create(e);return t.success?E5.play("success"):E5.play("error"),t}catch(t){throw E5.play("error"),t}}),update:(e,t)=>h(void 0,null,function*(){try{const r=yield y2.update(parseInt(e),t);return r.success?E5.play("success"):E5.play("error"),r}catch(r){throw E5.play("error"),r}}),delete:e=>h(void 0,null,function*(){try{const t=yield y2.delete(parseInt(e));return t.success?E5.play("success"):E5.play("error"),t}catch(t){throw E5.play("error"),t}}),getStats:()=>h(void 0,null,function*(){console.log(" Defect Page - getStats called");try{const e=yield y2.getStats();if(console.log(" Defect Page - getStats response:",e),e.success&&e.data){let t;return console.log(" Defect Page - Raw stats data:",e.data),t=e.data.totals?{total:e.data.totals.all||0,active:e.data.totals.active||0,inactive:e.data.totals.inactive||0}:e.data.overview?{total:e.data.overview.total||0,active:e.data.overview.active||0,inactive:e.data.overview.inactive||0}:{total:e.data.total||0,active:e.data.active||0,inactive:e.data.inactive||0},console.log(" Defect Page - Processed stats:",t),{stats:t,message:e.message||"Statistics retrieved successfully"}}return E5.play("error"),{stats:{total:0,active:0,inactive:0},message:e.message||"Failed to load statistics"}}catch(e){return console.error(" Defect Page - getStats error:",e),E5.play("error"),{stats:{total:0,active:0,inactive:0},message:e instanceof Error?e.message:"Failed to load statistics"}}}),toggleStatus:e=>h(void 0,null,function*(){console.log(" Defect Page - toggleStatus called for ID:",e);try{const t=yield y2.toggleStatus(parseInt(e));if(console.log(" Defect Page - toggleStatus response:",t),t.success)return E5.play("success"),{data:{},message:t.message||"Status updated successfully"};throw E5.play("error"),new Error(t.message||"Failed to toggle status")}catch(t){throw console.error(" Defect Page - toggleStatus error:",t),E5.play("error"),t}})},s=[{key:"defect_group",label:"Defect Group",sortable:!0,width:"w-1/6",render:(e,t)=>de.jsx("span",{className:"text-sm text-gray-900",children:t.defect_group||"-"})}],i=de.jsxs(de.Fragment,{children:[de.jsxs("div",{className:"relative",children:[de.jsxs("select",{value:e,onChange:r=>{const n=r.target.value;console.log(" DefectsPage - handleDefectGroupChange called with value:",n),console.log(" DefectsPage - Current defectGroupFilter state:",e),t(n),console.log(" DefectsPage - setDefectGroupFilter called with:",n)},className:"block appearance-none bg-white border border-gray-300 rounded-xl px-4 py-3 pr-10 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 cursor-pointer shadow-sm",children:[de.jsx("option",{value:"",children:"All Groups"}),r.map(e=>de.jsx("option",{value:e,children:e},e))]}),de.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:de.jsx(bp,{className:"h-5 w-5 text-gray-400"})})]}),de.jsxs("div",{className:"text-xs text-gray-500 ml-2",children:["Groups: ",r.length,' | Selected: "',e,'"']})]}),o=te.useMemo(()=>e?{defect_group:e}:{},[e]);te.useEffect(()=>{console.log(" DefectsPage - defectGroupFilter changed:",e),console.log(" DefectsPage - customFilterParams:",o)},[e,o]);const[l,c]=ee.useState(!1),[d,u]=ee.useState("");te.useEffect(()=>{},[]);return de.jsx(Z5,{entityName:"Defect",entityNamePlural:"Defects",entityDescription:"Defect types used in quality control processes",service:a,breadcrumbItems:[{label:"Home",href:"/"},{label:"Master Data",href:"/master"},{label:"Defects"}],idValidationRules:{minValue:1,maxValue:2147483647,required:!0},nameValidationRules:{minLength:3,maxLength:100,required:!0,pattern:/^[a-zA-Z0-9\s\-_.,()]+$/,patternMessage:"Name can only contain letters, numbers, spaces, and common punctuation (-, _, ., , ())"},descriptionValidationRules:{minLength:0,maxLength:1e3,required:!1},idPlaceholder:"Auto-generated ID",namePlaceholder:"Enter defect name (e.g., Surface Scratch, Dimensional Error)",descriptionPlaceholder:"Enter detailed description of the defect type",customColumns:s,additionalFilters:i,customFilterParams:o,customFormFields:e=>{const t=(null==e?void 0:e.defect_group)||"",n=r.includes(t),a=l||!n&&t;return de.jsxs("div",{className:"md:col-span-1",children:[de.jsx("label",{htmlFor:"defect_group",className:"block text-sm font-medium text-gray-700 mb-1",children:"Defect Group"}),a?de.jsxs("div",{className:"flex gap-2",children:[de.jsx("input",{type:"text",id:"defect_group",name:"defect_group",defaultValue:t,placeholder:"Enter new defect group",maxLength:100,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500"}),de.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-3 py-2 text-sm bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",title:"Switch to dropdown",children:""})]}):de.jsxs("div",{className:"flex gap-2",children:[de.jsxs("select",{id:"defect_group",name:"defect_group",defaultValue:t,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",children:[de.jsx("option",{value:"",children:"-- Select Group --"}),r.map(e=>de.jsx("option",{value:e,children:e},e))]}),de.jsx("button",{type:"button",onClick:()=>c(!0),className:"px-3 py-2 text-sm bg-orange-500 text-white rounded-md hover:bg-orange-600",title:"Add new group",children:"+"})]})]})},onFormDataExtract:e=>({defect_group:e.get("defect_group")||void 0}),debugMode:!0})},requiredRoles:["admin","manager"]},{path:"/master-data/customers",element:()=>{console.log(" CustomersPage - Component mounting...");const e={getEntities:e=>h(void 0,null,function*(){try{console.log(" CustomersPage - API Call Start:",e);const t=yield s4.getCustomers(l({},e));if(console.log(" CustomersPage - Raw API Response:",t),console.log(" CustomersPage - Response Structure Analysis:"),console.log("  - success:",t.success),console.log("  - data type:",typeof t.data),console.log("  - data keys:",t.data?Object.keys(t.data):"null"),t.success&&t.data){let e=[],r=null;if(Array.isArray(t.data))e=t.data,console.log(" CustomersPage - Direct array response, length:",e.length);else if(t.data&&"object"==typeof t.data&&"data"in t.data){const n=t.data;n.data&&Array.isArray(n.data)&&(e=n.data,r=n.pagination,console.log(" CustomersPage - Paginated response structure detected"),console.log("  - entities length:",e.length),console.log("  - pagination:",r))}else if(console.warn(" CustomersPage - Unexpected response structure:",t.data),t.data&&"object"==typeof t.data){const r=Object.values(t.data).find(e=>Array.isArray(e));e=r||[]}const n=e.filter(e=>!(!e||"object"!=typeof e)||(console.warn(" CustomersPage - Invalid entity:",e),!1)).map(e=>({code:e.code||"",name:e.name||"Unknown Customer",is_active:void 0===e.is_active||e.is_active,created_by:e.created_by||0,updated_by:e.updated_by||0,created_at:e.created_at||new Date,updated_at:e.updated_at||new Date}));return console.log(" CustomersPage - Final processed entities:",n.length),{success:!0,data:n,message:t.message||"Customers loaded successfully",errors:t.errors||{},pagination:r||t.pagination}}return console.error(" CustomersPage - API returned success: false or no data"),E5.play("error"),{success:!1,data:[],message:t.message||"Failed to load customers",errors:t.errors||{},pagination:null}}catch(t){return console.error(" CustomersPage - Exception:",t),E5.play("error"),{success:!1,data:[],message:t instanceof Error?t.message:"Unknown error occurred",errors:{},pagination:null}}}),createEntity:e=>h(void 0,null,function*(){try{console.log(" CustomersPage - Creating customer:",e);const t=yield s4.createCustomer(e);return console.log(" CustomersPage - Create response:",t),t.success?E5.play("success"):E5.play("error"),{success:t.success,data:t.data,message:t.message,errors:t.errors||{}}}catch(t){return console.error(" CustomersPage - Create error:",t),E5.play("error"),{success:!1,message:t instanceof Error?t.message:"Failed to create customer",errors:{}}}}),updateEntity:(e,t)=>h(void 0,null,function*(){try{console.log(" CustomersPage - Updating customer:",e,t);const r=yield s4.updateCustomer(e,t);return console.log(" CustomersPage - Update response:",r),r.success?E5.play("success"):E5.play("error"),{success:r.success,data:r.data,message:r.message,errors:r.errors||{}}}catch(r){return console.error(" CustomersPage - Update error:",r),E5.play("error"),{success:!1,message:r instanceof Error?r.message:"Failed to update customer",errors:{}}}}),deleteEntity:e=>h(void 0,null,function*(){try{console.log(" CustomersPage - Deleting customer:",e);const t=yield s4.deleteCustomer(e);return console.log(" CustomersPage - Delete response:",t),t.success?E5.play("success"):E5.play("error"),{success:t.success,message:t.message||"Customer deleted successfully"}}catch(t){return console.error(" CustomersPage - Delete error:",t),E5.play("error"),{success:!1,message:t instanceof Error?t.message:"Failed to delete customer"}}}),getStats:()=>h(void 0,null,function*(){try{console.log(" CustomersPage - Fetching stats...");const e=yield s4.getStats();return console.log(" CustomersPage - Stats response:",e),e.success&&e.data?{success:!0,data:{total:e.data.total||e.data.total||0,active:e.data.active||e.data.active||0,inactive:e.data.inactive||e.data.inactive||0}}:{success:!1,data:{total:0,active:0,inactive:0},message:e.message||"Failed to load statistics"}}catch(e){return console.error(" CustomersPage - Stats error:",e),{success:!1,data:{total:0,active:0,inactive:0},message:e instanceof Error?e.message:"Failed to load statistics"}}}),toggleEntityStatus:e=>h(void 0,null,function*(){try{console.log(" CustomersPage - Toggling status for:",e);const t=yield s4.toggleCustomerStatus(e);return console.log(" CustomersPage - Toggle response:",t),t.success?E5.play("success"):E5.play("error"),{success:t.success,data:t.data,message:t.message||"Status updated successfully"}}catch(t){return console.error(" CustomersPage - Toggle error:",t),E5.play("error"),{success:!1,message:t instanceof Error?t.message:"Failed to toggle customer status"}}})};return de.jsx(a4,{entityName:"Customer",entityNamePlural:"Customers",entityDescription:"customer records for production and shipping",service:e,breadcrumbItems:[{label:"Home",href:"/"},{label:"Master Data",href:"/master"},{label:"Customers"}],codeValidationRules:{minLength:1,maxLength:5,pattern:/^[A-Z0-9]+$/,patternMessage:"Customer code must contain only uppercase letters and numbers (1-5 characters)"},nameValidationRules:{minLength:1,maxLength:100},codePlaceholder:"Enter customer code (e.g., CUS01, MAIN, CORP)",namePlaceholder:"Enter customer name (e.g., Main Customer Corp, ABC Manufacturing)",debugMode:!0,searchConfig:{searchableFields:[{key:"code",label:"Customer Code",weight:1},{key:"name",label:"Customer Name",weight:.8}],placeholder:"Search customers by code or name...",debounceMs:300,minSearchLength:1,caseSensitive:!1,enableHighlighting:!0,maxResults:100},statusConfig:{enableBulkStatusToggle:!0,bulkToggleConfirmation:!0,statusLabels:{active:"Active Customers",inactive:"Inactive Customers",all:"All Customers"},statusIcons:{active:"CheckCircleIcon",inactive:"XCircleIcon"}}})},requiredRoles:["admin","manager"]},{path:"/master-data/line-fvi",element:()=>{console.log(" LineFVI Page - Component mounting...");const e={getEntities:e=>h(void 0,null,function*(){console.log(" LineFVI Page - getEntities called with params:",e);try{const t=yield b4.getLineFVIs(e);return console.log(" LineFVI Page - Raw service response:",{success:t.success,hasData:!!t.data,dataType:typeof t.data,isDataArray:Array.isArray(t.data),dataCount:Array.isArray(t.data)?t.data.length:"N/A",pagination:t.pagination,message:t.message,fullResponse:t}),t.success&&Array.isArray(t.data)?(console.log(" LineFVI Page - Valid array response, returning data"),{success:!0,data:t.data,pagination:t.pagination,message:t.message||`Successfully loaded ${t.data.length} LineFVIs`}):t.success&&t.data&&!Array.isArray(t.data)?(console.error(" LineFVI Page - Response data is not an array:",{dataType:typeof t.data,dataContent:t.data,dataKeys:"object"==typeof t.data?Object.keys(t.data):null}),{success:!1,data:[],message:"Invalid response structure - expected array of LineFVIs"}):(console.error(" LineFVI Page - Service returned failure:",{success:t.success,message:t.message,data:t.data}),E5.play("error"),{success:!1,data:[],message:t.message||"Failed to load LineFVIs"})}catch(t){return console.error(" LineFVI Page - getEntities error:",t),E5.play("error"),{success:!1,data:[],message:`Error loading LineFVIs: ${t instanceof Error?t.message:"Unknown error"}`}}}),createEntity:e=>h(void 0,null,function*(){console.log(" LineFVI Page - createEntity called with data:",e);try{const t=yield b4.createLineFVI(e);return console.log(" LineFVI Page - createEntity response:",t),t.success?E5.play("success"):E5.play("error"),t}catch(t){return console.error(" LineFVI Page - createEntity error:",t),E5.play("error"),{success:!1,message:t instanceof Error?t.message:"Failed to create LineFVI"}}}),updateEntity:(e,t)=>h(void 0,null,function*(){console.log(" LineFVI Page - updateEntity called:",{code:e,data:t});try{const r=yield b4.updateLineFVI(e,t);return console.log(" LineFVI Page - updateEntity response:",r),r.success?E5.play("success"):E5.play("error"),r}catch(r){return console.error(" LineFVI Page - updateEntity error:",r),E5.play("error"),{success:!1,message:r instanceof Error?r.message:"Failed to update LineFVI"}}}),deleteEntity:e=>h(void 0,null,function*(){console.log(" LineFVI Page - deleteEntity called with code:",e);try{const t=yield b4.deleteLineFVI(e);return console.log(" LineFVI Page - deleteEntity response:",t),t.success?E5.play("success"):E5.play("error"),t}catch(t){return console.error(" LineFVI Page - deleteEntity error:",t),E5.play("error"),{success:!1,message:t instanceof Error?t.message:"Failed to delete LineFVI"}}}),toggleEntityStatus:e=>h(void 0,null,function*(){console.log(" LineFVI Page - toggleEntityStatus called with code:",e);try{const t=yield b4.toggleLineFVIStatus(e);return console.log(" LineFVI Page - toggleEntityStatus response:",t),t.success&&t.data?(E5.play("success"),{success:!0,data:t.data,message:t.message||"Status updated successfully"}):(E5.play("error"),{success:!1,message:t.message||"Failed to toggle LineFVI status"})}catch(t){return console.error(" LineFVI Page - toggleEntityStatus error:",t),E5.play("error"),{success:!1,message:t instanceof Error?t.message:"Failed to toggle LineFVI status"}}}),getStats:()=>h(void 0,null,function*(){console.log(" LineFVI Page - getStats called");try{const e=yield b4.getStats();return console.log(" LineFVI Page - getStats response:",e),e.success&&e.data?{success:!0,data:{total:e.data.total||0,active:e.data.active||0,inactive:e.data.inactive||0},message:e.message||"Statistics retrieved successfully"}:(E5.play("error"),{success:!1,data:{total:0,active:0,inactive:0},message:e.message||"Failed to load statistics"})}catch(e){return console.error(" LineFVI Page - getStats error:",e),E5.play("error"),{success:!1,data:{total:0,active:0,inactive:0},message:e instanceof Error?e.message:"Failed to load statistics"}}}),bulkToggleStatus:(e,t)=>h(void 0,null,function*(){console.log(" LineFVI Page - bulkToggleStatus called:",{codes:e,active:t});try{const r=yield b4.bulkToggleStatus(e,t);return console.log(" LineFVI Page - bulkToggleStatus response:",r),r.success?E5.play("success"):E5.play("error"),r}catch(r){return console.error(" LineFVI Page - bulkToggleStatus error:",r),E5.play("error"),{success:!1,message:r instanceof Error?r.message:"Failed to bulk update status"}}})},t={minLength:1,maxLength:5,pattern:/^[A-Z0-9]+$/,patternMessage:"LineFVI code must contain only uppercase letters and numbers (1-5 characters)"},r={minLength:1,maxLength:100},n={searchFields:["code","name","description"],searchPlaceholder:"Search LineFVI by code, name, or description...",enableAdvancedSearch:!0,searchMinLength:1},a={enableBulkToggle:!0,confirmationRequired:!0,customStatusLabels:{active:"Active",inactive:"Inactive"}};return console.log(" LineFVI Page - Rendering with configurations:",{serviceAdapter:Object.keys(e),codeValidationRules:t,nameValidationRules:r,searchConfig:n,statusConfig:a}),de.jsx(a4,{entityName:"Production Line FVI",entityNamePlural:"Line FVI",entityDescription:"Production Line FVIs are used to categorize and manage different Final Visual Inspection lines within the manufacturing process.",service:e,breadcrumbItems:[{label:"Home",href:"/"},{label:"Master Data",href:"/master-data"},{label:"Production Line FVI"}],codeValidationRules:t,nameValidationRules:r,codePlaceholder:"Enter LineFVI code (e.g., FVI01, MAIN, ASSY)",namePlaceholder:"Enter LineFVI name (e.g., Main FVI Line, Assembly FVI Station)",debugMode:!0,searchConfig:n,statusConfig:a,defaultPageSize:10})},requiredRoles:["admin","manager"]},{path:"/master-data/inspection",element:()=>{const[e,t]=ee.useState(null),[r,n]=ee.useState({}),[a,s]=ee.useState(!0),[i,o]=ee.useState(!1),[d,u]=ee.useState(!1),[m,f]=ee.useState({}),[p,g]=ee.useState(""),[x,b]=ee.useState("sampling");ee.useEffect(()=>{v()},[]);const v=()=>h(void 0,null,function*(){try{s(!0),f({});const e=yield P4.loadActiveConfig();if(!e)throw new Error("No active configuration found");t(e),n(e)}catch(e){console.error("Load config error:",e),E5.play("error"),f({general:e instanceof Error?e.message:"Failed to load configuration. Please check if there is an active system configuration."})}finally{s(!1)}});return a?de.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/10 to-yellow-50/10 flex items-center justify-center",children:de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx(Wf,{className:"h-6 w-6 animate-spin text-orange-600"}),de.jsx("span",{className:"text-gray-600",children:"Loading inspection configuration..."})]})}):a||e||!m.general?de.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/10 to-yellow-50/10",children:de.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[de.jsx("div",{className:"mb-8",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-400 to-amber-500 rounded-xl shadow-md",children:de.jsx(Cp,{className:"h-6 w-6 text-white"})}),de.jsxs("div",{children:[de.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-orange-600 via-amber-600 to-yellow-600 bg-clip-text text-transparent",children:"Inspection Data Setup"}),de.jsx("p",{className:"text-sm text-gray-600",children:"Configure inspection parameters and options"})]})]}),de.jsx("div",{className:"flex items-center space-x-3",children:d?de.jsxs(de.Fragment,{children:[de.jsxs("button",{onClick:()=>{n(e||{}),f({}),u(!1)},className:"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center font-medium shadow-sm",children:[de.jsx(rx,{className:"h-4 w-4 mr-2"}),"Cancel"]}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){try{if(o(!0),g(""),f({}),console.log(" Save initiated - Config:",e),console.log(" Save initiated - EditedConfig:",r),!(null==e?void 0:e.id)||!r.id)throw new Error("No configuration ID found");const a=P4.detectChanges(e,r);if(console.log(" Changes detected:",a),!a.hasChanges)return g("No changes to save"),E5.play("info"),void setTimeout(()=>g(""),3e3);console.log(" Saving configuration with changes to fields:",a.modifiedFields);const s=yield P4.saveConfig(r);if(console.log(" Save result:",s),!s.success)throw new Error(s.message);{E5.play("success");const e=yield P4.loadActiveConfig();e&&(t(e),n(e)),u(!1),g(s.message),setTimeout(()=>g(""),3e3)}}catch(a){console.error(" Save error:",a),E5.play("error"),f({general:a instanceof Error?a.message:"Failed to save configuration"})}finally{o(!1)}}),disabled:i||!(()=>{if(!e)return!1;return P4.detectChanges(e,r).hasChanges})(),className:"px-6 py-2.5 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center shadow-md hover:shadow-lg font-medium",children:i?de.jsxs(de.Fragment,{children:[de.jsx(Wf,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):de.jsxs(de.Fragment,{children:[de.jsx(gp,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]}):de.jsxs("button",{onClick:()=>u(!0),className:"px-6 py-2.5 bg-gradient-to-r from-orange-500 to-amber-600 text-white rounded-lg hover:from-orange-600 hover:to-amber-700 transition-all duration-200 flex items-center shadow-md hover:shadow-lg font-medium",children:[de.jsx(gg,{className:"h-4 w-4 mr-2"}),"Edit Configuration"]})})]})}),p&&de.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-center space-x-3 shadow-sm",children:[de.jsx(fp,{className:"h-5 w-5 text-green-600"}),de.jsx("span",{className:"text-green-800 font-medium",children:p})]}),m.general&&de.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center space-x-3 shadow-sm",children:[de.jsx(Wp,{className:"h-5 w-5 text-red-600"}),de.jsx("span",{className:"text-red-800 font-medium",children:m.general})]}),de.jsx("div",{className:"bg-gradient-to-r from-gray-50 via-white to-gray-50 rounded-t-xl shadow-lg border border-gray-200 border-b-0",children:de.jsxs("div",{className:"flex space-x-2 p-3",children:[de.jsxs("button",{onClick:()=>b("sampling"),className:"flex-1 flex items-center justify-center px-4 py-3.5 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 "+("sampling"===x?"bg-gradient-to-br from-orange-500 via-orange-600 to-amber-600 text-white shadow-lg shadow-orange-300/50":"bg-gradient-to-br from-orange-50 to-amber-50 text-orange-700 hover:from-orange-100 hover:to-amber-100 border border-orange-200"),children:[de.jsx(Ap,{className:"h-5 w-5 mr-2"}),"Sampling Quantities"]}),de.jsxs("button",{onClick:()=>b("organization"),className:"flex-1 flex items-center justify-center px-4 py-3.5 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 "+("organization"===x?"bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-300/50":"bg-gradient-to-br from-blue-50 to-indigo-50 text-blue-700 hover:from-blue-100 hover:to-indigo-100 border border-blue-200"),children:[de.jsx(ep,{className:"h-5 w-5 mr-2"}),"Organization Data"]}),de.jsxs("button",{onClick:()=>b("defect"),className:"flex-1 flex items-center justify-center px-4 py-3.5 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 "+("defect"===x?"bg-gradient-to-br from-red-500 via-red-600 to-rose-600 text-white shadow-lg shadow-red-300/50":"bg-gradient-to-br from-red-50 to-rose-50 text-red-700 hover:from-red-100 hover:to-rose-100 border border-red-200"),children:[de.jsx(Fg,{className:"h-5 w-5 mr-2"}),"Defect Configuration"]}),de.jsxs("button",{onClick:()=>b("email"),className:"flex-1 flex items-center justify-center px-4 py-3.5 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 "+("email"===x?"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 text-white shadow-lg shadow-purple-300/50":"bg-gradient-to-br from-purple-50 to-indigo-50 text-purple-700 hover:from-purple-100 hover:to-indigo-100 border border-purple-200"),children:[de.jsx(Bp,{className:"h-5 w-5 mr-2"}),"Email Settings"]})]})}),de.jsxs("div",{className:"bg-white rounded-b-xl shadow-lg border border-gray-200",children:["sampling"===x&&de.jsxs("div",{className:"p-8 bg-gradient-to-br from-orange-50/30 via-white to-amber-50/30",children:[de.jsxs("div",{className:"mb-6 pb-4 border-b-2 border-orange-200",children:[de.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent flex items-center",children:[de.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500 to-amber-500 rounded-lg mr-3 shadow-md",children:de.jsx(Ap,{className:"h-6 w-6 text-white"})}),"Sampling Quantities"]}),de.jsx("p",{className:"text-sm text-gray-600 mt-2 ml-14",children:"Configure lot and sampling quantity parameters"})]}),de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-orange-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-orange-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"FVI Lot Quantity"]}),de.jsx(D4,{values:P4.parseArrayField(r.fvi_lot_qty||""),onChange:e=>n(t=>c(l({},t),{fvi_lot_qty:e.join(",")})),type:"numeric",placeholder:"e.g., 2400",maxItems:10,disabled:!d})]}),de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-orange-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-orange-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"General OQA Quantity"]}),de.jsx(D4,{values:P4.parseArrayField(r.general_oqa_qty||""),onChange:e=>n(t=>c(l({},t),{general_oqa_qty:e.join(",")})),type:"numeric",placeholder:"e.g., 78",maxItems:10,disabled:!d})]}),de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-orange-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-orange-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Crack OQA Quantity"]}),de.jsx(D4,{values:P4.parseArrayField(r.crack_oqa_qty||""),onChange:e=>n(t=>c(l({},t),{crack_oqa_qty:e.join(",")})),type:"numeric",placeholder:"e.g., 80",maxItems:10,disabled:!d})]}),de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-orange-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-orange-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"General SIV Quantity"]}),de.jsx(D4,{values:P4.parseArrayField(r.general_siv_qty||""),onChange:e=>n(t=>c(l({},t),{general_siv_qty:e.join(",")})),type:"numeric",placeholder:"e.g., 32",maxItems:10,disabled:!d})]}),de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-orange-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-orange-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Crack SIV Quantity"]}),de.jsx(D4,{values:P4.parseArrayField(r.crack_siv_qty||""),onChange:e=>n(t=>c(l({},t),{crack_siv_qty:e.join(",")})),type:"numeric",placeholder:"e.g., 60",maxItems:10,disabled:!d})]})]})]}),"organization"===x&&de.jsxs("div",{className:"p-8 bg-gradient-to-br from-blue-50/30 via-white to-indigo-50/30",children:[de.jsxs("div",{className:"mb-6 pb-4 border-b-2 border-blue-200",children:[de.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent flex items-center",children:[de.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg mr-3 shadow-md",children:de.jsx(ep,{className:"h-6 w-6 text-white"})}),"Organization Data"]}),de.jsx("p",{className:"text-sm text-gray-600 mt-2 ml-14",children:"Configure sites, shifts, and product information"})]}),de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-blue-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-blue-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Shift"]}),de.jsx(D4,{values:P4.parseArrayField(r.shift||""),onChange:e=>n(t=>c(l({},t),{shift:e.join(",")})),type:"text",placeholder:"e.g., A, B, Day",maxItems:10,disabled:!d})]}),de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-blue-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-blue-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Site"]}),de.jsx(D4,{values:P4.parseArrayField(r.site||""),onChange:e=>n(t=>c(l({},t),{site:e.join(",")})),type:"text",placeholder:"e.g., TNHK, JNHK",maxItems:15,disabled:!d})]}),de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-blue-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-blue-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Tabs"]}),de.jsx(D4,{values:P4.parseArrayField(r.tabs||""),onChange:e=>n(t=>c(l({},t),{tabs:e.join(",")})),type:"text",placeholder:"e.g., 1, 2, 3",maxItems:10,disabled:!d})]}),de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-blue-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-blue-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Product Type"]}),de.jsx(D4,{values:P4.parseArrayField(r.product_type||""),onChange:e=>n(t=>c(l({},t),{product_type:e.join(",")})),type:"text",placeholder:"e.g., SSA, DSA",maxItems:15,disabled:!d})]}),de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-blue-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-blue-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Product Families"]}),de.jsx(D4,{values:P4.parseArrayField(r.product_families||""),onChange:e=>n(t=>c(l({},t),{product_families:e.join(",")})),type:"text",placeholder:"e.g., Iris, Pine",maxItems:15,disabled:!d})]})]})]}),"defect"===x&&de.jsxs("div",{className:"p-8 bg-gradient-to-br from-red-50/30 via-white to-rose-50/30",children:[de.jsxs("div",{className:"mb-6 pb-4 border-b-2 border-red-200",children:[de.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-red-600 to-rose-600 bg-clip-text text-transparent flex items-center",children:[de.jsx("div",{className:"p-2 bg-gradient-to-br from-red-500 to-rose-500 rounded-lg mr-3 shadow-md",children:de.jsx(Fg,{className:"h-6 w-6 text-white"})}),"Defect Configuration"]}),de.jsx("p",{className:"text-sm text-gray-600 mt-2 ml-14",children:"Configure defect types, groups, and colors"})]}),de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-red-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-red-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Defect Type"]}),de.jsx(D4,{values:P4.parseArrayField(r.defect_type||""),onChange:e=>n(t=>c(l({},t),{defect_type:e.join(",")})),type:"text",placeholder:"e.g., Normal defect",maxItems:20,disabled:!d})]}),de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-red-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-red-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Defect Group"]}),de.jsx(D4,{values:P4.parseArrayField(r.defect_group||""),onChange:e=>n(t=>c(l({},t),{defect_group:e.join(",")})),type:"text",placeholder:"e.g., Cosmetic, Functional",maxItems:20,disabled:!d})]}),de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-red-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-red-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Defect Color"]}),de.jsx(D4,{values:P4.parseArrayField(r.defect_color||""),onChange:e=>n(t=>c(l({},t),{defect_color:e.join(",")})),type:"text",placeholder:"e.g., Red, Yellow",maxItems:20,disabled:!d})]})]})]}),"email"===x&&de.jsxs("div",{className:"p-8 bg-gradient-to-br from-purple-50/30 via-white to-indigo-50/30",children:[de.jsxs("div",{className:"mb-6 pb-4 border-b-2 border-purple-200",children:[de.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent flex items-center",children:[de.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-indigo-500 rounded-lg mr-3 shadow-md",children:de.jsx(Bp,{className:"h-6 w-6 text-white"})}),"Email Notification Settings"]}),de.jsx("p",{className:"text-sm text-gray-600 mt-2 ml-14",children:"Configure defect notification email recipients"})]}),de.jsx("div",{className:"space-y-6",children:de.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-purple-400 shadow-sm hover:shadow-md transition-shadow",children:[de.jsxs("label",{className:"block text-sm font-bold text-purple-700 mb-3 flex items-center",children:[de.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Recipient Email Addresses",de.jsx("span",{className:"text-xs text-purple-500 font-normal ml-2",children:"(Comma-separated list)"})]}),de.jsx(D4,{values:P4.parseArrayField(r.defect_notification_emails||""),onChange:e=>n(t=>c(l({},t),{defect_notification_emails:e.join(",")})),type:"text",placeholder:"e.g., user@example.com",maxItems:20,disabled:!d}),de.jsx("p",{className:"text-xs text-purple-600 mt-3 bg-purple-50 p-3 rounded-lg border border-purple-200",children:"Add email addresses that should receive defect notifications. Emails will be sent when defects are created or updated."})]})})]})]})]})}):de.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/10 to-yellow-50/10",children:de.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[de.jsx("div",{className:"mb-8",children:de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-400 to-amber-500 rounded-xl shadow-md",children:de.jsx(Cp,{className:"h-6 w-6 text-white"})}),de.jsxs("div",{children:[de.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-orange-600 via-amber-600 to-yellow-600 bg-clip-text text-transparent",children:"Inspection Data Setup"}),de.jsx("p",{className:"text-sm text-gray-600",children:"Configure inspection parameters and options"})]})]})}),de.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8",children:de.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[de.jsx("div",{className:"p-4 bg-red-100 rounded-full",children:de.jsx(Wp,{className:"h-12 w-12 text-red-600"})}),de.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Configuration Not Found"}),de.jsx("p",{className:"text-gray-600 text-center max-w-md",children:m.general}),de.jsxs("button",{onClick:v,className:"mt-4 px-6 py-2.5 bg-gradient-to-r from-orange-500 to-amber-600 text-white rounded-lg hover:from-orange-600 hover:to-amber-700 transition-all duration-200 flex items-center shadow-md hover:shadow-lg font-medium",children:[de.jsx(Wf,{className:"h-4 w-4 mr-2"}),"Retry"]})]})})]})})},requiredRoles:["admin","manager"]},{path:"/master-data/products-site",element:()=>{const e=te.useMemo(()=>new f4,[]);return de.jsx(h4,{entityName:"Customer-Site",entityNamePlural:"Customer-Sites",entityDescription:"customer-site relationships and configurations for operations",service:e,breadcrumbItems:[{label:"Master Data",href:"/masterdata"},{label:"Customer-Sites"}],formSections:[{title:" Customer-Site Information",description:"Primary customer-site identification and relationship details",collapsible:!1,defaultExpanded:!0,fields:[{key:"customer_code",label:"Customer Code",type:"select",required:!0,placeholder:"Select customer",width:"quarter",asyncOptions:i4},{key:"site_code",label:"Site Code",type:"select",required:!0,placeholder:"Select site",width:"quarter",asyncOptions:ux},{key:"code",label:"Customer-Site Code2",type:"text",required:!0,placeholder:"Auto-generated from customer + site",width:"quarter",readonly:!0,validation:{maxLength:10}},{key:"is_active",label:"Active Status",type:"checkbox",placeholder:"Active and available for operations",width:"quarter",defaultValue:!0}]}],primaryKeyField:"code",customColumns:[{key:"customers",label:"Customer",sortable:!0,width:"w-32",render:e=>de.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded",children:e})},{key:"customer_name",label:"Customer Name",sortable:!1,width:"w-48",render:e=>de.jsx("span",{className:"text-sm text-gray-900 font-medium",children:e||"-"})},{key:"site",label:"Site",sortable:!0,width:"w-32",render:e=>de.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded",children:e})},{key:"code",label:"Code",sortable:!0,width:"w-32",render:e=>de.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded",children:e})},{key:"is_active",label:"Status",sortable:!0,width:"w-24",render:e=>de.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded "+(e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e?"Active":"Inactive"})}],globalValidation:x4,searchConfig:p4,statusConfig:g4,defaultPageSize:20,debugMode:!1,useEmbeddedForm:!0,embeddedFormColumns:4})},requiredRoles:["admin","manager"]},{path:"/master-data/parts",element:()=>{const e=te.useMemo(()=>new w4,[]),[t,r]=ee.useState(!1),[n,a]=ee.useState(!1),[s,i]=ee.useState(0);return de.jsxs(de.Fragment,{children:[de.jsx(h4,{entityName:"Part",entityNamePlural:"Parts",entityDescription:"manufacturing parts and components for production",service:e,breadcrumbItems:[{label:"Master Data",href:"/masterdata"},{label:"Parts"}],formSections:[{title:" Basic Information",description:"Primary part identification and product details",collapsible:!1,defaultExpanded:!0,fields:[{key:"partno",label:"Part Number",type:"text",required:!0,placeholder:"ABC-123-XYZ",width:"quarter",validation:{minLength:1,maxLength:25,pattern:/^[A-Za-z0-9\-_]+$/,patternMessage:"Only letters, numbers, hyphens, and underscores allowed"}},{key:"product_families",label:"Product Family",type:"select",placeholder:"Select product family",width:"quarter",required:!0,asyncOptions:dx,validation:{maxLength:10}},{key:"versions",label:"Version",type:"text",placeholder:"V1.0, Rev-A, etc.",width:"quarter",required:!0,validation:{maxLength:10}},{key:"is_active",label:"Active Status",type:"checkbox",placeholder:"Active and available for production",width:"quarter",defaultValue:!0}]},{title:" Site Configuration",description:"Customer-site relationship and production site",collapsible:!1,defaultExpanded:!0,fields:[{key:"customer_site_code",label:"Customer-Site",type:"select",placeholder:"Select customer and site",width:"half",required:!0,asyncOptions:y4,validation:{maxLength:10}},{key:"production_site",label:"Production Site",type:"select",placeholder:"Select production site",width:"quarter",required:!0,asyncOptions:ux,validation:{maxLength:5}}]},{title:" Product Configuration",description:"Product categorization and customer requirements",collapsible:!1,defaultExpanded:!0,fields:[{key:"tab",label:"Tab",type:"select",placeholder:"Select tab",width:"quarter",required:!0,asyncOptions:hx,validation:{maxLength:5}},{key:"product_type",label:"Product Type",type:"select",placeholder:"Select product type",width:"quarter",required:!0,asyncOptions:mx,validation:{maxLength:5}},{key:"customer_driver",label:"Customer Driver",type:"textarea",required:!0,placeholder:"Enter customer driver information and requirements...",width:"full",validation:{minLength:1,maxLength:200}}]}],primaryKeyField:"partno",customColumns:[{key:"product_families",label:"Product Family",sortable:!0,width:"w-32",render:e=>de.jsx("span",{className:"text-sm text-gray-600",children:e||"-"})},{key:"versions",label:"Version",sortable:!0,width:"w-24",render:e=>de.jsx("span",{className:"text-sm text-gray-600 font-mono",children:e||"-"})},{key:"customer_name",label:"Customer",sortable:!0,width:"w-32",render:(e,t)=>de.jsxs("div",{className:"flex flex-col",children:[de.jsx("span",{className:"text-sm font-medium text-gray-900",children:e||t.customer||"-"}),de.jsx("span",{className:"text-xs text-gray-500",children:t.customer||"-"})]})},{key:"customer_site_code",label:"Site",sortable:!0,width:"w-24",render:(e,t)=>de.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded",children:e||`${t.customer}-${t.part_site}`||"-"})},{key:"production_site",label:"Prod. Site",sortable:!0,width:"w-24",render:e=>de.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded",children:e})},{key:"tab",label:"Tab",sortable:!0,width:"w-20",render:e=>de.jsx("span",{className:"text-sm text-gray-600 font-mono",children:e})},{key:"product_type",label:"Type",sortable:!0,width:"w-20",render:e=>de.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded",children:e})},{key:"customer_driver",label:"Customer Driver",sortable:!1,width:"w-64",render:e=>de.jsx("span",{className:"text-sm text-gray-600",title:e,children:e&&e.length>50?`${e.substring(0,50)}...`:e||"-"})}],globalValidation:S4,searchConfig:j4,statusConfig:N4,defaultPageSize:25,enablePagination:!0,hiddenColumns:["created_at","updated_at","created_by","updated_by","Created","Updated"],debugMode:!1,useEmbeddedForm:!0,embeddedFormColumns:4,additionalHeaderActions:de.jsxs(de.Fragment,{children:[de.jsxs("button",{onClick:()=>r(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[de.jsx(Hf,{className:"h-5 w-5"}),"Import Parts"]}),de.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[de.jsx(Ff,{className:"h-5 w-5"}),"Export Parts"]})]})},s),de.jsx(k4,{isOpen:t,onClose:()=>r(!1),onImportSuccess:()=>{i(e=>e+1)}}),de.jsx(C4,{isOpen:n,onClose:()=>a(!1)})]})},requiredRoles:["admin","manager"]},{path:"/master-data/samplingResons",element:()=>{const e={getAll:e=>h(void 0,null,function*(){console.log(" SamplingReason Page - getAll called with params:",e);try{const t=yield X2.get(e);return console.log(" SamplingReason Page - getAll response:",{success:t.success,hasData:!!t.data,dataType:typeof t.data,isDataArray:Array.isArray(t.data),dataLength:Array.isArray(t.data)?t.data.length:"N/A",message:t.message,fullResponse:t}),t.success&&t.data?t.data.data&&Array.isArray(t.data.data)?(console.log(" SamplingReason Page - Found nested data structure"),{success:!0,data:t.data.data,pagination:t.data.pagination,message:t.message}):Array.isArray(t.data)?(console.log(" SamplingReason Page - Direct array response"),t):(console.error(" SamplingReason Page - Unexpected data structure:",{dataType:typeof t.data,dataKeys:"object"==typeof t.data?Object.keys(t.data):null,sampleData:t.data}),E5.play("error"),{success:!1,data:[],message:"Unexpected response structure from server"}):(console.error(" SamplingReason Page - No success or no data:",t),E5.play("error"),{success:!1,data:[],message:t.message||"No data received from server"})}catch(t){return console.error(" SamplingReason Page - getAll error:",t),E5.play("error"),{success:!1,data:[],message:t instanceof Error?t.message:"Failed to load data"}}}),getById:e=>h(void 0,null,function*(){try{const t=yield X2.getByCode(parseInt(e));return t.success||E5.play("error"),t}catch(t){throw E5.play("error"),t}}),create:e=>h(void 0,null,function*(){try{const t=yield X2.create(e);return t.success?E5.play("success"):E5.play("error"),t}catch(t){throw E5.play("error"),t}}),update:(e,t)=>h(void 0,null,function*(){try{const r=yield X2.update(parseInt(e),t);return r.success?E5.play("success"):E5.play("error"),r}catch(r){throw E5.play("error"),r}}),delete:e=>h(void 0,null,function*(){try{const t=yield X2.delete(parseInt(e));return t.success?E5.play("success"):E5.play("error"),t}catch(t){throw E5.play("error"),t}}),getStats:()=>h(void 0,null,function*(){console.log(" SamplingReason Page - getStats called");try{const e=yield X2.getStats();if(console.log(" SamplingReason Page - getStats response:",e),e.success&&e.data){let t;return console.log(" SamplingReason Page - Raw stats data:",e.data),t=e.data.totals?{total:e.data.totals.all||0,active:e.data.totals.active||0,inactive:e.data.totals.inactive||0}:e.data.overview?{total:e.data.overview.total||0,active:e.data.overview.active||0,inactive:e.data.overview.inactive||0}:{total:e.data.total||0,active:e.data.active||0,inactive:e.data.inactive||0},console.log(" SamplingReason Page - Processed stats:",t),{stats:t,message:e.message||"Statistics retrieved successfully"}}return E5.play("error"),{stats:{total:0,active:0,inactive:0},message:e.message||"Failed to load statistics"}}catch(e){return console.error(" SamplingReason Page - getStats error:",e),E5.play("error"),{stats:{total:0,active:0,inactive:0},message:e instanceof Error?e.message:"Failed to load statistics"}}}),toggleStatus:e=>h(void 0,null,function*(){console.log(" SamplingReason Page - toggleStatus called for ID:",e);try{const t=yield X2.toggleStatus(parseInt(e));if(console.log(" SamplingReason Page - toggleStatus response:",t),t.success)return E5.play("success"),{data:{},message:t.message||"Status updated successfully"};throw E5.play("error"),new Error(t.message||"Failed to toggle status")}catch(t){throw console.error(" SamplingReason Page - toggleStatus error:",t),E5.play("error"),t}})};return de.jsx(Z5,{entityName:"SamplingReason",entityNamePlural:"SamplingReason",entityDescription:"Defect types used in quality control processes",service:e,breadcrumbItems:[{label:"Home",href:"/"},{label:"Master Data",href:"/master"},{label:"Sampling Reason"}],idValidationRules:{minValue:1,maxValue:2147483647,required:!0},nameValidationRules:{minLength:3,maxLength:100,required:!0,pattern:/^[a-zA-Z0-9\s\-_.,()]+$/,patternMessage:"Name can only contain letters, numbers, spaces, and common punctuation (-, _, ., , ())"},descriptionValidationRules:{minLength:0,maxLength:1e3,required:!1},idPlaceholder:"Auto-generated ID",namePlaceholder:"Enter samplingReason name (e.g., Surface Scratch, Dimensional Error)",descriptionPlaceholder:"Enter detailed description of the samplingReason type",debugMode:!0})},requiredRoles:["admin","manager"]},{path:"/master-data/users",element:()=>{const[e,t]=ee.useState({users:[],loading:!1,error:null,selectedUser:null,showDeleteModal:!1,searchTerm:"",currentPage:1,pageSize:20,totalItems:0,totalPages:0,sortBy:"name",sortOrder:"asc",activeFilter:void 0,roleFilter:"all",showFormModal:!1,formMode:"create"}),[r,n]=ee.useState(null),[a,s]=ee.useState({total_users:0,active_users:0,inactive_users:0}),[i,o]=ee.useState({admin:0,manager:0,user:0,viewer:0}),d=ee.useCallback((e,t)=>{E5.play(e),n({type:e,message:t}),setTimeout(()=>n(null),5e3)},[]),u=ee.useCallback(()=>h(void 0,null,function*(){t(e=>c(l({},e),{loading:!0,error:null}));try{const r={page:e.currentPage,limit:e.pageSize,search:e.searchTerm||void 0,sortBy:e.sortBy,sortOrder:e.sortOrder,isActive:e.activeFilter,role:"all"===e.roleFilter?void 0:e.roleFilter},n=yield yx.getUsers(r);if(n.success&&n.data){const e=n.data||[],r=e.reduce((e,t)=>(e[t.role]=(e[t.role]||0)+1,e),{admin:0,manager:0,user:0,viewer:0});o(r),t(t=>{var r,a;return c(l({},t),{users:e,totalItems:(null==(r=n.pagination)?void 0:r.total)||0,totalPages:(null==(a=n.pagination)?void 0:a.totalPages)||0,loading:!1})})}else E5.play("error"),t(e=>c(l({},e),{error:n.message||"Failed to fetch users",loading:!1}))}catch(r){E5.play("error"),t(e=>c(l({},e),{error:"Network error occurred",loading:!1}))}}),[e.currentPage,e.pageSize,e.searchTerm,e.sortBy,e.sortOrder,e.activeFilter,e.roleFilter]),m=ee.useCallback(()=>h(void 0,null,function*(){try{const e=yield yx.getStats();e.success&&e.data?s(e.data):(E5.play("warning"),console.error("Failed to fetch user statistics:",e.message))}catch(e){E5.play("warning"),console.error("Failed to fetch user statistics:",e)}}),[]);ee.useEffect(()=>{u()},[u]),ee.useEffect(()=>{m()},[m]);const f=()=>{t(e=>c(l({},e),{showDeleteModal:!1,showFormModal:!1,selectedUser:null}))},p=e=>{t(t=>c(l({},t),{sortBy:e,sortOrder:t.sortBy===e&&"asc"===t.sortOrder?"desc":"asc",currentPage:1}))},g=()=>{t(e=>c(l({},e),{showFormModal:!0,formMode:"create",selectedUser:null}))},x=()=>{t(e=>c(l({},e),{showFormModal:!1,selectedUser:null}))};return de.jsxs("div",{className:"space-y-6",children:[r&&de.jsx(k2,{type:r.type,message:r.message,onClose:()=>n(null)}),de.jsx(_5,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Master Data",href:"/masterdata"},{label:"Users",href:"/masterdata/users"}]}),de.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-green-500 via-emerald-600 to-teal-600 p-8 shadow-xl",children:[de.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),de.jsxs("div",{className:"relative flex justify-between items-start",children:[de.jsxs("div",{children:[de.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-lg",children:"Users Management"}),de.jsx("p",{className:"text-indigo-100 text-lg",children:"Manage system users, roles, and access permissions"})]}),de.jsx("div",{className:"flex space-x-3",children:de.jsxs(A5,{onClick:g,className:"bg-gradient-to-r from-green-500 via-emerald-600 to-teal-600 text-white hover:from-green-600 hover:via-emerald-700 hover:to-teal-700 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 font-semibold",children:[de.jsx(yg,{className:"h-5 w-5 mr-2"}),"Add New User"]})})]})]}),de.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-7 gap-3",children:[de.jsxs(E4,{className:"overflow-hidden transform hover:scale-105 transition-all duration-300 hover:shadow-2xl border-0",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 opacity-90"}),de.jsx(A4,{className:"p-3 relative",children:de.jsxs("div",{className:"flex flex-col items-center text-center",children:[de.jsx("div",{className:"p-1.5 bg-white bg-opacity-20 rounded-lg backdrop-blur-sm mb-2",children:de.jsx(Kg,{className:"h-5 w-5 text-white"})}),de.jsx("p",{className:"text-[10px] font-bold text-blue-100 uppercase tracking-wide mb-1",children:"Total Users"}),de.jsx("p",{className:"text-xl font-bold text-white",children:a.total_users})]})})]}),de.jsxs(E4,{className:"overflow-hidden transform hover:scale-105 transition-all duration-300 hover:shadow-2xl border-0",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500 via-green-600 to-teal-600 opacity-90"}),de.jsx(A4,{className:"p-3 relative",children:de.jsxs("div",{className:"flex flex-col items-center text-center",children:[de.jsx("div",{className:"p-1.5 bg-white bg-opacity-20 rounded-lg backdrop-blur-sm mb-2",children:de.jsx(Tg,{className:"h-5 w-5 text-white"})}),de.jsx("p",{className:"text-[10px] font-bold text-green-100 uppercase tracking-wide mb-1",children:"Active"}),de.jsx("p",{className:"text-xl font-bold text-white",children:a.active_users})]})})]}),de.jsxs(E4,{className:"overflow-hidden transform hover:scale-105 transition-all duration-300 hover:shadow-2xl border-0",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-500 via-red-600 to-pink-600 opacity-90"}),de.jsx(A4,{className:"p-3 relative",children:de.jsxs("div",{className:"flex flex-col items-center text-center",children:[de.jsx("div",{className:"p-1.5 bg-white bg-opacity-20 rounded-lg backdrop-blur-sm mb-2",children:de.jsx(Ag,{className:"h-5 w-5 text-white"})}),de.jsx("p",{className:"text-[10px] font-bold text-red-100 uppercase tracking-wide mb-1",children:"Inactive"}),de.jsx("p",{className:"text-xl font-bold text-white",children:a.inactive_users})]})})]}),de.jsxs(E4,{className:"overflow-hidden transform hover:scale-105 transition-all duration-300 hover:shadow-2xl border-0",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500 via-rose-600 to-pink-600 opacity-90"}),de.jsx(A4,{className:"p-3 relative",children:de.jsxs("div",{className:"flex flex-col items-center text-center",children:[de.jsx("div",{className:"p-1.5 bg-white bg-opacity-20 rounded-lg backdrop-blur-sm mb-2",children:de.jsx(Tg,{className:"h-5 w-5 text-white"})}),de.jsx("p",{className:"text-[10px] font-bold text-red-100 uppercase tracking-wide mb-1",children:"Admin"}),de.jsx("p",{className:"text-xl font-bold text-white",children:i.admin})]})})]}),de.jsxs(E4,{className:"overflow-hidden transform hover:scale-105 transition-all duration-300 hover:shadow-2xl border-0",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-indigo-600 to-purple-600 opacity-90"}),de.jsx(A4,{className:"p-3 relative",children:de.jsxs("div",{className:"flex flex-col items-center text-center",children:[de.jsx("div",{className:"p-1.5 bg-white bg-opacity-20 rounded-lg backdrop-blur-sm mb-2",children:de.jsx(Tg,{className:"h-5 w-5 text-white"})}),de.jsx("p",{className:"text-[10px] font-bold text-blue-100 uppercase tracking-wide mb-1",children:"Manager"}),de.jsx("p",{className:"text-xl font-bold text-white",children:i.manager})]})})]}),de.jsxs(E4,{className:"overflow-hidden transform hover:scale-105 transition-all duration-300 hover:shadow-2xl border-0",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500 via-slate-600 to-gray-700 opacity-90"}),de.jsx(A4,{className:"p-3 relative",children:de.jsxs("div",{className:"flex flex-col items-center text-center",children:[de.jsx("div",{className:"p-1.5 bg-white bg-opacity-20 rounded-lg backdrop-blur-sm mb-2",children:de.jsx(Kg,{className:"h-5 w-5 text-white"})}),de.jsx("p",{className:"text-[10px] font-bold text-gray-100 uppercase tracking-wide mb-1",children:"User"}),de.jsx("p",{className:"text-xl font-bold text-white",children:i.user})]})})]}),de.jsxs(E4,{className:"overflow-hidden transform hover:scale-105 transition-all duration-300 hover:shadow-2xl border-0",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500 via-orange-600 to-yellow-600 opacity-90"}),de.jsx(A4,{className:"p-3 relative",children:de.jsxs("div",{className:"flex flex-col items-center text-center",children:[de.jsx("div",{className:"p-1.5 bg-white bg-opacity-20 rounded-lg backdrop-blur-sm mb-2",children:de.jsx(Ag,{className:"h-5 w-5 text-white"})}),de.jsx("p",{className:"text-[10px] font-bold text-amber-100 uppercase tracking-wide mb-1",children:"Viewer"}),de.jsx("p",{className:"text-xl font-bold text-white",children:i.viewer})]})})]})]}),de.jsxs(E4,{className:"shadow-lg border-0",children:[de.jsxs(T4,{className:"pb-4 bg-gradient-to-r from-gray-50 to-blue-50",children:[de.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[de.jsxs(_4,{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Users List (",e.totalItems," total)"]}),de.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[de.jsxs("div",{className:"relative",children:[de.jsx(dg,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-400"}),de.jsx(J5,{type:"text",placeholder:"Search users...",value:e.searchTerm,onChange:e=>{t(t=>c(l({},t),{searchTerm:e.target.value,currentPage:1}))},className:"pl-10 w-full sm:w-64 border-2 border-indigo-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 rounded-lg"})]}),de.jsxs(e4,{value:void 0===e.activeFilter?"all":e.activeFilter?"active":"inactive",onChange:e=>(e=>{const r="all"===e?void 0:"active"===e;t(e=>c(l({},e),{activeFilter:r,currentPage:1}))})(e.target.value),className:"w-full sm:w-32",children:[de.jsx("option",{value:"all",children:"All Status"}),de.jsx("option",{value:"active",children:"Active"}),de.jsx("option",{value:"inactive",children:"Inactive"})]}),de.jsxs(e4,{value:e.roleFilter,onChange:e=>{return r=e.target.value,void t(e=>c(l({},e),{roleFilter:r,currentPage:1}));var r},className:"w-full sm:w-32",children:[de.jsx("option",{value:"all",children:"All Roles"}),de.jsx("option",{value:"admin",children:"Admin"}),de.jsx("option",{value:"manager",children:"Manager"}),de.jsx("option",{value:"user",children:"User"}),de.jsx("option",{value:"viewer",children:"Viewer"})]})]})]}),(e.searchTerm||void 0!==e.activeFilter||"all"!==e.roleFilter)&&de.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-3 border-t border-gray-200",children:[de.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active filters:"}),e.searchTerm&&de.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-md",children:['Search: "',e.searchTerm,'"',de.jsx("button",{onClick:()=>t(e=>c(l({},e),{searchTerm:"",currentPage:1})),className:"ml-2 hover:bg-white hover:bg-opacity-20 rounded-full p-0.5 transition-colors",children:de.jsx(rx,{className:"h-3 w-3"})})]}),void 0!==e.activeFilter&&de.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-gradient-to-r from-emerald-500 to-green-600 text-white shadow-md",children:["Status: ",e.activeFilter?"Active":"Inactive",de.jsx("button",{onClick:()=>t(e=>c(l({},e),{activeFilter:void 0,currentPage:1})),className:"ml-2 hover:bg-white hover:bg-opacity-20 rounded-full p-0.5 transition-colors",children:de.jsx(rx,{className:"h-3 w-3"})})]}),"all"!==e.roleFilter&&de.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-gradient-to-r from-purple-500 to-pink-600 text-white shadow-md",children:["Role: ",e.roleFilter,de.jsx("button",{onClick:()=>t(e=>c(l({},e),{roleFilter:"all",currentPage:1})),className:"ml-2 hover:bg-white hover:bg-opacity-20 rounded-full p-0.5 transition-colors",children:de.jsx(rx,{className:"h-3 w-3"})})]})]})]}),de.jsx(A4,{className:"p-0",children:e.loading?de.jsx("div",{className:"flex justify-center items-center py-12",children:de.jsx(D5,{size:"lg"})}):e.error?de.jsxs("div",{className:"p-6 text-center",children:[de.jsx("div",{className:"text-red-600 mb-4",children:de.jsx(Ag,{className:"h-12 w-12 mx-auto"})}),de.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Users"}),de.jsx("p",{className:"text-gray-600 mb-4",children:e.error}),de.jsx(A5,{onClick:u,children:"Try Again"})]}):0===e.users.length?de.jsx(O5,{icon:de.jsx(Kg,{className:"h-12 w-12 text-gray-400"}),title:"No Users Found",description:e.searchTerm||void 0!==e.activeFilter||"all"!==e.roleFilter?"No users match your current filters. Try adjusting your search criteria.":"No users have been added to the system yet. Create your first user to get started.",action:e.searchTerm||void 0!==e.activeFilter||"all"!==e.roleFilter?void 0:{label:"Add First User",onClick:g}}):de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"overflow-x-auto",children:de.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[de.jsx("thead",{className:"bg-gradient-to-r from-indigo-50 via-purple-50 to-pink-50",children:de.jsxs("tr",{children:[de.jsx("th",{scope:"col",className:"px-4 py-4 text-center text-xs font-bold text-indigo-700 uppercase tracking-wider w-16",children:"#"}),de.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-indigo-700 uppercase tracking-wider cursor-pointer hover:bg-indigo-100 transition-colors",onClick:()=>p("name"),children:de.jsxs("div",{className:"flex items-center space-x-1",children:[de.jsx("span",{children:"Name"}),"name"===e.sortBy&&de.jsx("span",{className:"text-indigo-600 font-bold text-sm",children:"asc"===e.sortOrder?"":""})]})}),de.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-indigo-700 uppercase tracking-wider cursor-pointer hover:bg-indigo-100 transition-colors",onClick:()=>p("username"),children:de.jsxs("div",{className:"flex items-center space-x-1",children:[de.jsx("span",{children:"Username"}),"username"===e.sortBy&&de.jsx("span",{className:"text-indigo-600 font-bold text-sm",children:"asc"===e.sortOrder?"":""})]})}),de.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-indigo-700 uppercase tracking-wider cursor-pointer hover:bg-indigo-100 transition-colors",onClick:()=>p("email"),children:de.jsxs("div",{className:"flex items-center space-x-1",children:[de.jsx("span",{children:"Email"}),"email"===e.sortBy&&de.jsx("span",{className:"text-indigo-600 font-bold text-sm",children:"asc"===e.sortOrder?"":""})]})}),de.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-indigo-700 uppercase tracking-wider",children:"Position"}),de.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-indigo-700 uppercase tracking-wider",children:"Role"}),de.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-indigo-700 uppercase tracking-wider",children:"Status"}),de.jsx("th",{scope:"col",className:"relative px-6 py-4",children:de.jsx("span",{className:"sr-only",children:"Actions"})})]})}),de.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.users.map((r,n)=>{const a=(e.currentPage-1)*e.pageSize+n+1;return de.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-indigo-50 hover:to-purple-50 transition-all duration-200 border-b border-gray-100",children:[de.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:de.jsx("div",{className:"flex items-center justify-center",children:de.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 text-white text-sm font-bold shadow-md",children:a})})}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.jsx("div",{className:"flex items-center",children:de.jsx("div",{className:"ml-4",children:de.jsx("div",{className:"text-sm font-bold text-gray-900",children:r.name})})})}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.jsx("div",{className:"text-sm text-gray-900 font-mono",children:r.username})}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.jsx("div",{className:"text-sm text-gray-900",children:r.email})}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.jsx("div",{className:"text-sm text-gray-900",children:r.position||"-"})}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.jsx("span",{className:"inline-flex px-3 py-1.5 rounded-full text-xs font-bold shadow-md "+("admin"===r.role?"bg-gradient-to-r from-red-500 to-pink-600 text-white":"manager"===r.role?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white":"viewer"===r.role?"bg-gradient-to-r from-amber-400 to-orange-500 text-white":"bg-gradient-to-r from-gray-400 to-gray-600 text-white"),children:r.role.toUpperCase()})}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.jsxs("button",{onClick:()=>(e=>h(void 0,null,function*(){try{const t=yield yx.toggleUserStatus(e.id);t.success?(d("success",`User ${e.is_active?"deactivated":"activated"} successfully`),u(),m()):d("error",t.message||"Failed to update user status")}catch(t){d("error","Network error occurred")}}))(r),className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold shadow-md transition-all duration-200 transform hover:scale-105 "+(r.is_active?"bg-gradient-to-r from-emerald-500 to-green-600 text-white hover:shadow-lg":"bg-gradient-to-r from-gray-400 to-gray-600 text-white hover:shadow-lg"),children:[de.jsx("span",{className:"w-2 h-2 rounded-full mr-2 "+(r.is_active?"bg-white animate-pulse":"bg-gray-200")}),r.is_active?"ACTIVE":"INACTIVE"]})}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:de.jsxs("div",{className:"flex space-x-2",children:[de.jsx("button",{onClick:()=>(e=>{t(t=>c(l({},t),{showFormModal:!0,formMode:"edit",selectedUser:e}))})(r),className:"p-2 text-white bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 rounded-lg shadow-md hover:shadow-lg transform hover:scale-110 transition-all duration-200",title:"Edit user",children:de.jsx(gg,{className:"h-4 w-4"})}),de.jsx("button",{onClick:()=>(e=>{t(t=>c(l({},t),{selectedUser:e,showDeleteModal:!0}))})(r),className:"p-2 text-white bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 rounded-lg shadow-md hover:shadow-lg transform hover:scale-110 transition-all duration-200",title:"Delete user",children:de.jsx(Wg,{className:"h-4 w-4"})})]})})]},r.id)})})]})}),e.totalPages>1&&de.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:de.jsx(L5,{currentPage:e.currentPage,totalPages:e.totalPages,totalItems:e.totalItems,itemsPerPage:e.pageSize,onPageChange:e=>{t(t=>c(l({},t),{currentPage:e}))}})})]})})]}),e.showFormModal&&de.jsx(T5,{isOpen:e.showFormModal,onClose:x,title:"create"===e.formMode?"Add New User":"Edit User",size:"lg",children:de.jsx(I4,{mode:e.formMode,user:e.selectedUser,onSubmit:r=>h(void 0,null,function*(){try{let n;return"create"===e.formMode?n=yield yx.createUser(r):e.selectedUser&&(n=yield yx.updateUser(e.selectedUser.id,r)),(null==n?void 0:n.success)?(d("success",`User ${"create"===e.formMode?"created":"updated"} successfully`),t(e=>c(l({},e),{showFormModal:!1,selectedUser:null})),u(),m(),{success:!0,message:n.message}):(d("error",(null==n?void 0:n.message)||"Operation failed"),{success:!1,errors:null==n?void 0:n.errors,message:null==n?void 0:n.message})}catch(n){const e="Network error occurred";return d("error",e),{success:!1,message:e}}}),onCancel:x,loading:e.loading})}),e.showDeleteModal&&e.selectedUser&&de.jsx(T5,{isOpen:e.showDeleteModal,onClose:f,title:"",size:"sm",children:de.jsxs("div",{className:"space-y-5",children:[de.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gradient-to-r from-red-500 via-rose-600 to-pink-600 p-5 -m-6 mb-4",children:[de.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),de.jsxs("div",{className:"relative flex items-center",children:[de.jsx("div",{className:"flex-shrink-0 w-14 h-14 rounded-full bg-white bg-opacity-30 backdrop-blur-sm flex items-center justify-center shadow-lg mr-4",children:de.jsx(Wg,{className:"h-7 w-7 text-white"})}),de.jsxs("div",{children:[de.jsx("h3",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"Confirm Deletion"}),de.jsx("p",{className:"text-sm text-red-100 mt-1",children:"This action cannot be undone"})]})]})]}),de.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-red-50 rounded-lg p-4 border-l-4 border-red-500",children:[de.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"You are about to delete:"}),de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-400 to-pink-600 flex items-center justify-center shadow-md",children:de.jsx(Kg,{className:"h-5 w-5 text-white"})}),de.jsxs("div",{children:[de.jsx("p",{className:"font-bold text-gray-900",children:e.selectedUser.name}),de.jsxs("p",{className:"text-sm text-gray-600 font-mono",children:["@",e.selectedUser.username]})]})]})]}),de.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 flex items-start space-x-2",children:[de.jsx(Ag,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),de.jsx("p",{className:"text-sm text-amber-800",children:"All data associated with this user will be permanently removed from the system."})]}),de.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[de.jsx(A5,{type:"button",variant:"secondary",onClick:f,className:"px-5 py-2.5 rounded-lg font-semibold hover:shadow-md transition-all duration-200",children:"Cancel"}),de.jsxs(A5,{type:"button",variant:"primary",onClick:()=>h(void 0,null,function*(){if(e.selectedUser)try{const t=yield yx.deleteUser(e.selectedUser.id);t.success?(d("success","User deleted successfully"),f(),u(),m()):d("error",t.message||"Failed to delete user")}catch(t){d("error","Network error occurred")}}),className:"px-5 py-2.5 rounded-lg font-semibold bg-gradient-to-r from-red-500 via-rose-600 to-pink-600 hover:from-red-600 hover:via-rose-700 hover:to-pink-700 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[de.jsx(Wg,{className:"h-4 w-4 mr-2 inline"}),"Delete User"]})]})]})})]})},requiredRoles:["admin","manager"]}]},{groupName:"Quality Control",routes:[{path:"/inspection/oqa",element:w5,requiredRoles:["user","manager","admin"]},{path:"/inspection/oba",element:w5,requiredRoles:["user","manager","admin"]},{path:"/inspection/siv",element:w5,requiredRoles:["user","manager","admin"]},{path:"/inspection/iqa",element:()=>{var e,t,r;const n=Cm(),a=I2(),[s,i]=ee.useState([]),[o,l]=ee.useState([]),[c,d]=ee.useState(!1),[u,m]=ee.useState(null),[f,p]=ee.useState(null),[g,x]=ee.useState(!1),[b,v]=ee.useState(""),[y,w]=ee.useState(""),[j,N]=ee.useState([]),[S,k]=ee.useState([]),[C,E]=ee.useState(1),[T]=ee.useState(50),[_,A]=ee.useState(new Set),[I,P]=ee.useState(!1),[D,O]=ee.useState(null),[L,R]=ee.useState("asc"),[M,F]=ee.useState(!1),[$,B]=ee.useState(null),[U,z]=ee.useState(""),[V,W]=ee.useState([]),[q,H]=ee.useState([]),[Q,G]=ee.useState(!1),[Y,K]=ee.useState([]),[X,Z]=ee.useState(null),[J,te]=ee.useState(!1),[re,ne]=ee.useState([]),[ae,se]=ee.useState(!1),[ie,oe]=ee.useState(null),[le,ce]=ee.useState(!1),[ue,he]=ee.useState(null),[me,fe]=ee.useState(!1),[pe,ge]=ee.useState(null),[xe,be]=ee.useState(!1);ee.useEffect(()=>{ve(),ye(),we()},[]);const ve=()=>h(void 0,null,function*(){try{d(!0),m(null),console.log("Fetching IQA data...");const e=yield C5.getAll();console.log("API Response:",e),e.success&&e.data?(console.log("Loaded records:",e.data.length),i(e.data),l(e.data),0===e.data.length&&(a.playInfo(),m("No IQA records found. Import an Excel file to get started."))):(console.error("API returned error:",e.message),a.playError(),m(e.message||"Failed to load data"))}catch(e){console.error("Error loading IQA data:",e),a.playError(),m(`Failed to load data: ${e instanceof Error?e.message:"Unknown error"}`)}finally{d(!1)}}),ye=()=>h(void 0,null,function*(){try{const e=yield C5.getDistinctFY();e.success&&Array.isArray(e.data)&&(console.log(" FY Options loaded:",e.data),N(e.data))}catch(e){console.error("Error loading FY options:",e)}}),we=e=>h(void 0,null,function*(){try{const t=yield C5.getDistinctWW(e);t.success&&Array.isArray(t.data)&&(console.log(" WW Options loaded:",t.data),k(t.data))}catch(t){console.error("Error loading WW options:",t)}});ee.useEffect(()=>{b?(we(b),w("")):we()},[b]),ee.useEffect(()=>{let e=[...s];if(console.log(" IQA Filter Debug - Total records:",s.length),console.log(" IQA Filter Debug - filterFY:",b),console.log(" IQA Filter Debug - filterWW:",y),b){console.log(" Filtering by FY:",b);const t=e.length;e=e.filter(t=>{const r=String(t.fy)===String(b);return!r&&e.length<5&&console.log(" FY mismatch - record.fy:",t.fy,"filterFY:",b,"types:",typeof t.fy,typeof b),r}),console.log(" After FY filter:",t,"->",e.length)}if(y){console.log(" Filtering by WW:",y);const t=e.length;e=e.filter(t=>{const r=String(t.ww)===String(y);return!r&&e.length<5&&console.log(" WW mismatch - record.ww:",t.ww,"filterWW:",y,"types:",typeof t.ww,typeof y),r}),console.log(" After WW filter:",t,"->",e.length)}D&&e.sort((e,t)=>{const r=e[D],n=t[D];if(null==r)return"asc"===L?1:-1;if(null==n)return"asc"===L?-1:1;if("number"==typeof r&&"number"==typeof n)return"asc"===L?r-n:n-r;const a=String(r).toLowerCase(),s=String(n).toLowerCase();return"asc"===L?a.localeCompare(s):s.localeCompare(a)}),l(e),E(1)},[s,b,y,D,L]);const je=C*T,Ne=je-T,Se=o.slice(Ne,je),ke=Math.ceil(o.length/T),Ce=e=>{E(e),window.scrollTo({top:0,behavior:"smooth"})},Ee=e=>{D===e?R("asc"===L?"desc":"asc"):(O(e),R("asc"))},Te=e=>D!==e?null:"asc"===L?" ":" ",_e=()=>{const e=document.createElement("a");e.href="/document/IQA_Template.xlsx",e.download="IQA_Template.xlsx",document.body.appendChild(e),e.click(),document.body.removeChild(e),a.playSelect()},Ae=e=>h(void 0,null,function*(){try{se(!0),console.log(" IQAPage - Loading saved defect data for IQA ID:",e);const t=yield C5.getSavedDefectData(e);t.success&&t.data?(console.log(" IQAPage - Loaded saved defect data:",t.data),ne(t.data)):(console.error(" IQAPage - Failed to load saved defect data:",t.message),ne([]))}catch(t){console.error(" IQAPage - Error loading saved defect data:",t),ne([])}finally{se(!1)}}),Ie=e=>h(void 0,null,function*(){B(e),F(!0),z(""),W([]),H([]),Z(null),ne([]),oe(null),m(null),yield h(void 0,null,function*(){try{te(!0),console.log(" IQAPage - Loading defects...");const e=yield y2.get({isActive:!0});console.log(" IQAPage - Defects result:",e),console.log(" IQAPage - Result success:",e.success),console.log(" IQAPage - Result data:",e.data),console.log(" IQAPage - Data type:",typeof e.data),console.log(" IQAPage - Data is array:",Array.isArray(e.data)),e.success&&e.data?(console.log(" IQAPage - Setting defects, count:",e.data.length),K(e.data)):(console.error(" IQAPage - Failed to load defects:",e.message),a.playError(),m("Failed to load defect types"))}catch(e){console.error(" IQAPage - Error loading defects:",e),a.playError(),m("Error loading defect types")}finally{te(!1)}}),e.id&&(yield Ae(e.id))}),Pe=()=>{F(!1),B(null),z(""),W([]),H([]),Z(null),K([]),ne([]),oe(null),m(null)},De=()=>{ce(!1),he(null)};return de.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-indigo-50 p-6",children:de.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[de.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 px-6 py-3",children:de.jsxs("nav",{className:"flex items-center space-x-2 text-sm",children:[de.jsxs("button",{onClick:()=>{n("/")},className:"flex items-center text-gray-600 hover:text-purple-600 transition-colors duration-200",children:[de.jsx(Zp,{className:"h-4 w-4 mr-1"}),"Home"]}),de.jsx(jp,{className:"h-4 w-4 text-gray-400"}),de.jsx("span",{className:"text-purple-600 font-semibold",children:"IQA Data Management"})]})}),de.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-purple-100 overflow-hidden",children:de.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-indigo-600 p-6",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-3",children:de.jsx(Bg,{className:"h-10 w-10 text-white"})}),de.jsxs("div",{children:[de.jsx("h1",{className:"text-3xl font-bold text-white",children:"IQA Data Management"}),de.jsx("p",{className:"text-purple-100 mt-1",children:"Import and manage IQA inspection data"})]})]}),de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsx("div",{className:"backdrop-blur-sm rounded-xl px-4 py-3 transition-all "+(b?"bg-yellow-400/30 ring-2 ring-yellow-400":"bg-white/20"),children:de.jsxs("select",{value:b,onChange:e=>v(e.target.value),className:"px-3 py-1.5 border border-white/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-white/50 bg-white/10 font-medium "+(b?"text-yellow-100":"text-white"),children:[de.jsx("option",{value:"",className:"text-gray-900",children:"All FY"}),j.map(e=>de.jsxs("option",{value:e,className:"text-gray-900",children:["FY ",e]},e))]})}),de.jsx("div",{className:"backdrop-blur-sm rounded-xl px-4 py-3 transition-all "+(y?"bg-yellow-400/30 ring-2 ring-yellow-400":"bg-white/20"),children:de.jsxs("select",{value:y,onChange:e=>w(e.target.value),className:"px-3 py-1.5 border border-white/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-white/50 bg-white/10 font-medium "+(y?"text-yellow-100":"text-white"),children:[de.jsx("option",{value:"",className:"text-gray-900",children:"All WW"}),S.map(e=>de.jsxs("option",{value:e,className:"text-gray-900",children:["WW ",e]},e))]})}),(b||y)&&de.jsxs("button",{onClick:()=>{v(""),w("")},className:"bg-red-500/20 backdrop-blur-sm rounded-xl px-4 py-3 hover:bg-red-500/30 transition-colors duration-200 flex items-center space-x-2",title:"Clear all filters",children:[de.jsx(rx,{className:"h-5 w-5 text-white"}),de.jsx("span",{className:"text-white font-medium",children:"Clear Filters"})]}),de.jsxs("div",{className:"text-right",children:[de.jsx("div",{className:"text-white font-bold text-2xl",children:TA(s.length.toString())}),de.jsx("div",{className:"text-purple-100 text-sm",children:"Total Records"})]}),de.jsxs("div",{className:"text-right",children:[de.jsx("div",{className:"text-white font-bold text-2xl",children:TA(o.length.toString())}),de.jsx("div",{className:"text-purple-100 text-sm",children:"Filtered Records"})]}),de.jsxs("button",{onClick:()=>{try{((e,t="IQA_Export")=>{const r=(e=>e.map((e,t)=>({"#":t+1,FY:e.fy||"",WW:e.ww||"",FW:e.fw||"","Date IQA":e.date_iqa||"","Shift to Shift":e.shift_to_shift||"",Expense:e.expense||"","Re-Expense":e.re_expense||"","QC Owner":e.qc_owner||"",MODEL:e.model||"",ITEM:e.item||"",TELEX:e.telex||"",SUPPLIER:e.supplier||"",DESCR:e.descr||"",LOCATION:e.location||"",QTY:e.qty||0,"SUPPLIER DO":e.supplier_do||"",REMARK:e.remark||"",PO:e.po||"",SBR:e.sbr||"","DISPOSITION CODE":e.disposition_code||"","RECEIPT DATE":e.receipt_date||"",AGE:e.age||0,Warehouse:e.warehouse||"",Building:e.building||"","Business Unit":e.business_unit||"","Std Case Qty":e.std_case_qty||0,LPN:e.lpn||0,"Ref Code":e.ref_code||"","Lot No":e.lotno||"","Data on Web":e.data_on_web||"",Inspec:e.inspec||0,Rej:e.rej||0,Defect:e.defect||"",Vender:e.vender||""})))(e),n=kA.json_to_sheet(r),a=kA.book_new();kA.book_append_sheet(a,n,"IQA Data"),mA(a,`${t}_${(new Date).toISOString().slice(0,19).replace(/:/g,"-")}.xlsx`)})(o,"IQA_Data"),a.playSuccess(),p(`Exported ${o.length} records successfully`)}catch(e){console.error("Error exporting data:",e),a.playError(),m("Failed to export data")}},disabled:0===o.length,className:"bg-green-500/20 backdrop-blur-sm rounded-xl px-4 py-3 hover:bg-green-500/30 transition-colors duration-200 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[de.jsx(Ff,{className:"h-6 w-6 text-white"}),de.jsx("span",{className:"text-white font-medium",children:"Export"})]}),de.jsxs("button",{onClick:_e,className:"bg-blue-500/20 backdrop-blur-sm rounded-xl px-4 py-3 hover:bg-blue-500/30 transition-colors duration-200 flex items-center space-x-2",title:"Download IQA Template Excel file",children:[de.jsx(Fp,{className:"h-6 w-6 text-white"}),de.jsx("span",{className:"text-white font-medium",children:"Template"})]}),de.jsxs("label",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-4 py-3 hover:bg-white/30 transition-colors duration-200 flex items-center space-x-2 cursor-pointer",children:[de.jsx(Hf,{className:"h-6 w-6 text-white"}),de.jsx("span",{className:"text-white font-medium",children:"Import"}),de.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:e=>h(void 0,null,function*(){var t;const r=null==(t=e.target.files)?void 0:t[0];if(r)try{x(!0),m(null),p(null);const t=yield k5(r),n=t.length;if(console.log(` Import Summary: Valid=${n} records`),0===n)return a.playWarning(),m("No valid records to import. All rows are missing required fields (Lot No)."),x(!1),void(e.target.value="");const s=yield C5.bulkImport(t);if(s.success&&s.data){const e=s.data.imported||0,t=s.data.failed||0;let r=`Successfully imported ${e} record(s)`;t>0&&(r+=` (${t} failed)`),a.playSuccess(),p(r),ve(),ye(),we()}else console.error("Import failed:",s),a.playError(),m(s.message||"Import failed")}catch(n){console.error("Error importing file:",n),a.playError(),m(n instanceof Error?n.message:"Failed to import Excel file")}finally{x(!1),e.target.value=""}}),className:"hidden",disabled:g})]})]})]})})}),u&&de.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center space-x-3",children:[de.jsx(ex,{className:"h-6 w-6 text-red-600"}),de.jsxs("div",{children:[de.jsx("p",{className:"text-red-900 font-medium",children:"Error"}),de.jsx("p",{className:"text-red-700 text-sm",children:u})]}),de.jsx("button",{onClick:()=>m(null),className:"ml-auto text-red-600 hover:text-red-800",children:de.jsx(rx,{className:"h-5 w-5"})})]}),f&&de.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center space-x-3",children:[de.jsx(fp,{className:"h-6 w-6 text-green-600"}),de.jsxs("div",{children:[de.jsx("p",{className:"text-green-900 font-medium",children:"Success"}),de.jsx("p",{className:"text-green-700 text-sm",children:f})]}),de.jsx("button",{onClick:()=>p(null),className:"ml-auto text-green-600 hover:text-green-800",children:de.jsx(rx,{className:"h-5 w-5"})})]}),g&&de.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center space-x-3",children:[de.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),de.jsx("p",{className:"text-blue-900 font-medium",children:"Importing data..."})]}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsxs("div",{className:"bg-gradient-to-r from-slate-100 to-gray-100 px-6 py-4 flex items-center justify-between",children:[de.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"IQA Records"}),_.size>0&&de.jsxs("button",{onClick:()=>{if(0===_.size)return a.playWarning(),void m("Please select at least one record to delete");be(!0)},disabled:I,className:"bg-red-500 hover:bg-red-600 text-white rounded-lg px-4 py-2 flex items-center space-x-2 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[de.jsx(Wg,{className:"h-5 w-5"}),de.jsx("span",{className:"font-medium",children:I?"Deleting...":`Delete ${_.size}`})]})]}),c?de.jsx("div",{className:"flex items-center justify-center py-12",children:de.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):0===o.length?de.jsxs("div",{className:"text-center py-12",children:[de.jsx(Fp,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),de.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Records Found"}),de.jsx("p",{className:"text-gray-500 mb-4",children:0===s.length?"Import an Excel file to get started.":"No records match the current filter criteria."}),0===s.length&&de.jsxs("div",{className:"mt-4",children:[de.jsxs("button",{onClick:_e,className:"inline-flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors duration-200",children:[de.jsx(Ff,{className:"h-5 w-5"}),de.jsx("span",{children:"Download Template"})]}),de.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Download the IQA template, fill in your data, and import it"})]})]}):de.jsxs("div",{className:"overflow-x-auto",children:[de.jsxs("table",{className:"w-full",children:[de.jsx("thead",{className:"bg-gray-50",children:de.jsxs("tr",{children:[de.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 w-16",children:de.jsx("input",{type:"checkbox",checked:_.size===Se.length&&Se.length>0,onChange:()=>{if(_.size===Se.length)A(new Set);else{const e=new Set(Se.map(e=>e.id).filter(e=>void 0!==e));A(e)}},className:"w-4 h-4 text-purple-600 rounded focus:ring-purple-500"})}),de.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 w-16",children:"#"}),de.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 select-none",onClick:()=>Ee("fy"),children:["FY",Te("fy")]}),de.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 select-none",onClick:()=>Ee("ww"),children:["WW",Te("ww")]}),de.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 select-none",onClick:()=>Ee("date_iqa"),children:["Date IQA",Te("date_iqa")]}),de.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 select-none",onClick:()=>Ee("shift_to_shift"),children:["Shift",Te("shift_to_shift")]}),de.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 select-none",onClick:()=>Ee("qc_owner"),children:["QC Owner",Te("qc_owner")]}),de.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 select-none",onClick:()=>Ee("model"),children:["Model",Te("model")]}),de.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 select-none",onClick:()=>Ee("item"),children:["Item",Te("item")]}),de.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 select-none",onClick:()=>Ee("supplier"),children:["Supplier",Te("supplier")]}),de.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 select-none",onClick:()=>Ee("qty"),children:["Qty",Te("qty")]}),de.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 select-none",onClick:()=>Ee("lotno"),children:["Lot No",Te("lotno")]}),de.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 select-none",onClick:()=>Ee("inspec"),children:["Inspec",Te("inspec")]}),de.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 select-none",onClick:()=>Ee("rej"),children:["Rej",Te("rej")]}),de.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Actions"})]})}),de.jsx("tbody",{className:"divide-y divide-gray-200",children:Se.map((e,t)=>{let r="";return _.has(e.id)?r="bg-orange-50":e.rej&&e.rej>0&&(r="bg-red-100"),de.jsxs("tr",{className:`hover:bg-gray-100 transition-colors duration-150 ${r}`,children:[de.jsx("td",{className:"px-4 py-3 text-center",children:de.jsx("input",{type:"checkbox",checked:_.has(e.id),onChange:()=>e.id&&(e=>{const t=new Set(_);t.has(e)?t.delete(e):t.add(e),A(t)})(e.id),className:"w-4 h-4 text-purple-600 rounded focus:ring-purple-500"})}),de.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:Ne+t+1}),de.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:e.fy||"-"}),de.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:e.ww||"-"}),de.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.date_iqa||"-"}),de.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.shift_to_shift}),de.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.qc_owner}),de.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:e.model}),de.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.item}),de.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.supplier}),de.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:TA(e.qty.toString())}),de.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.lotno}),de.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:e.inspec||0}),de.jsx("td",{className:"px-4 py-3 text-sm font-medium "+(e.rej&&e.rej>0?"text-red-600":"text-gray-900"),children:e.rej||0}),de.jsx("td",{className:"px-4 py-3",children:de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("button",{onClick:()=>(e=>{he(e),ce(!0)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200",title:"View Details",children:de.jsx(Gp,{className:"h-5 w-5"})}),e.rej>0&&de.jsx("button",{onClick:()=>Ie(e),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors duration-200",title:"Add Defect",children:de.jsx(Wp,{className:"h-5 w-5"})}),de.jsx("button",{onClick:()=>{return e.id&&(t=e.id,ge(t),void fe(!0));var t},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Delete",children:de.jsx(Wg,{className:"h-5 w-5"})})]})})]},e.id)})})]}),o.length>0&&de.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",de.jsx("span",{className:"font-semibold",children:Ne+1})," to"," ",de.jsx("span",{className:"font-semibold",children:Math.min(je,o.length)})," ","of ",de.jsx("span",{className:"font-semibold",children:o.length})," records"]}),de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("button",{onClick:()=>Ce(C-1),disabled:1===C,className:"p-2 rounded-lg "+(1===C?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-200 transition-colors duration-200"),title:"Previous page",children:de.jsx(yp,{className:"h-5 w-5"})}),Array.from({length:ke},(e,t)=>t+1).map(e=>de.jsx("button",{onClick:()=>Ce(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 "+(C===e?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-200"),children:e},e)),de.jsx("button",{onClick:()=>Ce(C+1),disabled:C===ke,className:"p-2 rounded-lg "+(C===ke?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-200 transition-colors duration-200"),title:"Next page",children:de.jsx(jp,{className:"h-5 w-5"})})]})]})})]})]}),le&&ue&&de.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:de.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[de.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:De}),de.jsxs("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[de.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx(Gp,{className:"h-7 w-7 text-white"}),de.jsx("h3",{className:"text-xl font-bold text-white",children:"IQA Record Details"})]}),de.jsx("button",{onClick:De,className:"text-white hover:text-gray-200 transition-colors",children:de.jsx(rx,{className:"h-6 w-6"})})]})}),de.jsx("div",{className:"bg-white px-6 py-6 max-h-[70vh] overflow-y-auto",children:de.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[de.jsxs("div",{className:"col-span-2 bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-4",children:[de.jsxs("h4",{className:"text-sm font-bold text-purple-900 mb-3 flex items-center",children:[de.jsx(Fp,{className:"h-5 w-5 mr-2"}),"General Information"]}),de.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"FY"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.fy||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"WW"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.ww||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"FW"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.fw||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Date IQA"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.date_iqa||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Shift to Shift"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.shift_to_shift||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"QC Owner"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.qc_owner||"-"})]})]})]}),de.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[de.jsx("h4",{className:"text-sm font-bold text-green-900 mb-3",children:"Product Information"}),de.jsxs("div",{className:"space-y-2",children:[de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Model"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.model||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Item"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.item||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Description"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.descr||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Telex"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.telex||"-"})]})]})]}),de.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[de.jsx("h4",{className:"text-sm font-bold text-orange-900 mb-3",children:"Supplier Information"}),de.jsxs("div",{className:"space-y-2",children:[de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Supplier"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.supplier||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Vender"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.vender||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Supplier DO"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.supplier_do||"-"})]})]})]}),de.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[de.jsx("h4",{className:"text-sm font-bold text-blue-900 mb-3",children:"Quantity & Inspection"}),de.jsxs("div",{className:"space-y-2",children:[de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Quantity"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.qty||0})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Inspected"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.inspec||0})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Rejected"}),de.jsx("p",{className:"text-sm font-semibold text-red-600",children:ue.rej||0})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Defect"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.defect||"-"})]})]})]}),de.jsxs("div",{className:"bg-pink-50 border border-pink-200 rounded-lg p-4",children:[de.jsx("h4",{className:"text-sm font-bold text-pink-900 mb-3",children:"Location & Warehouse"}),de.jsxs("div",{className:"space-y-2",children:[de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Location"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.location||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Warehouse"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.warehouse||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Building"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.building||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Business Unit"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.business_unit||"-"})]})]})]}),de.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[de.jsx("h4",{className:"text-sm font-bold text-yellow-900 mb-3",children:"Financial Information"}),de.jsxs("div",{className:"space-y-2",children:[de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Expense"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.expense||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Re Expense"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.re_expense||"-"})]})]})]}),de.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[de.jsx("h4",{className:"text-sm font-bold text-indigo-900 mb-3",children:"Additional Details"}),de.jsxs("div",{className:"space-y-2",children:[de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"PO"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.po||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"SBR"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.sbr||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Disposition Code"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.disposition_code||"-"})]})]})]}),de.jsxs("div",{className:"col-span-2 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[de.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-3",children:"Lot & Tracking Information"}),de.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Lot No"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.lotno||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"LPN"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.lpn||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Ref Code"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.ref_code||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Std Case Qty"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.std_case_qty||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Receipt Date"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.receipt_date||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Age"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.age||"-"})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs text-gray-600",children:"Data on Web"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ue.data_on_web||"-"})]})]})]}),ue.remark&&de.jsxs("div",{className:"col-span-2 bg-red-50 border border-red-200 rounded-lg p-4",children:[de.jsx("h4",{className:"text-sm font-bold text-red-900 mb-2",children:"Remarks"}),de.jsx("p",{className:"text-sm text-gray-900",children:ue.remark})]})]})}),de.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:de.jsx("button",{onClick:De,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Close"})})]})]})}),M&&$&&de.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:de.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[de.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:Pe}),de.jsxs("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-7xl sm:w-full",children:[de.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 px-6 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx(Wp,{className:"h-8 w-8 text-white"}),de.jsx("h3",{className:"text-2xl font-bold text-white",children:"Add Defect Data"})]}),de.jsx("button",{onClick:Pe,className:"text-white hover:text-gray-200 transition-colors",children:de.jsx(rx,{className:"h-6 w-6"})})]})}),u&&de.jsxs("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 rounded-lg p-3 flex items-start space-x-2",children:[de.jsx(ex,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),de.jsxs("div",{className:"flex-1",children:[de.jsx("p",{className:"text-sm font-medium text-red-900",children:"Error"}),de.jsx("p",{className:"text-sm text-red-700",children:u})]}),de.jsx("button",{onClick:()=>m(null),className:"text-red-600 hover:text-red-800",children:de.jsx(rx,{className:"h-4 w-4"})})]}),ie&&de.jsxs("div",{className:"mx-6 mt-4 bg-green-50 border border-green-200 rounded-lg p-3 flex items-start space-x-2 animate-pulse",children:[de.jsx(fp,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),de.jsxs("div",{className:"flex-1",children:[de.jsx("p",{className:"text-sm font-medium text-green-900",children:"Success!"}),de.jsx("p",{className:"text-sm text-green-700",children:ie})]}),de.jsx("button",{onClick:()=>oe(null),className:"text-green-600 hover:text-green-800",children:de.jsx(rx,{className:"h-4 w-4"})})]}),de.jsx("div",{className:"bg-white px-6 py-6",children:de.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[de.jsxs("div",{className:"space-y-6 border-r border-gray-200 pr-6",children:[de.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4",children:[de.jsx("h4",{className:"text-sm font-semibold text-purple-900 mb-3",children:"Record Information"}),de.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Model:"}),de.jsx("span",{className:"ml-2 font-medium text-gray-900",children:$.model})]}),de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Item:"}),de.jsx("span",{className:"ml-2 font-medium text-gray-900",children:$.item})]}),de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Lot No:"}),de.jsx("span",{className:"ml-2 font-medium text-gray-900",children:$.lotno})]}),de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Supplier:"}),de.jsx("span",{className:"ml-2 font-medium text-gray-900",children:$.supplier})]}),de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Qty:"}),de.jsx("span",{className:"ml-2 font-medium text-gray-900",children:$.qty})]}),de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Reject:"}),de.jsx("span",{className:"ml-2 font-medium text-red-600",children:$.rej||0})]})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Defect Type *"}),J?de.jsxs("div",{className:"flex items-center justify-center py-4",children:[de.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-600"}),de.jsx("span",{className:"ml-2 text-gray-600",children:"Loading defects..."})]}):de.jsxs(de.Fragment,{children:[de.jsxs("select",{value:X||"",onChange:e=>{const t=e.target.value?parseInt(e.target.value):null;console.log(" IQAPage - Defect selected:",t),Z(t)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[de.jsx("option",{value:"",children:"Select defect type..."}),Y.map(e=>(console.log(" IQAPage - Rendering defect option:",e),de.jsx("option",{value:e.id,children:e.name},e.id)))]}),de.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Loaded ",Y.length," defect(s)"]})]}),X&&de.jsxs("div",{className:"mt-2 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[de.jsxs("p",{className:"text-sm text-orange-900",children:[de.jsx("span",{className:"font-semibold",children:"Selected: "}),null==(e=Y.find(e=>e.id===X))?void 0:e.name]}),(null==(t=Y.find(e=>e.id===X))?void 0:t.description)&&de.jsx("p",{className:"text-xs text-orange-700 mt-1",children:null==(r=Y.find(e=>e.id===X))?void 0:r.description})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Defect Description"}),de.jsx("textarea",{value:U,onChange:e=>z(e.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Describe the defect details..."})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Defect Images *"}),de.jsxs("div",{className:"space-y-4",children:[de.jsxs("label",{className:"flex items-center justify-center space-x-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-colors cursor-pointer",children:[de.jsx(dp,{className:"h-6 w-6 text-gray-400"}),de.jsx("span",{className:"text-gray-600 font-medium",children:"Upload Images"}),de.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files;if(!t)return;const r=Array.from(t),n=[];r.forEach(e=>{const t=new FileReader;t.onload=e=>{var t;(null==(t=e.target)?void 0:t.result)&&(n.push(e.target.result),n.length===r.length&&H(e=>[...e,...n]))},t.readAsDataURL(e)}),W(e=>[...e,...r])},className:"hidden"})]}),q.length>0&&de.jsx("div",{className:"grid grid-cols-3 gap-3",children:q.map((e,t)=>de.jsxs("div",{className:"relative group",children:[de.jsx("img",{src:e,alt:`Defect ${t+1}`,className:"w-full h-32 object-cover rounded-lg border-2 border-gray-300"}),de.jsx("button",{onClick:()=>(e=>{W(t=>t.filter((t,r)=>r!==e)),H(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:de.jsx(rx,{className:"h-4 w-4"})}),de.jsxs("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded",children:["#",t+1]})]},t))})]})]}),de.jsx("div",{className:"pt-4",children:de.jsx("button",{onClick:()=>h(void 0,null,function*(){if(!(null==$?void 0:$.id))return a.playWarning(),void m("No record selected");if(!X)return a.playWarning(),void m("Please select a defect type");if(0===V.length)return a.playWarning(),void m("Please upload at least one defect image");try{G(!0),m(null),console.log("Submitting defect data:",{defect_id:X,defect_description:U,image_count:V.length});const e=yield C5.submitBulkDefect(X,U,$.id,V);e.success?(a.playSuccess(),oe(`Successfully uploaded ${V.length} defect image(s)! You can add more or close this window.`),m(null),z(""),W([]),H([]),Z(null),(null==$?void 0:$.id)&&(yield Ae($.id)),setTimeout(()=>{oe(null)},5e3)):(a.playError(),m(e.message||"Failed to upload defect images"),oe(null))}catch(e){console.error("Error submitting defect:",e),a.playError(),m("Failed to submit defect data")}finally{G(!1)}}),disabled:Q||0===V.length||!X,className:"w-full px-6 py-3 bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-lg font-semibold hover:from-orange-600 hover:to-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:Q?de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),de.jsx("span",{children:"Submitting..."})]}):de.jsxs(de.Fragment,{children:[de.jsx(yg,{className:"h-5 w-5"}),de.jsx("span",{children:"Add Defect"})]})})})]}),de.jsxs("div",{className:"pl-6",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsxs("h4",{className:"text-base font-semibold text-gray-900 flex items-center",children:[de.jsx(Fp,{className:"h-5 w-5 mr-2 text-purple-600"}),"Previously Saved Defects"]}),de.jsxs("span",{className:"text-sm font-medium text-purple-600 bg-purple-100 px-3 py-1 rounded-full",children:[re.length," records"]})]}),ae?de.jsxs("div",{className:"flex items-center justify-center py-12",children:[de.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),de.jsx("span",{className:"ml-2 text-gray-600",children:"Loading saved defects..."})]}):re.length>0?de.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:de.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"600px"},children:de.jsxs("table",{className:"w-full",children:[de.jsx("thead",{className:"bg-purple-50 sticky top-0",children:de.jsxs("tr",{children:[de.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-purple-900",children:"#"}),de.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-purple-900",children:"Defect ID"}),de.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-purple-900",children:"Description"}),de.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-purple-900",children:"Image"})]})}),de.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:re.map((e,t)=>de.jsxs("tr",{className:"hover:bg-purple-50 transition-colors",children:[de.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:t+1}),de.jsx("td",{className:"px-4 py-3 text-sm text-purple-700 font-medium",children:e.defect_id}),de.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.defect_description||"-"}),de.jsx("td",{className:"px-4 py-3 text-center",children:de.jsx("img",{src:e.image_url,alt:`Defect ${t+1}`,className:"w-16 h-16 object-cover rounded border border-purple-300 cursor-pointer hover:scale-110 transition-transform mx-auto",onClick:()=>window.open(e.image_url,"_blank"),title:"Click to view full size"})})]},e.id))})]})})}):de.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-gray-200",children:[de.jsx(Fp,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),de.jsx("p",{className:"text-gray-500 text-sm",children:"No defects saved yet"}),de.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Add your first defect using the form"})]})]})]})}),de.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:de.jsx("button",{onClick:Pe,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-semibold hover:bg-gray-100 transition-colors",children:"Close"})})]})]})}),me&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:de.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all",children:[de.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[de.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:de.jsx(Wp,{className:"h-6 w-6 text-red-600"})}),de.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Confirm Delete"})]}),de.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this record? This action cannot be undone."}),de.jsxs("div",{className:"flex space-x-3",children:[de.jsx("button",{onClick:()=>{fe(!1),ge(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){if(pe)try{const e=pe,t=yield C5.delete(e);t.success?(a.playDelete(),p("Record deleted successfully"),fe(!1),ge(null),ve(),ye(),we()):(a.playError(),m(` Failed to delete record: ${t.message||"Unknown error"}`),console.error("Delete failed:",t.message),fe(!1),ge(null))}catch(e){console.error("Error deleting record:",e),a.playError(),m(" An error occurred while deleting the record. Please try again."),fe(!1),ge(null)}}),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]})}),xe&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:de.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all",children:[de.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[de.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:de.jsx(Wp,{className:"h-6 w-6 text-red-600"})}),de.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Confirm Bulk Delete"})]}),de.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete ",de.jsx("span",{className:"font-bold text-red-600",children:_.size})," selected record(s)? This action cannot be undone."]}),de.jsxs("div",{className:"flex space-x-3",children:[de.jsx("button",{onClick:()=>be(!1),disabled:I,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),de.jsxs("button",{onClick:()=>h(void 0,null,function*(){try{P(!0),m(null);const e=Array.from(_),t=yield C5.bulkDelete(e);t.success?(a.playDelete(),p(`Successfully deleted ${e.length} record(s)`),A(new Set),be(!1),ve(),ye(),we()):(a.playError(),m(t.message||"Failed to delete selected records"),be(!1))}catch(e){console.error("Error bulk deleting records:",e),a.playError(),m("Failed to delete selected records"),be(!1)}finally{P(!1)}}),disabled:I,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[I&&de.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),de.jsx("span",{children:I?"Deleting...":"Delete All"})]})]})]})})]})})},requiredRoles:["user","manager","admin"]},{path:"/inspection/oqa/new",element:a5,requiredRoles:["user","manager","admin"]},{path:"/inspection/oba/new",element:a5,requiredRoles:["user","manager","admin"]},{path:"/inspection/siv/new",element:a5,requiredRoles:["user","manager","admin"]},{path:"/inspection/defect/new",element:()=>{const e=Nm(),t=Cm(),[r,n]=ee.useState(null),a=C2(),{toasts:s,removeToast:i}=a,{success:o,error:d,warning:u,info:m}=A2({success:a.success,error:a.error,warning:a.warning,info:a.info}),{options:f,loading:p}=px(),[g,x]=ee.useState({tray:"",positionOnTray:1,colorGroup:"",qcName:"",qcLeaderConfirmName:"",mrbConfirmName:"",rejectPhotos:[],inspectorId:"",defectType:"",defect:"",defectQuantity:1,defectDetail:""}),[b,v]=ee.useState([]),[y,w]=ee.useState(!1),[j,N]=ee.useState({}),S=ee.useRef(null),[k,C]=ee.useState([]),[E,T]=ee.useState([]),[_,A]=ee.useState([]),[I,P]=ee.useState(!0),[D,O]=ee.useState(null),[L,R]=ee.useState(!1),[M,F]=ee.useState([]),[$,B]=ee.useState({}),[U,z]=ee.useState([]),[V,W]=ee.useState([]),[q,H]=ee.useState({date:(new Date).toISOString().split("T")[0],line:"",shift:""}),[Q,G]=ee.useState([]),[Y,K]=ee.useState([]),[X,Z]=ee.useState(!1),[J,te]=ee.useState(!1),[re,ne]=ee.useState(0);ee.useEffect(()=>{var t;if(null==(t=e.state)?void 0:t.inspectionData){const t=e.state.inspectionData;n(t),console.log("Received inspection data:",t),t.station&&"SIV"!==t.station&&x(e=>c(l({},e),{colorGroup:""}))}},[e.state]),ee.useEffect(()=>{h(void 0,null,function*(){try{P(!0);const e=yield cx.getSysconfig();if(e.defect_type){const t=e.defect_type.split(",").map(e=>e.trim()).filter(e=>e);C(t)}if(e.shift){const t=e.shift.split(",").map(e=>e.trim()).filter(e=>e);A(t),t.length>0&&!q.shift&&H(e=>c(l({},e),{shift:t[0]}))}const t=yield y2.get({isActive:!0});console.log("Defect Response:",t),t.success&&t.data?(console.log("Loaded defects:",t.data),T(t.data)):(console.error("Failed to load defects:",t.message),d("Failed to load defect types. Please refresh the page."));const r=yield w2.getOperators("QC");if(console.log("QC Operators Response:",r),r.success&&r.data){console.log("Loaded QC operators:",r.data);const e=r.data.map(e=>({value:e.username,label:e.oprname}));z(e)}else console.error("Failed to load QC operators:",r.message),u("Failed to load QC operator list. You can still enter names manually.");const n=yield w2.getOperators("MRB");if(console.log("MRB Operators Response:",n),n.success&&n.data){console.log("Loaded MRB operators:",n.data);const e=n.data.map(e=>({value:e.username,label:e.oprname}));W(e)}else console.error("Failed to load MRB operators:",n.message),u("Failed to load MRB operator list. You can still enter names manually.");P(!1)}catch(e){console.error("Error loading data:",e),d("Error loading initial data. Please refresh the page."),P(!1)}})},[]),ee.useEffect(()=>{h(void 0,null,function*(){if(!q.date)return console.log("Skipping lines load - no date selected"),void G([]);try{te(!0),console.log("Loading available FVI lines for date:",q.date);const e=yield w2.getFVILinesByDate(q.date);if(e.success&&e.data){const t=e.data.map(e=>e.line_no_id);console.log("Available lines:",t),G(t),t.length>0&&!q.line&&H(e=>c(l({},e),{line:t[0]})),0===t.length&&u("No FVI lines available for the selected date.")}else console.error("Failed to load lines:",e.message),d("Failed to load FVI lines. Please try again."),G([]);te(!1)}catch(e){console.error("Error loading lines:",e),d("Network error loading FVI lines."),G([]),te(!1)}})},[q.date]),ee.useEffect(()=>{h(void 0,null,function*(){if(!q.line||!q.date||!q.shift)return console.log("Skipping FVI load - missing parameters:",q),void K([]);try{Z(!0),console.log("Loading FVI Line Mapping:",q);const e=yield w2.getFVILineMapping(q.line,q.date,q.shift);if(console.log("FVI API Response:",e),e.success&&e.data){const t=e.data.map((e,t)=>({line:q.line,group:e.group_code,id:t+1,position:e.gr_code,inspectorId:e.username,oprname:e.oprname}));console.log("Mapped FVI Stations:",t),K(t),0===t.length&&m("No station assignments found for this line and shift.")}else console.error("Failed to load FVI mapping:",e.message),d("Failed to load FVI station mapping."),K([]);Z(!1)}catch(e){console.error("Error loading FVI mapping:",e),d("Network error loading station mapping."),K([]),Z(!1)}})},[q]);const ae=e=>{const t=U.find(t=>t.value===e);if(t)return t.label;const r=V.find(t=>t.value===e);return r?r.label:null},se=(e,t)=>{x(r=>c(l({},r),{[e]:t})),j[e]&&N(t=>{const r=l({},t);return delete r[e],r})};return de.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50 to-primary-50",children:[s.map(e=>de.jsx(k2,{message:e.message,type:e.type,duration:e.duration,onClose:()=>i(e.id),position:"top-right"},e.id)),de.jsx("div",{className:"bg-white shadow-sm border-b",children:de.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:de.jsx("div",{className:"flex items-center justify-between h-16",children:de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:de.jsx(Wp,{className:"h-6 w-6 text-primary-600"})}),de.jsxs("div",{children:[de.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Defect Input"}),de.jsx("p",{className:"text-sm text-gray-500",children:"Record and track defect inspection data"})]})]})})})}),de.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[r&&de.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl shadow-2xl border-2 border-blue-400 p-6 transform transition-all hover:scale-[1.01]",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[de.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg mr-3",children:de.jsx(rg,{className:"h-6 w-6 text-white"})}),de.jsx("h2",{className:"text-2xl font-bold text-white",children:"1. Sampling Information"})]}),de.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"Sampling No."}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.inspection_no})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"Lot No."}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.lotno})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"Item No."}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.itemno})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"Model"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.model})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"FVI Line No"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.fvilineno||"N/A"})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"Shift"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.shift})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"Round"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.round})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"FVI Lot Qty"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.fvi_lot_qty})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"Judgment"}),de.jsx("p",{className:"text-sm font-bold "+("Pass"===r.judgment?"text-green-300":"Reject"===r.judgment?"text-red-300":"text-gray-300"),children:r.judgment||""})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"General Sampling"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.general_sampling_qty})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"Crack Sampling"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.crack_sampling_qty})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"Sampling Date"}),de.jsx("p",{className:"text-sm font-bold text-white",children:new Date(r.inspection_date).toLocaleDateString()})]})]})]}),de.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-amber-600 rounded-2xl shadow-2xl border-2 border-orange-400 p-6 transform transition-all hover:scale-[1.01]",children:[de.jsxs("div",{className:"flex items-center mb-6",children:[de.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg mr-3",children:de.jsx(Fp,{className:"h-6 w-6 text-white"})}),de.jsx("h2",{className:"text-2xl font-bold text-white",children:"2. Defect Input Form"})]}),de.jsx("div",{className:"bg-white rounded-xl p-6",children:de.jsxs("form",{onSubmit:e=>h(void 0,null,function*(){var t;if(e.preventDefault(),(()=>{const e={};if(g.tray.trim()||(e.tray="Tray number is required"),g.positionOnTray||(e.positionOnTray="Position on tray is required"),"SIV"===(null==r?void 0:r.station)&&!g.colorGroup.trim()&&(e.colorGroup="Color group is required for SIV station"),g.qcName.trim()||(e.qcName="QC name is required"),g.qcLeaderConfirmName.trim()||(e.qcLeaderConfirmName="QC leader name is required"),g.mrbConfirmName.trim()||(e.mrbConfirmName="MRB confirm name is required"),g.defectType||(e.defectType="Defect type is required"),g.defect||(e.defect="Defect is required"),"Etc."!==g.defect||g.defectDetail.trim()||(e.defectDetail='Please specify defect detail for "Etc."'),g.defectQuantity<1&&(e.defectQuantity="Defect quantity must be at least 1"),g.inspectorId||(e.inspectorId="Inspector selection is required"),N(e),Object.keys(e).length>0){const t=Object.values(e);d(`Validation failed: ${t[0]}`),t.length>1&&u(t.length-1+" more validation error(s) found")}return 0===Object.keys(e).length})())if(r){w(!0);try{const e=E.find(e=>e.name===g.defect);if(!e)return d("Invalid defect selection. Please select a valid defect."),void w(!1);const n={1:"A",2:"B",3:"C",4:"D",5:"E"},a=(null==D?void 0:D.group)?n[D.group]||D.group:"",s={1:["a-gr-1","a-gr-2","a-gr-3","a-gr-4","a-gr-5","a-gr-6","a-gr-7","MRB"],2:["b-gr-1","b-gr-2","b-gr-3","b-gr-4","b-gr-5","b-gr-6","b-gr-7","QC"]};let i=0;if((null==D?void 0:D.group)&&(null==D?void 0:D.position)){const e=s[D.group];if(e){const t=e.indexOf(D.position);-1!==t&&(i=t+1)}}const l={inspection_no:r.inspection_no,defect_date:new Date(q.date),qc_name:g.qcName,qclead_name:g.qcLeaderConfirmName,mbr_name:g.mrbConfirmName,linevi:q.line.toUpperCase(),groupvi:a,station:i.toString(),inspector:g.inspectorId,defect_id:e.id,ng_qty:g.defectQuantity,trayno:g.tray,tray_position:g.positionOnTray.toString(),color:"SIV"===r.station?g.colorGroup:"",defect_detail:"Etc."===g.defect?g.defectDetail:""};console.log("Submitting defect data:",l);const c=yield j2.create(l);if(c.success&&c.data&&c.data.id){const t=c.data.id;console.log(" Defect record created with ID:",t);let n=[];if(g.rejectPhotos.length>0){console.log(" Uploading",g.rejectPhotos.length,"images...");const e=yield j2.uploadBulk(t,g.rejectPhotos);if(e.success){console.log(" Images uploaded successfully:",e.data);const r=yield j2.getByDefectId(t);r.success&&r.data&&(n=r.data.map(e=>e.image_url),console.log(" Fetched image URLs:",n))}else console.error(" Image upload failed:",e.message),u("Defect saved, but some images failed to upload: "+e.message)}const s={id:t,defect_date:new Date(q.date),trayno:g.tray,tray_position:g.positionOnTray.toString(),color:g.colorGroup,qc_name:g.qcName,qclead_name:g.qcLeaderConfirmName,mbr_name:g.mrbConfirmName,inspector:g.inspectorId,defect_id:e.id,defect_name:e.name,ng_qty:g.defectQuantity,defect_detail:g.defectDetail,inspection_no:r.inspection_no,groupvi:a,linevi:q.line.toUpperCase(),station:i.toString(),image_urls:n.length>0?n:[]};console.log(" New defect record created:",s),console.log(" defect_id:",s.defect_id,"defect_name:",s.defect_name),x({tray:"",positionOnTray:1,colorGroup:"",qcName:"",qcLeaderConfirmName:"",mrbConfirmName:"",rejectPhotos:[],inspectorId:"",defectType:"",defect:"",defectQuantity:1,defectDetail:""}),v([]),O(null),S.current&&(S.current.value=""),ne(e=>e+1),o("Defect record and images saved successfully!")}else{const e=(null==(t=c.errors)?void 0:t.map(e=>e.message).join(", "))||c.message||"Unknown error";d("Failed to save defect record: "+e),console.error("API error:",c)}}catch(n){console.error("Submit error:",n),d("Failed to submit defect record. Please try again.")}finally{w(!1)}}else d("No inspection data found. Please start from OQA page.")}),className:"space-y-6",children:[de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[de.jsxs("div",{className:"border border-orange-200 rounded-lg p-4 bg-orange-50",children:[de.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[de.jsx("span",{className:"w-8 h-8 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"A"}),"Tray Information"]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tray Number *"}),de.jsx("input",{type:"text",value:g.tray,onChange:e=>se("tray",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 "+(j.tray?"border-red-500":"border-gray-300"),placeholder:"Enter tray number"}),j.tray&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.tray})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position on Tray *"}),de.jsx("select",{value:g.positionOnTray,onChange:e=>se("positionOnTray",parseInt(e.target.value)),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 "+(j.positionOnTray?"border-red-500":"border-gray-300"),children:Array.from({length:20},(e,t)=>t+1).map(e=>de.jsx("option",{value:e,children:e},e))}),j.positionOnTray&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.positionOnTray})]}),de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Color Group ","SIV"===(null==r?void 0:r.station)?"*":"","SIV"===(null==r?void 0:r.station)&&de.jsx("span",{className:"ml-1 text-xs text-blue-600",children:"(Required for SIV)"}),"SIV"!==(null==r?void 0:r.station)&&de.jsx("span",{className:"ml-1 text-xs text-gray-500",children:" (Options)"})]}),de.jsxs("select",{value:g.colorGroup,onChange:e=>se("colorGroup",e.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-semibold ${j.colorGroup?"border-red-500":"border-gray-300"} ${"SIV"!==(null==r?void 0:r.station)?"bg-gray-100 cursor-not-allowed":""}`,style:{backgroundColor:"SIV"!==(null==r?void 0:r.station)?"#f3f4f6":g.colorGroup?g.colorGroup.toLowerCase():"white",color:"SIV"!==(null==r?void 0:r.station)?"#9ca3af":g.colorGroup&&["black","blue","purple","brown","navy"].includes(g.colorGroup.toLowerCase())?"white":"black"},disabled:p||"SIV"!==(null==r?void 0:r.station),children:[de.jsx("option",{value:"",style:{backgroundColor:"white",color:"black"},children:"Select color group"}),f.map(e=>{const t=e.value.toLowerCase(),r=["black","blue","purple","brown","navy"].includes(t)?"white":"black";return de.jsx("option",{value:e.value,style:{backgroundColor:t,color:r,fontWeight:"bold"},children:e.label},e.value)})]}),j.colorGroup&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.colorGroup})]})]})]}),de.jsxs("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:[de.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[de.jsx("span",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"B"}),"QC Personnel"]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[de.jsxs("div",{children:[de.jsx(E2,{label:"QC Name",required:!0,value:g.qcName,onChange:e=>se("qcName",e),options:U,placeholder:"Search by name or ID...",error:!!j.qcName,className:"text-sm"}),j.qcName&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.qcName}),g.qcName&&ae(g.qcName)&&de.jsx("div",{className:"mt-2 px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:de.jsxs("p",{className:"text-sm font-medium text-blue-900",children:[" ",ae(g.qcName)]})})]}),de.jsxs("div",{children:[de.jsx(E2,{label:"QC Leader Name",required:!0,value:g.qcLeaderConfirmName,onChange:e=>se("qcLeaderConfirmName",e),options:U,placeholder:"Search by name or ID...",error:!!j.qcLeaderConfirmName,className:"text-sm"}),j.qcLeaderConfirmName&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.qcLeaderConfirmName}),g.qcLeaderConfirmName&&ae(g.qcLeaderConfirmName)&&de.jsx("div",{className:"mt-2 px-3 py-2 bg-green-50 border border-green-200 rounded-lg",children:de.jsxs("p",{className:"text-sm font-medium text-green-900",children:[" ",ae(g.qcLeaderConfirmName)]})})]}),de.jsxs("div",{children:[de.jsx(E2,{label:"MRB Confirm Name",required:!0,value:g.mrbConfirmName,onChange:e=>se("mrbConfirmName",e),options:V,placeholder:"Search by name or ID...",error:!!j.mrbConfirmName,className:"text-sm"}),j.mrbConfirmName&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.mrbConfirmName}),g.mrbConfirmName&&ae(g.mrbConfirmName)&&de.jsx("div",{className:"mt-2 px-3 py-2 bg-purple-50 border border-purple-200 rounded-lg",children:de.jsxs("p",{className:"text-sm font-medium text-purple-900",children:[" ",ae(g.mrbConfirmName)]})})]})]})]}),de.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[de.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[de.jsx("span",{className:"w-8 h-8 bg-red-100 text-red-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"C"}),"Defect Details"]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Defect Type *"}),de.jsxs("select",{value:g.defectType,onChange:e=>se("defectType",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 "+(j.defectType?"border-red-500":"border-gray-300"),disabled:I,children:[de.jsx("option",{value:"",children:"Select defect type"}),k.map(e=>de.jsx("option",{value:e,children:e},e))]}),j.defectType&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.defectType})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Defect *"}),de.jsxs("select",{value:g.defect,onChange:e=>{se("defect",e.target.value),"Etc."!==e.target.value&&se("defectDetail","")},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 "+(j.defect?"border-red-500":"border-gray-300"),disabled:I,children:[de.jsx("option",{value:"",children:"Select defect"}),E.map(e=>de.jsx("option",{value:e.name,children:e.name},e.id))]}),j.defect&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.defect})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Defect Quantity *"}),de.jsx("input",{type:"number",min:"1",value:g.defectQuantity,onChange:e=>se("defectQuantity",parseInt(e.target.value)||1),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 "+(j.defectQuantity?"border-red-500":"border-gray-300")}),j.defectQuantity&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.defectQuantity})]})]}),"Etc."===g.defect&&de.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border-2 border-yellow-300 rounded-lg",children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Defect Detail Description *",de.jsx("span",{className:"ml-2 text-xs text-yellow-700 font-semibold",children:'(Required for "Etc." defect)'})]}),de.jsx("textarea",{value:g.defectDetail,onChange:e=>se("defectDetail",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 "+(j.defectDetail?"border-red-500":"border-gray-300"),rows:3,placeholder:"Please describe the defect in detail..."}),j.defectDetail&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.defectDetail}),de.jsx("p",{className:"mt-2 text-xs text-gray-600",children:" Provide specific details about the defect to help with analysis and tracking."})]})]}),de.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[de.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[de.jsx("span",{className:"w-8 h-8 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"D"}),"Defect Photos (Multiple)"]}),de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsxs("button",{type:"button",onClick:()=>{var e;return null==(e=S.current)?void 0:e.click()},className:"flex items-center space-x-2 px-4 py-2 border border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",children:[de.jsx(dp,{className:"h-5 w-5 text-gray-400"}),de.jsx("span",{className:"text-gray-600",children:"Upload Photos"})]}),de.jsx("input",{ref:S,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files;if(!t||0===t.length)return;const r=[],n=[];let a=!1;Array.from(t).forEach(e=>{if(!e.type.startsWith("image/"))return N(e=>c(l({},e),{photo:"Please select valid image files only"})),void(a=!0);if(e.size>5242880)return N(e=>c(l({},e),{photo:"Each image must be less than 5MB"})),void(a=!0);r.push(e);const t=new FileReader;t.onload=e=>{var t;n.push(null==(t=e.target)?void 0:t.result),n.length===r.length&&v(e=>[...e,...n])},t.readAsDataURL(e)}),a||(x(e=>c(l({},e),{rejectPhotos:[...e.rejectPhotos,...r]})),j.photo&&N(e=>{const t=l({},e);return delete t.photo,t}))},className:"hidden"}),b.length>0&&de.jsxs("button",{type:"button",onClick:()=>{x(e=>c(l({},e),{rejectPhotos:[]})),v([]),S.current&&(S.current.value="")},className:"flex items-center space-x-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[de.jsx(Wg,{className:"h-4 w-4"}),de.jsxs("span",{className:"text-sm",children:["Clear All (",b.length,")"]})]})]}),b.length>0&&de.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 gap-3",children:b.map((e,t)=>de.jsxs("div",{className:"relative group",children:[de.jsx("img",{src:e,alt:`Defect preview ${t+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-300 group-hover:border-primary-500 transition-colors"}),de.jsx("button",{type:"button",onClick:()=>(e=>{x(t=>c(l({},t),{rejectPhotos:t.rejectPhotos.filter((t,r)=>r!==e)})),v(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:de.jsx(rx,{className:"h-4 w-4"})}),de.jsxs("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded",children:["#",t+1]})]},t))}),j.photo&&de.jsx("p",{className:"text-sm text-red-600",children:j.photo})]})]})]}),de.jsxs("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:[de.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[de.jsx("span",{className:"w-8 h-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"E"}),"Inspector Station Selection"]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Defect Date *"}),de.jsx("input",{type:"date",value:q.date,onChange:e=>{H(t=>c(l({},t),{date:e.target.value,line:""}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"FVI Line *"}),de.jsxs("select",{value:q.line,onChange:e=>H(t=>c(l({},t),{line:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",disabled:J||0===Q.length,children:[de.jsx("option",{value:"",children:J?"Loading lines...":0===Q.length?"No lines available":"Select line"}),Q.map(e=>de.jsxs("option",{value:e,children:["Line ",e]},e))]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Shift *"}),de.jsxs("select",{value:q.shift,onChange:e=>H(t=>c(l({},t),{shift:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",disabled:I||0===_.length,children:[de.jsx("option",{value:"",children:"Select shift"}),_.map(e=>de.jsx("option",{value:e,children:e},e))]})]})]}),de.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 relative min-h-[200px]",children:[X&&de.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg z-10",children:de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),de.jsx("span",{className:"text-sm text-gray-600",children:"Loading stations..."})]})}),!X&&0===Y.length&&de.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[de.jsx(rg,{className:"h-12 w-12 text-gray-400 mb-3"}),de.jsx("p",{className:"text-gray-600 font-medium",children:"No station data found"}),de.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please fill in Date, Line, and Shift above to load station assignments"})]}),!X&&Y.length>0&&de.jsx(S2,{stations:Y,selectedStation:D,shift:q.shift,onStationSelect:e=>{if(O(e),console.log(" Station selected:",e),e){const t=e.inspectorId.split(",").map(e=>e.trim()).filter(e=>"-"!==e);console.log(" Inspectors:",t);const r={};if(e.oprname){const n=e.oprname.split(",").map(e=>e.trim());console.log(" Operator names from station:",n),t.forEach((e,t)=>{n[t]&&(r[e]=n[t],console.log(` Mapped: ${e}  ${n[t]}`))})}else console.log(" No oprname in station data");console.log(" Final name map:",r),B(r),1===t.length?se("inspectorId",t[0]):t.length>1?(F(t),R(!0),se("inspectorId","")):se("inspectorId","")}},showHeader:!1,compactMode:!0}),D&&D.inspectorId.includes(",")&&!g.inspectorId&&de.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Multiple Inspectors Found"}),de.jsx("p",{className:"text-xs text-gray-600 mt-1",children:" This station has multiple inspectors. Please select one."})]}),de.jsx("button",{type:"button",onClick:()=>R(!0),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium text-sm",children:"Select Inspector"})]}),j.inspectorId&&de.jsx("p",{className:"mt-2 text-sm text-red-600",children:j.inspectorId})]}),D&&g.inspectorId&&de.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx(Kg,{className:"h-5 w-5 text-blue-600 mr-2"}),de.jsxs("div",{children:[de.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Inspector Selected"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:$[g.inspectorId]||ae(g.inspectorId)||g.inspectorId}),($[g.inspectorId]||ae(g.inspectorId))&&de.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",g.inspectorId]})]})]}),D.inspectorId.includes(",")&&de.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Change"})]})})]})]}),de.jsx("div",{className:"pt-4 border-t border-gray-200",children:de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[de.jsxs("button",{type:"button",onClick:()=>{const e=(null==r?void 0:r.station)||"";t(`/inspection/${e}`)},className:"flex items-center justify-center space-x-2 px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200",children:[de.jsx(zf,{className:"h-5 w-5"}),de.jsx("span",{children:"Close"})]}),de.jsx("button",{type:"submit",disabled:y,className:"flex items-center justify-center space-x-2 px-6 py-3 bg-primary-600 text-white font-medium rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:y?de.jsxs(de.Fragment,{children:[de.jsx(fp,{className:"h-5 w-5 animate-spin"}),de.jsx("span",{children:"Submitting..."})]}):de.jsxs(de.Fragment,{children:[de.jsx(gp,{className:"h-5 w-5"}),de.jsx("span",{children:"Submit Defect Record"})]})})]})})]})})]}),de.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl shadow-2xl border-2 border-green-400 p-6 transform transition-all hover:scale-[1.01]",children:[de.jsxs("div",{className:"flex items-center mb-6",children:[de.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg mr-3",children:de.jsx(Tp,{className:"h-6 w-6 text-white"})}),de.jsx("h2",{className:"text-2xl font-bold text-white",children:"3. Defect Data Table"})]}),de.jsx("div",{className:"bg-white rounded-xl overflow-hidden",children:de.jsx("div",{className:"p-6",children:de.jsx(D2,{inspectionNo:(null==r?void 0:r.inspection_no)||"",showHeader:!1,showStatistics:!0,showDelete:!0,showResendEmail:!0,onSuccess:e=>o(e),onError:e=>d(e)},re)})})]})]}),L&&de.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:de.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[de.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>R(!1)}),de.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[de.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx(Kg,{className:"h-6 w-6 text-white mr-2"}),de.jsx("h3",{className:"text-lg font-semibold text-white",children:"Select Inspector"})]}),de.jsx("button",{onClick:()=>R(!1),className:"text-white hover:text-gray-200 transition-colors",children:de.jsx(rx,{className:"h-6 w-6"})})]})}),de.jsxs("div",{className:"bg-white px-6 py-6",children:[de.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Multiple inspectors are assigned to this station. Please select the inspector responsible for this defect:"}),D&&de.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[de.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Station Information"}),de.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Line ",D.line," - Group ",D.group," - Position ",D.position]})]}),de.jsx("div",{className:"grid grid-cols-1 gap-3",children:M.map(e=>{const t=$[e]||ae(e);return console.log(` Inspector: ${e}, Name from map: ${$[e]}, Name from getOperatorName: ${ae(e)}, Final: ${t}`),de.jsx("button",{onClick:()=>{se("inspectorId",e),R(!1),o(`Inspector ${t||e} selected`)},className:"w-full px-4 py-3 rounded-lg border-2 transition-all text-left "+(g.inspectorId===e?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-300 bg-white text-gray-700 hover:border-primary-400 hover:bg-primary-50"),children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx(Kg,{className:"h-5 w-5 mr-3 text-gray-600"}),de.jsxs("div",{children:[de.jsx("p",{className:"font-semibold",children:t||e}),de.jsx("p",{className:"text-xs text-gray-500",children:t?`ID: ${e}`:"Inspector ID"})]})]}),g.inspectorId===e&&de.jsx(fp,{className:"h-6 w-6 text-primary-600"})]})},e)})})]}),de.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:de.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors font-medium",children:"Cancel"})})]})]})})]})},requiredRoles:["user","manager","admin"]}]},{groupName:"CustomerData",routes:[{path:"/customer-data/oqa",element:()=>{const e=Cm();Nm();const t=x5.OQA_CUSTOMER,r=t.theme,[n,a]=ee.useState([]),[s,i]=ee.useState([]),[o,d]=ee.useState({dateStart:(()=>{const e=new Date;return e.setDate(e.getDate()-7),e.toISOString().split("T")[0]})(),dateEnd:(()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`})(),judgment:"all",lotno:"",model:"All"}),[u,m]=ee.useState(null),[f,p]=ee.useState(!0),[g,x]=ee.useState(!0),[b,v]=ee.useState(null),[y,w]=ee.useState(1),[j]=ee.useState(10),[N,S]=ee.useState(!1),[k,C]=ee.useState(null),[E,T]=ee.useState(""),[_,A]=ee.useState(!1),[I,P]=ee.useState(!1),[D,O]=ee.useState(null),[L,R]=ee.useState(null),[M,F]=ee.useState(!1),[$,B]=ee.useState(!1),[U,z]=ee.useState(null),[V,W]=ee.useState(!1),q=I2(),{showSuccess:H,showError:Q,showWarning:G}=Ax();ee.useEffect(()=>{Y()},[t.code]);const Y=()=>h(void 0,null,function*(){var e;try{x(!0),v(null),console.log(` Fetching ${t.code} inspection data...`);const r=yield Z2.getAllCustomerData({station:t.code,page:1,limit:1e3});if(console.log(" API Response:",r),r.success&&r.data){const n=r.data.data||[];console.log(" All inspection data:",n);const s=n.filter(e=>e.station===t.code);console.log(` Filtered ${t.code} records:`,s.length),console.log(" Sample record from API:",s[0]);const o=s.map(e=>({id:e.id.toString(),timestamp:new Date(e.inspection_date).toISOString(),inspectionDate:new Date(e.inspection_date),inspector:`QC${e.qc_id}`,model:`${e.model} ${e.version}`,samplingRound:e.round,fviLotQty:e.fvi_lot_qty||0,generalSamplingQty:e.general_sampling_qty||0,crackSamplingQty:e.crack_sampling_qty||0,sampling_reason_id:e.sampling_reason_id||0,sampling_reason_name:e.sampling_reason_name||"",sampling_reason_description:e.sampling_reason_description||"",judgment:null===e.judgment?null:e.judgment?"Pass":"Reject",lotno:e.lotno,itemno:e.itemno,inspectionNo:e.inspection_no,inspectionNoRef:e.inspection_no_ref,ww:e.ww,mclineno:e.mclineno,shift:e.shift,station:e.station,fy:e.fy,month_year:e.month_year,partsite:e.partsite,version:e.version,fvilineno:e.fvilineno,qc_id:e.qc_id,ng_num:e.ng_num||0,defect_num:e.defect_num||0,created_at:e.created_at?new Date(e.created_at):void 0,updated_at:e.updated_at?new Date(e.updated_at):void 0,created_by:e.created_by,updated_by:e.updated_by,defects:e.defects||[]}));console.log(" Transformed records:",o.length),console.log(" Sample transformed record:",o[0]),console.log(" Defects in first record:",null==(e=o[0])?void 0:e.defects),a(o),i(o)}else console.error(" API returned unsuccessful response:",r),v("Failed to load inspection data")}catch(r){console.error(" Error loading inspection data:",r),v("Failed to load inspection data")}finally{x(!1)}});ee.useEffect(()=>{let e=[...n];(o.dateStart||o.dateEnd)&&(e=e.filter(e=>{const t=new Date(e.timestamp);t.setHours(0,0,0,0);const r=o.dateStart?new Date(o.dateStart):null,n=o.dateEnd?new Date(o.dateEnd):null;return r&&r.setHours(0,0,0,0),n&&n.setHours(23,59,59,999),r&&n?t>=r&&t<=n:r?t>=r:!n||t<=n})),"all"!==o.judgment&&(e=e.filter(e=>e.judgment.toLowerCase()===o.judgment)),o.lotno&&""!==o.lotno.trim()&&(e=e.filter(e=>e.lotno.toLowerCase().includes(o.lotno.toLowerCase().trim()))),"All"!==o.model&&(e=e.filter(e=>e.model===o.model)),i(e)},[o,n]);const K=(e,t)=>{d(r=>c(l({},r),{[e]:t}))},X=e=>"Pass"===e?de.jsx(fp,{className:"h-5 w-5 text-green-600"}):de.jsx(ex,{className:"h-5 w-5 text-red-600"}),Z=ee.useMemo(()=>{const e=s.length,t=s.filter(e=>"Pass"===e.judgment).length,r=s.filter(e=>"Reject"===e.judgment).length;return{total:e,passed:t,rejected:r,passRate:e>0?(t/e*100).toFixed(1):"0"}},[s]),J=ee.useMemo(()=>["All",...Array.from(new Set(n.map(e=>e.model))).sort()],[n]),te=ee.useCallback(e=>{const t=o.lotno.trim();if(!t)return de.jsx("span",{children:e});const r=new RegExp(`(${t})`,"gi"),n=e.split(r);return de.jsx("span",{children:n.map((e,t)=>r.test(e)?de.jsx("span",{className:"bg-yellow-200 text-yellow-900 font-bold px-1 rounded",children:e},t):de.jsx("span",{children:e},t))})},[o.lotno]),re=()=>{e(t.pageRoute)},ne=y*j,ae=ne-j,se=s.slice(ae,ne),ie=Math.ceil(s.length/j),oe=e=>{w(e)};return de.jsx("div",{className:`min-h-screen bg-gradient-to-br ${r.background} p-6`,children:de.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[g&&de.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:`animate-spin rounded-full h-16 w-16 border-b-4 ${r.spinner} mx-auto mb-4`}),de.jsx("p",{className:"text-gray-600 font-medium",children:"Loading inspection data..."})]})}),b&&!g&&de.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx(ex,{className:"h-8 w-8 text-red-600"}),de.jsxs("div",{children:[de.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Error Loading Data"}),de.jsx("p",{className:"text-red-700",children:b})]})]}),de.jsx("button",{onClick:Y,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Retry"})]}),!g&&!b&&de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 px-6 py-3",children:de.jsxs("nav",{className:"flex items-center space-x-2 text-sm",children:[de.jsxs("button",{onClick:()=>{e("/")},className:`flex items-center text-gray-600 ${r.breadcrumb} transition-colors duration-200`,children:[de.jsx(Zp,{className:"h-4 w-4 mr-1"}),"Home"]}),de.jsx(jp,{className:"h-4 w-4 text-gray-400"}),de.jsx("button",{onClick:re,className:`text-gray-600 ${r.breadcrumb} transition-colors duration-200`,children:t.breadcrumbName}),de.jsx(jp,{className:"h-4 w-4 text-gray-400"}),de.jsx("span",{className:`${r.breadcrumbActive} font-semibold`,children:t.title})]})}),de.jsx("div",{className:`bg-white rounded-2xl shadow-xl border ${r.headerBorder} overflow-hidden`,children:de.jsx("div",{className:`bg-gradient-to-r ${r.header} p-6`,children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsx("button",{onClick:re,className:"bg-white/20 backdrop-blur-sm rounded-xl p-3 hover:bg-white/30 transition-colors duration-200",title:`Back to ${t.name} Page`,children:de.jsx(yp,{className:"h-6 w-6 text-white"})}),de.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-3",children:de.jsx(Fp,{className:"h-10 w-10 text-white"})}),de.jsxs("div",{children:[de.jsx("h1",{className:"text-3xl font-bold text-white",children:t.title}),de.jsx("p",{className:`${r.subtitle} mt-1`,children:t.subtitle})]})]}),de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-4 py-3 border border-white/20 text-center min-w-[100px]",children:[de.jsx("div",{className:"text-white font-bold text-xl",children:TA(Z.total.toString())}),de.jsx("div",{className:"text-white/70 text-xs",children:"Total"})]}),de.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-4 py-3 border border-white/20 text-center min-w-[100px]",children:[de.jsx("div",{className:"text-green-100 font-bold text-xl",children:TA(Z.passed.toString())}),de.jsx("div",{className:"text-white/70 text-xs",children:"Passed"})]}),de.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-4 py-3 border border-white/20 text-center min-w-[100px]",children:[de.jsx("div",{className:"text-red-100 font-bold text-xl",children:TA(Z.rejected.toString())}),de.jsx("div",{className:"text-white/70 text-xs",children:"Rejected"})]}),de.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-4 py-3 border border-white/20 text-center min-w-[100px]",children:[de.jsxs("div",{className:"text-yellow-100 font-bold text-xl",children:[TA(Z.passRate,2),"%"]}),de.jsx("div",{className:"text-white/70 text-xs",children:"Pass Rate"})]}),de.jsx("button",{onClick:()=>{try{if(0===s.length)return void G("No Data","No records to export. Please adjust your filters.");const e=[{key:"no",header:"No.",width:5},{key:"station",header:"Station",width:10},{key:"inspectionNo",header:"Sampling No",width:20},{key:"inspectionNoRef",header:"Sampling No Ref",width:20},{key:"inspectionDate",header:"Sampling Date",width:15,formatter:EA.date},{key:"ww",header:"WW",width:8},{key:"shift",header:"Shift",width:8},{key:"lotno",header:"Lot No",width:15},{key:"mclineno",header:"MC Line No",width:12},{key:"itemno",header:"Item No",width:15},{key:"model",header:"Model",width:20},{key:"samplingRound",header:"Round",width:8},{key:"fviLotQty",header:"FVI Lot Qty",width:12},{key:"generalSamplingQty",header:"General Sampling Qty",width:18},{key:"crackSamplingQty",header:"Crack Sampling Qty",width:18},{key:"judgment",header:"Judgment",width:10},{key:"inspector",header:"Inspector",width:12}],r=s.map((e,r)=>({no:r+1,station:t.code,inspectionNo:e.inspectionNo,inspectionNoRef:e.inspectionNoRef||"",inspectionDate:e.inspectionDate,ww:e.ww,shift:e.shift,lotno:e.lotno,mclineno:e.mclineno,itemno:e.itemno,model:e.model,samplingRound:e.samplingRound,fviLotQty:e.fviLotQty,generalSamplingQty:e.generalSamplingQty,crackSamplingQty:e.crackSamplingQty,judgment:e.judgment,inspector:e.inspector})),n=(new Date).toISOString().replace(/[:.]/g,"-").slice(0,-5),a=`${t.code}_Inspection_Records_${n}`;CA(r,{filename:a,sheetName:`${t.code} Inspections`,columns:e,autoWidth:!0}),q.playSuccess(),H("Export Successful",`${s.length} records exported to ${a}.xlsx`),console.log(` Exported ${s.length} records to ${a}.xlsx`)}catch(e){console.error(" Export error:",e),q.playError(),Q("Export Failed",e instanceof Error?e.message:"Failed to export records")}},className:"bg-white/20 backdrop-blur-sm rounded-xl p-3 hover:bg-white/30 transition-colors duration-200",title:"Export Results",children:de.jsx(Ff,{className:"h-6 w-6 text-white"})})]})]})})}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"bg-gradient-to-r from-orange-100 to-amber-100 px-6 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("h3",{className:"text-lg font-bold text-orange-800",children:"Filters"}),de.jsx("button",{onClick:()=>p(!f),className:"text-orange-600 hover:text-orange-800 transition-colors duration-200",children:de.jsx(Kp,{className:"h-6 w-6"})})]})}),f&&de.jsx("div",{className:"p-6",children:de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date Start"}),de.jsx("input",{type:"date",className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${r.focusRing}`,value:o.dateStart,onChange:e=>K("dateStart",e.target.value)})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date End"}),de.jsx("input",{type:"date",className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${r.focusRing}`,value:o.dateEnd,onChange:e=>K("dateEnd",e.target.value)})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Judgment"}),de.jsxs("select",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${r.focusRing}`,value:o.judgment,onChange:e=>K("judgment",e.target.value),children:[de.jsx("option",{value:"all",children:"All Results"}),de.jsx("option",{value:"pass",children:"Pass Only"}),de.jsx("option",{value:"reject",children:"Reject Only"})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Model"}),de.jsx("select",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${r.focusRing}`,value:o.model,onChange:e=>K("model",e.target.value),children:J.map(e=>de.jsx("option",{value:e,children:e},e))})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Lot No"}),de.jsx("input",{type:"text",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${o.lotno.trim()?"border-blue-400 bg-blue-50 text-blue-900 font-semibold ring-2 ring-blue-200":"border-gray-300 bg-white"} ${r.focusRing}`,value:o.lotno,onChange:e=>K("lotno",e.target.value),placeholder:"Search lot number..."})]})]})})]}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"bg-gradient-to-r from-slate-100 to-gray-100 px-6 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Inspection Records"}),de.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[de.jsxs("span",{className:"flex items-center",children:[de.jsx(Fp,{className:"h-4 w-4 mr-1"})," Details"]}),de.jsxs("span",{className:"flex items-center",children:[de.jsx(Wp,{className:"h-4 w-4 mr-1 text-orange-600"})," Input Defect"]})]})]})}),de.jsx("div",{className:"overflow-x-auto",children:de.jsxs("table",{className:"w-full",children:[de.jsx("thead",{className:"bg-gray-50",children:de.jsxs("tr",{children:[de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"No."}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Sampling No"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Sampling Date"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Lot No"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Item No"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Round"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Quantities"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),de.jsx("tbody",{className:"divide-y divide-gray-200",children:se.map((n,a)=>{var s,i,o,l;return de.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[de.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ae+a+1}),de.jsx("td",{className:"px-6 py-4 text-sm",children:de.jsx("div",{className:"font-medium text-gray-900",children:n.inspectionNo})}),de.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx(lp,{className:"h-4 w-4 text-gray-400"}),de.jsx("span",{children:new Date(n.inspectionDate).toLocaleDateString()})]}),de.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["WW: ",n.ww]}),n.sampling_reason_description&&de.jsx("div",{className:"text-xs text-orange-500 mt-1",children:n.sampling_reason_description})]}),de.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:de.jsxs("button",{onClick:()=>{return e=n.lotno,h(void 0,null,function*(){try{W(!0);const t=yield z4.getLotDetails(e);t?(z(t),B(!0),q.playSelect()):G("Lot Not Found",`No lot information found for lot number: ${e}`)}catch(t){console.error(" Error fetching lot details:",t),Q("Error",`Failed to fetch lot details: ${t instanceof Error?t.message:"Unknown error"}`)}finally{W(!1)}});var e},disabled:V,className:"text-left hover:bg-blue-50 rounded px-2 py-1 -mx-2 transition-all duration-200 group disabled:opacity-50 disabled:cursor-not-allowed",title:"Click to view lot details",children:[de.jsxs("div",{className:"text-blue-600 hover:text-blue-800 font-medium group-hover:underline flex items-center",children:[te(n.lotno),de.jsx("svg",{className:"h-4 w-4 ml-1 opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})]}),de.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["MC Line No. ",n.mclineno]})]})}),de.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[de.jsx("div",{children:n.itemno}),de.jsx("div",{className:"text-xs text-gray-900 font-medium mt-1",children:n.model})]}),de.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:n.samplingRound}),de.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:de.jsxs("div",{className:"space-y-1",children:[de.jsxs("div",{children:["FVI: ",TA((null!=(s=n.fviLotQty)?s:0).toString())]}),de.jsxs("div",{children:["Gen: ",TA((null!=(i=n.generalSamplingQty)?i:0).toString())]}),de.jsxs("div",{children:["Crack: ",TA((null!=(o=n.crackSamplingQty)?o:0).toString())]})]})}),de.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[de.jsxs("div",{className:`inline-flex items-center space-x-2 px-3 py-1 rounded-full border text-sm font-medium ${l=n.judgment,z4.getStatusColor(l)}`,children:[X(n.judgment),de.jsx("span",{children:n.judgment})]}),"Reject"===n.judgment&&de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"text-xs text-red-600 mt-1",children:de.jsxs("span",{children:["Defect: ",n.defect_num]})}),de.jsx("div",{className:"text-xs text-red-600 mt-1",children:de.jsxs("span",{children:["NG: ",n.ng_num]})})]})]}),de.jsx("td",{className:"px-6 py-4",children:de.jsxs("div",{className:"flex flex-col space-y-2",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("button",{onClick:()=>(r=>{console.log("Edit record:",r),e(t.pageRoute,{state:{editMode:!0,inspectionId:r.id,inspectionData:{inspection_no:r.inspectionNo,inspection_date:r.inspectionDate,shift:r.shift,lotno:r.lotno,itemno:r.itemno,model:r.model,fviLotQty:r.fviLotQty,generalSamplingQty:r.generalSamplingQty,crackSamplingQty:r.crackSamplingQty,judgment:r.judgment,round:r.samplingRound}}})})(n),className:`p-2 ${r.editButton} rounded-lg transition-colors duration-200`,title:"Edit",children:de.jsx(gg,{className:"h-5 w-5"})}),de.jsx("button",{onClick:()=>(e=>{C(e),S(!0)})(n),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Delete",children:de.jsx(Wg,{className:"h-5 w-5"})})]}),de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("button",{onClick:()=>m(n),className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors duration-200",title:"View Details",children:de.jsx(Fp,{className:"h-5 w-5"})}),"Reject"===n.judgment&&de.jsx("button",{onClick:()=>(r=>{console.log("Input defect for record:",r),e("/customer-data/defect/new",{state:{inspectionData:{inspection_no:r.inspectionNo,lotno:r.lotno,itemno:r.itemno,model:r.model,shift:r.shift,inspection_date:r.inspectionDate,fvi_lot_qty:r.fviLotQty,general_sampling_qty:r.generalSamplingQty,crack_sampling_qty:r.crackSamplingQty,judgment:r.judgment,round:r.samplingRound,fvilineno:r.fvilineno||"",station:t.code}}})})(n),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors duration-200",title:"Input Defect",children:de.jsx(Wp,{className:"h-5 w-5"})}),"Pass"===n.judgment&&de.jsx("button",{onClick:()=>(e=>h(void 0,null,function*(){try{if(!z4.canCreateSIV(e))return q.playWarning(),void G("Invalid Judgment","SIV inspection can only be created from OQA inspections with Pass judgment.");console.log(" Generating SIV from OQA inspection:",e.id),O(e),A(!0)}catch(t){console.error(" Error preparing SIV creation:",t),q.playError(),Q("Error",t instanceof Error?t.message:"Failed to prepare SIV creation")}}))(n),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors duration-200",title:"Generate SIV (OQA Pass only)",children:de.jsx(Sp,{className:"h-5 w-5"})})]})]})})]},n.id)})})]})}),0===s.length&&!g&&de.jsxs("div",{className:"text-center py-12",children:[de.jsx(Fp,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),de.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Records Found"}),de.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters to see more results."})]}),s.length>0&&de.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",de.jsx("span",{className:"font-medium",children:ae+1})," to"," ",de.jsx("span",{className:"font-medium",children:Math.min(ne,s.length)})," of"," ",de.jsx("span",{className:"font-medium",children:s.length})," results"]}),de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("button",{onClick:()=>oe(y-1),disabled:1===y,className:"p-2 rounded-lg "+(1===y?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-200 transition-colors duration-200"),children:de.jsx(yp,{className:"h-5 w-5"})}),Array.from({length:ie},(e,t)=>t+1).map(e=>de.jsx("button",{onClick:()=>oe(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 "+(y===e?`${r.pagination} text-white`:"text-gray-700 hover:bg-gray-200"),children:e},e)),de.jsx("button",{onClick:()=>oe(y+1),disabled:y===ie,className:"p-2 rounded-lg "+(y===ie?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-200 transition-colors duration-200"),children:de.jsx(jp,{className:"h-5 w-5"})})]})]})})]}),de.jsx(d5,{record:u,isOpen:!!u,onClose:()=>m(null),onPrint:()=>{window.print()},theme:r,stationCode:t.code,serviceType:"defectdata-customer"}),de.jsx(p5,{lot:U,isOpen:$,onClose:()=>{B(!1),z(null)},onPrint:()=>window.print(),title:"Lot Information",showPrintButton:!0}),N&&k&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:de.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[de.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-red-500 to-rose-600 rounded-t-2xl",children:de.jsx("h3",{className:"text-2xl font-bold text-white",children:"Confirm Delete"})}),de.jsxs("div",{className:"p-6",children:[de.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx(Wg,{className:"h-12 w-12 text-red-600"})}),de.jsxs("div",{children:[de.jsx("p",{className:"text-gray-900 font-medium",children:"Are you sure you want to delete this inspection record?"}),de.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Inspection: ",k.inspectionNo]}),de.jsx("p",{className:"text-red-600 text-sm mt-2 font-medium",children:"This action cannot be undone."})]})]}),de.jsxs("div",{className:"flex justify-end space-x-4",children:[de.jsx("button",{onClick:()=>{S(!1),C(null)},className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-semibold hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){if(k)try{console.log("Deleting record:",k.id);const e=parseInt(k.id.replace(/\D/g,"")),t=yield Z2.delete(e);t.success?(yield Y(),S(!1),C(null),q.playDelete(),H("Deleted Successfully",`Inspection record ${k.inspectionNo} has been deleted.`)):(q.playError(),Q("Delete Failed",t.message||"Failed to delete inspection record. Please try again."))}catch(e){console.error("Error deleting record:",e),q.playError(),Q("Delete Error",e instanceof Error?e.message:"An error occurred while deleting the inspection record.")}}),className:"px-6 py-3 bg-gradient-to-r from-red-500 to-rose-600 text-white rounded-lg font-semibold hover:from-red-600 hover:to-rose-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Delete"})]})]})]})}),_&&D&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[de.jsx(Sp,{className:"w-8 h-8 text-blue-500 mr-3"}),de.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Create SIV Inspection"})]}),de.jsxs("p",{className:"text-gray-700 mb-4",children:["Create SIV inspection from OQA inspection ",de.jsx("span",{className:"font-semibold",children:D.inspectionNo}),"?"]}),de.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:de.jsxs("div",{className:"space-y-2 text-sm",children:[de.jsxs("div",{className:"flex justify-between",children:[de.jsx("span",{className:"text-gray-600",children:"Lot No:"}),de.jsx("span",{className:"font-semibold text-gray-900",children:D.lotno})]}),de.jsxs("div",{className:"flex justify-between",children:[de.jsx("span",{className:"text-gray-600",children:"Model:"}),de.jsx("span",{className:"font-semibold text-gray-900",children:D.model})]}),de.jsxs("div",{className:"flex justify-between",children:[de.jsx("span",{className:"text-gray-600",children:"Judgment:"}),de.jsx("span",{className:"font-semibold "+("Pass"===D.judgment?"text-green-600":"text-red-600"),children:D.judgment})]})]})}),de.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-6",children:de.jsxs("p",{className:"text-xs text-amber-800",children:[de.jsx("strong",{children:"Note:"})," Only Pass OQA inspections can create SIV records."]})}),de.jsxs("div",{className:"flex gap-3 justify-end",children:[de.jsx("button",{onClick:()=>{A(!1),O(null)},disabled:M,className:"px-5 py-2.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){if(D)try{F(!0);const e=yield z4.createSIVFromOQA(D.id);e.success?(q.playImportant(),Y()):q.playError(),R(e)}catch(e){console.error(" Error creating SIV:",e),q.playError(),R({success:!1,message:e instanceof Error?e.message:"Network error occurred"})}finally{F(!1),A(!1),P(!0)}}),disabled:M,className:"px-5 py-2.5 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 font-medium shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:M?de.jsxs(de.Fragment,{children:[de.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[de.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),de.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Yes, Create SIV"})]})]})}),I&&L&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[L.success?de.jsx(fp,{className:"w-8 h-8 text-green-500 mr-3"}):de.jsx(ex,{className:"w-8 h-8 text-red-500 mr-3"}),de.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:L.success?"Success":"Failed"})]}),de.jsx("p",{className:"text-lg mb-4 "+(L.success?"text-green-700":"text-red-700"),children:L.message}),L.success&&L.inspectionNo&&de.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:de.jsxs("div",{className:"text-sm",children:[de.jsx("span",{className:"text-gray-600",children:"SIV Sampling No:"}),de.jsx("span",{className:"ml-2 font-bold text-green-800 text-base",children:L.inspectionNo})]})}),de.jsx("div",{className:"flex justify-end",children:de.jsx("button",{onClick:()=>{P(!1),R(null),O(null)},className:"px-6 py-2.5 rounded-lg font-medium transition-all duration-200 "+(L.success?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 shadow-lg":"bg-gradient-to-r from-red-500 to-rose-600 text-white hover:from-red-600 hover:to-rose-700 shadow-lg"),children:"OK"})})]})})]})]})})},requiredRoles:["user","manager","admin","viewer"]},{path:"/customer-data/defect/new",element:()=>{const e=Nm(),t=Cm(),[r,n]=ee.useState(null),a=C2(),{toasts:s,removeToast:i}=a,{success:o,error:d,warning:u,info:m}=A2({success:a.success,error:a.error,warning:a.warning,info:a.info}),{options:f,loading:p}=px(),[g,x]=ee.useState({tray:"",positionOnTray:1,colorGroup:"",qcName:"",qcLeaderConfirmName:"",mrbConfirmName:"",rejectPhotos:[],inspectorId:"",defectType:"",defect:"",defectQuantity:1,defectDetail:""}),[b,v]=ee.useState([]),[y,w]=ee.useState(!1),[j,N]=ee.useState({}),S=ee.useRef(null),[k,C]=ee.useState([]),[E,T]=ee.useState([]),[_,A]=ee.useState([]),[I,P]=ee.useState(!0),[D,O]=ee.useState(null),[L,R]=ee.useState(!1),[M,F]=ee.useState([]),[$,B]=ee.useState({}),[U,z]=ee.useState([]),[V,W]=ee.useState([]),[q,H]=ee.useState({date:(new Date).toISOString().split("T")[0],line:"",shift:""}),[Q,G]=ee.useState([]),[Y,K]=ee.useState([]),[X,Z]=ee.useState(!1),[J,te]=ee.useState(!1),[re,ne]=ee.useState(0);ee.useEffect(()=>{var t;if(null==(t=e.state)?void 0:t.inspectionData){const t=e.state.inspectionData;n(t),console.log("Received inspection data:",t),t.station&&"SIV"!==t.station&&x(e=>c(l({},e),{colorGroup:""}))}},[e.state]),ee.useEffect(()=>{h(void 0,null,function*(){try{P(!0);const e=yield cx.getSysconfig();if(e.defect_type){const t=e.defect_type.split(",").map(e=>e.trim()).filter(e=>e);C(t)}if(e.shift){const t=e.shift.split(",").map(e=>e.trim()).filter(e=>e);A(t),t.length>0&&!q.shift&&H(e=>c(l({},e),{shift:t[0]}))}const t=yield y2.get({isActive:!0});console.log("Defect Response:",t),t.success&&t.data?(console.log("Loaded defects:",t.data),T(t.data)):(console.error("Failed to load defects:",t.message),d("Failed to load defect types. Please refresh the page."));const r=yield w2.getOperators("QC");if(console.log("QC Operators Response:",r),r.success&&r.data){console.log("Loaded QC operators:",r.data);const e=r.data.map(e=>({value:e.username,label:e.oprname}));z(e)}else console.error("Failed to load QC operators:",r.message),u("Failed to load QC operator list. You can still enter names manually.");const n=yield w2.getOperators("MRB");if(console.log("MRB Operators Response:",n),n.success&&n.data){console.log("Loaded MRB operators:",n.data);const e=n.data.map(e=>({value:e.username,label:e.oprname}));W(e)}else console.error("Failed to load MRB operators:",n.message),u("Failed to load MRB operator list. You can still enter names manually.");P(!1)}catch(e){console.error("Error loading data:",e),d("Error loading initial data. Please refresh the page."),P(!1)}})},[]),ee.useEffect(()=>{h(void 0,null,function*(){if(!q.date)return console.log("Skipping lines load - no date selected"),void G([]);try{te(!0),console.log("Loading available FVI lines for date:",q.date);const e=yield w2.getFVILinesByDate(q.date);if(e.success&&e.data){const t=e.data.map(e=>e.line_no_id);console.log("Available lines:",t),G(t),t.length>0&&!q.line&&H(e=>c(l({},e),{line:t[0]})),0===t.length&&u("No FVI lines available for the selected date.")}else console.error("Failed to load lines:",e.message),d("Failed to load FVI lines. Please try again."),G([]);te(!1)}catch(e){console.error("Error loading lines:",e),d("Network error loading FVI lines."),G([]),te(!1)}})},[q.date]),ee.useEffect(()=>{h(void 0,null,function*(){if(!q.line||!q.date||!q.shift)return console.log("Skipping FVI load - missing parameters:",q),void K([]);try{Z(!0),console.log("Loading FVI Line Mapping:",q);const e=yield w2.getFVILineMapping(q.line,q.date,q.shift);if(console.log("FVI API Response:",e),e.success&&e.data){const t=e.data.map((e,t)=>({line:q.line,group:e.group_code,id:t+1,position:e.gr_code,inspectorId:e.username,oprname:e.oprname}));console.log("Mapped FVI Stations:",t),K(t),0===t.length&&m("No station assignments found for this line and shift.")}else console.error("Failed to load FVI mapping:",e.message),d("Failed to load FVI station mapping."),K([]);Z(!1)}catch(e){console.error("Error loading FVI mapping:",e),d("Network error loading station mapping."),K([]),Z(!1)}})},[q]);const ae=e=>{const t=U.find(t=>t.value===e);if(t)return t.label;const r=V.find(t=>t.value===e);return r?r.label:null},se=(e,t)=>{x(r=>c(l({},r),{[e]:t})),j[e]&&N(t=>{const r=l({},t);return delete r[e],r})};return de.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50 to-primary-50",children:[s.map(e=>de.jsx(k2,{message:e.message,type:e.type,duration:e.duration,onClose:()=>i(e.id),position:"top-right"},e.id)),de.jsx("div",{className:"bg-white shadow-sm border-b",children:de.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:de.jsx("div",{className:"flex items-center justify-between h-16",children:de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:de.jsx(Wp,{className:"h-6 w-6 text-primary-600"})}),de.jsxs("div",{children:[de.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Defect Input (Customer Format)"}),de.jsx("p",{className:"text-sm text-gray-500",children:"Record and track defect inspection data"})]})]})})})}),de.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[r&&de.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-2xl shadow-2xl border-2 border-purple-400 p-6 transform transition-all hover:scale-[1.01]",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[de.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg mr-3",children:de.jsx(rg,{className:"h-6 w-6 text-white"})}),de.jsx("h2",{className:"text-2xl font-bold text-white",children:"1. Sampling Information"})]}),de.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"Sampling No."}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.inspection_no})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"Lot No."}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.lotno})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"Item No."}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.itemno})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"Model"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.model})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"FVI Line No"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.fvilineno||"N/A"})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"Shift"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.shift})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"Round"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.round})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"FVI Lot Qty"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.fvi_lot_qty})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"Judgment"}),de.jsx("p",{className:"text-sm font-bold "+("Pass"===r.judgment?"text-green-300":"Reject"===r.judgment?"text-red-300":"text-gray-300"),children:r.judgment||""})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"General Sampling"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.general_sampling_qty})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"Crack Sampling"}),de.jsx("p",{className:"text-sm font-bold text-white",children:r.crack_sampling_qty})]}),de.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm",children:[de.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"Sampling Date"}),de.jsx("p",{className:"text-sm font-bold text-white",children:new Date(r.inspection_date).toLocaleDateString()})]})]})]}),de.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-amber-600 rounded-2xl shadow-2xl border-2 border-orange-400 p-6 transform transition-all hover:scale-[1.01]",children:[de.jsxs("div",{className:"flex items-center mb-6",children:[de.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg mr-3",children:de.jsx(Fp,{className:"h-6 w-6 text-white"})}),de.jsx("h2",{className:"text-2xl font-bold text-white",children:"2. Defect Input Form"})]}),de.jsx("div",{className:"bg-white rounded-xl p-6",children:de.jsxs("form",{onSubmit:e=>h(void 0,null,function*(){var t;if(e.preventDefault(),(()=>{const e={};if(g.tray.trim()||(e.tray="Tray number is required"),g.positionOnTray||(e.positionOnTray="Position on tray is required"),"SIV"===(null==r?void 0:r.station)&&!g.colorGroup.trim()&&(e.colorGroup="Color group is required for SIV station"),g.qcName.trim()||(e.qcName="QC name is required"),g.qcLeaderConfirmName.trim()||(e.qcLeaderConfirmName="QC leader name is required"),g.mrbConfirmName.trim()||(e.mrbConfirmName="MRB confirm name is required"),g.defectType||(e.defectType="Defect type is required"),g.defect||(e.defect="Defect is required"),"Etc."!==g.defect||g.defectDetail.trim()||(e.defectDetail='Please specify defect detail for "Etc."'),g.defectQuantity<1&&(e.defectQuantity="Defect quantity must be at least 1"),g.inspectorId||(e.inspectorId="Inspector selection is required"),N(e),Object.keys(e).length>0){const t=Object.values(e);d(`Validation failed: ${t[0]}`),t.length>1&&u(t.length-1+" more validation error(s) found")}return 0===Object.keys(e).length})())if(r){w(!0);try{const e=E.find(e=>e.name===g.defect);if(!e)return d("Invalid defect selection. Please select a valid defect."),void w(!1);const n={1:"A",2:"B",3:"C",4:"D",5:"E"},a=(null==D?void 0:D.group)?n[D.group]||D.group:"",s={1:["a-gr-1","a-gr-2","a-gr-3","a-gr-4","a-gr-5","a-gr-6","a-gr-7","MRB"],2:["b-gr-1","b-gr-2","b-gr-3","b-gr-4","b-gr-5","b-gr-6","b-gr-7","QC"]};let i=0;if((null==D?void 0:D.group)&&(null==D?void 0:D.position)){const e=s[D.group];if(e){const t=e.indexOf(D.position);-1!==t&&(i=t+1)}}const l={inspection_no:r.inspection_no,defect_date:new Date(q.date),qc_name:g.qcName,qclead_name:g.qcLeaderConfirmName,mbr_name:g.mrbConfirmName,linevi:q.line.toUpperCase(),groupvi:a,station:i.toString(),inspector:g.inspectorId,defect_id:e.id,ng_qty:g.defectQuantity,trayno:g.tray,tray_position:g.positionOnTray.toString(),color:"SIV"===r.station?g.colorGroup:"",defect_detail:"Etc."===g.defect?g.defectDetail:""};console.log("Submitting defect data:",l);const c=yield P2.create(l);if(c.success&&c.data&&c.data.id){const t=c.data.id;console.log(" Defect record created with ID:",t);let n=[];if(g.rejectPhotos.length>0){console.log(" Uploading",g.rejectPhotos.length,"images...");const e=yield P2.uploadBulk(t,g.rejectPhotos);if(e.success){console.log(" Images uploaded successfully:",e.data);const r=yield P2.getByDefectId(t);r.success&&r.data&&(n=r.data.map(e=>e.image_url),console.log(" Fetched image URLs:",n))}else console.error(" Image upload failed:",e.message),u("Defect saved, but some images failed to upload: "+e.message)}const s={id:t,defect_date:new Date(q.date),trayno:g.tray,tray_position:g.positionOnTray.toString(),color:g.colorGroup,qc_name:g.qcName,qclead_name:g.qcLeaderConfirmName,mbr_name:g.mrbConfirmName,inspector:g.inspectorId,defect_id:e.id,defect_name:e.name,ng_qty:g.defectQuantity,defect_detail:g.defectDetail,inspection_no:r.inspection_no,groupvi:a,linevi:q.line.toUpperCase(),station:i.toString(),image_urls:n.length>0?n:[]};console.log(" New defect record created:",s),console.log(" defect_id:",s.defect_id,"defect_name:",s.defect_name),x({tray:"",positionOnTray:1,colorGroup:"",qcName:"",qcLeaderConfirmName:"",mrbConfirmName:"",rejectPhotos:[],inspectorId:"",defectType:"",defect:"",defectQuantity:1,defectDetail:""}),v([]),O(null),S.current&&(S.current.value=""),ne(e=>e+1),o("Defect record and images saved successfully!")}else{const e=(null==(t=c.errors)?void 0:t.map(e=>e.message).join(", "))||c.message||"Unknown error";d("Failed to save defect record: "+e),console.error("API error:",c)}}catch(n){console.error("Submit error:",n),d("Failed to submit defect record. Please try again.")}finally{w(!1)}}else d("No inspection data found. Please start from OQA page.")}),className:"space-y-6",children:[de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[de.jsxs("div",{className:"border border-orange-200 rounded-lg p-4 bg-orange-50",children:[de.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[de.jsx("span",{className:"w-8 h-8 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"A"}),"Tray Information"]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tray Number *"}),de.jsx("input",{type:"text",value:g.tray,onChange:e=>se("tray",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 "+(j.tray?"border-red-500":"border-gray-300"),placeholder:"Enter tray number"}),j.tray&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.tray})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position on Tray *"}),de.jsx("select",{value:g.positionOnTray,onChange:e=>se("positionOnTray",parseInt(e.target.value)),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 "+(j.positionOnTray?"border-red-500":"border-gray-300"),children:Array.from({length:20},(e,t)=>t+1).map(e=>de.jsx("option",{value:e,children:e},e))}),j.positionOnTray&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.positionOnTray})]}),de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Color Group ","SIV"===(null==r?void 0:r.station)?"*":"","SIV"===(null==r?void 0:r.station)&&de.jsx("span",{className:"ml-1 text-xs text-purple-600",children:"(Required for SIV)"}),"SIV"!==(null==r?void 0:r.station)&&de.jsx("span",{className:"ml-1 text-xs text-gray-500",children:" (Options)"})]}),de.jsxs("select",{value:g.colorGroup,onChange:e=>se("colorGroup",e.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-semibold ${j.colorGroup?"border-red-500":"border-gray-300"} ${"SIV"!==(null==r?void 0:r.station)?"bg-gray-100 cursor-not-allowed":""}`,style:{backgroundColor:"SIV"!==(null==r?void 0:r.station)?"#f3f4f6":g.colorGroup?g.colorGroup.toLowerCase():"white",color:"SIV"!==(null==r?void 0:r.station)?"#9ca3af":g.colorGroup&&["black","purple","purple","brown","navy"].includes(g.colorGroup.toLowerCase())?"white":"black"},disabled:p||"SIV"!==(null==r?void 0:r.station),children:[de.jsx("option",{value:"",style:{backgroundColor:"white",color:"black"},children:"Select color group"}),f.map(e=>{const t=e.value.toLowerCase(),r=["black","purple","purple","brown","navy"].includes(t)?"white":"black";return de.jsx("option",{value:e.value,style:{backgroundColor:t,color:r,fontWeight:"bold"},children:e.label},e.value)})]}),j.colorGroup&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.colorGroup})]})]})]}),de.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[de.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[de.jsx("span",{className:"w-8 h-8 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"B"}),"QC Personnel"]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[de.jsxs("div",{children:[de.jsx(E2,{label:"QC Name",required:!0,value:g.qcName,onChange:e=>se("qcName",e),options:U,placeholder:"Search by name or ID...",error:!!j.qcName,className:"text-sm"}),j.qcName&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.qcName}),g.qcName&&ae(g.qcName)&&de.jsx("div",{className:"mt-2 px-3 py-2 bg-purple-50 border border-purple-200 rounded-lg",children:de.jsxs("p",{className:"text-sm font-medium text-purple-900",children:[" ",ae(g.qcName)]})})]}),de.jsxs("div",{children:[de.jsx(E2,{label:"QC Leader Name",required:!0,value:g.qcLeaderConfirmName,onChange:e=>se("qcLeaderConfirmName",e),options:U,placeholder:"Search by name or ID...",error:!!j.qcLeaderConfirmName,className:"text-sm"}),j.qcLeaderConfirmName&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.qcLeaderConfirmName}),g.qcLeaderConfirmName&&ae(g.qcLeaderConfirmName)&&de.jsx("div",{className:"mt-2 px-3 py-2 bg-green-50 border border-green-200 rounded-lg",children:de.jsxs("p",{className:"text-sm font-medium text-green-900",children:[" ",ae(g.qcLeaderConfirmName)]})})]}),de.jsxs("div",{children:[de.jsx(E2,{label:"MRB Confirm Name",required:!0,value:g.mrbConfirmName,onChange:e=>se("mrbConfirmName",e),options:V,placeholder:"Search by name or ID...",error:!!j.mrbConfirmName,className:"text-sm"}),j.mrbConfirmName&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.mrbConfirmName}),g.mrbConfirmName&&ae(g.mrbConfirmName)&&de.jsx("div",{className:"mt-2 px-3 py-2 bg-purple-50 border border-purple-200 rounded-lg",children:de.jsxs("p",{className:"text-sm font-medium text-purple-900",children:[" ",ae(g.mrbConfirmName)]})})]})]})]}),de.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[de.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[de.jsx("span",{className:"w-8 h-8 bg-red-100 text-red-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"C"}),"Defect Details"]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Defect Type *"}),de.jsxs("select",{value:g.defectType,onChange:e=>se("defectType",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 "+(j.defectType?"border-red-500":"border-gray-300"),disabled:I,children:[de.jsx("option",{value:"",children:"Select defect type"}),k.map(e=>de.jsx("option",{value:e,children:e},e))]}),j.defectType&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.defectType})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Defect *"}),de.jsxs("select",{value:g.defect,onChange:e=>{se("defect",e.target.value),"Etc."!==e.target.value&&se("defectDetail","")},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 "+(j.defect?"border-red-500":"border-gray-300"),disabled:I,children:[de.jsx("option",{value:"",children:"Select defect"}),E.map(e=>de.jsx("option",{value:e.name,children:e.name},e.id))]}),j.defect&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.defect})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Defect Quantity *"}),de.jsx("input",{type:"number",min:"1",value:g.defectQuantity,onChange:e=>se("defectQuantity",parseInt(e.target.value)||1),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 "+(j.defectQuantity?"border-red-500":"border-gray-300")}),j.defectQuantity&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.defectQuantity})]})]}),"Etc."===g.defect&&de.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border-2 border-yellow-300 rounded-lg",children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Defect Detail Description *",de.jsx("span",{className:"ml-2 text-xs text-yellow-700 font-semibold",children:'(Required for "Etc." defect)'})]}),de.jsx("textarea",{value:g.defectDetail,onChange:e=>se("defectDetail",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 "+(j.defectDetail?"border-red-500":"border-gray-300"),rows:3,placeholder:"Please describe the defect in detail..."}),j.defectDetail&&de.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.defectDetail}),de.jsx("p",{className:"mt-2 text-xs text-gray-600",children:" Provide specific details about the defect to help with analysis and tracking."})]})]}),de.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[de.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[de.jsx("span",{className:"w-8 h-8 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"D"}),"Defect Photos (Multiple)"]}),de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsxs("button",{type:"button",onClick:()=>{var e;return null==(e=S.current)?void 0:e.click()},className:"flex items-center space-x-2 px-4 py-2 border border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",children:[de.jsx(dp,{className:"h-5 w-5 text-gray-400"}),de.jsx("span",{className:"text-gray-600",children:"Upload Photos"})]}),de.jsx("input",{ref:S,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files;if(!t||0===t.length)return;const r=[],n=[];let a=!1;Array.from(t).forEach(e=>{if(!e.type.startsWith("image/"))return N(e=>c(l({},e),{photo:"Please select valid image files only"})),void(a=!0);if(e.size>5242880)return N(e=>c(l({},e),{photo:"Each image must be less than 5MB"})),void(a=!0);r.push(e);const t=new FileReader;t.onload=e=>{var t;n.push(null==(t=e.target)?void 0:t.result),n.length===r.length&&v(e=>[...e,...n])},t.readAsDataURL(e)}),a||(x(e=>c(l({},e),{rejectPhotos:[...e.rejectPhotos,...r]})),j.photo&&N(e=>{const t=l({},e);return delete t.photo,t}))},className:"hidden"}),b.length>0&&de.jsxs("button",{type:"button",onClick:()=>{x(e=>c(l({},e),{rejectPhotos:[]})),v([]),S.current&&(S.current.value="")},className:"flex items-center space-x-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[de.jsx(Wg,{className:"h-4 w-4"}),de.jsxs("span",{className:"text-sm",children:["Clear All (",b.length,")"]})]})]}),b.length>0&&de.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 gap-3",children:b.map((e,t)=>de.jsxs("div",{className:"relative group",children:[de.jsx("img",{src:e,alt:`Defect preview ${t+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-300 group-hover:border-primary-500 transition-colors"}),de.jsx("button",{type:"button",onClick:()=>(e=>{x(t=>c(l({},t),{rejectPhotos:t.rejectPhotos.filter((t,r)=>r!==e)})),v(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:de.jsx(rx,{className:"h-4 w-4"})}),de.jsxs("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded",children:["#",t+1]})]},t))}),j.photo&&de.jsx("p",{className:"text-sm text-red-600",children:j.photo})]})]})]}),de.jsxs("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:[de.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[de.jsx("span",{className:"w-8 h-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"E"}),"Inspector Station Selection"]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Defect Date *"}),de.jsx("input",{type:"date",value:q.date,onChange:e=>{H(t=>c(l({},t),{date:e.target.value,line:""}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"FVI Line *"}),de.jsxs("select",{value:q.line,onChange:e=>H(t=>c(l({},t),{line:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",disabled:J||0===Q.length,children:[de.jsx("option",{value:"",children:J?"Loading lines...":0===Q.length?"No lines available":"Select line"}),Q.map(e=>de.jsxs("option",{value:e,children:["Line ",e]},e))]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Shift *"}),de.jsxs("select",{value:q.shift,onChange:e=>H(t=>c(l({},t),{shift:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",disabled:I||0===_.length,children:[de.jsx("option",{value:"",children:"Select shift"}),_.map(e=>de.jsx("option",{value:e,children:e},e))]})]})]}),de.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 relative min-h-[200px]",children:[X&&de.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg z-10",children:de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),de.jsx("span",{className:"text-sm text-gray-600",children:"Loading stations..."})]})}),!X&&0===Y.length&&de.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[de.jsx(rg,{className:"h-12 w-12 text-gray-400 mb-3"}),de.jsx("p",{className:"text-gray-600 font-medium",children:"No station data found"}),de.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please fill in Date, Line, and Shift above to load station assignments"})]}),!X&&Y.length>0&&de.jsx(S2,{stations:Y,selectedStation:D,shift:q.shift,onStationSelect:e=>{if(O(e),console.log(" Station selected:",e),e){const t=e.inspectorId.split(",").map(e=>e.trim()).filter(e=>"-"!==e);console.log(" Inspectors:",t);const r={};if(e.oprname){const n=e.oprname.split(",").map(e=>e.trim());console.log(" Operator names from station:",n),t.forEach((e,t)=>{n[t]&&(r[e]=n[t],console.log(` Mapped: ${e}  ${n[t]}`))})}else console.log(" No oprname in station data");console.log(" Final name map:",r),B(r),1===t.length?se("inspectorId",t[0]):t.length>1?(F(t),R(!0),se("inspectorId","")):se("inspectorId","")}},showHeader:!1,compactMode:!0}),D&&D.inspectorId.includes(",")&&!g.inspectorId&&de.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Multiple Inspectors Found"}),de.jsx("p",{className:"text-xs text-gray-600 mt-1",children:" This station has multiple inspectors. Please select one."})]}),de.jsx("button",{type:"button",onClick:()=>R(!0),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium text-sm",children:"Select Inspector"})]}),j.inspectorId&&de.jsx("p",{className:"mt-2 text-sm text-red-600",children:j.inspectorId})]}),D&&g.inspectorId&&de.jsx("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx(Kg,{className:"h-5 w-5 text-purple-600 mr-2"}),de.jsxs("div",{children:[de.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Inspector Selected"}),de.jsx("p",{className:"text-sm font-semibold text-gray-900",children:$[g.inspectorId]||ae(g.inspectorId)||g.inspectorId}),($[g.inspectorId]||ae(g.inspectorId))&&de.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",g.inspectorId]})]})]}),D.inspectorId.includes(",")&&de.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Change"})]})})]})]}),de.jsx("div",{className:"pt-4 border-t border-gray-200",children:de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[de.jsxs("button",{type:"button",onClick:()=>{const e=(null==r?void 0:r.station)||"";t(`/inspection/${e}`)},className:"flex items-center justify-center space-x-2 px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200",children:[de.jsx(zf,{className:"h-5 w-5"}),de.jsx("span",{children:"Close"})]}),de.jsx("button",{type:"submit",disabled:y,className:"flex items-center justify-center space-x-2 px-6 py-3 bg-primary-600 text-white font-medium rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:y?de.jsxs(de.Fragment,{children:[de.jsx(fp,{className:"h-5 w-5 animate-spin"}),de.jsx("span",{children:"Submitting..."})]}):de.jsxs(de.Fragment,{children:[de.jsx(gp,{className:"h-5 w-5"}),de.jsx("span",{children:"Submit Defect Record"})]})})]})})]})})]}),de.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl shadow-2xl border-2 border-green-400 p-6 transform transition-all hover:scale-[1.01]",children:[de.jsxs("div",{className:"flex items-center mb-6",children:[de.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg mr-3",children:de.jsx(Tp,{className:"h-6 w-6 text-white"})}),de.jsx("h2",{className:"text-2xl font-bold text-white",children:"3. Defect Data Table"})]}),de.jsx("div",{className:"bg-white rounded-xl overflow-hidden",children:de.jsx("div",{className:"p-6",children:de.jsx(D2,{inspectionNo:(null==r?void 0:r.inspection_no)||"",showHeader:!1,showStatistics:!0,showDelete:!0,showResendEmail:!1,serviceType:"defectdata-customer",onSuccess:e=>o(e),onError:e=>d(e)},re)})})]})]}),L&&de.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:de.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[de.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>R(!1)}),de.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[de.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx(Kg,{className:"h-6 w-6 text-white mr-2"}),de.jsx("h3",{className:"text-lg font-semibold text-white",children:"Select Inspector"})]}),de.jsx("button",{onClick:()=>R(!1),className:"text-white hover:text-gray-200 transition-colors",children:de.jsx(rx,{className:"h-6 w-6"})})]})}),de.jsxs("div",{className:"bg-white px-6 py-6",children:[de.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Multiple inspectors are assigned to this station. Please select the inspector responsible for this defect:"}),D&&de.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[de.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Station Information"}),de.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Line ",D.line," - Group ",D.group," - Position ",D.position]})]}),de.jsx("div",{className:"grid grid-cols-1 gap-3",children:M.map(e=>{const t=$[e]||ae(e);return console.log(` Inspector: ${e}, Name from map: ${$[e]}, Name from getOperatorName: ${ae(e)}, Final: ${t}`),de.jsx("button",{onClick:()=>{se("inspectorId",e),R(!1),o(`Inspector ${t||e} selected`)},className:"w-full px-4 py-3 rounded-lg border-2 transition-all text-left "+(g.inspectorId===e?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-300 bg-white text-gray-700 hover:border-primary-400 hover:bg-primary-50"),children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx(Kg,{className:"h-5 w-5 mr-3 text-gray-600"}),de.jsxs("div",{children:[de.jsx("p",{className:"font-semibold",children:t||e}),de.jsx("p",{className:"text-xs text-gray-500",children:t?`ID: ${e}`:"Inspector ID"})]})]}),g.inspectorId===e&&de.jsx(fp,{className:"h-6 w-6 text-primary-600"})]})},e)})})]}),de.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:de.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors font-medium",children:"Cancel"})})]})]})})]})},requiredRoles:["user","manager","admin","viewer"]}]},{groupName:"Reports",routes:[{path:"/report/lar-report",element:()=>{const[e,t]=ee.useState(null),[r,n]=ee.useState(!1),[a,s]=ee.useState([]),[i,o]=ee.useState(null),[c,d]=ee.useState(""),[u,m]=ee.useState(""),[f,p]=ee.useState(""),[g,x]=ee.useState(""),[b,v]=ee.useState(""),[y,w]=ee.useState([]),[j,N]=ee.useState([]),[S,k]=ee.useState([]),[C,E]=ee.useState([]);ee.useEffect(()=>{h(void 0,null,function*(){console.log(" Fetching available filters...");const e=yield V4();console.log(" Models API result:",e),e.success&&e.data?(console.log(` Setting ${e.data.length} models:`,e.data),w(e.data)):console.warn(" Failed to fetch models:",e.message);const t=yield W4();console.log(" Fiscal Years API result:",t),t.success&&t.data?(console.log(` Setting ${t.data.length} fiscal years:`,t.data),N(t.data)):console.warn(" Failed to fetch fiscal years:",t.message)})},[]),ee.useEffect(()=>{h(void 0,null,function*(){if(c){console.log(" Fetching work weeks for fiscal year FROM:",c);const e=yield q4(c);console.log(" Work Weeks FROM API result:",e),e.success&&e.data?(console.log(` Setting ${e.data.length} work weeks FROM:`,e.data),k(e.data),m("")):console.warn(" Failed to fetch work weeks FROM:",e.message)}else k([]),m("")})},[c]),ee.useEffect(()=>{h(void 0,null,function*(){if(f){console.log(" Fetching work weeks for fiscal year TO:",f);const e=yield q4(f);console.log(" Work Weeks TO API result:",e),e.success&&e.data?(console.log(` Setting ${e.data.length} work weeks TO:`,e.data),E(e.data),x("")):console.warn(" Failed to fetch work weeks TO:",e.message)}else E([]),x("")})},[f]);const T=()=>h(void 0,null,function*(){try{n(!0),o(null),console.log(" Fetching LAR report data...");const e={};c&&(e.yearFrom=c),f&&(e.yearTo=f),u&&(e.wwFrom=u),g&&(e.wwTo=g),b&&(e.model=b);const t=yield((...e)=>h(void 0,[...e],function*(e={}){var t,r;try{const t=new URLSearchParams(Object.entries(e).filter(([e,t])=>null!=t&&""!==t).map(([e,t])=>[e,String(t)])).toString(),r="/report/lar-chart"+(t?`?${t}`:"");return yield Gx.get(r)}catch(i){return console.error("Error fetching LAR chart:",i),{success:!1,message:(null==(r=null==(t=i.response)?void 0:t.data)?void 0:r.message)||i.message||"Failed to fetch LAR chart",errors:[i.message]}}}))(e);if(console.log(" LAR Chart API Response:",t),t.success&&t.data&&t.data.length>0){console.log(` LAR data fetched: ${t.data.length} records`),console.log(" First record data sample:",t.data[0]);const r=new Map;for(const e of t.data)r.has(e.ww)||r.set(e.ww,{week:"WW "+e.ww,dataNG:e.total_ng||0,dataInspection:e.total_inspection||0,larPercentage:parseFloat(String(e.lar))||0,totalDPPM:parseFloat(String(e.dppm))||0,inspectionLot:parseInt(String(e.total_lot))||0,passLot:parseInt(String(e.total_pass_lot))||0,failLot:parseInt(String(e.total_fail_lot))||0,defects:{}});console.log(" Fetching LAR defect data...");const n=yield((...e)=>h(void 0,[...e],function*(e={}){var t,r;try{const t=new URLSearchParams(Object.entries(e).filter(([e,t])=>null!=t&&""!==t).map(([e,t])=>[e,String(t)])).toString(),r="/report/lar-defect"+(t?`?${t}`:"");return yield Gx.get(r)}catch(i){return console.error("Error fetching LAR defect data:",i),{success:!1,message:(null==(r=null==(t=i.response)?void 0:t.data)?void 0:r.message)||i.message||"Failed to fetch LAR defect data",errors:[i.message]}}}))(e);if(console.log(" LAR Defect API Response:",n),n.success&&n.data&&n.data.length>0){console.log(` Defect data fetched: ${n.data.length} records`);for(const e of n.data){const t=r.get(e.ww);t&&e.defectname&&(t.defects[e.defectname]||(t.defects[e.defectname]=0),t.defects[e.defectname]+=e.ng_qty||0)}console.log(" Defect data merged into week data")}else console.warn(" No defect data found or error fetching defects:",n.message);const a=Array.from(r.values());console.log(" Transformed data:",a),console.log(" Setting larData state with",a.length,"items"),s(a),console.log(" larData state updated")}else{const e=t.message||"No LAR data available in database";console.warn(" LAR fetch warning:",e),console.warn(" Result:",t),o(e),s([])}}catch(e){const t=e instanceof Error?e.message:"Unknown error fetching LAR data";console.error(" LAR fetch exception:",t),o(t),s([])}finally{n(!1)}}),_=a.map(e=>l({week:e.week,larPercentage:e.larPercentage,totalDPPM:e.totalDPPM,inspectionLot:e.inspectionLot,passLot:e.passLot,failLot:e.failLot,dataNG:e.dataNG,dataInspection:e.dataInspection},e.defects)),A=new Set;a.forEach(e=>{Object.keys(e.defects).forEach(e=>{A.add(e)})});const I=["#F97316","#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#EC4899","#14B8A6","#F59E0B","#6366F1"],P=Array.from(A).map((e,t)=>({name:e,color:I[t%I.length]})),D=()=>{console.log(" Rendering filters - availableModels:",y,"availableFiscalYears:",j);const e=()=>!!(c&&u&&f&&g&&b);return de.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-4",children:[de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fiscal Year From ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[de.jsx("option",{value:"",children:"Select FY"}),j.map(e=>de.jsx("option",{value:e,children:e},e))]})]}),de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["WW From ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("select",{value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!c,children:[de.jsx("option",{value:"",children:c?"Select WW":"Select FY first"}),S.map(e=>de.jsx("option",{value:e,children:e.padStart(2,"0")},e))]})]}),de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fiscal Year To ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("select",{value:f,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[de.jsx("option",{value:"",children:"Select FY"}),j.map(e=>de.jsx("option",{value:e,children:e},e))]})]}),de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["WW To ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("select",{value:g,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!f,children:[de.jsx("option",{value:"",children:f?"Select WW":"Select FY first"}),C.map(e=>de.jsx("option",{value:e,children:e.padStart(2,"0")},e))]})]}),de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Model ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("select",{value:b,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[de.jsx("option",{value:"",children:"Select Model"}),y.map(e=>de.jsx("option",{value:e,children:e},e))]})]}),de.jsxs("div",{className:"flex items-end gap-2",children:[de.jsx("button",{onClick:()=>{c?u?f?g?b?T():alert("Please select a Model"):alert("Please select WW To"):alert("Please select Fiscal Year To"):alert("Please select WW From"):alert("Please select Fiscal Year From")},disabled:!e(),className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 disabled:bg-gray-300 disabled:cursor-not-allowed disabled:hover:bg-gray-300",title:e()?"Apply filters":"Please select all required fields",children:"Apply"}),de.jsx("button",{onClick:()=>{d(""),m(""),p(""),x(""),v("")},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Clear"})]})]})})};return console.log(" Rendering LARPage - loading:",r,"larData.length:",a.length),r?(console.log(" Showing loading state"),de.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-orange-500 mx-auto mb-4"}),de.jsx("p",{className:"text-gray-600 text-lg",children:"Loading LAR Report..."})]})})):r||0!==a.length?(console.log(" Rendering main content with",a.length,"data items"),de.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:de.jsxs("div",{className:"max-w-7xl mx-auto",children:[de.jsx("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:de.jsxs("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[de.jsx("li",{className:"inline-flex items-center",children:de.jsxs("a",{href:"/",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-orange-600",children:[de.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Dashboard"]})}),de.jsx("li",{children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),de.jsx("a",{href:"/reports",className:"ml-1 text-sm font-medium text-gray-700 hover:text-orange-600 md:ml-2",children:"Reports"})]})}),de.jsx("li",{"aria-current":"page",children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),de.jsx("span",{className:"ml-1 text-sm font-medium text-orange-600 md:ml-2",children:"LAR Report"})]})})]})}),D(),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[de.jsxs("div",{className:"flex items-center justify-between mb-6",children:[de.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["LAR VMI ",b]}),de.jsx("div",{className:"flex items-center space-x-4",children:de.jsx("div",{className:"text-sm text-gray-600"})})]}),de.jsx("div",{className:"h-96 w-full",children:de.jsx(aK,{width:"100%",height:"100%",children:de.jsxs(v2,{data:_,margin:{top:20,right:60,left:20,bottom:60},children:[de.jsx(y0,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),de.jsx(i1,{dataKey:"week",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6B7280"},angle:-45,textAnchor:"end",height:60}),de.jsx(g1,{yAxisId:"left",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6B7280"},label:{value:"LAR %",angle:-90,position:"insideLeft"},domain:[0,100]}),de.jsx(g1,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6B7280"},label:{value:"DPPM",angle:90,position:"insideRight"}}),de.jsx(K0,{yAxisId:"left",type:"monotone",dataKey:"larPercentage",stroke:"#3B82F6",strokeWidth:3,name:"LAR %",dot:{fill:"#3B82F6",r:4},activeDot:{r:6},label:{position:"top",content:({x:e,y:t,value:r})=>de.jsxs("text",{x:e,y:t-10,fill:"#3B82F6",fontSize:11,fontWeight:"bold",textAnchor:"middle",children:[r.toFixed(2),"%"]})}}),P.map((e,t)=>de.jsx(oJ,{yAxisId:"right",dataKey:e.name,stackId:"defects",fill:e.color,name:e.name,radius:t===P.length-1?[4,4,0,0]:[0,0,0,0]},e.name))]})})})]}),de.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:de.jsx("div",{className:"overflow-x-auto",children:de.jsxs("table",{className:"min-w-full",children:[de.jsx("thead",{children:de.jsxs("tr",{className:"bg-gray-100",children:[de.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700 border-r border-gray-300 w-48",children:"DEFECT"}),a.map(e=>de.jsx("th",{className:"px-3 py-2 text-center text-sm font-medium border-r border-gray-300 min-w-20 "+(0===e.inspectionLot?"bg-gray-400 text-white":"text-gray-700"),children:e.week},e.week))]})}),de.jsxs("tbody",{children:[P.map(e=>de.jsxs("tr",{className:"border-b border-gray-200",children:[de.jsx("td",{className:"px-4 py-1 text-sm font-medium text-white border-r border-gray-300 text-left",style:{backgroundColor:e.color},children:e.name}),a.map(t=>{const r=t.defects[e.name]||0,n=0===t.inspectionLot;return de.jsx("td",{className:"px-3 py-1 text-center text-sm border-r border-gray-300 "+(n?"bg-gray-400 text-white":""),children:Math.round(r)},t.week)})]},e.name)),de.jsxs("tr",{className:"bg-blue-100 border-b border-gray-200",children:[de.jsx("td",{className:"px-4 py-1 text-sm font-medium text-blue-800 border-r border-gray-300",children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"% LAR"]})}),a.map(e=>{const t=0===e.inspectionLot;return de.jsxs("td",{className:"px-3 py-1 text-center text-sm font-bold border-r border-gray-300 "+(t?"bg-gray-400 text-white":"text-blue-800"),children:[e.larPercentage.toFixed(2),"%"]},e.week)})]}),de.jsxs("tr",{className:"bg-green-50 border-b border-gray-200",children:[de.jsx("td",{className:"px-4 py-1 text-sm font-medium text-green-800 border-r border-gray-300",children:"INSPECTION LOT"}),a.map(e=>{const t=0===e.inspectionLot;return de.jsx("td",{className:"px-3 py-1 text-center text-sm border-r border-gray-300 "+(t?"bg-gray-400 text-white font-bold":"text-green-800"),children:e.inspectionLot},e.week)})]}),de.jsxs("tr",{className:"bg-yellow-50",children:[de.jsx("td",{className:"px-4 py-1 text-sm font-medium text-yellow-800 border-r border-gray-300",children:"Total DPPM"}),a.map(e=>{const t=0===e.inspectionLot;return de.jsx("td",{className:"px-3 py-1 text-center text-sm border-r border-gray-300 "+(t?"bg-gray-400 text-white":"text-yellow-800"),children:Math.round(e.totalDPPM)},e.week)})]})]})]})})})]})})):(console.log(" Showing empty state - no data available"),de.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:de.jsxs("div",{className:"max-w-7xl mx-auto",children:[de.jsx("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:de.jsxs("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[de.jsx("li",{className:"inline-flex items-center",children:de.jsxs("a",{href:"/",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-orange-600",children:[de.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Home"]})}),de.jsx("li",{children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),de.jsx("span",{className:"ml-1 text-sm font-medium text-gray-500 md:ml-2",children:"Reports"})]})}),de.jsx("li",{"aria-current":"page",children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),de.jsx("span",{className:"ml-1 text-sm font-medium text-orange-600 md:ml-2",children:"LAR Report"})]})})]})}),D(),i&&de.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:de.jsxs("div",{className:"flex",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:de.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),de.jsx("div",{className:"ml-3",children:de.jsx("p",{className:"text-sm text-yellow-700",children:i})})]})}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[de.jsx("svg",{className:"mx-auto h-24 w-24 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),de.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No Data Loaded"}),de.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Please select filter criteria (Work Week range and/or Model) and click ",de.jsx("strong",{children:"Apply"})," to load LAR report data.",de.jsx("br",{}),"You can also click the ",de.jsx("strong",{children:"Refresh"})," button to load all available data."]}),de.jsx("div",{className:"mt-6",children:de.jsxs("button",{onClick:()=>T(),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[de.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Load All Data"]})})]})]})}))},requiredRoles:["user","manager","admin","viewer"]},{path:"/report/sgt-iqa-trend-report",element:()=>{const[e,t]=ee.useState(null),[r,n]=ee.useState(!1),[a,s]=ee.useState([]),[i,o]=ee.useState(null),[c,d]=ee.useState(""),[u,m]=ee.useState(""),[f,p]=ee.useState(""),[g,x]=ee.useState(""),[b,v]=ee.useState([]),[y,w]=ee.useState([]),[j,N]=ee.useState([]);ee.useEffect(()=>{h(void 0,null,function*(){console.log(" Fetching available filters...");const e=yield V4();console.log(" Models API result:",e),e.success&&e.data?(console.log(` Setting ${e.data.length} models:`,e.data),v(e.data)):console.warn(" Failed to fetch models:",e.message);const t=yield W4();console.log(" Fiscal Years API result:",t),t.success&&t.data?(console.log(` Setting ${t.data.length} fiscal years:`,t.data),w(t.data)):console.warn(" Failed to fetch fiscal years:",t.message)})},[]),ee.useEffect(()=>{h(void 0,null,function*(){if(c){console.log(" Fetching work weeks for fiscal year FROM:",c);const e=yield q4(c);console.log(" Work Weeks FROM API result:",e),e.success&&e.data?(console.log(` Setting ${e.data.length} work weeks FROM:`,e.data),N(e.data),m("")):console.warn(" Failed to fetch work weeks FROM:",e.message)}else N([]),m("")})},[c]);const S=()=>h(void 0,null,function*(){try{n(!0),o(null),console.log(" Fetching SGT IQA Trend report data...");const e={};c&&(e.year=c),u&&(e.ww=u),f&&(e.model=f),g&&(e.product_type=g);const t=yield((...e)=>h(void 0,[...e],function*(e={}){var t,r;try{const t=new URLSearchParams(Object.entries(e).filter(([e,t])=>null!=t&&""!==t).map(([e,t])=>[e,String(t)])).toString(),r="/report/sgt-iqa-trend-chart"+(t?`?${t}`:"");console.log(' Calling api.get("'+r+'")...');const n=yield Gx.get(r);return console.log(" SGT IQA Trend chart response:",n),n}catch(i){return console.error(" Error fetching SGT IQA Trend chart:",i),{success:!1,message:(null==(r=null==(t=i.response)?void 0:t.data)?void 0:r.message)||i.message||"Failed to fetch SGT IQA Trend chart",errors:[i.message]}}}))(e);if(console.log(" SGT IQA Trend Chart API Response:",t),t.success&&t.data&&t.data.length>0){console.log(` SGT IQA data fetched: ${t.data.length} records`),console.log(" First record data sample:",t.data[0]);const r=new Map;for(const e of t.data)r.has(e.yearmonth)||r.set(e.yearmonth,{month:e.yearmonth,model:e.model,productType:e.product_type,dataNG:e.total_ng||0,dataInspection:e.total_inspection||0,larPercentage:parseFloat(String(e.lar))||0,totalDPPM:parseFloat(String(e.dppm))||0,inspectionLot:parseInt(String(e.total_lot))||0,passLot:parseInt(String(e.total_pass_lot))||0,failLot:parseInt(String(e.total_fail_lot))||0,defects:{}});console.log(" Fetching SGT IQA Trend defect data...");const n=yield((...e)=>h(void 0,[...e],function*(e={}){var t,r;try{const t=new URLSearchParams(Object.entries(e).filter(([e,t])=>null!=t&&""!==t).map(([e,t])=>[e,String(t)])).toString(),r="/report/sgt-iqa-trend-defect"+(t?`?${t}`:"");console.log(' Calling api.get("'+r+'")...');const n=yield Gx.get(r);return console.log(" SGT IQA Trend defect response:",n),n}catch(i){return console.error(" Error fetching SGT IQA Trend defect data:",i),{success:!1,message:(null==(r=null==(t=i.response)?void 0:t.data)?void 0:r.message)||i.message||"Failed to fetch SGT IQA Trend defect data",errors:[i.message]}}}))(e);if(console.log(" SGT IQA Trend Defect API Response:",n),n.success&&n.data&&n.data.length>0){console.log(` Defect data fetched: ${n.data.length} records`);for(const e of n.data){const t=r.get(e.yearmonth);t&&e.defect&&(t.defects[e.defect]||(t.defects[e.defect]=0),t.defects[e.defect]+=e.rej||0)}console.log(" Defect data merged into month data")}else console.warn(" No defect data found or error fetching defects:",n.message);const a=Array.from(r.values());console.log(" Transformed data:",a),console.log(" Setting sgtData state with",a.length,"items"),s(a),console.log(" sgtData state updated")}else{const e=t.message||"No SGT IQA Trend data available in database";console.warn(" SGT IQA fetch warning:",e),console.warn(" Result:",t),o(e),s([])}}catch(e){const t=e instanceof Error?e.message:"Unknown error fetching SGT IQA Trend data";console.error(" SGT IQA fetch exception:",t),o(t),s([])}finally{n(!1)}}),k=a.map(e=>l({month:e.month,displayMonth:Zx(e.month),larPercentage:e.larPercentage,totalDPPM:e.totalDPPM,inspectionLot:e.inspectionLot,passLot:e.passLot,failLot:e.failLot,dataNG:e.dataNG,dataInspection:e.dataInspection,isHighlighted:e.isHighlighted},e.defects)),C=new Set;a.forEach(e=>{Object.keys(e.defects).forEach(e=>{C.add(e)})});const E=["#F97316","#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#EC4899","#14B8A6","#F59E0B","#6366F1"],T=Array.from(C).map((e,t)=>({name:e,color:E[t%E.length]})),_=({active:e,payload:t,label:r})=>{if(e&&t&&t.length){const e=t[0].payload;return de.jsxs("div",{className:"bg-white p-4 shadow-lg rounded-lg border border-gray-200 max-h-96 overflow-y-auto",children:[de.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:e.displayMonth}),de.jsxs("div",{className:"space-y-1 text-sm",children:[de.jsxs("p",{className:"text-blue-600 font-medium",children:["LAR: ",e.larPercentage.toFixed(2),"%"]}),de.jsxs("p",{className:"text-gray-600",children:["Total Lot Pass: ",e.passLot]}),de.jsxs("p",{className:"text-gray-600",children:["Total Lot inspection: ",e.inspectionLot]}),de.jsxs("p",{className:"text-orange-600",children:["DPPM: ",TA(e.totalDPPM.toFixed(2))]}),de.jsxs("p",{className:"text-gray-600",children:["Total NG: ",TA(e.dataNG)]}),de.jsxs("p",{className:"text-gray-600",children:["Total inspection: ",TA(e.dataInspection.toString())]}),de.jsxs("div",{className:"border-t border-gray-200 mt-2 pt-2",children:[de.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Defect Breakdown:"}),T.map(t=>{const r=e[t.name]||0;return r>0?de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:t.color}}),de.jsxs("span",{className:"text-gray-600",children:[t.name,":"]})]}),de.jsx("span",{className:"font-medium text-gray-900 ml-2",children:Math.round(r)})]},t.name):null})]})]})]})}return null},A=()=>{console.log(" Rendering filters - availableModels:",b,"availableFiscalYears:",y);const e=()=>!!(c&&u&&f);return de.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-4",children:[de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fiscal Year ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[de.jsx("option",{value:"",children:"Select FY"}),y.map(e=>de.jsx("option",{value:e,children:e},e))]})]}),de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["WW ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("select",{value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!c,children:[de.jsx("option",{value:"",children:c?"Select WW":"Select FY first"}),j.map(e=>de.jsx("option",{value:e,children:e.padStart(2,"0")},e))]})]}),de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Model ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("select",{value:f,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[de.jsx("option",{value:"",children:"Select Model"}),b.map(e=>de.jsx("option",{value:e,children:e},e))]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Type"}),de.jsxs("select",{value:g,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[de.jsx("option",{value:"",children:"All"}),de.jsx("option",{value:"HSA",children:"HSA"}),de.jsx("option",{value:"HDD",children:"HDD"})]})]}),de.jsxs("div",{className:"flex items-end gap-2",children:[de.jsx("button",{onClick:()=>{c?u?f?S():alert("Please select a Model"):alert("Please select WW"):alert("Please select Fiscal Year")},disabled:!e(),className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 disabled:bg-gray-300 disabled:cursor-not-allowed disabled:hover:bg-gray-300",title:e()?"Apply filters":"Please select all required fields",children:"Apply"}),de.jsx("button",{onClick:()=>{d(""),m(""),p(""),x("")},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Clear"})]})]})})};return console.log(" Rendering SGTIQATrendPage - loading:",r,"sgtData.length:",a.length),r?(console.log(" Showing loading state"),de.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-orange-500 mx-auto mb-4"}),de.jsx("p",{className:"text-gray-600 text-lg",children:"Loading SGT IQA Trend Report..."})]})})):r||0!==a.length?(console.log(" Rendering main content with",a.length,"data items"),de.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:de.jsxs("div",{className:"max-w-7xl mx-auto",children:[de.jsx("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:de.jsxs("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[de.jsx("li",{className:"inline-flex items-center",children:de.jsxs("a",{href:"/",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-orange-600",children:[de.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Dashboard"]})}),de.jsx("li",{children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),de.jsx("a",{href:"/reports",className:"ml-1 text-sm font-medium text-gray-700 hover:text-orange-600 md:ml-2",children:"Reports"})]})}),de.jsx("li",{"aria-current":"page",children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),de.jsx("span",{className:"ml-1 text-sm font-medium text-orange-600 md:ml-2",children:"SGT IQA Trend"})]})})]})}),A(),de.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:de.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:de.jsxs("div",{children:[de.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SGT IQA Trend"}),de.jsx("p",{className:"text-gray-600 mt-1",children:"SGT IQA Trend Trend Analysis"})]})})}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[de.jsxs("div",{className:"flex items-center justify-between mb-6",children:[de.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Seagate IQA Weekly result"}),de.jsx("div",{className:"flex items-center space-x-4",children:de.jsx("div",{className:"text-sm text-gray-600",children:"Period: Apr'24 - May'24"})})]}),de.jsxs("div",{className:"h-96 w-full relative",children:[de.jsx("div",{className:"absolute inset-0 bg-green-100 opacity-30 rounded"}),de.jsx(aK,{width:"100%",height:"100%",children:de.jsxs(v2,{data:k,margin:{top:20,right:80,left:60,bottom:60},children:[de.jsx(y0,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),de.jsx(i1,{dataKey:"displayMonth",axisLine:!0,tickLine:!0,tick:{fontSize:12,fill:"#374151"},angle:0,textAnchor:"middle",height:60,interval:0}),de.jsx(g1,{yAxisId:"left",axisLine:!0,tickLine:!0,tick:{fontSize:12,fill:"#374151"},label:{value:"LAR %",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontWeight:"bold",fontSize:"14px"}},domain:[0,100]}),de.jsx(g1,{yAxisId:"right",orientation:"right",axisLine:!0,tickLine:!0,tick:{fontSize:12,fill:"#374151"},label:{value:"Defect Quantity",angle:90,position:"insideRight",style:{textAnchor:"middle",fontWeight:"bold",fontSize:"14px"}}}),de.jsx(YY,{content:de.jsx(_,{})}),T.map((e,t)=>de.jsx(oJ,{yAxisId:"right",dataKey:e.name,stackId:"defects",fill:e.color,name:e.name,radius:t===T.length-1?[4,4,0,0]:[0,0,0,0]},e.name)),de.jsx(K0,{yAxisId:"left",type:"monotone",dataKey:"larPercentage",stroke:"#3B82F6",strokeWidth:3,name:"LAR %",dot:{fill:"#3B82F6",r:4},activeDot:{r:6},label:{position:"top",content:({x:e,y:t,value:r})=>de.jsxs("text",{x:e,y:t-10,fill:"#3B82F6",fontSize:11,fontWeight:"bold",textAnchor:"middle",children:[r.toFixed(2),"%"]})}})]})})]}),de.jsxs("div",{className:"flex justify-between items-start mt-6",children:[de.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg flex-1 mr-4",children:[de.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Defect Types:"}),de.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:T.map(e=>de.jsxs("div",{className:"flex items-center",children:[de.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:e.color}}),de.jsx("span",{className:"text-xs text-gray-700",children:e.name})]},e.name))})]}),de.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("div",{className:"w-8 h-0.5 bg-blue-500 mr-3"}),de.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"LAR %"})]})})]})]}),(()=>{const e=[{key:"larPercentage",label:"%LAR",colorClass:"text-purple-600",format:e=>`${e.toFixed(2)}%`},{key:"inspectionLot",label:"Lot Audit Visual",colorClass:"text-purple-600",format:e=>e.toString()},{key:"passLot",label:"Lot Pass Visual",colorClass:"text-green-600",format:e=>e.toString()},{key:"failLot",label:"Lot Fail Visual",colorClass:"text-red-600",format:e=>e.toString()},{key:"dataInspection",label:"Sampling Q`ty",colorClass:"text-blue-600",format:e=>e.toString()},{key:"dataNG",label:"Defect Q`ty",colorClass:"text-orange-600",format:e=>e.toString()},{key:"totalDPPM",label:"DPPM",colorClass:"text-purple-700",format:e=>Math.round(e).toString()}];return de.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:de.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"SGT IQA Trend Report"})}),de.jsx("div",{className:"overflow-x-auto",children:de.jsxs("table",{className:"min-w-full",children:[de.jsx("thead",{children:de.jsxs("tr",{className:"bg-gray-100",children:[de.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700 border-r border-gray-300 w-48",children:"Metric / Defect"}),a.map((e,t)=>de.jsx("th",{className:"px-3 py-2 text-center text-sm font-medium border-r border-gray-300 min-w-20 "+(0===e.inspectionLot?"bg-gray-400":"99"!==e.month.slice(-2)?"bg-green-100":"text-gray-700"),children:Zx(e.month)},`${e.month}-${t}`))]})}),de.jsxs("tbody",{children:[e.map(e=>de.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-200",children:[de.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900 border-r border-gray-300",children:e.label}),a.map((t,r)=>{const n=t[e.key],a=0===t.inspectionLot,s="99"!==t.month.slice(-2);return de.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center text-sm font-medium border-r border-gray-300 "+(a?"bg-gray-400":s?"bg-green-100":""),children:TA(e.format(n))},`${t.month}-${r}`)})]},e.key)),T.map(e=>e.name&&""!==e.name.trim()?de.jsxs("tr",{className:"border-b border-gray-200",children:[de.jsx("td",{className:"px-4 py-1 text-sm font-medium text-white border-r border-gray-300 text-left",style:{backgroundColor:e.color},children:e.name}),a.map((t,r)=>{const n=t.defects[e.name]||0,a=0===t.inspectionLot,s="99"!==t.month.slice(-2);return de.jsx("td",{className:"px-3 py-1 text-center text-sm border-r border-gray-300 "+(a?"bg-gray-400":s?"bg-green-100":""),children:TA(Math.round(n).toString())},`${t.month}-${r}`)})]},e.name):null)]})]})})]})})()]})})):(console.log(" Showing empty state - no data available"),de.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:de.jsxs("div",{className:"max-w-7xl mx-auto",children:[de.jsx("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:de.jsxs("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[de.jsx("li",{className:"inline-flex items-center",children:de.jsxs("a",{href:"/",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-orange-600",children:[de.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Home"]})}),de.jsx("li",{children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),de.jsx("span",{className:"ml-1 text-sm font-medium text-gray-500 md:ml-2",children:"Reports"})]})}),de.jsx("li",{"aria-current":"page",children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),de.jsx("span",{className:"ml-1 text-sm font-medium text-orange-600 md:ml-2",children:"Seagate IQA Weekly result "})]})})]})}),A(),i&&de.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:de.jsxs("div",{className:"flex",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:de.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),de.jsx("div",{className:"ml-3",children:de.jsx("p",{className:"text-sm text-yellow-700",children:i})})]})}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[de.jsx("svg",{className:"mx-auto h-24 w-24 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),de.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No Data Loaded"}),de.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Please select filter criteria and click ",de.jsx("strong",{children:"Apply"})," to load SGT IQA Trend report data."]})]})]})}))},requiredRoles:["user","manager","admin","viewer"]},{path:"/report/oqaoverall-rereport",element:()=>{const[e,t]=ee.useState(null),[r,n]=ee.useState(!1),[a,s]=ee.useState([]),[i,o]=ee.useState(null),[c,d]=ee.useState([]),[u,m]=ee.useState(""),[f,p]=ee.useState(""),[g,x]=ee.useState([]),[b,v]=ee.useState([]);ee.useEffect(()=>{h(void 0,null,function*(){console.log(" Fetching available filters...");const e=yield W4();console.log(" Fiscal Years API result:",e),e.success&&e.data?(console.log(` Setting ${e.data.length} fiscal years:`,e.data),x(e.data)):console.warn(" Failed to fetch fiscal years:",e.message)})},[]),ee.useEffect(()=>{h(void 0,null,function*(){if(u){console.log(" Fetching work weeks for fiscal year FROM:",u);const e=yield q4(u);console.log(" Work Weeks FROM API result:",e),e.success&&e.data?(console.log(` Setting ${e.data.length} work weeks FROM:`,e.data),v(e.data),p("")):console.warn(" Failed to fetch work weeks FROM:",e.message)}else v([]),p("")})},[u]);const y=()=>h(void 0,null,function*(){try{n(!0),o(null),console.log(" Fetching OQA DPPM Overall report data...");const e={};u&&(e.year=u),f&&(e.ww=f);const t=yield((...e)=>h(void 0,[...e],function*(e={}){var t,r;try{const t=new URLSearchParams(Object.entries(e).filter(([e,t])=>null!=t&&""!==t).map(([e,t])=>[e,String(t)])).toString(),r="/report/oqa-dppm-overall-chart"+(t?`?${t}`:"");console.log(' Calling api.get("'+r+'")...');const n=yield Gx.get(r);return console.log(" OQA DPPM Overall chart response:",n),n}catch(i){return console.error(" Error fetching OQA DPPM Overall chart:",i),{success:!1,message:(null==(r=null==(t=i.response)?void 0:t.data)?void 0:r.message)||i.message||"Failed to fetch OQA DPPM Overall chart",errors:[i.message]}}}))(e);if(console.log(" OQA DPPM Overall Chart API Response:",t),t.success&&t.data&&t.data.length>0){console.log(` SGT IQA data fetched: ${t.data.length} records`),console.log(" First record data sample:",t.data[0]);const r=new Map;for(const e of t.data)r.has(e.yearmonth)||r.set(e.yearmonth,{month:e.yearmonth,dppmTarget:150,larPercentage:parseFloat(String(e.lar))||0,totalDPPM:parseFloat(String(e.dppm))||0,defects:{}});console.log(" Fetching OQA DPPM Overall defect data...");const n=yield((...e)=>h(void 0,[...e],function*(e={}){var t,r;try{const t=new URLSearchParams(Object.entries(e).filter(([e,t])=>null!=t&&""!==t).map(([e,t])=>[e,String(t)])).toString(),r="/report/oqa-dppm-overall-defect"+(t?`?${t}`:"");console.log(' Calling api.get("'+r+'")...');const n=yield Gx.get(r);return console.log(" OQA DPPM Overall defect response:",n),n}catch(i){return console.error(" Error fetching OQA DPPM Overall defect data:",i),{success:!1,message:(null==(r=null==(t=i.response)?void 0:t.data)?void 0:r.message)||i.message||"Failed to fetch OQA DPPM Overall defect data",errors:[i.message]}}}))(e);if(console.log(" OQA DPPM Overall Defect API Response:",n),n.success&&n.data&&n.data.length>0){console.log(` Defect data fetched: ${n.data.length} records`),console.log(" First defect record sample:",n.data[0]),console.log(" Defect record keys:",Object.keys(n.data[0]||{})),d(n.data);for(const e of n.data){console.log(" Processing defect record:",{yearmonth:e.yearmonth,defectname:e.defectname,total_ng:e.ng_qty});const t=r.get(e.yearmonth);if(t&&e.defectname){t.defects[e.defectname]||(t.defects[e.defectname]=0);const r=e.ng_qty||0;t.defects[e.defectname]+=r,console.log(` Added ${r} to ${e.defectname} for month ${e.yearmonth}`)}else console.warn(" Could not find month data or defectname is missing:",{monthDataExists:!!t,defectname:e.defectname,yearmonth:e.yearmonth})}console.log(" Defect data merged into month data"),console.log(" MonthMap after merge:",Array.from(r.entries()))}else console.warn(" No defect data found or error fetching defects:",n.message),d([]);const a=Array.from(r.values());console.log(" Transformed data:",a),console.log(" Transformed data with defects:",a.map(e=>({month:e.month,defects:e.defects}))),console.log(" Setting sgtData state with",a.length,"items"),s(a),console.log(" sgtData state updated")}else{const e=t.message||"No OQA DPPM Overall data available in database";console.warn(" SGT IQA fetch warning:",e),console.warn(" Result:",t),o(e),s([])}}catch(e){const t=e instanceof Error?e.message:"Unknown error fetching OQA DPPM Overall data";console.error(" SGT IQA fetch exception:",t),o(t),s([])}finally{n(!1)}}),w=a.map(e=>l({month:e.month,displayMonth:Zx(e.month),larPercentage:e.larPercentage,totalDPPM:e.totalDPPM,dppmTarget:150,isHighlighted:e.isHighlighted},e.defects)),j=new Set;a.forEach(e=>{Object.keys(e.defects).forEach(e=>{j.add(e)})});const N=["#F97316","#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#EC4899","#14B8A6","#F59E0B","#6366F1"],S=Array.from(j).map((e,t)=>({name:e,color:N[t%N.length]})),k=({active:e,payload:t,label:r})=>{var n;if(e&&t&&t.length){const e=t[0].payload;return de.jsxs("div",{className:"bg-white p-4 shadow-lg rounded-lg border border-gray-200 max-h-96 overflow-y-auto",children:[de.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:e.displayMonth}),de.jsxs("div",{className:"space-y-1 text-sm",children:[de.jsxs("p",{className:"text-blue-600 font-medium",children:["LAR: ",(null==(n=e.larPercentage)?void 0:n.toFixed(2))||0,"%"]}),de.jsxs("p",{className:"text-orange-600",children:["DPPM: ",TA((e.totalDPPM||0).toFixed(2))]}),de.jsxs("p",{className:"text-gray-600",children:["DPPM Target: ",e.dppmTarget||150]}),de.jsxs("div",{className:"border-t border-gray-200 mt-2 pt-2",children:[de.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Defect Breakdown:"}),S.map(t=>{const r=e[t.name]||0;return r>0?de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:t.color}}),de.jsxs("span",{className:"text-gray-600",children:[t.name,":"]})]}),de.jsx("span",{className:"font-medium text-gray-900 ml-2",children:Math.round(r)})]},t.name):null})]})]})]})}return null},C=()=>{console.log(" Rendering filters - availableFiscalYears:",g);const e=()=>!(!u||!f);return de.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-4 mb-6",children:[de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fiscal Year ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("select",{value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[de.jsx("option",{value:"",children:"Select FY"}),g.map(e=>de.jsx("option",{value:e,children:e},e))]})]}),de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["WW ",de.jsx("span",{className:"text-red-500",children:"*"})]}),de.jsxs("select",{value:f,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!u,children:[de.jsx("option",{value:"",children:u?"Select WW":"Select FY first"}),b.map(e=>de.jsx("option",{value:e,children:e.padStart(2,"0")},e))]})]}),de.jsxs("div",{className:"flex items-end gap-2",children:[de.jsx("button",{onClick:()=>{u?f?y():alert("Please select WW"):alert("Please select Fiscal Year")},disabled:!e(),className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 disabled:bg-gray-300 disabled:cursor-not-allowed disabled:hover:bg-gray-300",title:e()?"Apply filters":"Please select all required fields",children:"Apply"}),de.jsx("button",{onClick:()=>{m(""),p("")},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Clear"})]})]})})};return console.log(" Rendering OverallOQAPage - loading:",r,"sgtData.length:",a.length),r?(console.log(" Showing loading state"),de.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-orange-500 mx-auto mb-4"}),de.jsx("p",{className:"text-gray-600 text-lg",children:"Loading OQA DPPM Overall Report..."})]})})):r||0!==a.length?(console.log(" Rendering main content with",a.length,"data items"),de.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:de.jsxs("div",{className:"max-w-7xl mx-auto",children:[de.jsx("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:de.jsxs("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[de.jsx("li",{className:"inline-flex items-center",children:de.jsxs("a",{href:"/",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-orange-600",children:[de.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Dashboard"]})}),de.jsx("li",{children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),de.jsx("a",{href:"/reports",className:"ml-1 text-sm font-medium text-gray-700 hover:text-orange-600 md:ml-2",children:"Reports"})]})}),de.jsx("li",{"aria-current":"page",children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),de.jsx("span",{className:"ml-1 text-sm font-medium text-orange-600 md:ml-2",children:"OQA DPPM Overall"})]})})]})}),C(),(()=>{const e=a.find(e=>e.month.slice(-2)===f.padStart(2,"0"))||(a.length>0?a[0]:null),t=e?e.larPercentage:0,r=f.padStart(2,"0");console.log(" Calculating Total NG from rawDefectData"),console.log(" Selected WW (padded):",r),console.log(" Raw defect data count:",c.length);const n=c.filter(e=>{const t=(e.yearmonth?e.yearmonth.slice(-2):"")===r;return t&&console.log(" Matching defect:",{yearmonth:e.yearmonth,defectname:e.defectname,ng_qty:e.ng_qty}),t}),s=n.reduce((e,t)=>{const r=parseInt(t.ng_qty||0);return console.log(` Adding ${r} (${t.defectname}) to sum`),e+r},0);console.log(" Total NG calculated:",s),console.log(" Number of matching defects:",n.length);const i=u&&f?`${u}/WW${f.padStart(2,"0")}`:f||"N/A";return de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[de.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 transform transition-all duration-200 hover:scale-105 hover:shadow-xl",children:de.jsx("div",{className:"flex items-center justify-between",children:de.jsxs("div",{className:"flex-1",children:[de.jsx("p",{className:"text-sm font-semibold text-blue-100 uppercase tracking-wide",children:"Fiscal Year / Work Week"}),de.jsx("p",{className:"text-3xl font-bold text-white mt-2 drop-shadow-md",children:i})]})})}),de.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 transform transition-all duration-200 hover:scale-105 hover:shadow-xl",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex-1",children:[de.jsx("p",{className:"text-sm font-semibold text-purple-100 uppercase tracking-wide",children:"LAR %"}),de.jsxs("p",{className:"text-3xl font-bold text-white mt-2 drop-shadow-md",children:[t.toFixed(2),"%"]})]}),de.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-full backdrop-blur-sm",children:de.jsx("svg",{className:"w-10 h-10 text-white drop-shadow-lg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),de.jsx("div",{className:"bg-gradient-to-br from-red-500 to-orange-500 rounded-xl shadow-lg p-6 transform transition-all duration-200 hover:scale-105 hover:shadow-xl",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex-1",children:[de.jsx("p",{className:"text-sm font-semibold text-red-100 uppercase tracking-wide",children:"Total NG"}),de.jsx("p",{className:"text-3xl font-bold text-white mt-2 drop-shadow-md",children:TA(s.toString())})]}),de.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-full backdrop-blur-sm",children:de.jsx("svg",{className:"w-10 h-10 text-white drop-shadow-lg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})})]})})(),de.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:de.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:de.jsxs("div",{children:[de.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"OQA DPPM Overall"}),de.jsx("p",{className:"text-gray-600 mt-1",children:"OQA DPPM Overall Trend Analysis"})]})})}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[de.jsxs("div",{className:"flex items-center justify-between mb-6",children:[de.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"NHK OQA DPPM Overall"}),de.jsx("div",{className:"flex items-center space-x-4",children:de.jsx("div",{className:"text-sm text-gray-600",children:"Period: Apr'24 - May'24"})})]}),de.jsxs("div",{className:"h-96 w-full relative",children:[de.jsx("div",{className:"absolute inset-0 bg-green-100 opacity-30 rounded"}),de.jsx(aK,{width:"100%",height:"100%",children:de.jsxs(v2,{data:w,margin:{top:20,right:80,left:60,bottom:60},children:[de.jsx(y0,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),de.jsx(i1,{dataKey:"displayMonth",axisLine:!0,tickLine:!0,tick:{fontSize:12,fill:"#374151"},angle:0,textAnchor:"middle",height:60,interval:0}),de.jsx(g1,{yAxisId:"left",axisLine:!0,tickLine:!0,tick:{fontSize:12,fill:"#374151"},label:{value:"LAR %",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontWeight:"bold",fontSize:"14px"}},domain:[0,100]}),de.jsx(g1,{yAxisId:"right",orientation:"right",axisLine:!0,tickLine:!0,tick:{fontSize:12,fill:"#374151"},label:{value:"Defect Quantity",angle:90,position:"insideRight",style:{textAnchor:"middle",fontWeight:"bold",fontSize:"14px"}}}),de.jsx(YY,{content:de.jsx(k,{})}),S.map((e,t)=>de.jsx(oJ,{yAxisId:"right",dataKey:e.name,stackId:"defects",fill:e.color,name:e.name,radius:t===S.length-1?[4,4,0,0]:[0,0,0,0]},e.name)),de.jsx(K0,{yAxisId:"right",type:"monotone",dataKey:"dppmTarget",stroke:"#EF4444",strokeWidth:2,strokeDasharray:"5 5",name:"DPPM Target (150)",dot:!1,activeDot:!1}),de.jsx(K0,{yAxisId:"left",type:"monotone",dataKey:"larPercentage",stroke:"#3B82F6",strokeWidth:3,name:"LAR %",dot:{fill:"#3B82F6",r:4},activeDot:{r:6},label:{position:"top",content:({x:e,y:t,value:r})=>de.jsxs("text",{x:e,y:t-10,fill:"#3B82F6",fontSize:11,fontWeight:"bold",textAnchor:"middle",children:[r.toFixed(2),"%"]})}})]})})]})]}),(()=>{const e=[{key:"totalDPPM",label:"DPPM",colorClass:"text-purple-700",format:e=>Math.round(e).toString()},{key:"dppmTarget",label:"TNHK DPPM  Target(150)",colorClass:"text-purple-700",format:e=>Math.round(e).toString()},{key:"larPercentage",label:"%LAR",colorClass:"text-purple-600",format:e=>`${e.toFixed(2)}%`}];return de.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:de.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Overall OQA TNHK : LAR & DPPM"})}),de.jsx("div",{className:"overflow-x-auto",children:de.jsxs("table",{className:"min-w-full",children:[de.jsx("thead",{children:de.jsxs("tr",{className:"bg-gray-100",children:[de.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700 border-r border-gray-300 w-48",children:"Metric / Defect"}),a.map((e,t)=>de.jsx("th",{className:"px-3 py-2 text-center text-sm font-medium border-r border-gray-300 min-w-20 bg-green-100",children:Zx(e.month)},`${e.month}-${t}`))]})}),de.jsxs("tbody",{children:[e.map(e=>de.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-200",children:[de.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900 border-r border-gray-300",children:e.label}),a.map((t,r)=>{const n=t[e.key];return de.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center text-sm font-medium border-r border-gray-300 bg-green-100",children:TA(e.format(n))},`${t.month}-${r}`)})]},e.key)),S.map(e=>e.name&&""!==e.name.trim()?de.jsxs("tr",{className:"border-b border-gray-200",children:[de.jsx("td",{className:"px-4 py-1 text-sm font-medium text-white border-r border-gray-300 text-left",style:{backgroundColor:e.color},children:e.name}),a.map((t,r)=>{const n=t.defects[e.name]||0;return de.jsx("td",{className:"px-3 py-1 text-center text-sm border-r border-gray-300 bg-green-100",children:TA(Math.round(n).toString())},`${t.month}-${r}`)})]},e.name):null)]})]})})]})})()]})})):(console.log(" Showing empty state - no data available"),de.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:de.jsxs("div",{className:"max-w-7xl mx-auto",children:[de.jsx("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:de.jsxs("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[de.jsx("li",{className:"inline-flex items-center",children:de.jsxs("a",{href:"/",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-orange-600",children:[de.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Home"]})}),de.jsx("li",{children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),de.jsx("span",{className:"ml-1 text-sm font-medium text-gray-500 md:ml-2",children:"Reports"})]})}),de.jsx("li",{"aria-current":"page",children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:de.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),de.jsx("span",{className:"ml-1 text-sm font-medium text-orange-600 md:ml-2",children:"Seagate IQA Weekly result "})]})})]})}),C(),i&&de.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:de.jsxs("div",{className:"flex",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:de.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),de.jsx("div",{className:"ml-3",children:de.jsx("p",{className:"text-sm text-yellow-700",children:i})})]})}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[de.jsx("svg",{className:"mx-auto h-24 w-24 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),de.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No Data Loaded"}),de.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Please select filter criteria and click ",de.jsx("strong",{children:"Apply"})," to load OQA DPPM Overall report data."]})]})]})}))},requiredRoles:["user","manager","admin","viewer"]},{path:"/report/sgt-iqa-result-report",element:()=>{const[e,t]=ee.useState(!1),[r,n]=ee.useState(new Date),[a,s]=ee.useState([]),[i,o]=ee.useState(!1),[d,u]=ee.useState(null),[m,f]=ee.useState([]),[p,g]=ee.useState([]),[x,b]=ee.useState(""),[v,y]=ee.useState("");ee.useEffect(()=>{w()},[]),ee.useEffect(()=>{x?j(x):(g([]),y(""))},[x]),ee.useEffect(()=>{x&&v?N(x,v):s([])},[x,v]);const w=()=>h(void 0,null,function*(){try{const e=yield W4();e.success&&Array.isArray(e.data)&&(f(e.data),e.data.length>0&&b(e.data[0]))}catch(e){console.error("Error loading fiscal years:",e)}}),j=e=>h(void 0,null,function*(){try{const t=yield q4(e);t.success&&Array.isArray(t.data)&&(g(t.data),t.data.length>0&&y(t.data[0]))}catch(t){console.error("Error loading work weeks:",t)}}),N=(e,t)=>h(void 0,null,function*(){o(!0),u(null);try{const a=yield(r={year:e,ww:t},h(void 0,null,function*(){var e,t;try{const e=new URLSearchParams(Object.entries(r).filter(([e,t])=>null!=t&&""!==t).map(([e,t])=>[e,String(t)])).toString(),t="/report/seagate-iqa-result"+(e?`?${e}`:"");console.log(' Calling api.get("'+t+'")...');const n=yield Gx.get(t);return console.log(" Seagate IQA Result response:",n),n}catch(d){return console.error(" Error fetching Seagate IQA Result:",d),{success:!1,message:(null==(t=null==(e=d.response)?void 0:e.data)?void 0:t.message)||d.message||"Failed to fetch Seagate IQA Result",errors:[d.message]}}}));if(a.success&&Array.isArray(a.data)){const e=a.data.map(e=>c(l({},e),{total_inspection_lot:parseInt(e.total_inspection_lot)||0,acceptable_lot:parseInt(e.acceptable_lot)||0,rejected_lot:parseInt(e.rejected_lot)||0,rejected_qty:parseInt(e.rejected_qty)||0,lar:parseFloat(e.lar)||0}));s(e),n(new Date)}else u(a.message||"Failed to load report data")}catch(a){console.error("Error loading report data:",a),u(a instanceof Error?a.message:"An error occurred")}finally{o(!1)}var r}),S=ee.useMemo(()=>{if(0===a.length)return{model:"Total",total_inspection_lot:0,acceptable_lot:0,rejected_lot:0,rejected_qty:0,lar:0};const e=a.reduce((e,t)=>e+(t.total_inspection_lot||0),0),t=a.reduce((e,t)=>e+(t.acceptable_lot||0),0);return{model:"Total",total_inspection_lot:e,acceptable_lot:t,rejected_lot:a.reduce((e,t)=>e+(t.rejected_lot||0),0),rejected_qty:a.reduce((e,t)=>e+(t.rejected_qty||0),0),lar:e>0?t/e*100:0}},[a]),k=(e,t=!1)=>{const r="string"==typeof e.lar?parseFloat(e.lar):e.lar;return de.jsxs("tr",{className:""+(t?"bg-primary-50 border-t-2 border-primary-200 font-bold":"hover:bg-gray-50"),children:[de.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm "+(t?"font-bold text-gray-900":"text-blue-600 font-medium"),children:e.model}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-900",children:e.total_inspection_lot}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-900",children:e.acceptable_lot}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-red-600 font-semibold",children:e.rejected_lot}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-red-600 font-semibold",children:e.rejected_qty}),de.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-semibold text-gray-900",children:[r.toFixed(2),"%"]})]},e.model)};return de.jsx("div",{className:"min-h-screen bg-gray-50",children:de.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[de.jsx("div",{className:"mb-8",children:de.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:de.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-orange-600 px-6 py-6",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:["Seagate IQA Result ",x&&v?`FY${x} WW${v}`:""]}),de.jsxs("p",{className:"text-primary-100",children:["Last updated: ",r.toLocaleString()]})]}),de.jsxs("div",{className:"flex space-x-3",children:[de.jsxs("button",{onClick:()=>{x&&v&&N(x,v)},className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2",children:[de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),de.jsx("span",{children:"Refresh"})]}),de.jsxs("button",{onClick:()=>{window.print()},className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2",children:[de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H3a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),de.jsx("span",{children:"Print"})]}),de.jsx("button",{onClick:()=>{t(!0),setTimeout(()=>{t(!1),alert("Report exported successfully!")},2e3)},disabled:e,className:"bg-white text-primary-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2",children:e?de.jsxs(de.Fragment,{children:[de.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[de.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),de.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),de.jsx("span",{children:"Exporting..."})]}):de.jsxs(de.Fragment,{children:[de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),de.jsx("span",{children:"Export PDF"})]})})]})]})})})}),de.jsx("div",{className:"mb-6",children:de.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6",children:de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsxs("div",{className:"flex-1",children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiscal Year"}),de.jsxs("select",{value:x,onChange:e=>b(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[de.jsx("option",{value:"",children:"Select FY"}),m.map(e=>de.jsxs("option",{value:e,children:["FY ",e]},e))]})]}),de.jsxs("div",{className:"flex-1",children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Week"}),de.jsxs("select",{value:v,onChange:e=>y(e.target.value),disabled:!x||0===p.length,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[de.jsx("option",{value:"",children:"Select WW"}),p.map(e=>de.jsxs("option",{value:e,children:["WW ",e]},e))]})]})]})})}),d&&de.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:de.jsx("p",{className:"text-red-600",children:d})}),i&&de.jsxs("div",{className:"mb-6 text-center py-8",children:[de.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),de.jsx("p",{className:"mt-2 text-gray-600",children:"Loading report data..."})]}),de.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:de.jsx("div",{className:"overflow-x-auto",children:de.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[de.jsx("thead",{children:de.jsxs("tr",{className:"bg-gradient-to-r from-green-500 to-green-600",children:[de.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider",children:"Model"}),de.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-white uppercase tracking-wider",children:"Total Inspection Lot"}),de.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-white uppercase tracking-wider",children:"Acceptable Lot"}),de.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-white uppercase tracking-wider",children:"Rejected Lot"}),de.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-white uppercase tracking-wider",children:"Rejected Q'ty"}),de.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-white uppercase tracking-wider",children:"LAR"})]})}),de.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.map(e=>k(e)),k(S,!0)]})]})})}),de.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:de.jsxs("p",{children:["Generated on ",(new Date).toLocaleDateString(),"  Seagate Manufacturing Quality Control System"]})})]})})},requiredRoles:["user","manager","admin","viewer"]},{path:"/report/si-result-report",element:h3,requiredRoles:["user","manager","admin","viewer"]},{path:"/report/oqa-vi-report",element:h3,requiredRoles:["user","manager","admin","viewer"]},{path:"/report/top-defect-report",element:h3,requiredRoles:["user","manager","admin","viewer"]},{path:"/report/report/daily",element:h3,requiredRoles:["user","manager","admin","viewer"]},{path:"/report/report/weekly",element:h3,requiredRoles:["user","manager","admin","viewer"]}]},{groupName:"Administration",routes:[]},{groupName:"Interface",routes:[{path:"/interface/lotinput-import",element:()=>{const[e,t]=ee.useState([]),[r,n]=ee.useState([]),[a,s]=ee.useState(null),[i,o]=ee.useState(null),[d,u]=ee.useState(!1),[m,f]=ee.useState(!1),[p,g]=ee.useState(0),[x,b]=ee.useState({}),[v,y]=ee.useState(""),[w,j]=ee.useState(""),[N,S]=ee.useState(1),[k,C]=ee.useState(50),[E,T]=ee.useState({lotNoSearch:"",itemNoSearch:"",inputDateFrom:F2.getTodayDate(),inputDateTo:F2.getTodayDate()}),_=ee.useCallback(()=>h(void 0,null,function*(){try{u(!0),j("");const e=yield F2.fetchLotInputData({page:N,limit:k,lotNoSearch:E.lotNoSearch,itemNoSearch:E.itemNoSearch,inputDateFrom:E.inputDateFrom,inputDateTo:E.inputDateTo});e.success&&e.data?(console.log(" Data fetched successfully:",e.data.length,"records"),t(e.data),s(e.pagination||null),F2.extractFilterOptions(e.data)):(console.error(" Failed to fetch data:",e.error),j(e.error||"Failed to fetch data"),t([]),s(null))}catch(e){console.error(" Fetch error:",e),j(e instanceof Error?e.message:"Failed to fetch data"),t([]),s(null)}finally{u(!1)}}),[E,N,k]),A=ee.useCallback(()=>h(void 0,null,function*(){try{console.log(" Fetching statistics...");const e=yield F2.getStatistics();e.success&&e.data?(console.log(" Statistics fetched successfully:",e.data),o(e.data)):(console.log(" No statistics available:",e.error),o(null))}catch(e){console.error(" Statistics fetch error:",e),o(null)}}),[]),I=ee.useCallback(e=>h(void 0,null,function*(){if(e.trim())try{u(!0),j("");const r=yield F2.searchByLotNumber(e);r.success&&r.data&&r.data.length>0?(console.log(" Lot search successful:",r.data.length,"records"),t(r.data),s(null),y(r.message||`Found ${r.data.length} records for lot: ${e}`)):(t([]),s(null),j(r.error||`No records found for lot: ${e}`))}catch(r){console.error(" Lot search error:",r),j(r instanceof Error?r.message:"Search failed"),t([]),s(null)}finally{u(!1)}else j("Please enter a lot number to search")}),[]),P=ee.useCallback(()=>{const t=F2.applyClientFilters(e,E);n(t)},[e,E]),D=(e,t)=>{T(r=>c(l({},r),{[e]:t}))},O=()=>{E.lotNoSearch.trim()&&I(E.lotNoSearch.trim())};ee.useEffect(()=>{_(),A()},[_,A,N,k,E.inputDateFrom,E.inputDateTo]),ee.useEffect(()=>{P()},[e,E.lotNoSearch,E.itemNoSearch,P]),ee.useEffect(()=>{if(v){const e=setTimeout(()=>y(""),5e3);return()=>clearTimeout(e)}},[v]),ee.useEffect(()=>{if(w){const e=setTimeout(()=>j(""),8e3);return()=>clearTimeout(e)}},[w]);const L=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString()}catch(xJ){return e}},R=e=>{if(!e)return"-";try{return new Date(e).toLocaleTimeString()}catch(xJ){return e}},M=(e,t)=>{if(!e||0===t.length)return e;const r=t.filter(e=>e&&e.trim());if(0===r.length)return e;const n=r.map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),a=new RegExp(`(${n})`,"gi"),s=e.split(a);return de.jsx(de.Fragment,{children:s.map((e,t)=>r.some(t=>e.toLowerCase()===t.toLowerCase())?de.jsx("mark",{className:"bg-yellow-200 text-yellow-900 px-1 rounded",children:e},t):e)})},F=(()=>{const e=[];return E.lotNoSearch.trim()&&e.push(E.lotNoSearch.trim()),E.itemNoSearch.trim()&&e.push(E.itemNoSearch.trim()),e})(),$=[{key:"sequence",header:"#",render:(e,t,r)=>de.jsx("div",{className:"text-center",children:de.jsx("span",{className:"inline-block w-8 h-8 bg-gray-100 text-gray-600 text-sm font-medium rounded-full flex items-center justify-center",children:(a?(a.page-1)*a.limit:0)+r+1})})},{key:"LotNo",header:"Lot No",render:(e,t)=>de.jsx("span",{className:"font-bold text-blue-600",children:M(t.LotNo,F)})},{key:"ItemNo",header:"Item No",render:(e,t)=>de.jsx("span",{className:"font-mono text-sm",children:M(t.ItemNo,F)})},{key:"PartSite",header:"Part Site",render:(e,t)=>de.jsx("span",{className:"font-medium text-gray-900",children:t.PartSite})},{key:"LineNo",header:"Line No",render:(e,t)=>de.jsx("span",{className:"text-sm bg-blue-100 px-2 py-1 rounded",children:t.LineNo})},{key:"Model",header:"Model",render:(e,t)=>de.jsx("span",{className:"font-medium text-gray-800",children:t.Model})},{key:"Version",header:"Version",render:(e,t)=>de.jsx("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:t.Version})},{key:"InputDate",header:"Input Date",render:(e,t)=>de.jsxs("div",{className:"text-xs",children:[de.jsx("div",{className:"font-medium text-green-700",children:L(t.InputDate)}),de.jsx("div",{className:"text-green-600",children:R(t.InputDate)})]})}],B=E.lotNoSearch.trim()||E.itemNoSearch.trim(),U=B?r:e;return console.log(" Component Debug Info:",{dataLength:e.length,filteredDataLength:r.length,hasTextSearch:B,displayDataLength:U.length,loading:d,filters:E}),de.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50",children:[de.jsx("div",{className:"fixed inset-0 opacity-30 pointer-events-none",children:de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-400/10 via-purple-400/10 to-pink-400/10 animate-gradient-x"})}),de.jsx("div",{className:"relative bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 shadow-xl",children:de.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:de.jsx("div",{className:"py-6",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute inset-0 bg-white rounded-full blur-lg opacity-50 animate-pulse"}),de.jsx(Fp,{className:"relative w-12 h-12 text-white drop-shadow-lg"})]}),de.jsxs("div",{children:[de.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center drop-shadow-md",children:["Lot Input Data Viewer",m&&de.jsx("span",{className:"ml-3 inline-flex items-center",children:de.jsx(Wf,{className:"w-6 h-6 text-yellow-300 animate-spin"})})]}),de.jsx("p",{className:"mt-1 text-sm text-indigo-100",children:"Browse and filter imported lot input data with advanced search capabilities"})]})]}),i&&de.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 text-sm",children:[de.jsxs("div",{className:"text-center bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/30 shadow-lg transform transition-all hover:scale-105",children:[de.jsx("div",{className:"text-xl font-bold text-white drop-shadow-md",children:TA(i.totalRecords.toString())}),de.jsx("div",{className:"text-indigo-100 text-xs",children:"Total Records"})]}),de.jsxs("div",{className:"text-center bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/30 shadow-lg transform transition-all hover:scale-105",children:[de.jsx("div",{className:"text-2xl font-bold text-yellow-300 drop-shadow-md",children:TA(i.totalToday.toString())}),de.jsx("div",{className:"text-indigo-100 text-xs",children:"Today"})]}),de.jsxs("div",{className:"text-center bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/30 shadow-lg transform transition-all hover:scale-105",children:[de.jsx("div",{className:"text-2xl font-bold text-green-300 drop-shadow-md",children:TA(i.totalMonth.toString())}),de.jsx("div",{className:"text-indigo-100 text-xs",children:"This Month"})]}),de.jsxs("div",{className:"text-center bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/30 shadow-lg transform transition-all hover:scale-105",children:[de.jsx("div",{className:"text-xl font-bold text-blue-300 drop-shadow-md",children:TA(i.totalYear.toString())}),de.jsx("div",{className:"text-indigo-100 text-xs",children:"This Year"})]}),de.jsxs("div",{className:"text-center bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/30 shadow-lg",children:[de.jsx("div",{className:"text-indigo-100 text-xs font-medium",children:"Last Sync"}),de.jsx("div",{className:"text-white text-xs mt-1",children:i.lastSync?(()=>{const e=new Date(i.lastSync);return`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`})():"N/A"})]})]})]})})})}),de.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:de.jsx(_5,{items:[{label:"Home",href:"/"},{label:"Interface",href:"/interface"},{label:"Lot-Input Data"}],className:"mb-4"})}),v&&de.jsx("div",{className:"animate-slide-down",children:de.jsx(M4,{variant:"success",message:v,onDismiss:()=>y(""),className:"mx-4 mt-4 shadow-lg"})}),w&&de.jsx("div",{className:"animate-slide-down",children:de.jsx(M4,{variant:"error",message:w,onDismiss:()=>j(""),className:"mx-4 mt-4 shadow-lg"})}),m&&de.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center animate-fade-in",children:de.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full mx-4 animate-scale-up",children:de.jsxs("div",{className:"text-center",children:[de.jsxs("div",{className:"relative inline-flex items-center justify-center mb-6",children:[de.jsx("div",{className:`absolute inset-0 ${-1===p?"bg-gradient-to-r from-red-500 to-orange-500":4===p?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-indigo-500 to-purple-500"} rounded-full blur-xl opacity-50 animate-pulse`}),de.jsx("div",{className:`relative ${-1===p?"bg-gradient-to-r from-red-600 to-orange-600":4===p?"bg-gradient-to-r from-green-600 to-emerald-600":"bg-gradient-to-r from-indigo-600 to-purple-600"} rounded-full p-6`,children:-1===p?de.jsx(rx,{className:"w-16 h-16 text-white"}):4===p?de.jsx("svg",{className:"w-16 h-16 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):de.jsx(Wf,{className:"w-16 h-16 text-white animate-spin"})})]}),-1===p?de.jsxs(de.Fragment,{children:[de.jsx("h3",{className:"text-2xl font-bold text-red-600 mb-2",children:"Sync Failed"}),de.jsx("p",{className:"text-gray-600 mb-6",children:w}),de.jsx("p",{className:"text-sm text-gray-500",children:"Modal will close automatically..."})]}):4===p?de.jsxs(de.Fragment,{children:[de.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Sync Completed!"}),de.jsxs("div",{className:"text-left bg-gray-50 rounded-lg p-4 mb-4",children:[de.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[de.jsx("span",{className:"text-gray-600",children:"Imported:"}),de.jsx("span",{className:"font-bold text-green-600",children:x.imported||0})]}),de.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[de.jsx("span",{className:"text-gray-600",children:"Updated:"}),de.jsx("span",{className:"font-bold text-blue-600",children:x.updated||0})]}),de.jsxs("div",{className:"flex justify-between py-2",children:[de.jsx("span",{className:"text-gray-600",children:"Skipped:"}),de.jsx("span",{className:"font-bold text-gray-600",children:x.skipped||0})]}),de.jsxs("div",{className:"flex justify-between py-2 border-t-2 border-gray-300 mt-2 pt-2",children:[de.jsx("span",{className:"font-bold text-gray-700",children:"Total Records:"}),de.jsx("span",{className:"font-bold text-purple-600",children:(x.imported||0)+(x.updated||0)+(x.skipped||0)})]})]})]}):de.jsxs(de.Fragment,{children:[de.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Syncing Data..."}),de.jsxs("div",{className:"space-y-3 mb-6",children:[de.jsxs("div",{className:"flex items-center "+(p>=1?"text-indigo-600":"text-gray-400"),children:[de.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 "+(p>1?"bg-green-500 text-white":1===p?"bg-indigo-500 text-white animate-pulse":"bg-gray-200"),children:p>1?"":"1"}),de.jsx("span",{className:""+(1===p?"font-semibold":""),children:"Connecting to source database"})]}),de.jsxs("div",{className:"flex items-center "+(p>=2?"text-indigo-600":"text-gray-400"),children:[de.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 "+(p>2?"bg-green-500 text-white":2===p?"bg-indigo-500 text-white animate-pulse":"bg-gray-200"),children:p>2?"":"2"}),de.jsx("span",{className:""+(2===p?"font-semibold":""),children:"Getting records from source"})]}),de.jsxs("div",{className:"flex items-center justify-between "+(p>=3?"text-indigo-600":"text-gray-400"),children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 "+(p>3?"bg-green-500 text-white":3===p?"bg-indigo-500 text-white animate-pulse":"bg-gray-200"),children:p>3?"":"3"}),de.jsx("span",{className:""+(3===p?"font-semibold":""),children:"Importing to destination server"})]}),3===p&&void 0!==x.imported&&de.jsxs("span",{className:"text-sm font-bold text-purple-600 ml-2",children:[(x.imported||0)+(x.updated||0)+(x.skipped||0)," records"]})]}),de.jsxs("div",{className:"flex items-center "+(p>=4?"text-indigo-600":"text-gray-400"),children:[de.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 "+(4===p?"bg-green-500 text-white":"bg-gray-200"),children:"4"}),de.jsx("span",{className:""+(4===p?"font-semibold":""),children:"Processing results"})]})]}),de.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 transition-all duration-500",style:{width:p/4*100+"%"}})})]})]})})}),de.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[de.jsxs("div",{className:"bg-white/80 backdrop-blur-sm shadow-xl rounded-2xl p-6 mb-6 border border-purple-100 transform transition-all hover:shadow-2xl hover:scale-[1.01]",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[de.jsxs("div",{className:"relative mr-3",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg blur opacity-50"}),de.jsx(dg,{className:"relative w-6 h-6 text-purple-600"})]}),de.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Quick Search"})]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[de.jsx(ip,{className:"w-4 h-4 inline mr-1"}),"Input Date From"]}),de.jsx(J5,{type:"date",value:E.inputDateFrom,onChange:e=>D("inputDateFrom",e.target.value),className:"w-full"})]}),de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[de.jsx(ip,{className:"w-4 h-4 inline mr-1"}),"Input Date To"]}),de.jsx(J5,{type:"date",value:E.inputDateTo,onChange:e=>D("inputDateTo",e.target.value),className:"w-full"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search by Lot Number"}),de.jsxs("div",{className:"flex gap-2",children:[de.jsx(J5,{value:E.lotNoSearch,onChange:e=>D("lotNoSearch",e.target.value),placeholder:"Enter lot number...",className:"flex-1",onKeyPress:e=>"Enter"===e.key&&O()}),de.jsx(A5,{onClick:O,disabled:d||!E.lotNoSearch.trim(),variant:"primary",children:"Search"})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search by Item Number"}),de.jsx(J5,{value:E.itemNoSearch,onChange:e=>D("itemNoSearch",e.target.value),placeholder:"Enter item number...",className:"w-full"})]})]})]}),de.jsxs("div",{className:"bg-white/80 backdrop-blur-sm shadow-xl rounded-2xl border border-indigo-100 overflow-hidden transform transition-all hover:shadow-2xl",children:[de.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-purple-100",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[de.jsxs("div",{className:"relative mr-3",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg blur opacity-50"}),de.jsx(Op,{className:"relative w-6 h-6 text-purple-600"})]}),de.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Lot Input Data"}),!a&&de.jsxs("span",{className:"ml-2 text-sm text-gray-600 bg-white/60 px-3 py-1 rounded-full",children:[r.length," records"]})]}),de.jsxs("div",{className:"flex items-center space-x-4",children:[a&&de.jsxs("div",{className:"flex items-center bg-white/60 rounded-lg px-3 py-2 shadow-sm",children:[de.jsx("label",{className:"text-sm font-medium text-gray-700 mr-2",children:"Show:"}),de.jsxs("select",{value:k,onChange:e=>C(parseInt(e.target.value)),className:"border-purple-300 rounded-md text-sm focus:ring-purple-500 focus:border-purple-500 bg-white",children:[de.jsx("option",{value:25,children:"25"}),de.jsx("option",{value:50,children:"50"}),de.jsx("option",{value:100,children:"100"}),de.jsx("option",{value:200,children:"200"})]})]}),de.jsxs("button",{onClick:()=>h(void 0,null,function*(){var e,t,r;try{f(!0),j(""),y(""),g(0),b({}),console.log(" Starting manual sync..."),g(1),yield new Promise(e=>setTimeout(e,500)),g(2),yield new Promise(e=>setTimeout(e,500)),g(3);const n=new Promise((e,t)=>setTimeout(()=>t(new Error("Sync operation timed out after 30 seconds")),3e4)),a=F2.syncData(),s=yield Promise.race([a,n]);if(s.success){const n=(null==(e=s.data)?void 0:e.imported)||0,a=(null==(t=s.data)?void 0:t.skipped)||0,i=(null==(r=s.data)?void 0:r.updated)||0,o=n+i+a;if(b({imported:n,updated:i,skipped:a}),0===o)return y("No new records to import"),yield new Promise(e=>setTimeout(e,1500)),f(!1),void g(0);g(4),b({imported:n,updated:i,skipped:a}),yield new Promise(e=>setTimeout(e,2e3)),y(s.message||` Sync completed successfully! Imported: ${n}, Updated: ${i}, Skipped: ${a}`),yield _(),yield A(),f(!1),g(0)}else g(-1),j(s.error||"Sync failed"),yield new Promise(e=>setTimeout(e,3e3)),f(!1),g(0)}catch(n){console.error(" Sync error:",n),g(-1),j(n instanceof Error?n.message:"Failed to sync data"),yield new Promise(e=>setTimeout(e,3e3)),f(!1),g(0)}}),disabled:m||d,className:`\n                    relative overflow-hidden px-4 py-2 rounded-lg font-medium text-white text-sm\n                    transition-all transform hover:scale-105 active:scale-95\n                    ${m||d?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-lg hover:shadow-xl"}\n                  `,children:[de.jsxs("span",{className:"flex items-center",children:[de.jsx(Ff,{className:"w-4 h-4 mr-2 "+(m?"animate-bounce":"")}),m?"Syncing...":"Sync Data"]}),!m&&!d&&de.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-green-400 to-emerald-500 opacity-0 hover:opacity-30 transition-opacity"})]}),de.jsxs("button",{onClick:()=>{_(),A()},disabled:d,className:`\n                    relative overflow-hidden px-4 py-2 rounded-lg font-medium text-white text-sm\n                    transition-all transform hover:scale-105 active:scale-95\n                    ${d?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 shadow-lg hover:shadow-xl"}\n                  `,children:[de.jsxs("span",{className:"flex items-center",children:[de.jsx(Wf,{className:"w-4 h-4 mr-2 "+(d?"animate-spin":"")}),d?"Loading...":"Refresh"]}),!d&&de.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-indigo-400 to-purple-500 opacity-0 hover:opacity-30 transition-opacity"})]})]})]})}),de.jsx(R4,{columns:$,data:U,loading:d,emptyMessage:"No lot input data found. Try adjusting your filters or search terms.",className:"min-h-96",hoverable:!0,striped:!0}),a&&a.totalPages>1&&de.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(a.page-1)*a.limit+1," to"," ",Math.min(a.page*a.limit,a.total)," of"," ",a.total," results"]}),de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx(A5,{onClick:()=>S(N-1),disabled:!a.hasPrev,variant:"secondary",size:"sm",children:"Previous"}),de.jsx("div",{className:"flex space-x-1",children:Array.from({length:Math.min(5,a.totalPages)},(e,t)=>{const r=Math.max(1,Math.min(a.totalPages-4,Math.max(1,a.page-2)))+t;return de.jsx(A5,{onClick:()=>S(r),variant:r===a.page?"primary":"secondary",size:"sm",className:"w-8 h-8 p-0",children:r},r)})}),de.jsx(A5,{onClick:()=>S(N+1),disabled:!a.hasNext,variant:"secondary",size:"sm",children:"Next"})]})]})})]})]})]})},requiredRoles:["admin","manager","user"]},{path:"/interface/checkin-import",element:()=>{const[e,t]=ee.useState([]),[r,n]=ee.useState([]),[a,s]=ee.useState(null),[i,o]=ee.useState(null),[d,u]=ee.useState(!1),[m,f]=ee.useState(!1),[p,g]=ee.useState(0),[x,b]=ee.useState({}),[v,y]=ee.useState(""),[w,j]=ee.useState(""),[N,S]=ee.useState(1),[k,C]=ee.useState(50),[E,T]=ee.useState({usernameSearch:"",oprnameSearch:"",lineNoSearch:"",createdOnFrom:w2.getTodayDate(),createdOnTo:w2.getTodayDate(),groupCode:"",team:"",workShiftId:"",workStatus:"all"}),_=ee.useCallback(()=>h(void 0,null,function*(){try{u(!0),j("");const e=yield w2.fetchData(N,k,E);e.success&&e.data?(t(e.data),s(e.pagination||null)):(j(e.message||"Failed to fetch CheckIn data"),t([]),s(null))}catch(e){console.error(" Fetch error:",e),j(e instanceof Error?e.message:"Failed to fetch CheckIn data"),t([]),s(null)}finally{u(!1)}}),[E,N,k]),A=ee.useCallback(e=>h(void 0,null,function*(){try{u(!0),j("");const r=yield w2.searchByUsername(e);r.success&&r.data&&r.data.length>0?(t(r.data),s(null),y(`Found ${r.data.length} records for user: ${e}`)):(t([]),s(null),j(r.message||`No records found for user: ${e}`))}catch(r){console.error(" Username search error:",r),j(r instanceof Error?r.message:"Search failed"),t([]),s(null)}finally{u(!1)}}),[]),I=ee.useCallback(()=>h(void 0,null,function*(){try{console.log(" Fetching check-in statistics...");const e=yield w2.getStatistics();e.success&&e.data?(console.log(" Statistics fetched successfully:",e.data),o(e.data)):(console.log(" No statistics available:",e.error),o(null))}catch(e){console.error(" Statistics fetch error:",e),o(null)}}),[]),P=ee.useCallback(()=>{const t=w2.applyClientFilters(e,E);n(t)},[e,E]),D=(e,t)=>{T(r=>c(l({},r),{[e]:t}))},O=()=>{E.usernameSearch.trim()&&A(E.usernameSearch.trim())};ee.useEffect(()=>{console.log(" ImportCheckInPage: useEffect triggered - Loading data..."),_(),I()},[N,k,E.createdOnFrom,E.createdOnTo]),ee.useEffect(()=>{P()},[P]),ee.useEffect(()=>{if(v){const e=setTimeout(()=>y(""),5e3);return()=>clearTimeout(e)}},[v]),ee.useEffect(()=>{if(w){const e=setTimeout(()=>j(""),8e3);return()=>clearTimeout(e)}},[w]);const L=e=>w2.formatDate(e),R=e=>w2.formatTime(e),M=(e,t)=>{if(!e||0===t.length)return e;const r=t.filter(e=>e&&e.trim());if(0===r.length)return e;const n=r.map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),a=new RegExp(`(${n})`,"gi"),s=e.split(a);return de.jsx(de.Fragment,{children:s.map((e,t)=>r.some(t=>e.toLowerCase()===t.toLowerCase())?de.jsx("mark",{className:"bg-yellow-200 text-yellow-900 px-1 rounded",children:e},t):e)})},F=w2.getSearchTerms(E),$=[{key:"sequence",header:"#",render:(e,t,r)=>de.jsx("div",{className:"text-center",children:de.jsx("span",{className:"inline-block w-8 h-8 bg-gray-100 text-gray-600 text-sm font-medium rounded-full flex items-center justify-center",children:(a?(a.page-1)*a.limit:0)+r+1})})},{key:"username",header:"Username / Operator",render:(e,t)=>de.jsxs("div",{children:[de.jsx("div",{className:"font-bold text-blue-600",children:t.username?M(t.username,F):"-"}),t.oprname&&de.jsx("div",{className:"text-xs text-gray-600 mt-1",children:M(t.oprname,F)})]})},{key:"line_no_id",header:"Line No",render:(e,t)=>de.jsx("span",{className:"font-mono text-sm",children:t.line_no_id?M(t.line_no_id,F):"-"})},{key:"work_shift_id",header:"Shift ID",render:(e,t)=>de.jsx("span",{className:"font-medium text-gray-900",children:t.work_shift_id?M(t.work_shift_id,F):"-"})},{key:"group_code",header:"Group",render:(e,t)=>de.jsx("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:t.group_code?M(t.group_code,F):"-"})},{key:"team",header:"Team",render:(e,t)=>de.jsx("span",{className:"text-sm bg-blue-100 px-2 py-1 rounded",children:t.team?M(t.team,F):"-"})},{key:"created_on",header:"Check In",render:(e,t)=>de.jsxs("div",{className:"text-xs",children:[de.jsx("div",{className:"font-medium text-green-700",children:L(t.created_on)}),de.jsx("div",{className:"text-green-600",children:R(t.created_on)})]})},{key:"date_time_off_work",header:"Check Out",render:(e,t)=>de.jsx("div",{className:"text-xs",children:t.date_time_off_work?de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"font-medium text-red-700",children:L(t.date_time_off_work)}),de.jsx("div",{className:"text-red-600",children:R(t.date_time_off_work)})]}):de.jsxs("div",{className:"flex items-center",children:[de.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full mr-2"}),de.jsx("span",{className:"text-green-600 font-medium",children:"Still Working"})]})})},{key:"work_duration",header:"Duration",render:(e,t)=>{const r=(n=t.created_on,a=t.date_time_off_work,w2.calculateWorkDuration(n,a));var n,a;return de.jsx("div",{className:"text-xs",children:r?de.jsx("span",{className:"font-medium text-purple-600 bg-purple-50 px-2 py-1 rounded",children:r}):de.jsx("span",{className:"text-gray-400",children:"-"})})}},{key:"imported_at",header:"Imported",render:(e,t)=>de.jsxs("div",{className:"text-xs text-gray-500",children:[de.jsx("div",{className:"font-medium",children:L(t.imported_at)}),de.jsx("div",{children:R(t.imported_at)})]})}],B=E.usernameSearch.trim()||E.oprnameSearch.trim()||E.lineNoSearch.trim()||"all"!==E.workStatus||E.groupCode.trim()||E.team.trim()||E.workShiftId.trim(),U=B?r:e;return console.log(" Component Debug Info:",{dataLength:e.length,filteredDataLength:r.length,hasClientFilters:B,displayDataLength:U.length,loading:d,filters:E}),de.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[de.jsx("div",{className:"fixed inset-0 opacity-30 pointer-events-none",children:de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/10 via-purple-400/10 to-pink-400/10 animate-gradient-x"})}),de.jsx("div",{className:"relative bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 shadow-xl",children:de.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:de.jsx("div",{className:"py-6",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsxs("div",{className:"relative",children:[de.jsx("div",{className:"absolute inset-0 bg-white rounded-full blur-lg opacity-50 animate-pulse"}),de.jsx(Gg,{className:"relative w-12 h-12 text-white drop-shadow-lg"})]}),de.jsxs("div",{children:[de.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center drop-shadow-md",children:["CheckIn Data Viewer",m&&de.jsx("span",{className:"ml-3 inline-flex items-center",children:de.jsx(Wf,{className:"w-6 h-6 text-yellow-300 animate-spin"})})]}),de.jsx("p",{className:"mt-1 text-sm text-blue-100",children:"Browse worker check-in data with advanced search capabilities"})]})]}),i&&de.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 text-sm",children:[de.jsxs("div",{className:"text-center bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/30 shadow-lg transform transition-all hover:scale-105",children:[de.jsx("div",{className:"text-xl font-bold text-white drop-shadow-md",children:TA(i.totalRecords.toString())}),de.jsx("div",{className:"text-blue-100 text-xs",children:"Total Records"})]}),de.jsxs("div",{className:"text-center bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/30 shadow-lg transform transition-all hover:scale-105",children:[de.jsx("div",{className:"text-2xl font-bold text-yellow-300 drop-shadow-md",children:TA(i.totalToday.toString())}),de.jsx("div",{className:"text-blue-100 text-xs",children:"Today"})]}),de.jsxs("div",{className:"text-center bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/30 shadow-lg transform transition-all hover:scale-105",children:[de.jsx("div",{className:"text-2xl font-bold text-green-300 drop-shadow-md",children:TA(i.totalMonth.toString())}),de.jsx("div",{className:"text-blue-100 text-xs",children:"This Month"})]}),de.jsxs("div",{className:"text-center bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/30 shadow-lg transform transition-all hover:scale-105",children:[de.jsx("div",{className:"text-xl font-bold text-cyan-300 drop-shadow-md",children:TA(i.totalYear.toString())}),de.jsx("div",{className:"text-blue-100 text-xs",children:"This Year"})]}),de.jsxs("div",{className:"text-center bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/30 shadow-lg",children:[de.jsx("div",{className:"text-blue-100 text-xs font-medium",children:"Last Sync"}),de.jsx("div",{className:"text-white text-xs mt-1",children:i.lastSync?(()=>{const e=new Date(i.lastSync);return`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`})():"N/A"})]})]})]})})})}),de.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:de.jsx(_5,{items:[{label:"Home",href:"/"},{label:"Interface",href:"/interface"},{label:"CheckIn Data"}],className:"mb-4"})}),v&&de.jsx("div",{className:"animate-slide-down",children:de.jsx(M4,{variant:"success",message:v,onDismiss:()=>y(""),className:"mx-4 mt-4 shadow-lg"})}),w&&de.jsx("div",{className:"animate-slide-down",children:de.jsx(M4,{variant:"error",message:w,onDismiss:()=>j(""),className:"mx-4 mt-4 shadow-lg"})}),m&&de.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center animate-fade-in",children:de.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full mx-4 animate-scale-up",children:de.jsxs("div",{className:"text-center",children:[de.jsxs("div",{className:"relative inline-flex items-center justify-center mb-6",children:[de.jsx("div",{className:`absolute inset-0 ${-1===p?"bg-gradient-to-r from-red-500 to-orange-500":4===p?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-blue-500 to-purple-500"} rounded-full blur-xl opacity-50 animate-pulse`}),de.jsx("div",{className:`relative ${-1===p?"bg-gradient-to-r from-red-600 to-orange-600":4===p?"bg-gradient-to-r from-green-600 to-emerald-600":"bg-gradient-to-r from-blue-600 to-purple-600"} rounded-full p-6`,children:-1===p?de.jsx(rx,{className:"w-16 h-16 text-white"}):4===p?de.jsx("svg",{className:"w-16 h-16 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):de.jsx(Wf,{className:"w-16 h-16 text-white animate-spin"})})]}),-1===p?de.jsxs(de.Fragment,{children:[de.jsx("h3",{className:"text-2xl font-bold text-red-600 mb-2",children:"Sync Failed"}),de.jsx("p",{className:"text-gray-600 mb-6",children:w}),de.jsx("p",{className:"text-sm text-gray-500",children:"Modal will close automatically..."})]}):4===p?de.jsxs(de.Fragment,{children:[de.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Sync Completed!"}),de.jsxs("div",{className:"text-left bg-gray-50 rounded-lg p-4 mb-4",children:[de.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[de.jsx("span",{className:"text-gray-600",children:"Imported:"}),de.jsx("span",{className:"font-bold text-green-600",children:x.imported||0})]}),de.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[de.jsx("span",{className:"text-gray-600",children:"Updated:"}),de.jsx("span",{className:"font-bold text-blue-600",children:x.updated||0})]}),de.jsxs("div",{className:"flex justify-between py-2",children:[de.jsx("span",{className:"text-gray-600",children:"Skipped:"}),de.jsx("span",{className:"font-bold text-gray-600",children:x.skipped||0})]}),de.jsxs("div",{className:"flex justify-between py-2 border-t-2 border-gray-300 mt-2 pt-2",children:[de.jsx("span",{className:"font-bold text-gray-700",children:"Total Records:"}),de.jsx("span",{className:"font-bold text-purple-600",children:(x.imported||0)+(x.updated||0)+(x.skipped||0)})]})]})]}):de.jsxs(de.Fragment,{children:[de.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Syncing Data..."}),de.jsxs("div",{className:"space-y-3 mb-6",children:[de.jsxs("div",{className:"flex items-center "+(p>=1?"text-blue-600":"text-gray-400"),children:[de.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 "+(p>1?"bg-green-500 text-white":1===p?"bg-blue-500 text-white animate-pulse":"bg-gray-200"),children:p>1?"":"1"}),de.jsx("span",{className:""+(1===p?"font-semibold":""),children:"Connecting to source database"})]}),de.jsxs("div",{className:"flex items-center "+(p>=2?"text-blue-600":"text-gray-400"),children:[de.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 "+(p>2?"bg-green-500 text-white":2===p?"bg-blue-500 text-white animate-pulse":"bg-gray-200"),children:p>2?"":"2"}),de.jsx("span",{className:""+(2===p?"font-semibold":""),children:"Getting records from source"})]}),de.jsxs("div",{className:"flex items-center justify-between "+(p>=3?"text-blue-600":"text-gray-400"),children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 "+(p>3?"bg-green-500 text-white":3===p?"bg-blue-500 text-white animate-pulse":"bg-gray-200"),children:p>3?"":"3"}),de.jsx("span",{className:""+(3===p?"font-semibold":""),children:"Importing to destination server"})]}),3===p&&void 0!==x.imported&&de.jsxs("span",{className:"text-sm font-bold text-purple-600 ml-2",children:[(x.imported||0)+(x.updated||0)+(x.skipped||0)," records"]})]}),de.jsxs("div",{className:"flex items-center "+(p>=4?"text-blue-600":"text-gray-400"),children:[de.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 "+(4===p?"bg-green-500 text-white":"bg-gray-200"),children:"4"}),de.jsx("span",{className:""+(4===p?"font-semibold":""),children:"Processing results"})]})]}),de.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 transition-all duration-500",style:{width:p/4*100+"%"}})})]})]})})}),de.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:de.jsxs(de.Fragment,{children:[de.jsxs("div",{className:"bg-white/80 backdrop-blur-sm shadow-xl rounded-2xl p-6 mb-6 border border-purple-100 transform transition-all hover:shadow-2xl hover:scale-[1.01]",children:[de.jsxs("div",{className:"flex items-center mb-4",children:[de.jsxs("div",{className:"relative mr-3",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg blur opacity-50"}),de.jsx(dg,{className:"relative w-6 h-6 text-purple-600"})]}),de.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Quick Search"})]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4",children:[de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[de.jsx(ip,{className:"w-4 h-4 inline mr-1"}),"Check-in Date From"]}),de.jsx(J5,{type:"date",value:E.createdOnFrom,onChange:e=>D("createdOnFrom",e.target.value),className:"w-full"})]}),de.jsxs("div",{children:[de.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[de.jsx(ip,{className:"w-4 h-4 inline mr-1"}),"Check-in Date To"]}),de.jsx(J5,{type:"date",value:E.createdOnTo,onChange:e=>D("createdOnTo",e.target.value),className:"w-full"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search by Username"}),de.jsxs("div",{className:"flex gap-2",children:[de.jsx(J5,{value:E.usernameSearch,onChange:e=>D("usernameSearch",e.target.value),placeholder:"Enter username...",className:"flex-1",onKeyPress:e=>"Enter"===e.key&&O()}),de.jsx(A5,{onClick:O,disabled:d||!E.usernameSearch.trim(),variant:"primary",children:"Search"})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search by Line Number"}),de.jsx(J5,{value:E.lineNoSearch,onChange:e=>D("lineNoSearch",e.target.value),placeholder:"Enter line number...",className:"w-full"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search by Operator Name"}),de.jsx(J5,{value:E.oprnameSearch,onChange:e=>D("oprnameSearch",e.target.value),placeholder:"Enter operator name...",className:"w-full"})]})]})]}),de.jsxs("div",{className:"bg-white/80 backdrop-blur-sm shadow-xl rounded-2xl border border-blue-100 overflow-hidden transform transition-all hover:shadow-2xl",children:[de.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-50 to-purple-50 border-b border-purple-100",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[de.jsxs("div",{className:"relative mr-3",children:[de.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg blur opacity-50"}),de.jsx(Op,{className:"relative w-6 h-6 text-purple-600"})]}),de.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"CheckIn Data"}),!a&&de.jsxs("span",{className:"ml-2 text-sm text-gray-600 bg-white/60 px-3 py-1 rounded-full",children:[U.length," records"]}),B&&de.jsx("span",{className:"ml-2 text-sm bg-gradient-to-r from-orange-500 to-pink-500 text-white px-3 py-1 rounded-full shadow-lg animate-pulse",children:"Filtered"})]}),de.jsxs("div",{className:"flex items-center space-x-4",children:[a&&de.jsxs("div",{className:"flex items-center bg-white/60 rounded-lg px-3 py-2 shadow-sm",children:[de.jsx("label",{className:"text-sm font-medium text-gray-700 mr-2",children:"Show:"}),de.jsxs("select",{value:k,onChange:e=>C(parseInt(e.target.value)),className:"border-purple-300 rounded-md text-sm focus:ring-purple-500 focus:border-purple-500 bg-white",children:[de.jsx("option",{value:25,children:"25"}),de.jsx("option",{value:50,children:"50"}),de.jsx("option",{value:100,children:"100"}),de.jsx("option",{value:200,children:"200"})]})]}),de.jsxs("button",{onClick:()=>h(void 0,null,function*(){var e,t,r;try{f(!0),j(""),y(""),g(0),b({}),console.log(" Starting manual sync..."),g(1),yield new Promise(e=>setTimeout(e,500)),g(2),yield new Promise(e=>setTimeout(e,500)),g(3);const n=new Promise((e,t)=>setTimeout(()=>t(new Error("Sync operation timed out after 30 seconds")),3e4)),a=w2.syncData(),s=yield Promise.race([a,n]);if(s.success){const n=(null==(e=s.data)?void 0:e.imported)||0,a=(null==(t=s.data)?void 0:t.skipped)||0,i=(null==(r=s.data)?void 0:r.updated)||0,o=n+i+a;if(b({imported:n,updated:i,skipped:a}),0===o)return y("No new records to import"),yield new Promise(e=>setTimeout(e,1500)),f(!1),void g(0);g(4),b({imported:n,updated:i,skipped:a}),yield new Promise(e=>setTimeout(e,2e3)),y(s.message||` Sync completed successfully! Imported: ${n}, Updated: ${i}, Skipped: ${a}`),yield _(),yield I(),f(!1),g(0)}else g(-1),j(s.error||"Sync failed"),yield new Promise(e=>setTimeout(e,3e3)),f(!1),g(0)}catch(n){console.error(" Sync error:",n),g(-1),j(n instanceof Error?n.message:"Failed to sync data"),yield new Promise(e=>setTimeout(e,3e3)),f(!1),g(0)}}),disabled:m||d,className:`\n                        relative overflow-hidden px-4 py-2 rounded-lg font-medium text-white text-sm\n                        transition-all transform hover:scale-105 active:scale-95\n                        ${m||d?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-lg hover:shadow-xl"}\n                      `,children:[de.jsxs("span",{className:"flex items-center",children:[de.jsx(Ff,{className:"w-4 h-4 mr-2 "+(m?"animate-bounce":"")}),m?"Syncing...":"Sync Data"]}),!m&&!d&&de.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-green-400 to-emerald-500 opacity-0 hover:opacity-30 transition-opacity"})]}),de.jsxs("button",{onClick:()=>{_(),I()},disabled:d,className:`\n                        relative overflow-hidden px-4 py-2 rounded-lg font-medium text-white text-sm\n                        transition-all transform hover:scale-105 active:scale-95\n                        ${d?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 shadow-lg hover:shadow-xl"}\n                      `,children:[de.jsxs("span",{className:"flex items-center",children:[de.jsx(Wf,{className:"w-4 h-4 mr-2 "+(d?"animate-spin":"")}),d?"Loading...":"Refresh"]}),!d&&de.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 opacity-0 hover:opacity-30 transition-opacity"})]})]})]})}),de.jsx(R4,{columns:$,data:U,loading:d,emptyMessage:"No CheckIn data found. Try adjusting your filters or search terms.",className:"min-h-96",hoverable:!0,striped:!0}),a&&a.totalPages>1&&de.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(a.page-1)*a.limit+1," to"," ",Math.min(a.page*a.limit,a.total)," of"," ",a.total," results"]}),de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx(A5,{onClick:()=>S(N-1),disabled:!a.hasPrev,variant:"secondary",size:"sm",children:"Previous"}),de.jsx("div",{className:"flex space-x-1",children:Array.from({length:Math.min(5,a.totalPages)},(e,t)=>{const r=Math.max(1,Math.min(a.totalPages-4,Math.max(1,a.page-2)))+t;return de.jsx(A5,{onClick:()=>S(r),variant:r===a.page?"primary":"secondary",size:"sm",className:"w-8 h-8 p-0",children:r},r)})}),de.jsx(A5,{onClick:()=>S(N+1),disabled:!a.hasNext,variant:"secondary",size:"sm",children:"Next"})]})]})})]})]})})]})},requiredRoles:["admin","manager","user"]},{path:"/interface/inspection-import",element:()=>{const e=Cm(),t=Nm(),r=F4.detectStationFromPath(t.pathname),n=$4[r]||$4.OQA,a=n.theme,[s,i]=ee.useState([]),[o,d]=ee.useState([]),[u,m]=ee.useState({dateRange:"all",judgment:"all",inspector:"All",model:"All"}),[f,p]=ee.useState(null),[g,x]=ee.useState(!1),[b,v]=ee.useState(!0),[y,w]=ee.useState(null),[j,N]=ee.useState(1),[S]=ee.useState(10),[k,C]=ee.useState(!1),[E,T]=ee.useState(null),[_,A]=ee.useState(!1),[I,P]=ee.useState([]),[D,O]=ee.useState(!1),[L,R]=ee.useState({current:0,total:0,status:""}),M=ee.useRef(null);ee.useEffect(()=>{F()},[n.code]);const F=()=>h(void 0,null,function*(){try{v(!0),w(null),console.log(` Fetching ${n.code} inspection data...`);const e=yield Z2.getAll({station:n.code});if(console.log(" API Response:",e),e.success&&e.data){const t=e.data.data||[];console.log(" All inspection data count:",t.length),console.log(" First 3 records:",t.slice(0,3));const r=t.filter(e=>e.station===n.code);console.log(` Filtered ${n.code} records:`,r.length);const a=r.map(e=>F4.transformInspectionData(e));console.log(" Transformed records:",a.length),console.log(" First transformed record:",a[0]),i(a),d(a)}else console.error(" API returned unsuccessful response:",e),w("Failed to load inspection data")}catch(e){console.error(" Error loading inspection data:",e),w("Failed to load inspection data")}finally{v(!1)}});ee.useEffect(()=>{const e=F4.applyFilters(s,u);d(e)},[u,s]);const $=(e,t)=>{m(r=>c(l({},r),{[e]:t}))},B=e=>"Pass"===e?de.jsx(fp,{className:"h-5 w-5 text-green-600"}):de.jsx(ex,{className:"h-5 w-5 text-red-600"}),U=F4.calculateStatistics(o),z=()=>{window.print()},V=()=>{e(n.pageRoute)},W=j*S,q=W-S,H=o.slice(q,W),Q=Math.ceil(o.length/S),G=e=>{N(e)},Y=e=>{try{const t=(new Date).toISOString().replace(/[:.]/g,"-"),r=`${n.code}_Import_Errors_${t}.txt`;let a="Import Error Log\n";a+="=================\n",a+=`Station: ${n.code}\n`,a+=`Date: ${(new Date).toLocaleString()}\n`,a+=`Total Failed Records: ${e.length}\n`,a+="=================\n\n",e.forEach((e,t)=>{a+=`\n--- Failed Record ${t+1} ---\n`,a+=`Excel Row Number: ${e.rowNumber}\n`,a+=`Error: ${e.error}\n`,a+="\nRecord Data:\n",a+=`  Station: ${e.record.station}\n`,a+=`  Sampling No: ${e.record.inspection_no}\n`,a+=`  Sampling Date: ${e.record.inspection_date}\n`,a+=`  Lot No: ${e.record.lotno}\n`,a+=`  WW: ${e.record.ww}\n`,a+=`  Shift: ${e.record.shift}\n`,a+=`  FVI Line No: ${e.record.fvilineno}\n`,a+=`  Round: ${e.record.round}\n`,a+=`  Item No: ${e.record.itemno}\n`,a+=`  Model: ${e.record.model}\n`,a+=`  Version: ${e.record.version}\n`,a+=`  Part Site: ${e.record.partsite}\n`,a+=`  MC Line No: ${e.record.mclineno}\n`,a+=`  FVI Lot Qty: ${e.record.fvi_lot_qty}\n`,a+=`  General Sampling Qty: ${e.record.general_sampling_qty}\n`,a+=`  Crack Sampling Qty: ${e.record.crack_sampling_qty}\n`,a+=`  Judgment: ${e.record.judgment}\n`,a+=`  QC ID: ${e.record.qc_id}\n`,a+="\n"});const s=new Blob([a],{type:"text/plain;charset=utf-8"}),i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=r,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i),console.log(` Error log file created: ${r}`)}catch(t){console.error(" Error creating log file:",t)}};return de.jsx("div",{className:`min-h-screen bg-gradient-to-br ${a.background} p-6`,children:de.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[b&&de.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:`animate-spin rounded-full h-16 w-16 border-b-4 ${a.spinner} mx-auto mb-4`}),de.jsx("p",{className:"text-gray-600 font-medium",children:"Loading inspection data..."})]})}),y&&!b&&de.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[de.jsxs("div",{className:"flex items-center space-x-3",children:[de.jsx(ex,{className:"h-8 w-8 text-red-600"}),de.jsxs("div",{children:[de.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Error Loading Data"}),de.jsx("p",{className:"text-red-700",children:y})]})]}),de.jsx("button",{onClick:F,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Retry"})]}),!b&&!y&&de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 px-6 py-3",children:de.jsxs("nav",{className:"flex items-center space-x-2 text-sm",children:[de.jsxs("button",{onClick:()=>{e("/")},className:`flex items-center text-gray-600 ${a.breadcrumb} transition-colors duration-200`,children:[de.jsx(Zp,{className:"h-4 w-4 mr-1"}),"Home"]}),de.jsx(jp,{className:"h-4 w-4 text-gray-400"}),de.jsx("button",{onClick:V,className:`text-gray-600 ${a.breadcrumb} transition-colors duration-200`,children:n.breadcrumbName}),de.jsx(jp,{className:"h-4 w-4 text-gray-400"}),de.jsx("span",{className:`${a.breadcrumbActive} font-semibold`,children:n.title})]})}),de.jsx("div",{className:`bg-white rounded-2xl shadow-xl border ${a.headerBorder} overflow-hidden`,children:de.jsx("div",{className:`bg-gradient-to-r ${a.header} p-6`,children:de.jsxs("div",{className:"flex items-center space-x-4",children:[de.jsx("button",{onClick:V,className:"bg-white/20 backdrop-blur-sm rounded-xl p-3 hover:bg-white/30 transition-colors duration-200",title:`Back to ${n.name} Page`,children:de.jsx(yp,{className:"h-6 w-6 text-white"})}),de.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-3",children:de.jsx(Fp,{className:"h-10 w-10 text-white"})}),de.jsxs("div",{className:"flex-1",children:[de.jsx("h1",{className:"text-3xl font-bold text-white",children:n.title}),de.jsx("p",{className:`${a.subtitle} mt-1`,children:n.subtitle})]}),de.jsxs("div",{className:"flex space-x-3",children:[de.jsxs("button",{onClick:()=>{O(!0)},className:"bg-white/20 backdrop-blur-sm rounded-xl px-4 py-3 hover:bg-white/30 transition-colors duration-200 flex items-center space-x-2",title:"Import from Excel",children:[de.jsx(Hf,{className:"h-5 w-5 text-white"}),de.jsx("span",{className:"text-white font-medium",children:"Import Excel"})]}),de.jsxs("button",{onClick:V,className:"bg-white/20 backdrop-blur-sm rounded-xl px-4 py-3 hover:bg-white/30 transition-colors duration-200 flex items-center space-x-2",title:`Go to ${n.name} Page`,children:[de.jsx(Fp,{className:"h-5 w-5 text-white"}),de.jsx("span",{className:"text-white font-medium",children:n.newButtonLabel})]}),de.jsx("button",{onClick:z,className:"bg-white/20 backdrop-blur-sm rounded-xl p-3 hover:bg-white/30 transition-colors duration-200",title:"Print Results",children:de.jsx(jg,{className:"h-6 w-6 text-white"})}),de.jsx("button",{onClick:()=>{console.log("Exporting results:",o),alert("Export functionality would be implemented here")},className:"bg-white/20 backdrop-blur-sm rounded-xl p-3 hover:bg-white/30 transition-colors duration-200",title:"Export Results",children:de.jsx(Ff,{className:"h-6 w-6 text-white"})})]})]})})}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"bg-gradient-to-r from-gray-100 to-slate-100 px-6 py-4",children:de.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Total Inspections"})}),de.jsxs("div",{className:"p-6",children:[de.jsx("div",{className:"text-3xl font-bold text-gray-900",children:TA(U.total.toString())}),de.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Records found"})]})]}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"bg-gradient-to-r from-green-100 to-emerald-100 px-6 py-4",children:de.jsx("h3",{className:"text-lg font-bold text-green-800",children:"Passed"})}),de.jsxs("div",{className:"p-6",children:[de.jsx("div",{className:"text-3xl font-bold text-green-600",children:TA(U.passed.toString())}),de.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Successful inspections"})]})]}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"bg-gradient-to-r from-red-100 to-rose-100 px-6 py-4",children:de.jsx("h3",{className:"text-lg font-bold text-red-800",children:"Rejected"})}),de.jsxs("div",{className:"p-6",children:[de.jsx("div",{className:"text-3xl font-bold text-red-600",children:TA(U.rejected.toString())}),de.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Failed inspections"})]})]}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:`bg-gradient-to-r ${a.passRate} px-6 py-4`,children:de.jsx("h3",{className:`text-lg font-bold ${a.passRateHeader}`,children:"Pass Rate"})}),de.jsxs("div",{className:"p-6",children:[de.jsxs("div",{className:`text-3xl font-bold ${a.passRateText}`,children:[TA(U.passRate,2),"%"]}),de.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Success rate"})]})]})]}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"bg-gradient-to-r from-orange-100 to-amber-100 px-6 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("h3",{className:"text-lg font-bold text-orange-800",children:"Filters"}),de.jsx("button",{onClick:()=>x(!g),className:"text-orange-600 hover:text-orange-800 transition-colors duration-200",children:de.jsx(Kp,{className:"h-6 w-6"})})]})}),g&&de.jsx("div",{className:"p-6",children:de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date Range"}),de.jsxs("select",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${a.focusRing}`,value:u.dateRange,onChange:e=>$("dateRange",e.target.value),children:[de.jsx("option",{value:"today",children:"Today"}),de.jsx("option",{value:"week",children:"Last 7 Days"}),de.jsx("option",{value:"month",children:"Last 30 Days"}),de.jsx("option",{value:"all",children:"All Time"})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Judgment"}),de.jsxs("select",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${a.focusRing}`,value:u.judgment,onChange:e=>$("judgment",e.target.value),children:[de.jsx("option",{value:"all",children:"All Results"}),de.jsx("option",{value:"pass",children:"Pass Only"}),de.jsx("option",{value:"reject",children:"Reject Only"})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Inspector"}),de.jsx("select",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${a.focusRing}`,value:u.inspector,onChange:e=>$("inspector",e.target.value),children:B4.map(e=>de.jsx("option",{value:e,children:e},e))})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Model"}),de.jsx("select",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${a.focusRing}`,value:u.model,onChange:e=>$("model",e.target.value),children:U4.map(e=>de.jsx("option",{value:e,children:e},e))})]})]})})]}),de.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[de.jsx("div",{className:"bg-gradient-to-r from-slate-100 to-gray-100 px-6 py-4",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Inspection Records"}),de.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[de.jsxs("span",{className:"flex items-center",children:[de.jsx(gg,{className:`h-4 w-4 mr-1 ${a.iconLegend}`})," Edit"]}),de.jsxs("span",{className:"flex items-center",children:[de.jsx(Wg,{className:"h-4 w-4 mr-1 text-red-600"})," Delete"]}),de.jsxs("span",{className:"flex items-center",children:[de.jsx(Fp,{className:"h-4 w-4 mr-1"})," Details"]}),de.jsxs("span",{className:"flex items-center",children:[de.jsx(Wp,{className:"h-4 w-4 mr-1 text-orange-600"})," Input Defect"]}),de.jsxs("span",{className:"flex items-center",children:[de.jsx(Sp,{className:"h-4 w-4 mr-1 text-green-600"})," Generate FVI"]})]})]})}),de.jsx("div",{className:"overflow-x-auto",children:de.jsxs("table",{className:"w-full",children:[de.jsx("thead",{className:"bg-gray-50",children:de.jsxs("tr",{children:[de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"No."}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Sampling No"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Sampling Date"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Lot No"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Item No"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Round"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Quantities"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),de.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),de.jsx("tbody",{className:"divide-y divide-gray-200",children:H.map((t,r)=>{return de.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[de.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:q+r+1}),de.jsxs("td",{className:"px-6 py-4 text-sm",children:[de.jsx("div",{className:"font-medium text-gray-900",children:t.inspectionNo}),"SIV"===n.code&&de.jsx("div",{className:"text-xs text-blue-600 mt-1",children:t.inspectionNoRef})]}),de.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx(lp,{className:"h-4 w-4 text-gray-400"}),de.jsx("span",{children:new Date(t.inspectionDate).toLocaleDateString()})]}),de.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["WW: ",t.ww]})]}),de.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[de.jsx("div",{children:t.lotno}),de.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["MC Line No. ",t.mclineno]})]}),de.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[de.jsx("div",{children:t.itemno}),de.jsx("div",{className:"text-xs text-gray-900 font-medium mt-1",children:t.model})]}),de.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:t.samplingRound}),de.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:de.jsxs("div",{className:"space-y-1",children:[de.jsxs("div",{children:["FVI: ",t.fviLotQty.toLocaleString()]}),de.jsxs("div",{children:["Gen: ",t.generalSamplingQty]}),de.jsxs("div",{children:["Crack: ",t.crackSamplingQty]})]})}),de.jsx("td",{className:"px-6 py-4",children:de.jsxs("div",{className:`inline-flex items-center space-x-2 px-3 py-1 rounded-full border text-sm font-medium ${s=t.judgment,F4.getStatusColor(s)}`,children:[B(t.judgment),de.jsx("span",{children:t.judgment})]})}),de.jsx("td",{className:"px-6 py-4",children:de.jsxs("div",{className:"flex flex-col space-y-2",children:[de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("button",{onClick:()=>(t=>{console.log("Edit record:",t),e(n.pageRoute,{state:{editMode:!0,inspectionId:t.id,inspectionData:{inspection_no:t.inspectionNo,inspection_date:t.inspectionDate,shift:t.shift,lotno:t.lotno,itemno:t.itemno,model:t.model,fviLotQty:t.fviLotQty,generalSamplingQty:t.generalSamplingQty,crackSamplingQty:t.crackSamplingQty,judgment:t.judgment,round:t.samplingRound}}})})(t),className:`p-2 ${a.editButton} rounded-lg transition-colors duration-200`,title:"Edit",children:de.jsx(gg,{className:"h-5 w-5"})}),de.jsx("button",{onClick:()=>(e=>{T(e),C(!0)})(t),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Delete",children:de.jsx(Wg,{className:"h-5 w-5"})})]}),de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("button",{onClick:()=>p(t),className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors duration-200",title:"View Details",children:de.jsx(Fp,{className:"h-5 w-5"})}),"Reject"===t.judgment&&de.jsx("button",{onClick:()=>(t=>{console.log("Input defect for record:",t),e("/inspection/defect/new",{state:{inspectionData:{inspection_no:t.inspectionNo,lotno:t.lotno,itemno:t.itemno,model:t.model,shift:t.shift,inspection_date:t.inspectionDate,fvi_lot_qty:t.fviLotQty,general_sampling_qty:t.generalSamplingQty,crack_sampling_qty:t.crackSamplingQty,judgment:t.judgment,round:t.samplingRound,fvilineno:t.fvilineno||"",station:t.station||"OQA"}}})})(t),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors duration-200",title:"Input Defect",children:de.jsx(Wp,{className:"h-5 w-5"})}),"Pass"===t.judgment&&de.jsx("button",{onClick:()=>(e=>h(void 0,null,function*(){var t;try{if(console.log(" Generating SIV from inspection:",e.id),!window.confirm(`Create SIV inspection from ${n.name} inspection ${e.inspectionNo}?\n\nLot No: ${e.lotno}\nModel: ${e.model}\nJudgment: ${e.judgment}`))return;const r=yield F4.createSIV(e.id);r.success?alert(` SIV Sampling created successfully!\n\nSIV Sampling No: ${(null==(t=r.data)?void 0:t.inspection_no)||"N/A"}`):alert(` Failed to create SIV inspection:\n${r.message||"Unknown error"}`)}catch(r){console.error(" Error creating SIV:",r),alert(` Network error: ${r instanceof Error?r.message:"Failed to create SIV"}`)}}))(t),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors duration-200",title:"Generate FVI",children:de.jsx(Sp,{className:"h-5 w-5"})})]})]})})]},t.id);var s})})]})}),0===o.length&&!b&&de.jsxs("div",{className:"text-center py-12",children:[de.jsx(Fp,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),de.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Records Found"}),de.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters to see more results."})]}),o.length>0&&de.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",de.jsx("span",{className:"font-medium",children:q+1})," to"," ",de.jsx("span",{className:"font-medium",children:Math.min(W,o.length)})," of"," ",de.jsx("span",{className:"font-medium",children:o.length})," results"]}),de.jsxs("div",{className:"flex items-center space-x-2",children:[de.jsx("button",{onClick:()=>G(j-1),disabled:1===j,className:"p-2 rounded-lg "+(1===j?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-200 transition-colors duration-200"),children:de.jsx(yp,{className:"h-5 w-5"})}),Array.from({length:Q},(e,t)=>t+1).map(e=>de.jsx("button",{onClick:()=>G(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 "+(j===e?`${a.pagination} text-white`:"text-gray-700 hover:bg-gray-200"),children:e},e)),de.jsx("button",{onClick:()=>G(j+1),disabled:j===Q,className:"p-2 rounded-lg "+(j===Q?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-200 transition-colors duration-200"),children:de.jsx(jp,{className:"h-5 w-5"})})]})]})})]}),de.jsx(d5,{record:f?{id:f.id,station:f.station,inspection_no:f.inspectionNo,inspection_no_ref:f.inspectionNoRef,inspection_date:f.inspectionDate,fy:f.fy,ww:f.ww,month_year:f.month_year,shift:f.shift,lotno:f.lotno,partsite:f.partsite,itemno:f.itemno,model:f.model.split(" ")[0]||f.model,version:f.version,fvilineno:f.fvilineno,mclineno:f.mclineno,round:f.samplingRound,qc_id:f.qc_id,fvi_lot_qty:f.fviLotQty,general_sampling_qty:f.generalSamplingQty,crack_sampling_qty:f.crackSamplingQty,judgment:"Pass"===f.judgment,created_at:f.created_at,updated_at:f.updated_at,created_by:f.created_by,updated_by:f.updated_by}:null,isOpen:!!f,onClose:()=>p(null),onPrint:z,theme:a,stationCode:n.code}),D&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:de.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[de.jsx("div",{className:`px-6 py-4 bg-gradient-to-r ${a.header} rounded-t-2xl`,children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("h3",{className:"text-2xl font-bold text-white",children:"Import Inspection Data"}),de.jsx("button",{onClick:()=>{O(!1),P([])},className:"text-white hover:text-gray-200 transition-colors duration-200",children:de.jsx(ex,{className:"h-8 w-8"})})]})}),de.jsxs("div",{className:"p-6",children:[de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[de.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[de.jsx(Fp,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),de.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Step 1: Download Template"}),de.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Get the Excel template with all required columns"}),de.jsx("button",{onClick:()=>{const e=[{station:n.code,inspection_date:"2025-01-15",ww:"03",shift:"A",lotno:"LOT001",fvilineno:"FVI001",round:1,fvi_lot_qty:1e3,general_sampling_qty:50,crack_sampling_qty:25,judgment:"",itemno:"ITEM001",model:"MODEL-X",version:"V1",partsite:"SITE-A",mclineno:"MC001",qc_id:1}],t=kA.json_to_sheet(e),r=kA.book_new();kA.book_append_sheet(r,t,"Template"),mA(r,`${n.code}_Import_Template.xlsx`)},className:`px-6 py-3 bg-gradient-to-r ${a.modalButton} text-white rounded-lg font-semibold ${a.modalButtonHover} transition-all duration-200`,children:"Download Template"})]}),de.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[de.jsx(Hf,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),de.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Step 2: Upload Filled Template"}),de.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select your Excel file to import"}),de.jsx("input",{ref:M,type:"file",accept:".xlsx,.xls",onChange:e=>h(void 0,null,function*(){var t;const r=null==(t=e.target.files)?void 0:t[0];if(r){A(!0),P([]),R({current:0,total:0,status:"Reading file..."});try{const e=oA(yield r.arrayBuffer()),t=e.SheetNames[0],s=e.Sheets[t],i=kA.sheet_to_json(s);console.log(" Imported Excel data:",i),R({current:0,total:i.length,status:"Validating data..."});const o=[],d=[];if(i.forEach((e,t)=>{var r,a,s,i,l,c,u,h,m,f,p,g;const x=t+2;if(!e.station)return void o.push(`Row ${x}: Missing station`);if(!e.inspection_date)return void o.push(`Row ${x}: Missing inspection_date`);if(!e.lotno)return void o.push(`Row ${x}: Missing lotno`);let b;if("number"==typeof e.inspection_date){const t=new Date(1899,11,30);b=new Date(t.getTime()+864e5*e.inspection_date)}else b=new Date(e.inspection_date);if(isNaN(b.getTime()))return void o.push(`Row ${x}: Invalid inspection_date`);let v=!1;"boolean"==typeof e.judgment?v=e.judgment:"string"==typeof e.judgment?v="pass"===e.judgment.toLowerCase()||"true"===e.judgment.toLowerCase()||"1"===e.judgment:"number"==typeof e.judgment&&(v=1===e.judgment);const y=`${b.getFullYear()}${(b.getMonth()+1).toString().padStart(2,"0")}`;d.push({station:(null==(r=e.station)?void 0:r.toString().toUpperCase())||n.code,inspection_no:"",inspection_date:b,ww:(null==(a=e.ww)?void 0:a.toString())||"",month_year:y,shift:(null==(s=e.shift)?void 0:s.toString())||"",lotno:(null==(i=e.lotno)?void 0:i.toString())||"",partsite:(null==(l=e.partsite)?void 0:l.toString())||"",mclineno:(null==(c=e.mclineno)?void 0:c.toString())||"",itemno:(null==(u=e.itemno)?void 0:u.toString())||"",model:(null==(h=e.model)?void 0:h.toString())||"",version:(null==(m=e.version)?void 0:m.toString())||"",fvilineno:(null==(f=e.fvilineno)?void 0:f.toString())||"",round:parseInt(e.round)||1,qc_id:parseInt(e.qc_id)||1,fvi_lot_qty:parseInt(e.fvi_lot_qty)||0,general_sampling_qty:parseInt(e.general_sampling_qty)||0,crack_sampling_qty:parseInt(e.crack_sampling_qty)||0,judgment:v,grps:(null==(p=e.grps)?void 0:p.toString())||"",zones:(null==(g=e.zones)?void 0:g.toString())||""})}),o.length>0)return P(o),A(!1),void R({current:0,total:0,status:""});console.log(" Valid records to import:",d),R({current:0,total:d.length,status:"Generating inspection numbers..."});const u=[],h=new Set;for(let r=0;r<d.length;r++){const e=d[r],t=e.inspection_date,n=t.getFullYear().toString().slice(-2),a=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),i=e.ww.toString().padStart(2,"0");let o="",m=0;do{const t=Date.now(),l=((t+Math.floor(1e4*Math.random())+r+m)%1e6).toString().padStart(6,"0");o=`${e.station}${n}${a}W${i}-${s}${l}`,m++}while(h.has(o)&&m<10);h.add(o),u.push(c(l({},e),{inspection_no:o})),(r<10||(r+1)%1e3==0||r===d.length-1)&&console.log(` Generated inspection_no for record ${r+1}: ${o}`),(r+1)%100!=0&&r!==d.length-1||R({current:r+1,total:d.length,status:`Generating numbers... ${r+1}/${d.length}`})}R({current:0,total:u.length,status:"Importing records..."});const m=100;let f=0,p=0;const g=[];for(let r=0;r<u.length;r+=m){const e=u.slice(r,r+m),t=Math.floor(r/m)+1,n=Math.ceil(u.length/m);console.log(` Importing batch ${t}/${n} (${e.length} records)`);let s=[],i=0;const l=3;for(;i<=l;)try{const t=e.map((e,t)=>Z2.create(e).then(n=>{var a;if(n.success)return(r+t+1<=10||(r+t+1)%1e3==0)&&console.log(` Record ${r+t+1} saved successfully`),{success:!0,index:r+t,response:n,record:e};{const s=(null==(a=n.errors)?void 0:a.map(e=>e.message).join(", "))||n.message||"Unknown error";return console.error(` Record ${r+t+1} failed (API error): ${s}`),{success:!1,index:r+t,record:e,error:s}}}).catch(n=>{var a,s;console.error(` Record ${r+t+1} failed (Exception):`,n);const i=(null==(s=null==(a=null==n?void 0:n.response)?void 0:a.data)?void 0:s.message)||(null==n?void 0:n.message)||"Network or server error";return{success:!1,index:r+t,record:e,error:i}}));s=yield Promise.all(t);break}catch(a){i++,i>l?(console.error(` Batch ${t} failed after ${l} retries:`,a),s=e.map((e,t)=>({success:!1,index:r+t,record:e,error:`Batch failed: ${a instanceof Error?a.message:"Server timeout or network error"}`}))):(console.warn(` Batch ${t} failed, retrying (${i}/${l})...`),yield new Promise(e=>setTimeout(e,1e3*i)))}s.forEach(e=>{var t;if(e.success)f++;else{p++;const r=e.index+2;o.push(`Row ${r}: Failed to import - ${e.error}`),g.push({rowNumber:r,record:e.record,error:null!=(t=e.error)?t:""})}}),R({current:Math.min(r+m,u.length),total:u.length,status:`Importing... ${Math.min(r+m,u.length)}/${u.length}`})}g.length>0&&Y(g),p>0?(P(o),alert(` Imported ${f} records with ${p} failures. Check errors below.`),f>0&&(yield F())):(alert(` Successfully imported ${f} records`),O(!1),R({current:0,total:0,status:""}),yield F())}catch(s){console.error(" Import error:",s),P([`Import failed: ${s instanceof Error?s.message:"Unknown error"}`])}finally{A(!1),R({current:0,total:0,status:""}),M.current&&(M.current.value="")}}}),className:"hidden"}),de.jsx("button",{onClick:()=>{var e;null==(e=M.current)||e.click()},disabled:_,className:`px-6 py-3 bg-gradient-to-r ${a.modalButton} text-white rounded-lg font-semibold ${a.modalButtonHover} transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:_?"Importing...":"Select File"}),_&&L.total>0&&de.jsxs("div",{className:"mt-6",children:[de.jsxs("div",{className:"flex justify-between items-center mb-2",children:[de.jsx("span",{className:"text-sm font-medium text-gray-700",children:L.status}),de.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[L.current," / ",L.total]})]}),de.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:de.jsx("div",{className:`bg-gradient-to-r ${a.modalButton} h-3 rounded-full transition-all duration-300`,style:{width:L.current/L.total*100+"%"}})}),de.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[Math.round(L.current/L.total*100),"% Complete"]})]})]})]}),de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[de.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Import Instructions"}),de.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[de.jsx("li",{children:"Download the template to see the required format"}),de.jsx("li",{children:"Fill in all required fields: station, inspection_date, lotno"}),de.jsx("li",{children:"Use date format YYYY-MM-DD for inspection_date"}),de.jsx("li",{children:"Judgment can be: Pass, Reject, true, false, 1, or 0"}),de.jsx("li",{children:"Ensure all numeric fields contain valid numbers"})]})]}),de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[de.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Template Columns"}),de.jsxs("div",{className:"mb-3",children:[de.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Required:"}),de.jsxs("div",{className:"grid grid-cols-2 gap-1 text-sm text-gray-700",children:[de.jsx("div",{children:" station"}),de.jsx("div",{children:" inspection_date"}),de.jsx("div",{children:" lotno"})]})]}),de.jsxs("div",{children:[de.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Optional:"}),de.jsxs("div",{className:"grid grid-cols-2 gap-1 text-sm text-gray-700",children:[de.jsx("div",{children:" ww"}),de.jsx("div",{children:" shift"}),de.jsx("div",{children:" fvilineno"}),de.jsx("div",{children:" round"}),de.jsx("div",{children:" fvi_lot_qty"}),de.jsx("div",{children:" general_sampling_qty"}),de.jsx("div",{children:" crack_sampling_qty"}),de.jsx("div",{children:" judgment"}),de.jsx("div",{children:" itemno"}),de.jsx("div",{children:" model"}),de.jsx("div",{children:" version"}),de.jsx("div",{children:" partsite"}),de.jsx("div",{children:" mclineno"}),de.jsx("div",{children:" qc_id"})]})]}),de.jsx("p",{className:"text-xs text-gray-500 mt-3 italic",children:"Note: inspection_no will be automatically generated during import"})]}),I.length>0&&de.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[de.jsxs("h4",{className:"font-semibold text-red-900 mb-2 flex items-center",children:[de.jsx(Wp,{className:"h-5 w-5 mr-2"}),"Import Errors"]}),de.jsx("ul",{className:"text-sm text-red-800 space-y-1 max-h-64 overflow-y-auto",children:I.map((e,t)=>de.jsxs("li",{className:"flex items-start",children:[de.jsx("span",{className:"mr-2",children:""}),de.jsx("span",{children:e})]},t))})]})]})]})]})]})}),k&&E&&de.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:de.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[de.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-red-500 to-rose-600 rounded-t-2xl",children:de.jsx("h3",{className:"text-2xl font-bold text-white",children:"Confirm Delete"})}),de.jsxs("div",{className:"p-6",children:[de.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx(Wg,{className:"h-12 w-12 text-red-600"})}),de.jsxs("div",{children:[de.jsx("p",{className:"text-gray-900 font-medium",children:"Are you sure you want to delete this inspection record?"}),de.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Inspection: ",E.inspectionNo]}),de.jsx("p",{className:"text-red-600 text-sm mt-2 font-medium",children:"This action cannot be undone."})]})]}),de.jsxs("div",{className:"flex justify-end space-x-4",children:[de.jsx("button",{onClick:()=>{C(!1),T(null)},className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-semibold hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),de.jsx("button",{onClick:()=>h(void 0,null,function*(){if(E)try{console.log("Deleting record:",E.id);const e=parseInt(E.id.replace(/\D/g,""));(yield Z2.delete(e)).success?(yield F(),C(!1),T(null),alert("Inspection record deleted successfully")):alert("Failed to delete inspection record")}catch(e){console.error("Error deleting record:",e),alert("Error deleting inspection record")}}),className:"px-6 py-3 bg-gradient-to-r from-red-500 to-rose-600 text-white rounded-lg font-semibold hover:from-red-600 hover:to-rose-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Delete"})]})]})]})})]})]})})},requiredRoles:["admin","manager","user"]}]}],f3=[],p3=(e,t=["user","manager","admin"])=>{const r=()=>{const r=Df();return de.jsx(Rf,{authService:r,requiredRoles:t,debugMode:!1,showAccessDenied:!0,children:de.jsx(Sx,{children:de.jsx(e,{})})})};return de.jsx(r,{})},g3=()=>de.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),de.jsx("p",{className:"text-gray-600 text-lg",children:"Loading..."}),de.jsx("p",{className:"text-gray-400 text-sm",children:"Checking authentication..."})]})}),x3=()=>de.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:"w-16 h-16 mx-auto mb-6 flex items-center justify-center bg-red-100 rounded-full",children:de.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 0h12a2 2 0 002-2v-9a2 2 0 00-2-2H6a2 2 0 00-2 2v9a2 2 0 002 2z"})})}),de.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Access Denied"}),de.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this resource."}),de.jsxs("div",{className:"flex space-x-3 justify-center",children:[de.jsx("a",{href:"/dashboard",className:"inline-block px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Go to Dashboard"}),de.jsx("button",{onClick:()=>window.history.back(),className:"inline-block px-6 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Go Back"})]})]})}),b3=()=>de.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:de.jsxs("div",{className:"text-center",children:[de.jsx("div",{className:"w-16 h-16 mx-auto mb-6 flex items-center justify-center bg-yellow-100 rounded-full",children:de.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.477.94-6.02 2.47l-.93-.94A9.953 9.953 0 0112 13c3.059 0 5.842 1.378 7.68 3.53l-.93.94a8.008 8.008 0 00-5.25-1.97z"})})}),de.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Page Not Found"}),de.jsx("p",{className:"text-gray-600 mb-6",children:"The page you're looking for doesn't exist."}),de.jsxs("div",{className:"flex space-x-3 justify-center",children:[de.jsx("a",{href:"/dashboard",className:"inline-block px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Go to Dashboard"}),de.jsx("button",{onClick:()=>window.history.back(),className:"inline-block px-6 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Go Back"})]})]})}),v3=()=>de.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:de.jsxs("div",{className:"text-center",children:[de.jsx("h1",{className:"text-6xl font-bold text-gray-400 mb-4",children:"404"}),de.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Page Not Found"}),de.jsx("p",{className:"text-gray-600 mb-6",children:"The page you're looking for doesn't exist."}),de.jsxs("div",{className:"flex space-x-3 justify-center",children:[de.jsx("a",{href:"/dashboard",className:"inline-block px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Go to Dashboard"}),de.jsx("button",{onClick:()=>window.history.back(),className:"inline-block px-6 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Go Back"})]})]})}),y3=()=>{const e=Df();if(e.isLoading)return de.jsx(g3,{});const t=(r=[{path:"/login",element:e.isAuthenticated?de.jsx(Wm,{to:"/dashboard",replace:!0}):de.jsx(Yx,{})},{path:"/unauthorized",element:de.jsx(x3,{})},{path:"/404",element:de.jsx(b3,{})},{path:"/training",element:de.jsx(H4,{})},{path:"/training/t01",element:de.jsx(t3,{})},{path:"/training/t02",element:de.jsx(r3,{})},{path:"/training/t03",element:de.jsx(n3,{})},{path:"/training/t04",element:de.jsx(a3,{})},{path:"/training/t05",element:de.jsx(s3,{})},{path:"/training/t06",element:de.jsx(i3,{})},{path:"/training/t07",element:de.jsx(o3,{})},{path:"/training/t08",element:de.jsx(t3,{})},{path:"/training/t09",element:de.jsx(t3,{})},{path:"/training/t10",element:de.jsx(l3,{})},{path:"/training/t11",element:de.jsx(c3,{})},{path:"/training/t12",element:de.jsx(d3,{})},{path:"/training/t10",element:de.jsx(u3,{})},...m3.flatMap(e=>e.routes.map(e=>({path:e.path,element:p3(e.element,e.requiredRoles)}))),...f3.map(e=>({path:e.from,element:de.jsx(Wm,{to:e.to,replace:!0})})),{path:"/",element:e.isAuthenticated?de.jsx(Wm,{to:"/dashboard",replace:!0}):de.jsx(Wm,{to:"/login",replace:!0})},{path:"*",element:de.jsx(v3,{})}],Nh({basename:null==(n={future:{v7_startTransition:!0,v7_relativeSplatPath:!0,v7_fetcherPersist:!0,v7_normalizeFormMethod:!0,v7_partialHydration:!0,v7_skipActionErrorRevalidation:!0}})?void 0:n.basename,unstable_getContext:null==n?void 0:n.unstable_getContext,future:null==n?void 0:n.future,history:Su({window:null==n?void 0:n.window}),hydrationData:(null==n?void 0:n.hydrationData)||mf(),routes:r,mapRouteProperties:$m,hydrationRouteProperties:Bm,dataStrategy:null==n?void 0:n.dataStrategy,patchRoutesOnNavigation:null==n?void 0:n.patchRoutesOnNavigation,window:null==n?void 0:n.window}).initialize());var r,n;return de.jsxs(de.Fragment,{children:[de.jsx(yf,{router:t}),e.error&&de.jsx("div",{className:"fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg z-50 max-w-md",onClick:()=>e.clearError(),children:de.jsxs("div",{className:"flex items-start",children:[de.jsx("div",{className:"flex-shrink-0",children:de.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.866-.833-2.598 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),de.jsxs("div",{className:"ml-3 flex-1",children:[de.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Authentication Error"}),de.jsx("p",{className:"mt-1 text-sm text-red-700",children:e.error})]}),de.jsx("div",{className:"ml-4 flex-shrink-0",children:de.jsx("button",{className:"text-red-400 hover:text-red-600 focus:outline-none",onClick:()=>e.clearError(),children:de.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})})]})})]})},w3=()=>de.jsx(Pf,{children:de.jsx(Ex,{children:de.jsx("div",{className:"App",children:de.jsx(y3,{})})})});class j3 extends te.Component{constructor(e){super(e),u(this,"handleReload",()=>{window.location.reload()}),u(this,"handleGoHome",()=>{window.location.href="/dashboard"}),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Application Error:",e),console.error("Error Info:",t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?de.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:de.jsx("div",{className:"max-w-md w-full",children:de.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[de.jsx("div",{className:"w-16 h-16 mx-auto mb-6 flex items-center justify-center bg-red-100 rounded-full",children:de.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})})}),de.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),de.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page or go back to the dashboard."}),!1,de.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[de.jsx("button",{onClick:this.handleReload,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200",children:"Refresh Page"}),de.jsx("button",{onClick:this.handleGoHome,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors duration-200",children:"Go to Dashboard"})]}),de.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:de.jsx("p",{className:"text-xs text-gray-500",children:"If this problem persists, please contact your system administrator."})})]})})}):this.props.children}}window.addEventListener("unhandledrejection",e=>{console.error("Unhandled Promise Rejection:",e.reason),e.preventDefault()}),window.addEventListener("error",e=>{console.error("Global JavaScript Error:",e.error)}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered:",e)}).catch(e=>{console.log("Service Worker registration failed:",e)})});try{!function(){const e=document.getElementById("root");if(!e)throw new Error('Root element not found. Make sure your HTML has a div with id="root"');ue.createRoot(e).render(de.jsx(te.StrictMode,{children:de.jsx(j3,{children:de.jsx(w3,{})})}))}()}catch(N3){console.error("Failed to initialize application:",N3),document.body.innerHTML='\n    <div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; font-family: system-ui, sans-serif; background-color: #f9fafb; padding: 1rem;">\n      <div style="max-width: 28rem; width: 100%; background: white; border-radius: 0.5rem; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); padding: 2rem; text-align: center;">\n        <div style="width: 4rem; height: 4rem; margin: 0 auto 1.5rem; display: flex; align-items: center; justify-content: center; background-color: #fee2e2; border-radius: 50%;">\n          <svg style="width: 2rem; height: 2rem; color: #dc2626;" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"></path>\n          </svg>\n        </div>\n        <h1 style="font-size: 1.5rem; font-weight: bold; color: #111827; margin-bottom: 0.5rem;">Application Failed to Start</h1>\n        <p style="color: #6b7280; margin-bottom: 1.5rem;">The Quality Control System could not be initialized. Please refresh the page or contact your administrator.</p>\n        <button onclick="window.location.reload()" style="padding: 0.5rem 1rem; background-color: #2563eb; color: white; border: none; border-radius: 0.375rem; cursor: pointer; font-weight: 500;">Refresh Page</button>\n      </div>\n    </div>\n  '}export{zg as F,rx as a,dg as b,Wf as c,Wp as d,Og as e,fp as f,de as j,ee as r,X2 as s};
